<!DOCTYPE HTML>
<html lang="vi" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Kho code c·ªßa duykhanh471</title>
        <meta name="robots" content="noindex" />
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="index.html"><strong aria-hidden="true">1.</strong> Trang ch·ªß d·ª± √°n</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.</strong> HTML/CSS/JS</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="html-css/index.html"><strong aria-hidden="true">2.1.</strong> HTML/CSS</a></li><li class="chapter-item expanded "><a href="js/index.html"><strong aria-hidden="true">2.2.</strong> JS</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="js/co-ban.html"><strong aria-hidden="true">2.2.1.</strong> C∆° b·∫£n</a></li><li class="chapter-item expanded "><a href="js/array.html"><strong aria-hidden="true">2.2.2.</strong> Array</a></li><li class="chapter-item expanded "><a href="js/ngay-gio.html"><strong aria-hidden="true">2.2.3.</strong> Ng√†y gi·ªù</a></li><li class="chapter-item expanded "><a href="js/string.html"><strong aria-hidden="true">2.2.4.</strong> String</a></li><li class="chapter-item expanded "><a href="js/object.html"><strong aria-hidden="true">2.2.5.</strong> Object</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="java/index.html"><strong aria-hidden="true">3.</strong> Java</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="java/snippets/index.html"><strong aria-hidden="true">3.1.</strong> Kho snippets</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="java/snippets/algorithms.html"><strong aria-hidden="true">3.1.1.</strong> Algorithms</a></li><li class="chapter-item expanded "><a href="java/snippets/array.html"><strong aria-hidden="true">3.1.2.</strong> Array</a></li><li class="chapter-item expanded "><a href="java/snippets/cls.html"><strong aria-hidden="true">3.1.3.</strong> CLS</a></li><li class="chapter-item expanded "><a href="java/snippets/date.html"><strong aria-hidden="true">3.1.4.</strong> Date</a></li><li class="chapter-item expanded "><a href="java/snippets/encoding.html"><strong aria-hidden="true">3.1.5.</strong> Encoding & Decoding</a></li><li class="chapter-item expanded "><a href="java/snippets/file.html"><strong aria-hidden="true">3.1.6.</strong> File</a></li><li class="chapter-item expanded "><a href="java/snippets/io.html"><strong aria-hidden="true">3.1.7.</strong> IO</a></li><li class="chapter-item expanded "><a href="java/snippets/math.html"><strong aria-hidden="true">3.1.8.</strong> Math</a></li><li class="chapter-item expanded "><a href="java/snippets/media.html"><strong aria-hidden="true">3.1.9.</strong> Media</a></li><li class="chapter-item expanded "><a href="java/snippets/network.html"><strong aria-hidden="true">3.1.10.</strong> Network</a></li><li class="chapter-item expanded "><a href="java/snippets/string.html"><strong aria-hidden="true">3.1.11.</strong> String</a></li><li class="chapter-item expanded "><a href="java/snippets/thread.html"><strong aria-hidden="true">3.1.12.</strong> Thread</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="spring-boot/index.html"><strong aria-hidden="true">4.</strong> Spring Boot</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="spring-boot/core.html"><strong aria-hidden="true">4.1.</strong> Core</a></li><li class="chapter-item expanded "><a href="spring-boot/spring-boot.html"><strong aria-hidden="true">4.2.</strong> Spring Boot</a></li><li class="chapter-item expanded "><a href="spring-boot/jpa.html"><strong aria-hidden="true">4.3.</strong> Jpa</a></li><li class="chapter-item expanded "><a href="spring-boot/ss.html"><strong aria-hidden="true">4.4.</strong> Spring Security</a></li><li class="chapter-item expanded "><a href="spring-boot/redis.html"><strong aria-hidden="true">4.5.</strong> Redis</a></li></ol></li><li class="chapter-item expanded "><a href="rust/index.html"><strong aria-hidden="true">5.</strong> Rust</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="rust/thuat-toan.html"><strong aria-hidden="true">5.1.</strong> Thu·∫≠t to√°n</a></li><li class="chapter-item expanded "><a href="rust/command-line.html"><strong aria-hidden="true">5.2.</strong> CLI</a></li><li class="chapter-item expanded "><a href="rust/he-thong.html"><strong aria-hidden="true">5.3.</strong> System</a></li><li class="chapter-item expanded "><a href="rust/internet.html"><strong aria-hidden="true">5.4.</strong> Internet</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.5.</strong> T·ªáp</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="rust/tep/epub.html"><strong aria-hidden="true">5.5.1.</strong> EPUB</a></li><li class="chapter-item expanded "><a href="rust/tep/git.html"><strong aria-hidden="true">5.5.2.</strong> Git</a></li><li class="chapter-item expanded "><a href="rust/tep/html.html"><strong aria-hidden="true">5.5.3.</strong> HTML</a></li><li class="chapter-item expanded "><a href="rust/tep/rss.html"><strong aria-hidden="true">5.5.4.</strong> RSS</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="react/index.html"><strong aria-hidden="true">6.</strong> React</a></li><li class="chapter-item expanded "><a href="react-native/index.html"><strong aria-hidden="true">7.</strong> React Native</a></li><li class="chapter-item expanded "><a href="bash/tong-hop.html"><strong aria-hidden="true">8.</strong> Bash</a></li><li class="chapter-item expanded "><a href="regex/tong-hop.html"><strong aria-hidden="true">9.</strong> Regex</a></li><li class="chapter-item expanded "><a href="khac/yt-dlp.html"><strong aria-hidden="true">10.</strong> yt-dlp</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Kho code c·ªßa duykhanh471</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="kho-l∆∞u-code"><a class="header" href="#kho-l∆∞u-code">Kho l∆∞u code</a></h1>
<p>ƒê√¢y l√† m·ªôt kho l∆∞u to√†n b·ªô code snippets c·ªßa nhi·ªÅu ng√¥n ng·ªØ m√† m√¨nh c√≥ d·ªãp s·ª≠ d·ª•ng.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="h∆∞·ªõng-d·∫´n-h·ªçc-htmlcss-kh√°-l√†-nhanh"><a class="header" href="#h∆∞·ªõng-d·∫´n-h·ªçc-htmlcss-kh√°-l√†-nhanh">H∆∞·ªõng d·∫´n h·ªçc HTML/CSS kh√° l√† nhanh</a></h1>
<h2 id="ph·∫ßn-1-html"><a class="header" href="#ph·∫ßn-1-html">Ph·∫ßn 1: HTML</a></h2>
<h3 id="html-css-l√†-g√¨"><a class="header" href="#html-css-l√†-g√¨">HTML CSS l√† g√¨?</a></h3>
<p>HTML (HyperText Markup Language) l√† ng√¥n ng·ªØ ƒë√°nh d·∫•u c·∫•u tr√∫c n·ªôi dung trang web, CSS (Cascading Style Sheets) l√† ng√¥n ng·ªØ t·∫°o ki·ªÉu d√°ng cho trang web. HTML t·∫°o b·ªô khung, CSS trang tr√≠ b·ªô khung ƒë√≥.</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;V√≠ d·ª• HTML &amp; CSS&lt;/title&gt;
    &lt;style&gt;
        body {
            font-family: Arial, sans-serif;
            color: #333;
        }
        h1 {
            color: blue;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;ƒê√¢y l√† ti√™u ƒë·ªÅ&lt;/h1&gt;
    &lt;p&gt;ƒê√¢y l√† ƒëo·∫°n vƒÉn b·∫£n.&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 id="c·∫ßn-h·ªçc-c√°ch-s·ª≠-d·ª•ng-dev-tools"><a class="header" href="#c·∫ßn-h·ªçc-c√°ch-s·ª≠-d·ª•ng-dev-tools">C·∫ßn h·ªçc c√°ch s·ª≠ d·ª•ng Dev Tools</a></h3>
<p>ƒê·ªçc/xem m·ªôt trong nh·ªØng h∆∞·ªõng d·∫´n d∆∞·ªõi ƒë√¢y</p>
<ul>
<li><a href="https://www.youtube.com/watch?v=gTVpBbFWry8">Chrome DevTools - Crash Course</a></li>
<li><a href="https://www.headspin.io/blog/chrome-devtools-a-complete-guide">A Detailed Guide to Chrome DevTools</a></li>
<li><a href="https://websitehcm.com/chrome-developer-tools-va-cach-su-dung/">Chrome Developer Tools v√† C√°ch S·ª≠ D·ª•ng: H∆∞·ªõng D·∫´n Chi Ti·∫øt</a></li>
</ul>
<h3 id="c√†i-ƒë·∫∑t-m√¥i-tr∆∞·ªùng-c√¥ng-c·ª•-c·∫ßn-thi·∫øt-ƒë·ªÉ-b·∫Øt-ƒë·∫ßu-h·ªçc-html-css"><a class="header" href="#c√†i-ƒë·∫∑t-m√¥i-tr∆∞·ªùng-c√¥ng-c·ª•-c·∫ßn-thi·∫øt-ƒë·ªÉ-b·∫Øt-ƒë·∫ßu-h·ªçc-html-css">C√†i ƒë·∫∑t m√¥i tr∆∞·ªùng, c√¥ng c·ª• c·∫ßn thi·∫øt ƒë·ªÉ b·∫Øt ƒë·∫ßu h·ªçc HTML CSS</a></h3>
<p>Theo ti√™u chu·∫©n l√† c√†i ƒë·∫∑t <a href="https://code.visualstudio.com/">VSCode</a> (Ho·∫∑c <a href="https://vscodium.com/">VSCodium</a>). R·ªìi b·∫°n t√¨m m·ª•c <strong>Extensions</strong>, t√¨m nh·ªØng Addons c√≥ t·ª´ kh√≥a HTML/CSS, JS v√† ch·ªçn b·ª´a :smile: c·ªông v·ªõi t·∫£i <strong>Live Server</strong> l√† xong.</p>
<h3 id="c·∫•u-tr√∫c-t·ªáp-html"><a class="header" href="#c·∫•u-tr√∫c-t·ªáp-html">C·∫•u tr√∫c t·ªáp HTML</a></h3>
<p>File HTML c∆° b·∫£n c√≥ c·∫•u tr√∫c:</p>
<ul>
<li><code>&lt;!DOCTYPE html&gt;</code>: Khai b√°o lo·∫°i t√†i li·ªáu HTML5.</li>
<li><code>&lt;html&gt;</code>: Th·∫ª g·ªëc c·ªßa trang HTML.</li>
<li><code>&lt;head&gt;</code>: Ch·ª©a meta th√¥ng tin (ti√™u ƒë·ªÅ, CSS, JavaScript...).</li>
<li><code>&lt;body&gt;</code>: Ch·ª©a n·ªôi dung hi·ªÉn th·ªã tr√™n trang web.</li>
</ul>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;vi&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Ti√™u ƒë·ªÅ trang&lt;/title&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot;&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;script src=&quot;script.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 id="comments-trong-html"><a class="header" href="#comments-trong-html">Comments trong HTML</a></h3>
<p>Comment (ch√∫ th√≠ch) trong HTML gi√∫p ghi ch√∫, gi·∫£i th√≠ch code, ho·∫∑c t·∫°m ·∫©n code m√† kh√¥ng ·∫£nh h∆∞·ªüng ƒë·∫øn hi·ªÉn th·ªã.</p>
<p><strong>C√∫ ph√°p:</strong> ``</p>
<pre><code class="language-html">&lt;p&gt;ƒêo·∫°n vƒÉn b·∫£n n√†y hi·ªÉn th·ªã.&lt;/p&gt;
</code></pre>
<h3 id="nh·ªØng-th·∫ª-html-th√¥ng-d·ª•ng"><a class="header" href="#nh·ªØng-th·∫ª-html-th√¥ng-d·ª•ng">Nh·ªØng th·∫ª HTML th√¥ng d·ª•ng</a></h3>
<p>HTML c√≥ nhi·ªÅu th·∫ª kh√°c nhau, m·ªói th·∫ª c√≥ ch·ª©c nƒÉng ri√™ng ƒë·ªÉ t·∫°o c·∫•u tr√∫c v√† n·ªôi dung:</p>
<ul>
<li>Th·∫ª ti√™u ƒë·ªÅ: <code>&lt;h1&gt;</code> - <code>&lt;h6&gt;</code> (quan tr·ªçng nh·∫•t l√† <code>&lt;h1&gt;</code>).</li>
<li>Th·∫ª ƒëo·∫°n vƒÉn: <code>&lt;p&gt;</code>.</li>
<li>Th·∫ª li√™n k·∫øt: <code>&lt;a&gt;</code> (<code>href</code> attribute ƒë·ªÉ ch·ªâ ƒë√≠ch ƒë·∫øn link).</li>
<li>Th·∫ª h√¨nh ·∫£nh: <code>&lt;img&gt;</code> (<code>src</code> attribute ƒë·ªÉ ch·ªâ ƒë∆∞·ªùng d·∫´n ·∫£nh, <code>alt</code> attribute cho text thay th·∫ø).</li>
<li>Th·∫ª danh s√°ch: <code>&lt;ul&gt;</code> (danh s√°ch kh√¥ng th·ª© t·ª±), <code>&lt;ol&gt;</code> (danh s√°ch th·ª© t·ª±), <code>&lt;li&gt;</code> (item trong danh s√°ch).</li>
<li>Th·∫ª div v√† span: <code>&lt;div&gt;</code> (kh·ªëi), <code>&lt;span&gt;</code> (n·ªôi tuy·∫øn), d√πng ƒë·ªÉ nh√≥m c√°c ph·∫ßn t·ª≠ v√† style.</li>
<li>Th·∫ª form: <code>&lt;form&gt;</code>, <code>&lt;input&gt;</code>, <code>&lt;button&gt;</code>, <code>&lt;textarea&gt;</code>, <code>&lt;select&gt;</code>, <code>&lt;label&gt;</code>.</li>
<li>Th·∫ª table: <code>&lt;table&gt;</code>, <code>&lt;tr&gt;</code> (row), <code>&lt;th&gt;</code> (header cell), <code>&lt;td&gt;</code> (data cell).</li>
</ul>
<pre><code class="language-html">&lt;h1&gt;Ti√™u ƒë·ªÅ ch√≠nh&lt;/h1&gt;
&lt;p&gt;ƒê√¢y l√† m·ªôt ƒëo·∫°n vƒÉn b·∫£n.&lt;/p&gt;
&lt;a href=&quot;https://f8.edu.vn&quot;&gt;F8 - H·ªçc l·∫≠p tr√¨nh&lt;/a&gt;
&lt;img src=&quot;image.jpg&quot; alt=&quot;·∫¢nh minh h·ªça&quot;&gt;
&lt;ul&gt;
    &lt;li&gt;Item 1&lt;/li&gt;
    &lt;li&gt;Item 2&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
    &lt;p&gt;ƒê√¢y l√† m·ªôt div ch·ª©a ƒëo·∫°n vƒÉn.&lt;/p&gt;
&lt;/div&gt;
</code></pre>
<h3 id="attributes-trong-html"><a class="header" href="#attributes-trong-html">Attributes trong HTML</a></h3>
<p>Attributes (thu·ªôc t√≠nh) cung c·∫•p th√¥ng tin b·ªï sung cho th·∫ª HTML, gi√∫p ƒëi·ªÅu ch·ªânh h√†nh vi ho·∫∑c hi·ªÉn th·ªã c·ªßa th·∫ª. C√∫ ph√°p: <code>attribute=&quot;value&quot;</code> (n·∫±m trong th·∫ª m·ªü).</p>
<pre><code class="language-html">&lt;a href=&quot;https://f8.edu.vn&quot; target=&quot;_blank&quot;&gt;Li√™n k·∫øt F8 (m·ªü tab m·ªõi)&lt;/a&gt;
&lt;img src=&quot;image.jpg&quot; alt=&quot;·∫¢nh&quot; width=&quot;200&quot;&gt;
&lt;div class=&quot;container&quot; id=&quot;main-content&quot;&gt;N·ªôi dung&lt;/div&gt;
</code></pre>
<h2 id="ph·∫ßn-2-css"><a class="header" href="#ph·∫ßn-2-css">Ph·∫ßn 2: CSS</a></h2>
<h3 id="c√°ch-s·ª≠-d·ª•ng-css-trong-html"><a class="header" href="#c√°ch-s·ª≠-d·ª•ng-css-trong-html">C√°ch s·ª≠ d·ª•ng CSS trong HTML</a></h3>
<p>C√≥ 3 c√°ch ch√≠nh ƒë·ªÉ s·ª≠ d·ª•ng CSS trong HTML:</p>
<ol>
<li><strong>Inline CSS:</strong> Vi·∫øt tr·ª±c ti·∫øp trong thu·ªôc t√≠nh <code>style</code> c·ªßa th·∫ª HTML (∆∞u ti√™n cao nh·∫•t, √≠t d√πng v√¨ kh√≥ qu·∫£n l√Ω).</li>
<li><strong>Internal CSS:</strong> Vi·∫øt trong th·∫ª <code>&lt;style&gt;</code> trong <code>&lt;head&gt;</code> c·ªßa file HTML (d√πng cho style ri√™ng c·ªßa trang).</li>
<li><strong>External CSS:</strong> Vi·∫øt trong file CSS ri√™ng (<code>.css</code>), li√™n k·∫øt ƒë·∫øn HTML b·∫±ng th·∫ª <code>&lt;link&gt;</code> trong <code>&lt;head&gt;</code> (t·ªët nh·∫•t cho d·ª± √°n l·ªõn, d·ªÖ qu·∫£n l√Ω, t√°i s·ª≠ d·ª•ng).</li>
</ol>
<p><strong><code>index.html</code>:</strong></p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;V√≠ d·ª• External CSS&lt;/title&gt;
    &lt;!--D√πng CSS t·ª´ t·ªáp ngo√†i nh∆∞ n√†y--&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot;&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Ti√™u ƒë·ªÅ&lt;/h1&gt;
    &lt;p&gt;ƒêo·∫°n vƒÉn b·∫£n.&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p><strong><code>style.css</code>:</strong></p>
<pre><code class="language-css">body {
    font-family: Arial, sans-serif;
}
h1 {
    color: red;
}
</code></pre>
<h3 id="id-v√†-class-trong-css-selectors"><a class="header" href="#id-v√†-class-trong-css-selectors">ID v√† Class trong CSS selectors</a></h3>
<p>CSS selectors (b·ªô ch·ªçn) ƒë·ªÉ ch·ªçn c√°c ph·∫ßn t·ª≠ HTML ƒë·ªÉ style. ID v√† Class l√† 2 lo·∫°i selector quan tr·ªçng:</p>
<ul>
<li>
<p><strong>ID selector:</strong> Ch·ªçn ph·∫ßn t·ª≠ HTML c√≥ <code>id</code> attribute t∆∞∆°ng ·ª©ng. B·∫Øt ƒë·∫ßu b·∫±ng <code>#</code>. ID l√† duy nh·∫•t tr√™n trang.</p>
</li>
<li>
<p><strong>Class selector:</strong> Ch·ªçn c√°c ph·∫ßn t·ª≠ HTML c√≥ <code>class</code> attribute t∆∞∆°ng ·ª©ng. B·∫Øt ƒë·∫ßu b·∫±ng <code>.</code>. Class c√≥ th·ªÉ d√πng cho nhi·ªÅu ph·∫ßn t·ª≠.</p>
</li>
<li>
<p><strong><code>index.html</code>:</strong></p>
</li>
</ul>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;V√≠ d·ª• ID v√† Class&lt;/title&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot;&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1 id=&quot;main-title&quot;&gt;Ti√™u ƒë·ªÅ ch√≠nh&lt;/h1&gt;
    &lt;p class=&quot;paragraph&quot;&gt;ƒêo·∫°n vƒÉn b·∫£n 1.&lt;/p&gt;
    &lt;p class=&quot;paragraph special-text&quot;&gt;ƒêo·∫°n vƒÉn b·∫£n 2 (class ƒë·∫∑c bi·ªát).&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<ul>
<li><strong><code>style.css</code>:</strong></li>
</ul>
<pre><code class="language-css">#main-title { /* ID selector */
    color: green;
    text-align: center;
}
.paragraph { /* Class selector */
    font-size: 16px;
    line-height: 1.5;
}
.special-text { /* Class selector cho class &quot;special-text&quot; */
    font-weight: bold;
}
</code></pre>
<h3 id="m·ª©c-ƒë·ªô-∆∞u-ti√™n-trong-css"><a class="header" href="#m·ª©c-ƒë·ªô-∆∞u-ti√™n-trong-css">M·ª©c ƒë·ªô ∆∞u ti√™n trong CSS</a></h3>
<p>Khi c√≥ nhi·ªÅu CSS rules c√πng style m·ªôt ph·∫ßn t·ª≠, tr√¨nh duy·ªát √°p d·ª•ng m·ª©c ƒë·ªô ∆∞u ti√™n ƒë·ªÉ quy·∫øt ƒë·ªãnh rule n√†o ƒë∆∞·ª£c d√πng:</p>
<ol>
<li><strong>Inline CSS</strong> (cao nh·∫•t).</li>
<li><strong>ID selectors</strong>.</li>
<li><strong>Class selectors, attribute selectors, pseudo-classes</strong>.</li>
<li><strong>Element selectors, pseudo-elements</strong> (th·∫•p nh·∫•t).</li>
<li><strong>!important</strong> (c·ª±c cao, n√™n h·∫°n ch·∫ø d√πng).</li>
</ol>
<ul>
<li><strong><code>index.html</code>:</strong></li>
</ul>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;M·ª©c ƒë·ªô ∆∞u ti√™n CSS&lt;/title&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot;&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;p id=&quot;para-id&quot; class=&quot;para-class&quot; style=&quot;color: purple;&quot;&gt;
        ƒêo·∫°n vƒÉn b·∫£n n√†y c√≥ nhi·ªÅu style.
    &lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<ul>
<li><strong><code>style.css</code>:</strong></li>
</ul>
<pre><code class="language-css">p { /* Element selector (th·∫•p nh·∫•t) */
    color: blue;
}
.para-class { /* Class selector */
    color: orange;
}
#para-id { /* ID selector */
    color: red;
}
</code></pre>
<ul>
<li>ƒêo·∫°n vƒÉn b·∫£n s·∫Ω c√≥ m√†u <strong>t√≠m</strong> (inline CSS ∆∞u ti√™n nh·∫•t). N·∫øu b·ªè inline style, s·∫Ω c√≥ m√†u <strong>ƒë·ªè</strong> (ID selector ∆∞u ti√™n h∆°n class v√† element).</li>
</ul>
<h3 id="bi·∫øn-trong-css-css-variable"><a class="header" href="#bi·∫øn-trong-css-css-variable">Bi·∫øn trong CSS (CSS Variable)</a></h3>
<p>CSS Variables (bi·∫øn CSS) cho ph√©p b·∫°n ƒë·ªãnh nghƒ©a c√°c gi√° tr·ªã c√≥ th·ªÉ t√°i s·ª≠ d·ª•ng trong CSS, gi√∫p code d·ªÖ b·∫£o tr√¨ v√† t√πy bi·∫øn. <strong>C√∫ ph√°p:</strong></p>
<ul>
<li>Khai b√°o bi·∫øn: <code>--variable-name: value;</code> (trong <code>:root</code> selector ƒë·ªÉ global, ho·∫∑c trong selector kh√°c ƒë·ªÉ local).</li>
<li>S·ª≠ d·ª•ng bi·∫øn: <code>var(--variable-name)</code></li>
</ul>
<pre><code class="language-css">:root { /* Global variables */
    --primary-color: blue;
    --font-size-large: 20px;
}

body {
    font-family: Arial, sans-serif;
    color: var(--primary-color); /* S·ª≠ d·ª•ng bi·∫øn */
}

h1 {
    color: var(--primary-color);
    font-size: var(--font-size-large);
}
</code></pre>
<h3 id="css-units-l√†-g√¨"><a class="header" href="#css-units-l√†-g√¨">CSS Units l√† g√¨?</a></h3>
<p>CSS Units (ƒë∆°n v·ªã CSS) x√°c ƒë·ªãnh k√≠ch th∆∞·ªõc, kho·∫£ng c√°ch, ƒë·ªô d√†i... trong CSS. C√≥ 2 lo·∫°i ch√≠nh:</p>
<ul>
<li><strong>Absolute units:</strong> C·ªë ƒë·ªãnh, kh√¥ng thay ƒë·ªïi theo m√¥i tr∆∞·ªùng (px, cm, mm, in, pt, pc). <code>px</code> (pixel) ph·ªï bi·∫øn nh·∫•t cho web.</li>
<li><strong>Relative units:</strong> T∆∞∆°ng ƒë·ªëi, thay ƒë·ªïi theo m√¥i tr∆∞·ªùng (%, em, rem, vw, vh).
<ul>
<li><code>%</code>: Ph·∫ßn trƒÉm so v·ªõi ph·∫ßn t·ª≠ cha.</li>
<li><code>em</code>: T∆∞∆°ng ƒë·ªëi v·ªõi <code>font-size</code> c·ªßa ph·∫ßn t·ª≠ cha.</li>
<li><code>rem</code>: T∆∞∆°ng ƒë·ªëi v·ªõi <code>font-size</code> c·ªßa th·∫ª g·ªëc <code>&lt;html&gt;</code>.</li>
<li><code>vw</code>, <code>vh</code>: Ph·∫ßn trƒÉm chi·ªÅu r·ªông, chi·ªÅu cao viewport (c·ª≠a s·ªï tr√¨nh duy·ªát).</li>
</ul>
</li>
</ul>
<pre><code class="language-css">body {
    font-size: 16px; /* Pixel (absolute) */
}

h1 {
    font-size: 2em; /* em (relative to body font-size) -&gt; 32px */
}

div {
    width: 50%; /* % (relative to parent width) */
    padding: 10px; /* Pixel (absolute) */
}
</code></pre>
<h3 id="thu·ªôc-t√≠nh-padding-trong-css"><a class="header" href="#thu·ªôc-t√≠nh-padding-trong-css">Thu·ªôc t√≠nh Padding trong CSS</a></h3>
<p><code>padding</code> t·∫°o kho·∫£ng tr·∫Øng b√™n trong <strong>vi·ªÅn</strong> c·ªßa ph·∫ßn t·ª≠, ƒë·∫©y n·ªôi dung ra xa vi·ªÅn. C√≥ th·ªÉ set <code>padding-top</code>, <code>padding-right</code>, <code>padding-bottom</code>, <code>padding-left</code> ho·∫∑c <code>padding</code> shorthand (top right bottom left).</p>
<pre><code class="language-css">div {
    width: 200px;
    height: 100px;
    background-color: lightblue;
    border: 1px solid black;
    padding: 20px; /* Padding ƒë·ªÅu 4 ph√≠a 20px */
}
</code></pre>
<h3 id="thu·ªôc-t√≠nh-border-trong-css"><a class="header" href="#thu·ªôc-t√≠nh-border-trong-css">Thu·ªôc t√≠nh Border trong CSS</a></h3>
<p><code>border</code> t·∫°o vi·ªÅn xung quanh ph·∫ßn t·ª≠. C√°c thu·ªôc t√≠nh:</p>
<ul>
<li><code>border-width</code>: ƒê·ªô d√†y vi·ªÅn (px, em...).</li>
<li><code>border-style</code>: Ki·ªÉu vi·ªÅn (solid, dashed, dotted, double...).</li>
<li><code>border-color</code>: M√†u vi·ªÅn.</li>
<li><code>border</code> shorthand: <code>border: width style color;</code></li>
<li><code>border-radius</code>: Bo tr√≤n g√≥c vi·ªÅn.</li>
</ul>
<pre><code class="language-css">div {
    width: 200px;
    height: 100px;
    background-color: lightblue;
    border: 5px solid red; /* Vi·ªÅn ƒë·ªè, d√†y 5px, ki·ªÉu solid */
    border-radius: 10px; /* Bo tr√≤n g√≥c 10px */
}
</code></pre>
<h3 id="thu·ªôc-t√≠nh-margin-trong-css"><a class="header" href="#thu·ªôc-t√≠nh-margin-trong-css">Thu·ªôc t√≠nh Margin trong CSS</a></h3>
<p><code>margin</code> t·∫°o kho·∫£ng tr·∫Øng b√™n ngo√†i <strong>vi·ªÅn</strong> c·ªßa ph·∫ßn t·ª≠, ƒë·∫©y ph·∫ßn t·ª≠ ra xa c√°c ph·∫ßn t·ª≠ xung quanh. T∆∞∆°ng t·ª± padding, c√≥ <code>margin-top</code>, <code>margin-right</code>, <code>margin-bottom</code>, <code>margin-left</code> ho·∫∑c <code>margin</code> shorthand.</p>
<pre><code class="language-css">div {
    width: 200px;
    height: 100px;
    background-color: lightblue;
    border: 1px solid black;
    margin-bottom: 30px; /* Margin d∆∞·ªõi 30px, ƒë·∫©y ph·∫ßn t·ª≠ ti·∫øp theo xu·ªëng */
}
</code></pre>
<h3 id="css-box-sizing"><a class="header" href="#css-box-sizing">CSS Box-sizing</a></h3>
<p><code>box-sizing</code> quy·∫øt ƒë·ªãnh c√°ch t√≠nh t·ªïng k√≠ch th∆∞·ªõc c·ªßa ph·∫ßn t·ª≠ (width, height) khi c√≥ <code>padding</code> v√† <code>border</code>.</p>
<ul>
<li><code>content-box</code> (m·∫∑c ƒë·ªãnh): <code>width</code> v√† <code>height</code> ch·ªâ t√≠nh ph·∫ßn n·ªôi dung, <code>padding</code> v√† <code>border</code> c·ªông th√™m v√†o t·ªïng k√≠ch th∆∞·ªõc.</li>
<li><code>border-box</code>: <code>width</code> v√† <code>height</code> bao g·ªìm c·∫£ <code>padding</code> v√† <code>border</code>. Thu·∫≠n ti·ªán h∆°n, d·ªÖ ki·ªÉm so√°t k√≠ch th∆∞·ªõc ph·∫ßn t·ª≠.</li>
</ul>
<pre><code class="language-css">.content-box {
    box-sizing: content-box; /* M·∫∑c ƒë·ªãnh */
    width: 200px;
    padding: 20px;
    border: 10px solid black;
    /* T·ªïng chi·ªÅu r·ªông: 200px (width) + 20px*2 (padding) + 10px*2 (border) = 260px */
}

.border-box {
    box-sizing: border-box;
    width: 200px;
    padding: 20px;
    border: 10px solid black;
    /* T·ªïng chi·ªÅu r·ªông: v·∫´n l√† 200px (width ƒë√£ bao g·ªìm padding v√† border) */
}
</code></pre>
<h3 id="css-background-clip"><a class="header" href="#css-background-clip">CSS Background-clip</a></h3>
<p><code>background-clip</code> x√°c ƒë·ªãnh v√πng m√† background (m√†u, ·∫£nh) s·∫Ω ƒë∆∞·ª£c hi·ªÉn th·ªã b√™n trong ph·∫ßn t·ª≠.</p>
<ul>
<li><code>border-box</code> (m·∫∑c ƒë·ªãnh): Background clip ƒë·∫øn m√©p ngo√†i c·ªßa vi·ªÅn.</li>
<li><code>padding-box</code>: Background clip ƒë·∫øn m√©p ngo√†i c·ªßa padding.</li>
<li><code>content-box</code>: Background clip ƒë·∫øn m√©p ngo√†i c·ªßa content box.</li>
<li><code>text</code>: Background clip theo h√¨nh d·∫°ng ch·ªØ (ch·ªâ √°p d·ª•ng cho text).</li>
</ul>
<pre><code class="language-css">div {
    width: 200px;
    height: 100px;
    background-color: lightblue;
    border: 20px dashed red;
    padding: 20px;
    background-clip: padding-box; /* Background ch·ªâ hi·ªÉn th·ªã trong v√πng padding v√† content */
}
</code></pre>
<h3 id="css-background-image"><a class="header" href="#css-background-image">CSS Background-image</a></h3>
<p><code>background-image</code> ƒë·∫∑t ·∫£nh n·ªÅn cho ph·∫ßn t·ª≠. Gi√° tr·ªã l√† <code>url(&quot;path/to/image.jpg&quot;)</code> ho·∫∑c <code>linear-gradient()</code>, <code>radial-gradient()</code>...</p>
<pre><code class="language-css">div {
    width: 300px;
    height: 200px;
    background-image: url(&quot;background.jpg&quot;); /* ƒê·∫∑t ·∫£nh n·ªÅn */
    background-size: cover; /* ·∫¢nh n·ªÅn ph·ªß k√≠n div */
    color: white; /* Ch·ªØ m√†u tr·∫Øng ƒë·ªÉ d·ªÖ nh√¨n tr√™n n·ªÅn ·∫£nh */
    text-align: center;
    padding-top: 50px;
}
</code></pre>
<h3 id="thu·ªôc-t√≠nh-background-size"><a class="header" href="#thu·ªôc-t√≠nh-background-size">Thu·ªôc t√≠nh Background-size</a></h3>
<p><code>background-size</code> ƒëi·ªÅu ch·ªânh k√≠ch th∆∞·ªõc ·∫£nh n·ªÅn. C√°c gi√° tr·ªã ph·ªï bi·∫øn:</p>
<ul>
<li><code>auto</code> (m·∫∑c ƒë·ªãnh): K√≠ch th∆∞·ªõc ·∫£nh g·ªëc.</li>
<li><code>cover</code>: ·∫¢nh n·ªÅn ph·ªß k√≠n ph·∫ßn t·ª≠, c√≥ th·ªÉ b·ªã crop.</li>
<li><code>contain</code>: ·∫¢nh n·ªÅn v·ª´a kh√≠t trong ph·∫ßn t·ª≠, c√≥ th·ªÉ c√≥ kho·∫£ng tr·∫Øng xung quanh.</li>
<li><code>px</code>, <code>%</code>: K√≠ch th∆∞·ªõc c·ª• th·ªÉ (px) ho·∫∑c ph·∫ßn trƒÉm (%).</li>
</ul>
<pre><code class="language-css">div {
    width: 300px;
    height: 200px;
    background-image: url(&quot;background.jpg&quot;);
    background-size: cover; /* ·∫¢nh n·ªÅn ph·ªß k√≠n div */
}
</code></pre>
<h3 id="thu·ªôc-t√≠nh-background-origin"><a class="header" href="#thu·ªôc-t√≠nh-background-origin">Thu·ªôc t√≠nh Background-origin</a></h3>
<p><code>background-origin</code> x√°c ƒë·ªãnh v·ªã tr√≠ b·∫Øt ƒë·∫ßu c·ªßa background-image.</p>
<ul>
<li><code>border-box</code> (m·∫∑c ƒë·ªãnh): B·∫Øt ƒë·∫ßu t·ª´ m√©p tr√™n-tr√°i c·ªßa border box.</li>
<li><code>padding-box</code>: B·∫Øt ƒë·∫ßu t·ª´ m√©p tr√™n-tr√°i c·ªßa padding box.</li>
<li><code>content-box</code>: B·∫Øt ƒë·∫ßu t·ª´ m√©p tr√™n-tr√°i c·ªßa content box.</li>
</ul>
<pre><code class="language-css">div {
    width: 200px;
    height: 100px;
    background-image: url(&quot;pattern.png&quot;); /* ·∫¢nh pattern nh·ªè */
    border: 20px dashed red;
    padding: 20px;
    background-repeat: repeat; /* L·∫∑p l·∫°i ·∫£nh n·ªÅn */
    background-origin: content-box; /* ·∫¢nh n·ªÅn b·∫Øt ƒë·∫ßu t·ª´ content box */
}
</code></pre>
<h3 id="thu·ªôc-t√≠nh-background-position"><a class="header" href="#thu·ªôc-t√≠nh-background-position">Thu·ªôc t√≠nh Background-position</a></h3>
<p><code>background-position</code> ƒë·ªãnh v·ªã tr√≠ c·ªßa ·∫£nh n·ªÅn trong ph·∫ßn t·ª≠. Gi√° tr·ªã:</p>
<ul>
<li><code>top</code>, <code>bottom</code>, <code>left</code>, <code>right</code>, <code>center</code>.</li>
<li><code>px</code>, <code>%</code>: V·ªã tr√≠ c·ª• th·ªÉ (px) ho·∫∑c ph·∫ßn trƒÉm (%).</li>
<li>C·∫∑p gi√° tr·ªã: <code>background-position: horizontal vertical;</code> (v√≠ d·ª•: <code>top center</code>, <code>50% 20px</code>).</li>
</ul>
<pre><code class="language-css">div {
    width: 300px;
    height: 200px;
    background-image: url(&quot;background.jpg&quot;);
    background-size: contain; /* ·∫¢nh n·ªÅn v·ª´a kh√≠t */
    background-repeat: no-repeat; /* Kh√¥ng l·∫∑p l·∫°i ·∫£nh n·ªÅn */
    background-position: center; /* ·∫¢nh n·ªÅn ·ªü gi·ªØa div */
}
</code></pre>
<h3 id="c√∫-ph√°p-shorthand"><a class="header" href="#c√∫-ph√°p-shorthand">C√∫ ph√°p shorthand</a></h3>
<p>CSS Shorthand (c√∫ ph√°p r√∫t g·ªçn) gi√∫p vi·∫øt nhi·ªÅu thu·ªôc t√≠nh CSS li√™n quan trong m·ªôt d√≤ng. <code>background</code> shorthand g·ªôp nhi·ªÅu thu·ªôc t√≠nh background: <code>background: color image repeat position/size origin clip;</code> (th·ª© t·ª± kh√¥ng quan tr·ªçng, c√≥ th·ªÉ b·ªè qua m·ªôt s·ªë gi√° tr·ªã).</p>
<pre><code class="language-css">div {
    width: 300px;
    height: 200px;
    background: lightblue url(&quot;background.jpg&quot;) no-repeat center/cover padding-box;
    /* R√∫t g·ªçn c·ªßa:
        background-color: lightblue;
        background-image: url(&quot;background.jpg&quot;);
        background-repeat: no-repeat;
        background-position: center;
        background-size: cover;
        background-origin: padding-box;
    */
}
</code></pre>
<h3 id="css-functions"><a class="header" href="#css-functions">CSS Functions</a></h3>
<p>CSS Functions (h√†m CSS) l√† c√°c h√†m d·ª±ng s·∫µn trong CSS ƒë·ªÉ t·∫°o ra c√°c gi√° tr·ªã ƒë·ªông ho·∫∑c ph·ª©c t·∫°p. V√≠ d·ª•:</p>
<ul>
<li><code>rgb()</code>, <code>rgba()</code>, <code>hsl()</code>, <code>hsla()</code>: H√†m m√†u.</li>
<li><code>linear-gradient()</code>, <code>radial-gradient()</code>: H√†m t·∫°o gradient m√†u.</li>
<li><code>calc()</code>: H√†m t√≠nh to√°n.</li>
<li><code>var()</code>: H√†m d√πng bi·∫øn CSS.</li>
</ul>
<pre><code class="language-css">div {
    width: 200px;
    height: 100px;
    background-color: rgba(0, 0, 255, 0.5); /* M√†u xanh lam trong su·ªët */
    background-image: linear-gradient(to right, red, yellow); /* Gradient t·ª´ ƒë·ªè sang v√†ng */
    font-size: calc(100% - 20px); /* T√≠nh to√°n font-size */
}
</code></pre>
<h3 id="css-pseudo-classes"><a class="header" href="#css-pseudo-classes">CSS Pseudo classes</a></h3>
<p>CSS Pseudo-classes (l·ªõp gi·∫£) ch·ªçn c√°c ph·∫ßn t·ª≠ d·ª±a tr√™n tr·∫°ng th√°i ho·∫∑c v·ªã tr√≠ ƒë·∫∑c bi·ªát, kh√¥ng d·ª±a tr√™n class hay ID. B·∫Øt ƒë·∫ßu b·∫±ng <code>:</code>. V√≠ d·ª•:</p>
<ul>
<li><code>:hover</code>: Khi chu·ªôt di v√†o.</li>
<li><code>:active</code>: Khi ph·∫ßn t·ª≠ ƒëang ƒë∆∞·ª£c click.</li>
<li><code>:focus</code>: Khi ph·∫ßn t·ª≠ ƒë∆∞·ª£c focus (v√≠ d·ª• input).</li>
<li><code>:first-child</code>, <code>:last-child</code>, <code>:nth-child()</code>: Ch·ªçn ph·∫ßn t·ª≠ con ƒë·∫ßu, cu·ªëi, th·ª© n.</li>
</ul>
<pre><code class="language-css">a:hover { /* Style link khi hover */
    color: red;
    text-decoration: none; /* B·ªè g·∫°ch ch√¢n khi hover */
}

li:first-child { /* Style item ƒë·∫ßu ti√™n trong danh s√°ch */
    font-weight: bold;
}
</code></pre>
<h3 id="ph·∫ßn-t·ª≠-gi·∫£-trong-css"><a class="header" href="#ph·∫ßn-t·ª≠-gi·∫£-trong-css">Ph·∫ßn t·ª≠ gi·∫£ trong CSS</a></h3>
<p>CSS Pseudo-elements (ph·∫ßn t·ª≠ gi·∫£) t·∫°o ra c√°c ph·∫ßn t·ª≠ &quot;·∫£o&quot; ƒë·ªÉ style c√°c ph·∫ßn c·ª• th·ªÉ c·ªßa ph·∫ßn t·ª≠ th·∫≠t. B·∫Øt ƒë·∫ßu b·∫±ng <code>::</code>. V√≠ d·ª•:</p>
<ul>
<li><code>::before</code>, <code>::after</code>: T·∫°o ph·∫ßn t·ª≠ ·∫£o tr∆∞·ªõc/sau n·ªôi dung ph·∫ßn t·ª≠ th·∫≠t.</li>
<li><code>::first-line</code>, <code>::first-letter</code>: Style d√≤ng ƒë·∫ßu, ch·ªØ c√°i ƒë·∫ßu c·ªßa text.</li>
</ul>
<pre><code class="language-css">p::first-line { /* Style d√≤ng ƒë·∫ßu ti√™n c·ªßa ƒëo·∫°n vƒÉn */
    font-variant: small-caps; /* Ch·ªØ in hoa nh·ªè */
}

a::before { /* Th√™m icon tr∆∞·ªõc link */
    content: &quot;üîó &quot;;
}
</code></pre>
<h3 id="thu·ªôc-t√≠nh-position"><a class="header" href="#thu·ªôc-t√≠nh-position">Thu·ªôc t√≠nh Position</a></h3>
<p><code>position</code> x√°c ƒë·ªãnh c√°ch ph·∫ßn t·ª≠ ƒë∆∞·ª£c ƒë·ªãnh v·ªã trong layout. <code>position: relative</code> (t∆∞∆°ng ƒë·ªëi):</p>
<ul>
<li>Ph·∫ßn t·ª≠ v·∫´n ·ªü v·ªã tr√≠ b√¨nh th∆∞·ªùng trong lu·ªìng vƒÉn b·∫£n.</li>
<li><code>top</code>, <code>right</code>, <code>bottom</code>, <code>left</code> d·ªãch chuy·ªÉn ph·∫ßn t·ª≠ <strong>t∆∞∆°ng ƒë·ªëi</strong> so v·ªõi v·ªã tr√≠ ban ƒë·∫ßu c·ªßa n√≥.</li>
<li>Kh√¥ng ·∫£nh h∆∞·ªüng ƒë·∫øn v·ªã tr√≠ c√°c ph·∫ßn t·ª≠ kh√°c.</li>
</ul>
<pre><code class="language-css">div {
    width: 100px;
    height: 100px;
    background-color: lightblue;
    position: relative; /* ƒê·ªãnh v·ªã t∆∞∆°ng ƒë·ªëi */
    left: 30px; /* D·ªãch sang ph·∫£i 30px */
    top: 20px; /* D·ªãch xu·ªëng d∆∞·ªõi 20px */
}
</code></pre>
<h3 id="thu·ªôc-t√≠nh-v·ªã-tr√≠-tuy·ªát-ƒë·ªëi"><a class="header" href="#thu·ªôc-t√≠nh-v·ªã-tr√≠-tuy·ªát-ƒë·ªëi">Thu·ªôc t√≠nh v·ªã tr√≠ tuy·ªát ƒë·ªëi</a></h3>
<p><code>position: absolute</code> (tuy·ªát ƒë·ªëi):</p>
<ul>
<li>Ph·∫ßn t·ª≠ b·ªã lo·∫°i kh·ªèi lu·ªìng vƒÉn b·∫£n b√¨nh th∆∞·ªùng.</li>
<li>ƒê·ªãnh v·ªã <strong>tuy·ªát ƒë·ªëi</strong> so v·ªõi ph·∫ßn t·ª≠ cha <strong>g·∫ßn nh·∫•t</strong> c√≥ <code>position: relative</code>, <code>absolute</code>, <code>fixed</code> (n·∫øu kh√¥ng c√≥ cha n√†o th√¨ so v·ªõi th·∫ª <code>&lt;html&gt;</code>).</li>
<li>C√°c ph·∫ßn t·ª≠ kh√°c c√≥ th·ªÉ &quot;ch√®n&quot; v√†o v·ªã tr√≠ c·ªßa ph·∫ßn t·ª≠ absolute.</li>
</ul>
<pre><code class="language-html">&lt;div style=&quot;position: relative; width: 300px; height: 200px; border: 1px solid black;&quot;&gt;
    &lt;div style=&quot;position: absolute; top: 50px; left: 50px; width: 100px; height: 100px; background-color: lightblue;&quot;&gt;
        Absolute div
    &lt;/div&gt;
    Relative container
&lt;/div&gt;
</code></pre>
<h3 id="thu·ªôc-t√≠nh-position-fixed"><a class="header" href="#thu·ªôc-t√≠nh-position-fixed">Thu·ªôc t√≠nh Position: Fixed</a></h3>
<p><code>position: fixed</code> (c·ªë ƒë·ªãnh):</p>
<ul>
<li>T∆∞∆°ng t·ª± <code>absolute</code>: b·ªã lo·∫°i kh·ªèi lu·ªìng vƒÉn b·∫£n.</li>
<li>ƒê·ªãnh v·ªã <strong>c·ªë ƒë·ªãnh</strong> so v·ªõi <strong>viewport</strong> (c·ª≠a s·ªï tr√¨nh duy·ªát).</li>
<li>Kh√¥ng scroll theo trang, lu√¥n ·ªü v·ªã tr√≠ c·ªë ƒë·ªãnh tr√™n m√†n h√¨nh.</li>
</ul>
<pre><code class="language-css">div {
    position: fixed; /* ƒê·ªãnh v·ªã c·ªë ƒë·ªãnh */
    top: 0;
    left: 0;
    width: 100%;
    background-color: lightblue;
    padding: 10px;
    text-align: center;
}
</code></pre>
<h3 id="thu·ªôc-t√≠nh-position-sticky"><a class="header" href="#thu·ªôc-t√≠nh-position-sticky">Thu·ªôc t√≠nh Position: Sticky</a></h3>
<p><code>position: sticky</code> (d√≠nh):</p>
<ul>
<li>K·∫øt h·ª£p <code>relative</code> v√† <code>fixed</code>.</li>
<li>Ban ƒë·∫ßu ho·∫°t ƒë·ªông nh∆∞ <code>relative</code> (trong lu·ªìng vƒÉn b·∫£n).</li>
<li>Khi scroll ƒë·∫øn m·ªôt v·ªã tr√≠ nh·∫•t ƒë·ªãnh (set b·∫±ng <code>top</code>, <code>bottom</code>, <code>left</code>, <code>right</code>), n√≥ s·∫Ω &quot;d√≠nh&quot; l·∫°i nh∆∞ <code>fixed</code> trong ph·∫°m vi ph·∫ßn t·ª≠ cha.</li>
</ul>
<pre><code class="language-css">div {
    position: sticky; /* ƒê·ªãnh v·ªã sticky */
    top: 0; /* D√≠nh v√†o m√©p tr√™n khi scroll ƒë·∫øn */
    background-color: lightblue;
    padding: 10px;
    margin-bottom: 500px; /* T·∫°o scroll ƒë·ªÉ th·∫•y hi·ªáu ·ª©ng */
}
</code></pre>
<h3 id="gi·ªõi-thi·ªáu-flexbox"><a class="header" href="#gi·ªõi-thi·ªáu-flexbox">Gi·ªõi thi·ªáu Flexbox</a></h3>
<p>Flexbox l√† layout module m·∫°nh m·∫Ω trong CSS, gi√∫p t·∫°o layout linh ho·∫°t, m·ªôt chi·ªÅu (ch√≠nh ho·∫∑c ph·ª•). D√πng cho layout th√†nh ph·∫ßn, UI nh·ªè.</p>
<ul>
<li><strong>K√≠ch ho·∫°t Flexbox:</strong> <code>display: flex;</code> cho ph·∫ßn t·ª≠ cha (container). C√°c ph·∫ßn t·ª≠ con tr·ª±c ti·∫øp tr·ªü th√†nh flex items.</li>
<li><strong>Tr·ª•c ch√≠nh (main axis) v√† tr·ª•c ph·ª• (cross axis):</strong> Flexbox layout d·ª±a tr√™n 2 tr·ª•c n√†y. M·∫∑c ƒë·ªãnh tr·ª•c ch√≠nh l√† ngang (row), tr·ª•c ph·ª• l√† d·ªçc (column).</li>
</ul>
<h3 id="nh·ªØng-thu·ªôc-t√≠nh-css-s·ª≠-d·ª•ng-trong-flexbox"><a class="header" href="#nh·ªØng-thu·ªôc-t√≠nh-css-s·ª≠-d·ª•ng-trong-flexbox">Nh·ªØng thu·ªôc t√≠nh CSS s·ª≠ d·ª•ng trong Flexbox</a></h3>
<p><strong>Thu·ªôc t√≠nh cho container (ph·∫ßn t·ª≠ cha):</strong></p>
<ul>
<li><code>flex-direction</code>: H∆∞·ªõng tr·ª•c ch√≠nh (row, column, row-reverse, column-reverse).</li>
<li><code>justify-content</code>: CƒÉn ch·ªânh c√°c flex items tr√™n tr·ª•c ch√≠nh (flex-start, flex-end, center, space-between, space-around, space-evenly).</li>
<li><code>align-items</code>: CƒÉn ch·ªânh c√°c flex items tr√™n tr·ª•c ph·ª• (flex-start, flex-end, center, stretch, baseline).</li>
<li><code>flex-wrap</code>: Cho ph√©p flex items xu·ªëng d√≤ng khi kh√¥ng ƒë·ªß ch·ªó (nowrap, wrap, wrap-reverse).</li>
<li><code>align-content</code>: CƒÉn ch·ªânh c√°c d√≤ng flex items (khi <code>flex-wrap: wrap</code> ho·∫∑c <code>wrap-reverse</code>) tr√™n tr·ª•c ph·ª• (flex-start, flex-end, center, space-between, space-around, stretch).</li>
</ul>
<p><strong>Thu·ªôc t√≠nh cho items (ph·∫ßn t·ª≠ con):</strong></p>
<ul>
<li><code>order</code>: S·∫Øp x·∫øp th·ª© t·ª± item.</li>
<li><code>flex-grow</code>:  Item c√≥ th·ªÉ l·ªõn ra ƒë·ªÉ l·∫•p ƒë·∫ßy kh√¥ng gian th·ª´a.</li>
<li><code>flex-shrink</code>: Item c√≥ th·ªÉ nh·ªè l·∫°i khi kh√¥ng ƒë·ªß ch·ªó.</li>
<li><code>flex-basis</code>: K√≠ch th∆∞·ªõc c∆° s·ªü c·ªßa item tr∆∞·ªõc khi <code>flex-grow</code> v√† <code>flex-shrink</code> √°p d·ª•ng.</li>
<li><code>align-self</code>: Ghi ƒë√® <code>align-items</code> cho item c·ª• th·ªÉ.</li>
</ul>
<h3 id="h·ªçc-flexbox-css-qua-v√≠-d·ª•"><a class="header" href="#h·ªçc-flexbox-css-qua-v√≠-d·ª•">H·ªçc Flexbox CSS qua v√≠ d·ª•</a></h3>
<p><strong>V√≠ d·ª• (layout menu ngang):</strong></p>
<pre><code class="language-html">&lt;nav class=&quot;menu&quot;&gt;
    &lt;a href=&quot;#&quot;&gt;Home&lt;/a&gt;
    &lt;a href=&quot;#&quot;&gt;About&lt;/a&gt;
    &lt;a href=&quot;#&quot;&gt;Services&lt;/a&gt;
    &lt;a href=&quot;#&quot;&gt;Contact&lt;/a&gt;
&lt;/nav&gt;
</code></pre>
<pre><code class="language-css">.menu {
    display: flex; /* K√≠ch ho·∫°t flexbox */
    justify-content: space-around; /* C√°c link c√°ch ƒë·ªÅu nhau tr√™n tr·ª•c ngang */
    background-color: lightgray;
    padding: 10px;
}

.menu a {
    text-decoration: none;
    color: black;
    padding: 10px 15px;
}
</code></pre>
<h3 id="flexbox-n√¢ng-cao-li√™n-h·ªá-flex-model-v·ªõi-c√°c-thu·ªôc-t√≠nh-flexbox-trong-css"><a class="header" href="#flexbox-n√¢ng-cao-li√™n-h·ªá-flex-model-v·ªõi-c√°c-thu·ªôc-t√≠nh-flexbox-trong-css">[Flexbox n√¢ng cao] Li√™n h·ªá Flex model v·ªõi c√°c thu·ªôc t√≠nh Flexbox trong CSS</a></h3>
<p>Hi·ªÉu r√µ flex container, flex items, tr·ª•c ch√≠nh, tr·ª•c ph·ª•, main size, cross size... gi√∫p d√πng Flexbox hi·ªáu qu·∫£ h∆°n. C√°c thu·ªôc t√≠nh Flexbox ƒëi·ªÅu khi·ªÉn c√°ch flex items ph√¢n b·ªï kh√¥ng gian tr√™n tr·ª•c ch√≠nh v√† tr·ª•c ph·ª•.</p>
<h3 id="css-bem-l√†-g√¨-ƒê·∫∑t-t√™n-css-class-theo-ti√™u-chu·∫©n-bem"><a class="header" href="#css-bem-l√†-g√¨-ƒê·∫∑t-t√™n-css-class-theo-ti√™u-chu·∫©n-bem">CSS BEM L√† G√¨? ƒê·∫∑t T√™n CSS Class Theo Ti√™u Chu·∫©n BEM</a></h3>
<p>BEM (Block, Element, Modifier) l√† quy t·∫Øc ƒë·∫∑t t√™n class CSS gi√∫p code d·ªÖ ƒë·ªçc, d·ªÖ b·∫£o tr√¨, tr√°nh xung ƒë·ªôt.</p>
<ul>
<li><strong>Block:</strong> Ph·∫ßn t·ª≠ ƒë·ªôc l·∫≠p, t√°i s·ª≠ d·ª•ng (v√≠ d·ª•: <code>menu</code>, <code>button</code>). Class: <code>block</code>.</li>
<li><strong>Element:</strong> Ph·∫ßn con c·ªßa Block, ph·ª• thu·ªôc v√†o Block (v√≠ d·ª•: <code>menu__item</code>, <code>button__text</code>). Class: <code>block__element</code>.</li>
<li><strong>Modifier:</strong> Bi·∫øn th·ªÉ c·ªßa Block ho·∫∑c Element, thay ƒë·ªïi style (v√≠ d·ª•: <code>button--primary</code>, <code>menu__item--active</code>). Class: <code>block--modifier</code> ho·∫∑c <code>block__element--modifier</code>.</li>
</ul>
<pre><code class="language-html">&lt;div class=&quot;button button--primary&quot;&gt;
    &lt;span class=&quot;button__text&quot;&gt;Click me&lt;/span&gt;
&lt;/div&gt;
</code></pre>
<pre><code class="language-css">.button { /* Block */
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
}

.button--primary { /* Modifier cho Block */
    background-color: blue;
    color: white;
}

.button__text { /* Element c·ªßa Block */
    font-size: 16px;
}
</code></pre>
<h3 id="t·ªëi-∆∞u-performace-khi-s·ª≠-d·ª•ng-·∫£nh-v·ªõi-srcset"><a class="header" href="#t·ªëi-∆∞u-performace-khi-s·ª≠-d·ª•ng-·∫£nh-v·ªõi-srcset">T·ªëi ∆∞u performace khi s·ª≠ d·ª•ng ·∫£nh v·ªõi srcset</a></h3>
<p><code>srcset</code> attribute c·ªßa th·∫ª <code>&lt;img&gt;</code> gi√∫p cung c·∫•p nhi·ªÅu phi√™n b·∫£n ·∫£nh v·ªõi k√≠ch th∆∞·ªõc kh√°c nhau, tr√¨nh duy·ªát t·ª± ch·ªçn ·∫£nh ph√π h·ª£p v·ªõi k√≠ch th∆∞·ªõc m√†n h√¨nh, t·ªëi ∆∞u hi·ªáu su·∫•t t·∫£i trang, ƒë·∫∑c bi·ªát tr√™n mobile.</p>
<pre><code class="language-html">&lt;img src=&quot;image-large.jpg&quot;
        srcset=&quot;image-small.jpg 320w,
                image-medium.jpg 768w,
                image-large.jpg 1200w&quot;
        alt=&quot;·∫¢nh responsive&quot;&gt;
</code></pre>
<h3 id="css-selectors-c∆°-b·∫£n"><a class="header" href="#css-selectors-c∆°-b·∫£n">CSS selectors c∆° b·∫£n</a></h3>
<p>√în l·∫°i c√°c CSS selectors c∆° b·∫£n:</p>
<ul>
<li><strong>Element selectors:</strong> <code>p</code>, <code>h1</code>, <code>div</code>...</li>
<li><strong>Class selectors:</strong> <code>.class-name</code></li>
<li><strong>ID selectors:</strong> <code>#id-name</code></li>
<li><strong>Attribute selectors:</strong> <code>[attribute]</code>, <code>[attribute=&quot;value&quot;]</code>...</li>
<li><strong>Universal selector:</strong> <code>*</code> (ch·ªçn t·∫•t c·∫£ ph·∫ßn t·ª≠).</li>
<li><strong>Combinators:</strong>
<ul>
<li>Descendant selector (space): <code>div p</code> (ch·ªçn <code>&lt;p&gt;</code> b√™n trong <code>&lt;div&gt;</code>).</li>
<li>Child selector (<code>&gt;</code>): <code>div &gt; p</code> (ch·ªçn <code>&lt;p&gt;</code> l√† con tr·ª±c ti·∫øp c·ªßa <code>&lt;div&gt;</code>).</li>
<li>Adjacent sibling selector (<code>+</code>): <code>h1 + p</code> (ch·ªçn <code>&lt;p&gt;</code> ngay sau <code>&lt;h1&gt;</code>).</li>
<li>General sibling selector (<code>~</code>): <code>h1 ~ p</code> (ch·ªçn t·∫•t c·∫£ <code>&lt;p&gt;</code> l√† anh em c·ªßa <code>&lt;h1&gt;</code>).</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="h∆∞·ªõng-d·∫´n-h·ªçc-js-c·ª±c-nhanh"><a class="header" href="#h∆∞·ªõng-d·∫´n-h·ªçc-js-c·ª±c-nhanh">H∆∞·ªõng d·∫´n h·ªçc JS c·ª±c nhanh</a></h1>
<p>Ch·∫Øc th·∫ø, c√°i n√†y do Gemini vi·∫øt d·ª±a tr√™n n·ªôi dung kh√≥a h·ªçc c·ªßa F8 nha.</p>
<h2 id="ph·∫ßn-1-gi·ªõi-thi·ªáu-v√†-c√†i-ƒë·∫∑t"><a class="header" href="#ph·∫ßn-1-gi·ªõi-thi·ªáu-v√†-c√†i-ƒë·∫∑t">Ph·∫ßn 1: Gi·ªõi thi·ªáu v√† C√†i ƒë·∫∑t</a></h2>
<h3 id="c√†i-ƒë·∫∑t-m√¥i-tr∆∞·ªùng-c√¥ng-c·ª•-ph√π-h·ª£p-ƒë·ªÉ-h·ªçc-javascript"><a class="header" href="#c√†i-ƒë·∫∑t-m√¥i-tr∆∞·ªùng-c√¥ng-c·ª•-ph√π-h·ª£p-ƒë·ªÉ-h·ªçc-javascript">C√†i ƒë·∫∑t m√¥i tr∆∞·ªùng, c√¥ng c·ª• ph√π h·ª£p ƒë·ªÉ h·ªçc JavaScript</a></h3>
<p>ƒê·ªÉ h·ªçc JavaScript, b·∫°n c·∫ßn:</p>
<ul>
<li><strong>Tr√¨nh duy·ªát web:</strong> B·∫•t k·ª≥ tr√¨nh duy·ªát hi·ªán ƒë·∫°i n√†o (Chrome, Firefox, Edge...) ƒë·ªÅu c√≥ th·ªÉ ch·∫°y JavaScript.</li>
<li><strong>Tr√¨nh so·∫°n th·∫£o code:</strong> VS Code (Visual Studio Code) l√† l·ª±a ch·ªçn t·ªët, mi·ªÖn ph√≠, nhi·ªÅu extension h·ªó tr·ª£ JavaScript.</li>
<li><strong>Node.js (t√πy ch·ªçn):</strong>  ƒê·ªÉ ch·∫°y JavaScript ngo√†i tr√¨nh duy·ªát (backend, c√¥ng c·ª•...). C√†i ƒë·∫∑t t·ª´ <a href="https://www.google.com/url?sa=E&amp;source=gmail&amp;q=https://nodejs.org/">https://nodejs.org/</a>.</li>
</ul>
<h3 id="c√°ch-s·ª≠-d·ª•ng-js-trong-file-html"><a class="header" href="#c√°ch-s·ª≠-d·ª•ng-js-trong-file-html">C√°ch s·ª≠ d·ª•ng JS trong file HTML</a></h3>
<p>C√≥ 2 c√°ch ch√≠nh ƒë·ªÉ nh√∫ng JavaScript v√†o file HTML:</p>
<ul>
<li>
<p><strong>Internal (n·ªôi tuy·∫øn):</strong> Vi·∫øt code JS tr·ª±c ti·∫øp trong th·∫ª <code>&lt;script&gt;</code> b√™n trong <code>&lt;head&gt;</code> ho·∫∑c <code>&lt;body&gt;</code> c·ªßa file HTML.</p>
</li>
<li>
<p><strong>External (ngo·∫°i tuy·∫øn):</strong> Vi·∫øt code JS trong file ri√™ng (<code>.js</code>), sau ƒë√≥ li√™n k·∫øt ƒë·∫øn file HTML b·∫±ng th·∫ª <code>&lt;script src=&quot;path/to/script.js&quot;&gt;&lt;/script&gt;</code>. C√°ch n√†y t·ªët h∆°n cho d·ª± √°n l·ªõn, d·ªÖ qu·∫£n l√Ω code.</p>
</li>
<li>
<p><strong>V√≠ d·ª• (External JS - ph·ªï bi·∫øn nh·∫•t):</strong></p>
</li>
<li>
<p><strong><code>index.html</code>:</strong></p>
</li>
</ul>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;V√≠ d·ª• External JS&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Xin ch√†o JavaScript!&lt;/h1&gt;
    &lt;script src=&quot;script.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<ul>
<li><strong><code>script.js</code>:</strong></li>
</ul>
<pre><code class="language-javascript">    alert('Ch√†o m·ª´ng ƒë·∫øn v·ªõi JavaScript!');
</code></pre>
<h2 id="ph·∫ßn-2-c√∫-ph√°p-v√†-c∆°-b·∫£n"><a class="header" href="#ph·∫ßn-2-c√∫-ph√°p-v√†-c∆°-b·∫£n">Ph·∫ßn 2: C√∫ ph√°p v√† C∆° b·∫£n</a></h2>
<h3 id="khai-b√°o-bi·∫øn"><a class="header" href="#khai-b√°o-bi·∫øn">Khai b√°o bi·∫øn</a></h3>
<p>Bi·∫øn d√πng ƒë·ªÉ l∆∞u tr·ªØ d·ªØ li·ªáu trong ch∆∞∆°ng tr√¨nh. Trong JavaScript, c√≥ 3 t·ª´ kh√≥a khai b√°o bi·∫øn:</p>
<ul>
<li><code>var</code> (√≠t d√πng hi·ªán nay, ph·∫°m vi function-scoped).</li>
<li><code>let</code> (ph·∫°m vi block-scoped, c√≥ th·ªÉ g√°n l·∫°i gi√° tr·ªã).</li>
<li><code>const</code> (ph·∫°m vi block-scoped, kh√¥ng th·ªÉ g√°n l·∫°i gi√° tr·ªã sau khi kh·ªüi t·∫°o). N√™n d√πng <code>const</code> khi gi√° tr·ªã kh√¥ng ƒë·ªïi, <code>let</code> khi c·∫ßn thay ƒë·ªïi.</li>
</ul>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">let age = 30; // Khai b√°o bi·∫øn age v·ªõi let, gi√° tr·ªã 30
const name = &quot;Gemini&quot;; // Khai b√°o bi·∫øn name v·ªõi const, gi√° tr·ªã &quot;Gemini&quot;
age = 31; // C√≥ th·ªÉ g√°n l·∫°i gi√° tr·ªã cho age
// name = &quot;Bard&quot;; // L·ªói! Kh√¥ng th·ªÉ g√°n l·∫°i gi√° tr·ªã cho const name
console.log(name + &quot; is &quot; + age + &quot; years old.&quot;);
</code></pre>
<h3 id="s·ª≠-d·ª•ng-comments-trong-javascript"><a class="header" href="#s·ª≠-d·ª•ng-comments-trong-javascript">S·ª≠ d·ª•ng Comments trong JavaScript</a></h3>
<p>Comment (ch√∫ th√≠ch) trong JavaScript gi√∫p ghi ch√∫, gi·∫£i th√≠ch code, ho·∫∑c t·∫°m ·∫©n code m√† kh√¥ng ·∫£nh h∆∞·ªüng ƒë·∫øn ch∆∞∆°ng tr√¨nh.</p>
<ul>
<li>
<p><strong>Single-line comment:</strong> <code>// ƒê√¢y l√† comment m·ªôt d√≤ng</code></p>
</li>
<li>
<p><strong>Multi-line comment:</strong></p>
</li>
</ul>
<pre><code class="language-javascript">/*
ƒê√¢y l√†
comment
nhi·ªÅu d√≤ng
*/
</code></pre>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">// ƒê√¢y l√† comment gi·∫£i th√≠ch bi·∫øn name
const name = &quot;Gemini&quot;;
/*
ƒêo·∫°n code n√†y
s·∫Ω in ra l·ªùi ch√†o
*/
console.log(&quot;Xin ch√†o, &quot; + name + &quot;!&quot;);
</code></pre>
<h3 id="m·ªôt-s·ªë-h√†m-built-in-trong-javascript"><a class="header" href="#m·ªôt-s·ªë-h√†m-built-in-trong-javascript">M·ªôt s·ªë h√†m built-in trong JavaScript</a></h3>
<p>Built-in functions (h√†m d·ª±ng s·∫µn) l√† c√°c h√†m c√≥ s·∫µn trong JavaScript ƒë·ªÉ th·ª±c hi·ªán c√°c t√°c v·ª• ph·ªï bi·∫øn. V√≠ d·ª•:</p>
<ul>
<li><code>alert()</code>: Hi·ªÉn th·ªã h·ªôp tho·∫°i th√¥ng b√°o.</li>
<li><code>console.log()</code>: In th√¥ng tin ra console (DevTools).</li>
<li><code>prompt()</code>: Hi·ªÉn th·ªã h·ªôp tho·∫°i nh·∫≠p li·ªáu.</li>
<li><code>parseInt()</code>, <code>parseFloat()</code>: Chuy·ªÉn ƒë·ªïi chu·ªói sang s·ªë nguy√™n, s·ªë th·ª±c.</li>
<li><code>typeof()</code>: Ki·ªÉm tra ki·ªÉu d·ªØ li·ªáu c·ªßa bi·∫øn.</li>
</ul>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">alert(&quot;ƒê√¢y l√† th√¥ng b√°o!&quot;); // Hi·ªÉn th·ªã th√¥ng b√°o
console.log(&quot;Th√¥ng tin n√†y in ra console&quot;); // In ra console
let input = prompt(&quot;Nh·∫≠p t√™n c·ªßa b·∫°n:&quot;); // Hi·ªÉn th·ªã h·ªôp tho·∫°i nh·∫≠p li·ªáu
console.log(&quot;B·∫°n ƒë√£ nh·∫≠p: &quot; + input);
let numberString = &quot;123&quot;;
let number = parseInt(numberString); // Chuy·ªÉn chu·ªói &quot;123&quot; sang s·ªë 123
console.log(typeof(number)); // In ra &quot;number&quot;
</code></pre>
<h3 id="l√†m-quen-v·ªõi-to√°n-t·ª≠-trong-javascript"><a class="header" href="#l√†m-quen-v·ªõi-to√°n-t·ª≠-trong-javascript">L√†m quen v·ªõi to√°n t·ª≠ trong JavaScript</a></h3>
<p>To√°n t·ª≠ (operator) l√† k√Ω hi·ªáu th·ª±c hi·ªán ph√©p to√°n tr√™n c√°c gi√° tr·ªã (to√°n h·∫°ng). JavaScript c√≥ nhi·ªÅu lo·∫°i to√°n t·ª≠:</p>
<ul>
<li>To√°n t·ª≠ s·ªë h·ªçc (+, -, *, /, %, **, ++, --).</li>
<li>To√°n t·ª≠ g√°n (=, +=, -=, *=, /=, %=).</li>
<li>To√°n t·ª≠ so s√°nh (==, ===, !=, !==, &gt;, &lt;, &gt;=, &lt;=).</li>
<li>To√°n t·ª≠ logic (&amp;&amp; - AND, || - OR, ! - NOT).</li>
<li>To√°n t·ª≠ chu·ªói (+ - c·ªông chu·ªói).</li>
</ul>
<h3 id="to√°n-t·ª≠-s·ªë-h·ªçc-trong-javascript"><a class="header" href="#to√°n-t·ª≠-s·ªë-h·ªçc-trong-javascript">To√°n t·ª≠ s·ªë h·ªçc trong JavaScript</a></h3>
<p>To√°n t·ª≠ s·ªë h·ªçc th·ª±c hi·ªán c√°c ph√©p to√°n c∆° b·∫£n:</p>
<ul>
<li><code>+</code> (c·ªông), <code>-</code> (tr·ª´), <code>*</code> (nh√¢n), <code>/</code> (chia).</li>
<li><code>%</code> (chia l·∫•y d∆∞ - modulo).</li>
<li><code>**</code> (l≈©y th·ª´a - exponentiation).</li>
</ul>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">let x = 10;
let y = 5;
console.log(x + y); // 15 (c·ªông)
console.log(x - y); // 5 (tr·ª´)
console.log(x * y); // 50 (nh√¢n)
console.log(x / y); // 2 (chia)
console.log(x % y); // 0 (chia l·∫•y d∆∞)
console.log(x ** y); // 100000 (10 m≈© 5)
</code></pre>
<h3 id="to√°n-t·ª≠------v·ªõi-ti·ªÅn-t·ªë--h·∫≠u-t·ªë-prefix--postfix-trong-javascript"><a class="header" href="#to√°n-t·ª≠------v·ªõi-ti·ªÅn-t·ªë--h·∫≠u-t·ªë-prefix--postfix-trong-javascript">To√°n t·ª≠ ++¬† -- v·ªõi ti·ªÅn t·ªë &amp; h·∫≠u t·ªë (Prefix &amp; Postfix) trong JavaScript</a></h3>
<p>To√°n t·ª≠ tƒÉng/gi·∫£m (<code>++</code>, <code>--</code>) tƒÉng ho·∫∑c gi·∫£m gi√° tr·ªã bi·∫øn ƒëi 1.</p>
<ul>
<li><strong>Prefix (++x, --x):</strong> TƒÉng/gi·∫£m gi√° tr·ªã <strong>tr∆∞·ªõc</strong> khi s·ª≠ d·ª•ng gi√° tr·ªã ƒë√≥ trong bi·ªÉu th·ª©c.</li>
<li><strong>Postfix (x++, x--):</strong> TƒÉng/gi·∫£m gi√° tr·ªã <strong>sau</strong> khi s·ª≠ d·ª•ng gi√° tr·ªã ƒë√≥ trong bi·ªÉu th·ª©c.</li>
</ul>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">let a = 5;
let b = ++a; // Prefix: a tƒÉng l√™n 6 tr∆∞·ªõc, sau ƒë√≥ b = 6
console.log(&quot;a:&quot;, a, &quot;b:&quot;, b); // a: 6 b: 6

let c = 5;
let d = c++; // Postfix: d = 5 tr∆∞·ªõc, sau ƒë√≥ c tƒÉng l√™n 6
console.log(&quot;c:&quot;, c, &quot;d:&quot;, d); // c: 6 d: 5
</code></pre>
<h3 id="to√°n-t·ª≠-g√°n-trong-javascript"><a class="header" href="#to√°n-t·ª≠-g√°n-trong-javascript">To√°n t·ª≠ g√°n trong JavaScript</a></h3>
<p>To√°n t·ª≠ g√°n g√°n gi√° tr·ªã cho bi·∫øn.</p>
<ul>
<li><code>=</code> (g√°n tr·ª±c ti·∫øp).</li>
<li><code>+=</code>, <code>-=</code>, <code>*=</code>, <code>/=</code>, <code>%=</code> (g√°n k·∫øt h·ª£p ph√©p to√°n).</li>
</ul>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">let num = 10;
num = 20; // G√°n tr·ª±c ti·∫øp num = 20
num += 5; // num = num + 5 (num = 25)
num -= 3; // num = num - 3 (num = 22)
num *= 2; // num = num * 2 (num = 44)
num /= 4; // num = num / 4 (num = 11)
num %= 3; // num = num % 3 (num = 2 - d∆∞ c·ªßa 11 chia 3)
console.log(num); // 2
</code></pre>
<h3 id="to√°n-t·ª≠-chu·ªói-string-operator-trong-javascript"><a class="header" href="#to√°n-t·ª≠-chu·ªói-string-operator-trong-javascript">To√°n t·ª≠ chu·ªói (String Operator) trong JavaScript</a></h3>
<p>To√°n t·ª≠ chu·ªói ch√≠nh l√† to√°n t·ª≠ <code>+</code> (c·ªông) d√πng ƒë·ªÉ <strong>n·ªëi chu·ªói</strong> (concatenation).</p>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">let firstName = &quot;Gemini&quot;;
let lastName = &quot;AI&quot;;
let fullName = firstName + &quot; &quot; + lastName; // N·ªëi chu·ªói
console.log(fullName); // Gemini AI
</code></pre>
<h3 id="to√°n-t·ª≠-so-s√°nh-trong-javascript-ph·∫ßn-1"><a class="header" href="#to√°n-t·ª≠-so-s√°nh-trong-javascript-ph·∫ßn-1">To√°n t·ª≠ so s√°nh trong Javascript (ph·∫ßn 1)</a></h3>
<p>To√°n t·ª≠ so s√°nh so s√°nh hai gi√° tr·ªã v√† tr·∫£ v·ªÅ gi√° tr·ªã boolean (<code>true</code> ho·∫∑c <code>false</code>).</p>
<ul>
<li><code>==</code> (b·∫±ng gi√° tr·ªã - loose equality): So s√°nh gi√° tr·ªã, c√≥ th·ªÉ √©p ki·ªÉu d·ªØ li·ªáu.</li>
<li><code>===</code> (b·∫±ng gi√° tr·ªã v√† ki·ªÉu d·ªØ li·ªáu - strict equality): So s√°nh c·∫£ gi√° tr·ªã v√† ki·ªÉu d·ªØ li·ªáu, kh√¥ng √©p ki·ªÉu. N√™n d√πng <code>===</code> ƒë·ªÉ so s√°nh ch√≠nh x√°c.</li>
<li><code>!=</code> (kh√¥ng b·∫±ng gi√° tr·ªã - loose inequality).</li>
<li><code>!==</code> (kh√¥ng b·∫±ng gi√° tr·ªã ho·∫∑c ki·ªÉu d·ªØ li·ªáu - strict inequality).</li>
<li><code>&gt;</code> (l·ªõn h∆°n), <code>&lt;</code> (nh·ªè h∆°n), <code>&gt;=</code> (l·ªõn h∆°n ho·∫∑c b·∫±ng), <code>&lt;=</code> (nh·ªè h∆°n ho·∫∑c b·∫±ng).</li>
</ul>
<h3 id="ki·ªÉu-d·ªØ-li·ªáu-boolean-boolean-data-type-trong-javascript"><a class="header" href="#ki·ªÉu-d·ªØ-li·ªáu-boolean-boolean-data-type-trong-javascript">Ki·ªÉu d·ªØ li·ªáu Boolean (Boolean data type) trong JavaScript</a></h3>
<p>Boolean l√† ki·ªÉu d·ªØ li·ªáu logic ch·ªâ c√≥ 2 gi√° tr·ªã: <code>true</code> (ƒë√∫ng) v√† <code>false</code> (sai). Th∆∞·ªùng d√πng trong c√¢u l·ªánh ƒëi·ªÅu ki·ªán v√† to√°n t·ª≠ logic.</p>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">let isAdult = true;
let isRaining = false;
console.log(typeof(isAdult)); // &quot;boolean&quot;
console.log(isRaining); // false
</code></pre>
<h3 id="c√¢u-l·ªánh-ƒëi·ªÅu-ki·ªán-if---else-trong-javascript"><a class="header" href="#c√¢u-l·ªánh-ƒëi·ªÅu-ki·ªán-if---else-trong-javascript">C√¢u l·ªánh ƒëi·ªÅu ki·ªán If - Else trong JavaScript</a></h3>
<p>C√¢u l·ªánh <code>if...else</code> th·ª±c hi·ªán code kh√°c nhau d·ª±a tr√™n ƒëi·ªÅu ki·ªán ƒë√∫ng hay sai.</p>
<ul>
<li><code>if (condition) { ... }</code>: N·∫øu <code>condition</code> ƒë√∫ng (<code>true</code>), code trong block <code>if</code> ƒë∆∞·ª£c th·ª±c hi·ªán.</li>
<li><code>else { ... }</code>: N·∫øu <code>condition</code> sai (<code>false</code>), code trong block <code>else</code> ƒë∆∞·ª£c th·ª±c hi·ªán (t√πy ch·ªçn).</li>
<li><code>else if (condition2) { ... }</code>: Ki·ªÉm tra th√™m ƒëi·ªÅu ki·ªán n·∫øu ƒëi·ªÅu ki·ªán <code>if</code> sai (c√≥ th·ªÉ c√≥ nhi·ªÅu <code>else if</code>).</li>
</ul>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">let age = 18;
if (age &gt;= 18) {
    console.log(&quot;B·∫°n ƒë√£ ƒë·ªß tu·ªïi tr∆∞·ªüng th√†nh.&quot;);
} else {
    console.log(&quot;B·∫°n ch∆∞a ƒë·ªß tu·ªïi tr∆∞·ªüng th√†nh.&quot;);
}
</code></pre>
<h3 id="to√°n-t·ª≠-logical-trong-javascript"><a class="header" href="#to√°n-t·ª≠-logical-trong-javascript">To√°n t·ª≠ logical trong JavaScript</a></h3>
<p>To√°n t·ª≠ logic k·∫øt h·ª£p c√°c bi·ªÉu th·ª©c boolean.</p>
<ul>
<li><code>&amp;&amp;</code> (AND - v√†): <code>true</code> n·∫øu <strong>c·∫£ hai</strong> to√°n h·∫°ng ƒë·ªÅu <code>true</code>.</li>
<li><code>||</code> (OR - ho·∫∑c): <code>true</code> n·∫øu <strong>√≠t nh·∫•t m·ªôt</strong> to√°n h·∫°ng l√† <code>true</code>.</li>
<li><code>!</code> (NOT - ph·ªß ƒë·ªãnh): ƒê·∫£o ng∆∞·ª£c gi√° tr·ªã boolean (<code>!true</code> l√† <code>false</code>, <code>!false</code> l√† <code>true</code>).</li>
</ul>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">let hasLicense = true;
let hasCar = false;
if (hasLicense &amp;&amp; hasCar) { // C·∫£ hai ph·∫£i true
    console.log(&quot;ƒê·ªß ƒëi·ªÅu ki·ªán l√°i xe.&quot;);
} else if (hasLicense || hasCar) { // √çt nh·∫•t m·ªôt true
    console.log(&quot;C√≥ m·ªôt trong hai ƒëi·ªÅu ki·ªán.&quot;);
} else {
    console.log(&quot;Kh√¥ng ƒë·ªß ƒëi·ªÅu ki·ªán.&quot;);
}
console.log(!hasLicense); // false (ph·ªß ƒë·ªãnh true)
</code></pre>
<h3 id="ki·ªÉu-d·ªØ-li·ªáu-trong-javascript"><a class="header" href="#ki·ªÉu-d·ªØ-li·ªáu-trong-javascript">Ki·ªÉu d·ªØ li·ªáu trong JavaScript</a></h3>
<p>JavaScript l√† ng√¥n ng·ªØ ki·ªÉu d·ªØ li·ªáu ƒë·ªông (dynamic typing), ki·ªÉu d·ªØ li·ªáu c·ªßa bi·∫øn ƒë∆∞·ª£c x√°c ƒë·ªãnh khi ch·∫°y ch∆∞∆°ng tr√¨nh, kh√¥ng c·∫ßn khai b√°o r√µ r√†ng. C√°c ki·ªÉu d·ªØ li·ªáu c∆° b·∫£n:</p>
<ul>
<li><code>Number</code> (s·ªë): S·ªë nguy√™n, s·ªë th·ª±c.</li>
<li><code>String</code> (chu·ªói): VƒÉn b·∫£n.</li>
<li><code>Boolean</code> (boolean): <code>true</code> ho·∫∑c <code>false</code>.</li>
<li><code>Null</code>: Gi√° tr·ªã r·ªóng c√≥ ch·ªß √Ω.</li>
<li><code>Undefined</code>: Bi·∫øn ƒë√£ khai b√°o nh∆∞ng ch∆∞a g√°n gi√° tr·ªã.</li>
<li><code>Symbol</code> (ES6): Gi√° tr·ªã duy nh·∫•t, th∆∞·ªùng d√πng l√†m key object.</li>
<li><code>Object</code> (ƒë·ªëi t∆∞·ª£ng): T·∫≠p h·ª£p c√°c c·∫∑p key-value.</li>
</ul>
<h3 id="to√°n-t·ª≠-so-s√°nh-trong-javascript-ph·∫ßn-2"><a class="header" href="#to√°n-t·ª≠-so-s√°nh-trong-javascript-ph·∫ßn-2">To√°n t·ª≠ so s√°nh trong JavaScript (ph·∫ßn 2)</a></h3>
<p>Ti·∫øp t·ª•c v·ªÅ to√°n t·ª≠ so s√°nh, t·∫≠p trung v√†o s·ª± kh√°c bi·ªát gi·ªØa <code>==</code> v√† <code>===</code>. N√™n d√πng <code>===</code> v√† <code>!==</code> ƒë·ªÉ so s√°nh ch√≠nh x√°c, tr√°nh c√°c h√†nh vi √©p ki·ªÉu kh√¥ng mong mu·ªën c·ªßa <code>==</code> v√† <code>!=</code>.</p>
<h3 id="to√°n-t·ª≠-logical-v√†-c√¢u-l·ªánh-ƒëi·ªÅu-ki·ªán-if-trong-javascript"><a class="header" href="#to√°n-t·ª≠-logical-v√†-c√¢u-l·ªánh-ƒëi·ªÅu-ki·ªán-if-trong-javascript">To√°n t·ª≠ logical v√† c√¢u l·ªánh ƒëi·ªÅu ki·ªán If trong JavaScript</a></h3>
<p>K·∫øt h·ª£p to√°n t·ª≠ logic v√† c√¢u l·ªánh <code>if</code> ƒë·ªÉ t·∫°o ƒëi·ªÅu ki·ªán ph·ª©c t·∫°p h∆°n.</p>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">let age = 20;
let hasTicket = true;
if (age &gt;= 18 &amp;&amp; hasTicket) { // V·ª´a ƒë·ªß tu·ªïi, v·ª´a c√≥ v√©
    console.log(&quot;ƒê∆∞·ª£c v√†o xem phim.&quot;);
} else {
    console.log(&quot;Kh√¥ng ƒë∆∞·ª£c v√†o xem phim.&quot;);
}
</code></pre>
<h3 id="chu·ªói-trong-javascript"><a class="header" href="#chu·ªói-trong-javascript">Chu·ªói trong JavaScript</a></h3>
<p>Chu·ªói (string) l√† ki·ªÉu d·ªØ li·ªáu vƒÉn b·∫£n trong JavaScript, ƒë∆∞·ª£c bao quanh b·ªüi d·∫•u nh√°y ƒë∆°n (<code>'...'</code>), nh√°y k√©p (<code>&quot;...&quot;</code>) ho·∫∑c backtick (`...`). Backtick d√πng cho template literals (chu·ªói template).</p>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">let singleQuoteString = 'Chu·ªói nh√°y ƒë∆°n';
let doubleQuoteString = &quot;Chu·ªói nh√°y k√©p&quot;;
let templateString = `Chu·ªói template literals`; // Backtick
console.log(singleQuoteString);
console.log(doubleQuoteString);
console.log(templateString);
</code></pre>
<h3 id="l√†m-vi·ªác-v·ªõi-chu·ªói-trong-javascript"><a class="header" href="#l√†m-vi·ªác-v·ªõi-chu·ªói-trong-javascript">L√†m vi·ªác v·ªõi chu·ªói trong JavaScript</a></h3>
<p>String methods (ph∆∞∆°ng th·ª©c chu·ªói) l√† c√°c h√†m c√≥ s·∫µn ƒë·ªÉ thao t√°c v·ªõi chu·ªói. V√≠ d·ª•:</p>
<ul>
<li><code>length</code>: Thu·ªôc t√≠nh l·∫•y ƒë·ªô d√†i chu·ªói.</li>
<li><code>charAt(index)</code>: L·∫•y k√Ω t·ª± t·∫°i v·ªã tr√≠ index.</li>
<li><code>indexOf(substring)</code>: T√¨m v·ªã tr√≠ ƒë·∫ßu ti√™n c·ªßa substring.</li>
<li><code>lastIndexOf(substring)</code>: T√¨m v·ªã tr√≠ cu·ªëi c√πng c·ªßa substring.</li>
<li><code>slice(start, end)</code>: C·∫Øt chu·ªói t·ª´ v·ªã tr√≠ start ƒë·∫øn end (kh√¥ng bao g·ªìm end).</li>
<li><code>substring(start, end)</code>: T∆∞∆°ng t·ª± <code>slice</code>.</li>
<li><code>toUpperCase()</code>, <code>toLowerCase()</code>: Chuy·ªÉn chu·ªói th√†nh ch·ªØ hoa, ch·ªØ th∆∞·ªùng.</li>
<li><code>trim()</code>: X√≥a kho·∫£ng tr·∫Øng ƒë·∫ßu v√† cu·ªëi chu·ªói.</li>
<li><code>split(delimiter)</code>: Chia chu·ªói th√†nh m·∫£ng c√°c chu·ªói con d·ª±a tr√™n delimiter.</li>
<li><code>replace(oldValue, newValue)</code>: Thay th·∫ø chu·ªói con oldValue b·∫±ng newValue.</li>
</ul>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">let message = &quot;  Hello World!  &quot;;
console.log(message.length); // 15 (ƒë·ªô d√†i chu·ªói)
console.log(message.charAt(0)); // &quot; &quot; (k√Ω t·ª± ƒë·∫ßu ti√™n)
console.log(message.indexOf(&quot;World&quot;)); // 7 (v·ªã tr√≠ c·ªßa &quot;World&quot;)
console.log(message.slice(2, 7)); // &quot;Hello&quot; (c·∫Øt t·ª´ v·ªã tr√≠ 2 ƒë·∫øn 6)
console.log(message.toUpperCase()); // &quot;  HELLO WORLD!  &quot;
console.log(message.trim()); // &quot;Hello World!&quot; (x√≥a kho·∫£ng tr·∫Øng)
console.log(message.split(&quot; &quot;)); // [&quot;&quot;, &quot;&quot;, &quot;Hello&quot;, &quot;World!&quot;, &quot;&quot;, &quot;&quot;] (chia th√†nh m·∫£ng)
console.log(message.replace(&quot;World&quot;, &quot;JavaScript&quot;)); // &quot;  Hello JavaScript!  &quot;
</code></pre>
<h3 id="s·ªë-v√†-l√†m-vi·ªác-v·ªõi-ki·ªÉu-s·ªë-trong-javascript"><a class="header" href="#s·ªë-v√†-l√†m-vi·ªác-v·ªõi-ki·ªÉu-s·ªë-trong-javascript">S·ªë v√† l√†m vi·ªác v·ªõi ki·ªÉu s·ªë trong JavaScript</a></h3>
<p>Number methods (ph∆∞∆°ng th·ª©c s·ªë) l√† c√°c h√†m c√≥ s·∫µn ƒë·ªÉ thao t√°c v·ªõi s·ªë. V√≠ d·ª•:</p>
<ul>
<li><code>toFixed(digits)</code>: ƒê·ªãnh d·∫°ng s·ªë th·∫≠p ph√¢n v·ªõi <code>digits</code> ch·ªØ s·ªë sau d·∫•u ph·∫©y.</li>
<li><code>parseInt()</code>, <code>parseFloat()</code>: Chuy·ªÉn ƒë·ªïi chu·ªói sang s·ªë nguy√™n, s·ªë th·ª±c.</li>
<li><code>isNaN()</code>: Ki·ªÉm tra xem c√≥ ph·∫£i NaN (Not-a-Number) kh√¥ng.</li>
<li><code>Number.isInteger()</code>: Ki·ªÉm tra xem c√≥ ph·∫£i s·ªë nguy√™n kh√¥ng.</li>
<li><code>Math.random()</code>: Sinh s·ªë ng·∫´u nhi√™n t·ª´ 0 ƒë·∫øn &lt; 1.</li>
<li><code>Math.floor()</code>, <code>Math.ceil()</code>, <code>Math.round()</code>: L√†m tr√≤n s·ªë xu·ªëng, l√™n, g·∫ßn nh·∫•t.</li>
<li><code>Math.max()</code>, <code>Math.min()</code>: T√¨m s·ªë l·ªõn nh·∫•t, nh·ªè nh·∫•t.</li>
</ul>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">let pi = 3.14159;
console.log(pi.toFixed(2)); // &quot;3.14&quot; (l√†m tr√≤n ƒë·∫øn 2 ch·ªØ s·ªë th·∫≠p ph√¢n)
let numString = &quot;42&quot;;
let numInt = parseInt(numString); // 42 (chuy·ªÉn sang s·ªë nguy√™n)
console.log(isNaN(&quot;hello&quot;)); // true (kh√¥ng ph·∫£i s·ªë)
console.log(Number.isInteger(10)); // true (s·ªë nguy√™n)
console.log(Math.random()); // S·ªë ng·∫´u nhi√™n (v√≠ d·ª•: 0.567...)
console.log(Math.floor(3.9)); // 3 (l√†m tr√≤n xu·ªëng)
console.log(Math.max(1, 5, 2)); // 5 (s·ªë l·ªõn nh·∫•t)
</code></pre>
<h3 id="m·∫£ng-trong-javascript"><a class="header" href="#m·∫£ng-trong-javascript">M·∫£ng trong JavaScript</a></h3>
<p>M·∫£ng (array) l√† ki·ªÉu d·ªØ li·ªáu danh s√°ch, ch·ª©a nhi·ªÅu gi√° tr·ªã theo th·ª© t·ª±. C√°c ph·∫ßn t·ª≠ m·∫£ng c√≥ th·ªÉ c√≥ ki·ªÉu d·ªØ li·ªáu kh√°c nhau. M·∫£ng ƒë∆∞·ª£c khai b√°o b·∫±ng d·∫•u ngo·∫∑c vu√¥ng <code>[...]</code>.</p>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">let colors = [&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;]; // M·∫£ng chu·ªói
let numbers = [1, 2, 3, 4, 5]; // M·∫£ng s·ªë
let mixedArray = [1, &quot;hello&quot;, true, null]; // M·∫£ng h·ªón h·ª£p
console.log(colors[0]); // &quot;red&quot; (ph·∫ßn t·ª≠ ƒë·∫ßu ti√™n, index 0)
console.log(numbers.length); // 5 (ƒë·ªô d√†i m·∫£ng)
</code></pre>
<h3 id="l√†m-vi·ªác-v·ªõi-m·∫£ng-trong-javascript"><a class="header" href="#l√†m-vi·ªác-v·ªõi-m·∫£ng-trong-javascript">L√†m vi·ªác v·ªõi m·∫£ng trong JavaScript</a></h3>
<p>C√°c thao t√°c c∆° b·∫£n v·ªõi m·∫£ng:</p>
<ul>
<li>Truy c·∫≠p ph·∫ßn t·ª≠: <code>array[index]</code>.</li>
<li>S·ª≠a ƒë·ªïi ph·∫ßn t·ª≠: <code>array[index] = newValue;</code>.</li>
<li>Th√™m ph·∫ßn t·ª≠:
<ul>
<li><code>push(element)</code>: Th√™m v√†o cu·ªëi m·∫£ng.</li>
<li><code>unshift(element)</code>: Th√™m v√†o ƒë·∫ßu m·∫£ng.</li>
</ul>
</li>
<li>X√≥a ph·∫ßn t·ª≠:
<ul>
<li><code>pop()</code>: X√≥a ph·∫ßn t·ª≠ cu·ªëi m·∫£ng v√† tr·∫£ v·ªÅ ph·∫ßn t·ª≠ ƒë√≥.</li>
<li><code>shift()</code>: X√≥a ph·∫ßn t·ª≠ ƒë·∫ßu m·∫£ng v√† tr·∫£ v·ªÅ ph·∫ßn t·ª≠ ƒë√≥.</li>
<li><code>splice(startIndex, deleteCount, item1, item2, ...)</code>: X√≥a v√†/ho·∫∑c th√™m ph·∫ßn t·ª≠ t·∫°i v·ªã tr√≠ b·∫•t k·ª≥.</li>
</ul>
</li>
</ul>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">let fruits = [&quot;apple&quot;, &quot;banana&quot;, &quot;orange&quot;];
console.log(fruits[1]); // &quot;banana&quot;
fruits[1] = &quot;grape&quot;; // S·ª≠a ƒë·ªïi ph·∫ßn t·ª≠
console.log(fruits); // [&quot;apple&quot;, &quot;grape&quot;, &quot;orange&quot;]
fruits.push(&quot;mango&quot;); // Th√™m v√†o cu·ªëi
console.log(fruits); // [&quot;apple&quot;, &quot;grape&quot;, &quot;orange&quot;, &quot;mango&quot;]
fruits.unshift(&quot;kiwi&quot;); // Th√™m v√†o ƒë·∫ßu
console.log(fruits); // [&quot;kiwi&quot;, &quot;apple&quot;, &quot;grape&quot;, &quot;orange&quot;, &quot;mango&quot;]
let lastFruit = fruits.pop(); // X√≥a cu·ªëi
console.log(lastFruit); // &quot;mango&quot;
console.log(fruits); // [&quot;kiwi&quot;, &quot;apple&quot;, &quot;grape&quot;, &quot;orange&quot;]
fruits.splice(1, 2, &quot;pear&quot;, &quot;melon&quot;); // X√≥a 2 ph·∫ßn t·ª≠ t·ª´ index 1, th√™m &quot;pear&quot;, &quot;melon&quot;
console.log(fruits); // [&quot;kiwi&quot;, &quot;pear&quot;, &quot;melon&quot;, &quot;orange&quot;]
</code></pre>
<h3 id="h√†m-trong-javascript"><a class="header" href="#h√†m-trong-javascript">H√†m trong JavaScript</a></h3>
<p>H√†m (function) l√† kh·ªëi code th·ª±c hi·ªán m·ªôt t√°c v·ª• c·ª• th·ªÉ, c√≥ th·ªÉ t√°i s·ª≠ d·ª•ng nhi·ªÅu l·∫ßn. Gi√∫p code c√≥ c·∫•u tr√∫c, d·ªÖ ƒë·ªçc, d·ªÖ b·∫£o tr√¨.</p>
<ul>
<li><strong>Khai b√°o h√†m:</strong></li>
</ul>
<pre><code class="language-javascript">function functionName(parameter1, parameter2, ...) {
    // Code th·ª±c hi·ªán trong h√†m
    // ...
    return value; // (t√πy ch·ªçn, tr·∫£ v·ªÅ gi√° tr·ªã)
}
</code></pre>
<ul>
<li><strong>G·ªçi h√†m:</strong> <code>functionName(argument1, argument2, ...);</code></li>
</ul>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">function add(a, b) { // H√†m c·ªông hai s·ªë
    return a + b;
}

let sum = add(5, 3); // G·ªçi h√†m add v·ªõi ƒë·ªëi s·ªë 5 v√† 3
console.log(sum); // 8
</code></pre>
<h3 id="tham-s·ªë-trong-h√†m"><a class="header" href="#tham-s·ªë-trong-h√†m">Tham s·ªë trong h√†m</a></h3>
<p>Tham s·ªë (parameter) l√† bi·∫øn ƒë∆∞·ª£c khai b√°o trong ƒë·ªãnh nghƒ©a h√†m, d√πng ƒë·ªÉ nh·∫≠n gi√° tr·ªã ƒë·∫ßu v√†o khi g·ªçi h√†m. ƒê·ªëi s·ªë (argument) l√† gi√° tr·ªã th·ª±c t·∫ø ƒë∆∞·ª£c truy·ªÅn v√†o khi g·ªçi h√†m.</p>
<p><strong>V√≠ d·ª•:</strong> (v√≠ d·ª• tr√™n ƒë√£ c√≥ tham s·ªë)</p>
<pre><code class="language-javascript">function greet(name) { // 'name' l√† tham s·ªë
    console.log(&quot;Xin ch√†o, &quot; + name + &quot;!&quot;);
}

greet(&quot;Gemini&quot;); // &quot;Gemini&quot; l√† ƒë·ªëi s·ªë
greet(&quot;User&quot;); // &quot;User&quot; l√† ƒë·ªëi s·ªë
</code></pre>
<h3 id="return-trong-h√†m-js"><a class="header" href="#return-trong-h√†m-js">Return trong h√†m JS</a></h3>
<p>C√¢u l·ªánh <code>return</code> trong h√†m d√πng ƒë·ªÉ tr·∫£ v·ªÅ m·ªôt gi√° tr·ªã t·ª´ h√†m. H√†m c√≥ th·ªÉ tr·∫£ v·ªÅ b·∫•t k·ª≥ ki·ªÉu d·ªØ li·ªáu n√†o (s·ªë, chu·ªói, m·∫£ng, object...). N·∫øu kh√¥ng c√≥ <code>return</code>, h√†m tr·∫£ v·ªÅ <code>undefined</code>.</p>
<p><strong>V√≠ d·ª•:</strong> (v√≠ d·ª• h√†m <code>add</code> v√† <code>greet</code> tr√™n ƒë√£ c√≥ return v√† kh√¥ng return)</p>
<pre><code class="language-javascript">function square(number) {
    return number * number; // Tr·∫£ v·ªÅ b√¨nh ph∆∞∆°ng c·ªßa s·ªë
}

let result = square(4);
console.log(result); // 16

function sayHello() { // Kh√¥ng c√≥ return
    console.log(&quot;Hello!&quot;);
}

let greeting = sayHello();
console.log(greeting); // undefined (h√†m kh√¥ng tr·∫£ v·ªÅ g√¨)
</code></pre>
<h3 id="hi·ªÉu-h∆°n-v·ªÅ-function-trong-javascript"><a class="header" href="#hi·ªÉu-h∆°n-v·ªÅ-function-trong-javascript">Hi·ªÉu h∆°n v·ªÅ function trong JavaScript</a></h3>
<p>H√†m l√† first-class citizens trong JavaScript: c√≥ th·ªÉ g√°n cho bi·∫øn, truy·ªÅn nh∆∞ ƒë·ªëi s·ªë cho h√†m kh√°c, tr·∫£ v·ªÅ t·ª´ h√†m kh√°c. H√†m c√≥ th·ªÉ c√≥ t√™n (named function) ho·∫∑c kh√¥ng t√™n (anonymous function).</p>
<h3 id="c√°c-lo·∫°i-function-trong-javascript"><a class="header" href="#c√°c-lo·∫°i-function-trong-javascript">C√°c lo·∫°i function trong JavaScript</a></h3>
<p>C√°c lo·∫°i function trong JavaScript:</p>
<ul>
<li>
<p><strong>Named function:</strong> H√†m c√≥ t√™n, khai b√°o b·∫±ng t·ª´ kh√≥a <code>function</code>. (v√≠ d·ª• tr√™n)</p>
</li>
<li>
<p><strong>Anonymous function:</strong> H√†m kh√¥ng t√™n, th∆∞·ªùng d√πng g√°n cho bi·∫øn ho·∫∑c l√†m callback.</p>
</li>
<li>
<p><strong>Arrow function (ES6):</strong> C√∫ ph√°p ng·∫Øn g·ªçn h∆°n cho anonymous function.</p>
</li>
<li>
<p><strong>V√≠ d·ª• (Anonymous function v√† Arrow function):</strong></p>
</li>
</ul>
<pre><code class="language-javascript">// Anonymous function g√°n cho bi·∫øn
let multiply = function(a, b) {
    return a * b;
};
console.log(multiply(3, 7)); // 21

// Arrow function (t∆∞∆°ng ƒë∆∞∆°ng h√†m multiply ·ªü tr√™n)
let multiplyArrow = (a, b) =&gt; a * b;
console.log(multiplyArrow(4, 6)); // 24

// Callback function (anonymous function truy·ªÅn v√†o h√†m kh√°c)
setTimeout(function() {
    console.log(&quot;Hello after 1 second&quot;);
}, 1000);

// Callback function (arrow function)
setTimeout(() =&gt; {
    console.log(&quot;Hello again after 2 seconds&quot;);
}, 2000);
</code></pre>
<h3 id="object-trong-javascript"><a class="header" href="#object-trong-javascript">Object trong JavaScript</a></h3>
<p>Object (ƒë·ªëi t∆∞·ª£ng) l√† ki·ªÉu d·ªØ li·ªáu ph·ª©c t·∫°p trong JavaScript, bi·ªÉu di·ªÖn m·ªôt th·ª±c th·ªÉ c√≥ thu·ªôc t√≠nh (properties) v√† ph∆∞∆°ng th·ª©c (methods). Object l√† t·∫≠p h·ª£p c√°c c·∫∑p key-value, key l√† chu·ªói (ho·∫∑c Symbol), value c√≥ th·ªÉ l√† b·∫•t k·ª≥ ki·ªÉu d·ªØ li·ªáu n√†o. Object ƒë∆∞·ª£c khai b√°o b·∫±ng d·∫•u ngo·∫∑c nh·ªçn <code>{...}</code>.</p>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">let person = {
    name: &quot;Gemini&quot;, // Thu·ªôc t√≠nh name
    age: 2,        // Thu·ªôc t√≠nh age
    isRobot: true,  // Thu·ªôc t√≠nh isRobot
    greet: function() { // Ph∆∞∆°ng th·ª©c greet
        console.log(&quot;Xin ch√†o, t√¥i l√† &quot; + this.name);
    }
};

console.log(person.name); // &quot;Gemini&quot; (truy c·∫≠p thu·ªôc t√≠nh b·∫±ng d·∫•u ch·∫•m)
console.log(person[&quot;age&quot;]); // 2 (truy c·∫≠p thu·ªôc t√≠nh b·∫±ng d·∫•u ngo·∫∑c vu√¥ng)
person.greet(); // G·ªçi ph∆∞∆°ng th·ª©c greet
</code></pre>
<h3 id="object-constructor-trong-javascript"><a class="header" href="#object-constructor-trong-javascript">Object constructor trong JavaScript</a></h3>
<p>Object constructor (h√†m t·∫°o ƒë·ªëi t∆∞·ª£ng) l√† h√†m ƒë·∫∑c bi·ªát d√πng ƒë·ªÉ t·∫°o ra c√°c object c√πng lo·∫°i (c√πng c·∫•u tr√∫c thu·ªôc t√≠nh v√† ph∆∞∆°ng th·ª©c). D√πng t·ª´ kh√≥a <code>new</code> ƒë·ªÉ g·ªçi constructor.</p>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">function Dog(name, breed) { // Constructor Dog
    this.name = name;
    this.breed = breed;
    this.bark = function() {
        console.log(&quot;Woof!&quot;);
    };
}

let myDog = new Dog(&quot;Lucky&quot;, &quot;Golden Retriever&quot;); // T·∫°o object Dog b·∫±ng constructor
console.log(myDog.name); // &quot;Lucky&quot;
myDog.bark(); // G·ªçi ph∆∞∆°ng th·ª©c bark
</code></pre>
<h3 id="object-prototypec∆°-b·∫£n-trong-javascript"><a class="header" href="#object-prototypec∆°-b·∫£n-trong-javascript">Object prototype(c∆° b·∫£n) trong JavaScript</a></h3>
<p>Prototype l√† c∆° ch·∫ø k·∫ø th·ª´a trong JavaScript. M·ªói object ƒë∆∞·ª£c t·∫°o ra t·ª´ constructor c√≥ m·ªôt prototype. Prototype l√† m·ªôt object kh√°c, ch·ª©a c√°c thu·ªôc t√≠nh v√† ph∆∞∆°ng th·ª©c m√† c√°c object con k·∫ø th·ª´a. Gi√∫p t√°i s·ª≠ d·ª•ng code, ti·∫øt ki·ªám b·ªô nh·ªõ.</p>
<h3 id="date-object-trong-javascript"><a class="header" href="#date-object-trong-javascript">Date object trong JavaScript</a></h3>
<p>Date object (ƒë·ªëi t∆∞·ª£ng Date) d√πng ƒë·ªÉ l√†m vi·ªác v·ªõi ng√†y v√† gi·ªù trong JavaScript. T·∫°o Date object b·∫±ng <code>new Date()</code>.</p>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">let now = new Date(); // Date object hi·ªán t·∫°i
console.log(now); // In ra ng√†y gi·ªù hi·ªán t·∫°i

let specificDate = new Date(2025, 2, 26); // Date object cho ng√†y 26/03/2025 (th√°ng b·∫Øt ƒë·∫ßu t·ª´ 0)
console.log(specificDate);

console.log(now.getFullYear()); // L·∫•y nƒÉm
console.log(now.getMonth()); // L·∫•y th√°ng (0-11)
console.log(now.getDate()); // L·∫•y ng√†y
console.log(now.getHours()); // L·∫•y gi·ªù
console.log(now.getMinutes()); // L·∫•y ph√∫t
</code></pre>
<h2 id="ph·∫ßn-3-c√¢u-l·ªánh-ƒëi·ªÅu-khi·ªÉn-v√†-v√≤ng-l·∫∑p"><a class="header" href="#ph·∫ßn-3-c√¢u-l·ªánh-ƒëi·ªÅu-khi·ªÉn-v√†-v√≤ng-l·∫∑p">Ph·∫ßn 3: C√¢u l·ªánh ƒëi·ªÅu khi·ªÉn v√† V√≤ng l·∫∑p</a></h2>
<h3 id="c√¢u-l·ªánh-r·∫Ω-nh√°nh-if-else"><a class="header" href="#c√¢u-l·ªánh-r·∫Ω-nh√°nh-if-else">C√¢u l·ªánh r·∫Ω nh√°nh If, else</a></h3>
<p>(ƒê√£ ƒë·ªÅ c·∫≠p ·ªü m·ª•c 15) √în l·∫°i v√† m·ªü r·ªông v·ªÅ c√¢u l·ªánh <code>if...else</code>, <code>else if</code>.</p>
<h3 id="c√¢u-l·ªánh-r·∫Ω-nh√°nh-switch-trong-javascript"><a class="header" href="#c√¢u-l·ªánh-r·∫Ω-nh√°nh-switch-trong-javascript">C√¢u l·ªánh r·∫Ω nh√°nh Switch trong JavaScript</a></h3>
<p>C√¢u l·ªánh <code>switch...case</code> l√† m·ªôt c√°ch kh√°c ƒë·ªÉ r·∫Ω nh√°nh ch∆∞∆°ng tr√¨nh d·ª±a tr√™n gi√° tr·ªã c·ªßa m·ªôt bi·ªÉu th·ª©c. Th∆∞·ªùng d√πng khi c√≥ nhi·ªÅu tr∆∞·ªùng h·ª£p (case) c√≥ th·ªÉ x·∫£y ra.</p>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">let dayOfWeek = 3; // 1: Th·ª© Hai, 2: Th·ª© Ba, ..., 7: Ch·ªß Nh·∫≠t
let dayName;

switch (dayOfWeek) {
    case 1:
        dayName = &quot;Th·ª© Hai&quot;;
        break;
    case 2:
        dayName = &quot;Th·ª© Ba&quot;;
        break;
    case 3:
        dayName = &quot;Th·ª© T∆∞&quot;;
        break;
    case 4:
        dayName = &quot;Th·ª© NƒÉm&quot;;
        break;
    case 5:
        dayName = &quot;Th·ª© S√°u&quot;;
        break;
    case 6:
        dayName = &quot;Th·ª© B·∫£y&quot;;
        break;
    case 7:
        dayName = &quot;Ch·ªß Nh·∫≠t&quot;;
        break;
    default:
        dayName = &quot;Kh√¥ng h·ª£p l·ªá&quot;;
}

console.log(&quot;H√¥m nay l√† &quot; + dayName); // H√¥m nay l√† Th·ª© T∆∞
</code></pre>
<h3 id="to√°n-t·ª≠-3-ng√¥iternary-operator-trong-javascript"><a class="header" href="#to√°n-t·ª≠-3-ng√¥iternary-operator-trong-javascript">To√°n t·ª≠ 3 ng√¥i(ternary operator) trong JavaScript</a></h3>
<p>To√°n t·ª≠ 3 ng√¥i (ternary operator) <code>condition ? valueIfTrue : valueIfFalse</code> l√† c√∫ ph√°p r√∫t g·ªçn c·ªßa c√¢u l·ªánh <code>if...else</code> khi ch·ªâ c√≥ m·ªôt ƒëi·ªÅu ki·ªán v√† tr·∫£ v·ªÅ m·ªôt trong hai gi√° tr·ªã.</p>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">let age = 15;
let message = age &gt;= 18 ? &quot;ƒê·ªß tu·ªïi&quot; : &quot;Ch∆∞a ƒë·ªß tu·ªïi&quot;; // To√°n t·ª≠ 3 ng√¥i
console.log(message); // &quot;Ch∆∞a ƒë·ªß tu·ªïi&quot;

// T∆∞∆°ng ƒë∆∞∆°ng v·ªõi if...else:
let message2;
if (age &gt;= 18) {
    message2 = &quot;ƒê·ªß tu·ªïi&quot;;
} else {
    message2 = &quot;Ch∆∞a ƒë·ªß tu·ªïi&quot;;
}
console.log(message2); // &quot;Ch∆∞a ƒë·ªß tu·ªïi&quot;
</code></pre>
<h3 id="v√≤ng-l·∫∑p-trong-javascript"><a class="header" href="#v√≤ng-l·∫∑p-trong-javascript">V√≤ng l·∫∑p trong JavaScript</a></h3>
<p>V√≤ng l·∫∑p (loop) d√πng ƒë·ªÉ l·∫∑p ƒëi l·∫∑p l·∫°i m·ªôt kh·ªëi code nhi·ªÅu l·∫ßn. C√°c lo·∫°i v√≤ng l·∫∑p trong JavaScript:</p>
<ul>
<li><code>for</code> loop.</li>
<li><code>for...in</code> loop (l·∫∑p qua thu·ªôc t√≠nh c·ªßa object).</li>
<li><code>for...of</code> loop (l·∫∑p qua gi√° tr·ªã c·ªßa iterable object - m·∫£ng, chu·ªói...).</li>
<li><code>while</code> loop.</li>
<li><code>do...while</code> loop.</li>
</ul>
<h3 id="v√≤ng-l·∫∑p-for-trong-javascript"><a class="header" href="#v√≤ng-l·∫∑p-for-trong-javascript">V√≤ng l·∫∑p For trong JavaScript</a></h3>
<p><code>for</code> loop c√≥ c√∫ ph√°p: <code>for (initialization; condition; increment/decrement) { ... }</code></p>
<ul>
<li><code>initialization</code>: Kh·ªüi t·∫°o bi·∫øn ƒë·∫øm (ch·∫°y m·ªôt l·∫ßn ƒë·∫ßu ti√™n).</li>
<li><code>condition</code>: ƒêi·ªÅu ki·ªán l·∫∑p (ki·ªÉm tra tr∆∞·ªõc m·ªói l·∫ßn l·∫∑p, n·∫øu <code>true</code> th√¨ l·∫∑p ti·∫øp, <code>false</code> th√¨ d·ª´ng).</li>
<li><code>increment/decrement</code>: TƒÉng/gi·∫£m bi·∫øn ƒë·∫øm sau m·ªói l·∫ßn l·∫∑p.</li>
</ul>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">for (let i = 1; i &lt;= 5; i++) { // L·∫∑p 5 l·∫ßn, i t·ª´ 1 ƒë·∫øn 5
    console.log(&quot;L·∫ßn l·∫∑p th·ª© &quot; + i);
}
</code></pre>
<p><code>for...in</code> loop l·∫∑p qua <strong>thu·ªôc t√≠nh (key)</strong> c·ªßa m·ªôt object.</p>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">let person = {
    name: &quot;Gemini&quot;,
    age: 2,
    city: &quot;Internet&quot;
};

for (let key in person) { // L·∫∑p qua key c·ªßa object person
    console.log(key + &quot;: &quot; + person[key]);
}
// In ra:
// name: Gemini
// age: 2
// city: Internet
</code></pre>
<h3 id="v√≤ng-l·∫∑p-forof-trong-javascript"><a class="header" href="#v√≤ng-l·∫∑p-forof-trong-javascript">V√≤ng l·∫∑p For/of trong JavaScript</a></h3>
<p><code>for...of</code> loop l·∫∑p qua <strong>gi√° tr·ªã</strong> c·ªßa m·ªôt <strong>iterable object</strong> (m·∫£ng, chu·ªói, Map, Set...).</p>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">let colors = [&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;];

for (let color of colors) { // L·∫∑p qua gi√° tr·ªã c·ªßa m·∫£ng colors
    console.log(color);
}
// In ra:
// red
// green
// blue

let message = &quot;Hello&quot;;
for (let char of message) { // L·∫∑p qua k√Ω t·ª± c·ªßa chu·ªói message
    console.log(char);
}
// In ra:
// H
// e
// l
// l
// o
</code></pre>
<h3 id="v√≤ng-l·∫∑p-while-trong-javascript"><a class="header" href="#v√≤ng-l·∫∑p-while-trong-javascript">V√≤ng l·∫∑p While trong JavaScript</a></h3>
<p><code>while</code> loop l·∫∑p khi ƒëi·ªÅu ki·ªán c√≤n ƒë√∫ng (<code>true</code>). C√∫ ph√°p: <code>while (condition) { ... }</code></p>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">let count = 1;
while (count &lt;= 5) { // L·∫∑p khi count &lt;= 5
    console.log(&quot;Count: &quot; + count);
    count++; // TƒÉng count sau m·ªói l·∫ßn l·∫∑p
}
</code></pre>
<h3 id="v√≤ng-l·∫∑p-dowhile-trong-javascript"><a class="header" href="#v√≤ng-l·∫∑p-dowhile-trong-javascript">V√≤ng l·∫∑p Do/while trong JavaScript</a></h3>
<p><code>do...while</code> loop t∆∞∆°ng t·ª± <code>while</code> loop, nh∆∞ng code trong block <code>do</code> ƒë∆∞·ª£c th·ª±c hi·ªán <strong>√≠t nh·∫•t m·ªôt l·∫ßn</strong> tr∆∞·ªõc khi ki·ªÉm tra ƒëi·ªÅu ki·ªán. C√∫ ph√°p: <code>do { ... } while (condition);</code></p>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">let num = 0;
do {
    console.log(&quot;Num: &quot; + num);
    num++;
} while (num &lt; 3); // L·∫∑p khi num &lt; 3
// In ra:
// Num: 0
// Num: 1
// Num: 2
</code></pre>
<h3 id="break-v√†-continue-trong-v√≤ng-l·∫∑p"><a class="header" href="#break-v√†-continue-trong-v√≤ng-l·∫∑p">Break v√† Continue trong v√≤ng l·∫∑p</a></h3>
<ul>
<li>
<p><strong>T√≥m t·∫Øt:</strong></p>
</li>
<li>
<p><code>break</code>: Tho√°t kh·ªèi v√≤ng l·∫∑p ngay l·∫≠p t·ª©c.</p>
</li>
<li>
<p><code>continue</code>: B·ªè qua l·∫ßn l·∫∑p hi·ªán t·∫°i v√† chuy·ªÉn sang l·∫ßn l·∫∑p ti·∫øp theo.</p>
</li>
</ul>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">for (let i = 1; i &lt;= 10; i++) {
    if (i === 5) {
        break; // Tho√°t kh·ªèi v√≤ng l·∫∑p khi i = 5
    }
    console.log(&quot;i (break): &quot; + i); // In ra 1, 2, 3, 4
}

for (let j = 1; j &lt;= 5; j++) {
    if (j === 3) {
        continue; // B·ªè qua l·∫ßn l·∫∑p khi j = 3
    }
    console.log(&quot;j (continue): &quot; + j); // In ra 1, 2, 4, 5 (b·ªè qua 3)
}
</code></pre>
<h3 id="v√≤ng-l·∫∑p-l·ªìng-nhau-nested-loop"><a class="header" href="#v√≤ng-l·∫∑p-l·ªìng-nhau-nested-loop">V√≤ng l·∫∑p l·ªìng nhau (Nested loop)</a></h3>
<p>Nested loop (v√≤ng l·∫∑p l·ªìng nhau) l√† v√≤ng l·∫∑p b√™n trong v√≤ng l·∫∑p kh√°c. Th∆∞·ªùng d√πng ƒë·ªÉ x·ª≠ l√Ω d·ªØ li·ªáu ƒëa chi·ªÅu (v√≠ d·ª•: ma tr·∫≠n, b·∫£ng).</p>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">for (let i = 1; i &lt;= 3; i++) { // V√≤ng l·∫∑p ngo√†i
    console.log(&quot;V√≤ng l·∫∑p ngo√†i l·∫ßn &quot; + i);
    for (let j = 1; j &lt;= 2; j++) { // V√≤ng l·∫∑p trong (l·∫∑p 2 l·∫ßn cho m·ªói l·∫ßn l·∫∑p ngo√†i)
        console.log(&quot;  V√≤ng l·∫∑p trong l·∫ßn &quot; + j);
    }
}
// In ra:
// V√≤ng l·∫∑p ngo√†i l·∫ßn 1
//   V√≤ng l·∫∑p trong l·∫ßn 1
//   V√≤ng l·∫∑p trong l·∫ßn 2
// V√≤ng l·∫∑p ngo√†i l·∫ßn 2
//   V√≤ng l·∫∑p trong l·∫ßn 1
//   V√≤ng l·∫∑p trong l·∫ßn 2
// V√≤ng l·∫∑p ngo√†i l·∫ßn 3
//   V√≤ng l·∫∑p trong l·∫ßn 1
//   V√≤ng l·∫∑p trong l·∫ßn 2
</code></pre>
<h3 id="v√≠-d·ª•-m·ªü-r·ªông-v·ªÅ-v√≤ng-l·∫∑p"><a class="header" href="#v√≠-d·ª•-m·ªü-r·ªông-v·ªÅ-v√≤ng-l·∫∑p">V√≠ d·ª• m·ªü r·ªông v·ªÅ v√≤ng l·∫∑p</a></h3>
<p>T·ªïng h·ª£p c√°c v√≠ d·ª• ph·ª©c t·∫°p h∆°n v·ªÅ v√≤ng l·∫∑p, c√≥ th·ªÉ k·∫øt h·ª£p v·ªõi ƒëi·ªÅu ki·ªán, m·∫£ng, object... ƒë·ªÉ gi·∫£i quy·∫øt c√°c b√†i to√°n th·ª±c t·∫ø.</p>
<h2 id="ph·∫ßn-4-l√†m-vi·ªác-v·ªõi-m·∫£ng-n√¢ng-cao"><a class="header" href="#ph·∫ßn-4-l√†m-vi·ªác-v·ªõi-m·∫£ng-n√¢ng-cao">Ph·∫ßn 4: L√†m vi·ªác v·ªõi M·∫£ng n√¢ng cao</a></h2>
<h3 id="l√†m-vi·ªác-v·ªõi-m·∫£ng-trong-javascript-1"><a class="header" href="#l√†m-vi·ªác-v·ªõi-m·∫£ng-trong-javascript-1">L√†m vi·ªác v·ªõi m·∫£ng trong JavaScript</a></h3>
<p>Ti·∫øp t·ª•c v·ªÅ Array methods, gi·ªõi thi·ªáu c√°c ph∆∞∆°ng th·ª©c quan tr·ªçng ƒë·ªÉ thao t√°c v√† x·ª≠ l√Ω m·∫£ng:</p>
<ul>
<li><code>concat(array2, array3, ...)</code>: N·ªëi m·∫£ng v·ªõi c√°c m·∫£ng kh√°c.</li>
<li><code>join(separator)</code>: N·ªëi c√°c ph·∫ßn t·ª≠ m·∫£ng th√†nh chu·ªói, ph√¢n t√°ch b·∫±ng separator.</li>
<li><code>slice(startIndex, endIndex)</code>: Tr·∫£ v·ªÅ m·∫£ng con t·ª´ startIndex ƒë·∫øn endIndex (kh√¥ng bao g·ªìm endIndex).</li>
<li><code>splice(startIndex, deleteCount, item1, item2, ...)</code>: (ƒê√£ ƒë·ªÅ c·∫≠p ·ªü m·ª•c 24) X√≥a v√†/ho·∫∑c th√™m ph·∫ßn t·ª≠ t·∫°i v·ªã tr√≠ b·∫•t k·ª≥.</li>
<li><code>sort()</code>: S·∫Øp x·∫øp m·∫£ng (m·∫∑c ƒë·ªãnh theo th·ª© t·ª± b·∫£ng ch·ªØ c√°i ho·∫∑c s·ªë tƒÉng d·∫ßn). C·∫ßn custom function ƒë·ªÉ s·∫Øp x·∫øp s·ªë ƒë√∫ng c√°ch.</li>
<li><code>reverse()</code>: ƒê·∫£o ng∆∞·ª£c m·∫£ng.</li>
</ul>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">let arr1 = [1, 2, 3];
let arr2 = [4, 5, 6];
let combinedArray = arr1.concat(arr2); // N·ªëi m·∫£ng
console.log(combinedArray); // [1, 2, 3, 4, 5, 6]

let fruits = [&quot;apple&quot;, &quot;banana&quot;, &quot;orange&quot;];
let fruitString = fruits.join(&quot;, &quot;); // N·ªëi th√†nh chu·ªói
console.log(fruitString); // &quot;apple, banana, orange&quot;

let numbers = [1, 5, 2, 8, 3];
numbers.sort(); // S·∫Øp x·∫øp (m·∫∑c ƒë·ªãnh theo chu·ªói) -&gt; [1, 2, 3, 5, 8]
numbers.sort((a, b) =&gt; a - b); // S·∫Øp x·∫øp s·ªë tƒÉng d·∫ßn
console.log(numbers); // [1, 2, 3, 5, 8]
numbers.reverse(); // ƒê·∫£o ng∆∞·ª£c m·∫£ng
console.log(numbers); // [8, 5, 3, 2, 1]
</code></pre>
<h3 id="array-map-method-trong-javascript"><a class="header" href="#array-map-method-trong-javascript">Array map method trong JavaScript</a></h3>
<p><code>map()</code> method t·∫°o ra m·ªôt <strong>m·∫£ng m·ªõi</strong> b·∫±ng c√°ch g·ªçi m·ªôt function (callback) cho <strong>m·ªói ph·∫ßn t·ª≠</strong> c·ªßa m·∫£ng ban ƒë·∫ßu. Callback function nh·∫≠n v√†o ph·∫ßn t·ª≠ hi·ªán t·∫°i v√† tr·∫£ v·ªÅ gi√° tr·ªã m·ªõi cho ph·∫ßn t·ª≠ t∆∞∆°ng ·ª©ng trong m·∫£ng m·ªõi.</p>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">let numbers = [1, 2, 3, 4, 5];
let squaredNumbers = numbers.map(function(number) { // map() v·ªõi anonymous function
    return number * number; // B√¨nh ph∆∞∆°ng m·ªói s·ªë
});
console.log(squaredNumbers); // [1, 4, 9, 16, 25]

// S·ª≠ d·ª•ng arrow function cho ng·∫Øn g·ªçn h∆°n:
let doubledNumbers = numbers.map(number =&gt; number * 2); // Nh√¢n ƒë√¥i m·ªói s·ªë
console.log(doubledNumbers); // [2, 4, 6, 8, 10]
</code></pre>
<h3 id="ph∆∞∆°ng-th·ª©c-reduce-khi-l√†m-vi·ªác-v·ªõi-array"><a class="header" href="#ph∆∞∆°ng-th·ª©c-reduce-khi-l√†m-vi·ªác-v·ªõi-array">Ph∆∞∆°ng th·ª©c reduce khi l√†m vi·ªác v·ªõi array</a></h3>
<p><code>reduce()</code> method th·ª±c hi·ªán m·ªôt callback function &quot;reducer&quot; tr√™n m·ªói ph·∫ßn t·ª≠ c·ªßa m·∫£ng, v√† tr·∫£ v·ªÅ m·ªôt <strong>gi√° tr·ªã duy nh·∫•t</strong> (kh√¥ng ph·∫£i m·∫£ng m·ªõi nh∆∞ <code>map()</code>). Th∆∞·ªùng d√πng ƒë·ªÉ t√≠nh t·ªïng, t√≠ch, ho·∫∑c gom nh√≥m d·ªØ li·ªáu trong m·∫£ng.</p>
<ul>
<li>
<p><strong>Callback function c·ªßa <code>reduce()</code> nh·∫≠n 2 tham s·ªë ch√≠nh:</strong></p>
</li>
<li>
<p><code>accumulator</code> (gi√° tr·ªã t√≠ch l≈©y): Gi√° tr·ªã ƒë∆∞·ª£c tr·∫£ v·ªÅ t·ª´ l·∫ßn g·ªçi callback tr∆∞·ªõc ƒë√≥ (ho·∫∑c <code>initialValue</code> n·∫øu ƒë∆∞·ª£c cung c·∫•p).</p>
</li>
<li>
<p><code>currentValue</code> (gi√° tr·ªã hi·ªán t·∫°i): Ph·∫ßn t·ª≠ m·∫£ng ƒëang ƒë∆∞·ª£c x·ª≠ l√Ω.</p>
</li>
<li>
<p><strong>C√∫ ph√°p:</strong> <code>array.reduce(reducerFunction, initialValue);</code> (<code>initialValue</code> l√† gi√° tr·ªã kh·ªüi t·∫°o cho <code>accumulator</code>, t√πy ch·ªçn).</p>
</li>
<li>
<p><strong>V√≠ d·ª• (t√≠nh t·ªïng m·∫£ng):</strong></p>
</li>
</ul>
<pre><code class="language-javascript">let numbers = [1, 2, 3, 4, 5];
let sum = numbers.reduce(function(accumulator, currentValue) { // reduce() v·ªõi anonymous function
    return accumulator + currentValue; // C·ªông d·ªìn v√†o accumulator
}, 0); // initialValue = 0 (t·ªïng ban ƒë·∫ßu = 0)
console.log(sum); // 15 (t·ªïng c√°c s·ªë trong m·∫£ng)

// S·ª≠ d·ª•ng arrow function:
let product = numbers.reduce((accumulator, currentValue) =&gt; accumulator * currentValue, 1); // T√≠nh t√≠ch
console.log(product); // 120 (t√≠ch c√°c s·ªë trong m·∫£ng)
</code></pre>
<h3 id="ph∆∞∆°ng-th·ª©c-reduce-khi-l√†m-vi·ªác-v·ªõi-array---ph·∫ßn-2"><a class="header" href="#ph∆∞∆°ng-th·ª©c-reduce-khi-l√†m-vi·ªác-v·ªõi-array---ph·∫ßn-2">Ph∆∞∆°ng th·ª©c reduce khi l√†m vi·ªác v·ªõi array - ph·∫ßn 2</a></h3>
<p>Ti·∫øp t·ª•c v·ªÅ <code>reduce()</code>, c√≥ th·ªÉ ƒëi s√¢u v√†o c√°c ·ª©ng d·ª•ng ph·ª©c t·∫°p h∆°n nh∆∞ gom nh√≥m ƒë·ªëi t∆∞·ª£ng trong m·∫£ng, flatten m·∫£ng ƒëa chi·ªÅu...</p>
<h3 id="ph∆∞∆°ng-th·ª©c-includes"><a class="header" href="#ph∆∞∆°ng-th·ª©c-includes">Ph∆∞∆°ng th·ª©c includes</a></h3>
<p><code>includes()</code> method ki·ªÉm tra xem m·ªôt chu·ªói c√≥ ch·ª©a m·ªôt substring (v·ªõi chu·ªói) ho·∫∑c m·ªôt m·∫£ng c√≥ ch·ª©a m·ªôt ph·∫ßn t·ª≠ (v·ªõi m·∫£ng) hay kh√¥ng. Tr·∫£ v·ªÅ <code>true</code> n·∫øu c√≥, <code>false</code> n·∫øu kh√¥ng.</p>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">let message = &quot;Hello World&quot;;
console.log(message.includes(&quot;World&quot;)); // true (chu·ªói message ch·ª©a &quot;World&quot;)
console.log(message.includes(&quot;JavaScript&quot;)); // false

let fruits = [&quot;apple&quot;, &quot;banana&quot;, &quot;orange&quot;];
console.log(fruits.includes(&quot;banana&quot;)); // true (m·∫£ng fruits ch·ª©a &quot;banana&quot;)
console.log(fruits.includes(&quot;grape&quot;)); // false
</code></pre>
<h3 id="ƒê·ªëi-t∆∞·ª£ng-math"><a class="header" href="#ƒê·ªëi-t∆∞·ª£ng-math">ƒê·ªëi t∆∞·ª£ng math</a></h3>
<p>Math object l√† built-in object cung c·∫•p c√°c h·∫±ng s·ªë to√°n h·ªçc v√† h√†m to√°n h·ªçc. Kh√¥ng c·∫ßn t·∫°o instance (kh√¥ng d√πng <code>new Math()</code>). Truy c·∫≠p tr·ª±c ti·∫øp qua <code>Math.property</code> ho·∫∑c <code>Math.method()</code>.</p>
<ul>
<li><strong>H·∫±ng s·ªë:</strong> <code>Math.PI</code> (s·ªë Pi), <code>Math.E</code> (s·ªë e), ...</li>
<li><strong>H√†m:</strong> <code>Math.random()</code>, <code>Math.floor()</code>, <code>Math.ceil()</code>, <code>Math.round()</code>, <code>Math.max()</code>, <code>Math.min()</code>, <code>Math.pow()</code>, <code>Math.sqrt()</code>, ... (ƒë√£ ƒë·ªÅ c·∫≠p m·ªôt s·ªë ·ªü m·ª•c 22).</li>
</ul>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">console.log(Math.PI); // 3.141592653589793 (s·ªë Pi)
console.log(Math.sqrt(25)); // 5 (cƒÉn b·∫≠c hai)
console.log(Math.pow(2, 3)); // 8 (2 m≈© 3)
console.log(Math.round(4.6)); // 5 (l√†m tr√≤n g·∫ßn nh·∫•t)
</code></pre>
<h3 id="hi·ªÉu-v·ªÅ-javascript-callback-functions"><a class="header" href="#hi·ªÉu-v·ªÅ-javascript-callback-functions">Hi·ªÉu v·ªÅ Javascript Callback Functions</a></h3>
<p>Callback function (h√†m callback) l√† h√†m ƒë∆∞·ª£c truy·ªÅn v√†o l√†m ƒë·ªëi s·ªë c·ªßa m·ªôt h√†m kh√°c, v√† s·∫Ω ƒë∆∞·ª£c g·ªçi l·∫°i (callback) sau khi h√†m cha th·ª±c hi·ªán xong m·ªôt t√°c v·ª• n√†o ƒë√≥ (th∆∞·ªùng l√† t√°c v·ª• b·∫•t ƒë·ªìng b·ªô - asynchronous). D√πng nhi·ªÅu trong x·ª≠ l√Ω s·ª± ki·ªán, AJAX, Promises...</p>
<ul>
<li><strong>V√≠ d·ª• (setTimeout v·ªõi callback):</strong></li>
</ul>
<pre><code class="language-javascript">function doSomething(callback) { // H√†m doSomething nh·∫≠n callback l√†m ƒë·ªëi s·ªë
    console.log(&quot;B·∫Øt ƒë·∫ßu t√°c v·ª•...&quot;);
    setTimeout(function() { // Gi·∫£ l·∫≠p t√°c v·ª• b·∫•t ƒë·ªìng b·ªô (v√≠ d·ª•: g·ªçi API)
        console.log(&quot;T√°c v·ª• ho√†n th√†nh!&quot;);
        callback(); // G·ªçi callback function sau khi t√°c v·ª• xong
    }, 2000);
}

doSomething(function() { // Truy·ªÅn anonymous function l√†m callback
    console.log(&quot;Callback ƒë∆∞·ª£c g·ªçi!&quot;);
});
</code></pre>
<h3 id="callback-trong-javascript"><a class="header" href="#callback-trong-javascript">Callback trong JavaScript</a></h3>
<p>Ti·∫øp t·ª•c v·ªÅ callback, c√≥ th·ªÉ ƒëi s√¢u v√†o callback hell (callback l·ªìng nhau qu√° s√¢u, code kh√≥ ƒë·ªçc, kh√≥ b·∫£o tr√¨) v√† c√°ch kh·∫Øc ph·ª•c (Promises, async/await).</p>
<h3 id="x√¢y-d·ª±ng-ph∆∞∆°ng-th·ª©c-l√†m-vi·ªác-v·ªõi-array"><a class="header" href="#x√¢y-d·ª±ng-ph∆∞∆°ng-th·ª©c-l√†m-vi·ªác-v·ªõi-array">X√¢y d·ª±ng ph∆∞∆°ng th·ª©c l√†m vi·ªác v·ªõi array</a></h3>
<p>C√≥ th·ªÉ n√≥i v·ªÅ vi·ªác t·∫°o custom array methods (ph∆∞∆°ng th·ª©c m·∫£ng t·ª± ƒë·ªãnh nghƒ©a) b·∫±ng c√°ch th√™m ph∆∞∆°ng th·ª©c v√†o <code>Array.prototype</code>. Tuy nhi√™n, c√°ch n√†y √≠t d√πng hi·ªán nay v√¨ c√≥ th·ªÉ xung ƒë·ªôt v·ªõi c√°c ph∆∞∆°ng th·ª©c chu·∫©n ho·∫∑c th∆∞ vi·ªán kh√°c. N√™n ∆∞u ti√™n d√πng c√°c ph∆∞∆°ng th·ª©c m·∫£ng c√≥ s·∫µn.</p>
<h3 id="x√¢y-d·ª±ng-ph∆∞∆°ng-th·ª©c-foreach"><a class="header" href="#x√¢y-d·ª±ng-ph∆∞∆°ng-th·ª©c-foreach">X√¢y d·ª±ng ph∆∞∆°ng th·ª©c forEach</a></h3>
<p><code>forEach()</code> method l·∫∑p qua t·ª´ng ph·∫ßn t·ª≠ c·ªßa m·∫£ng v√† th·ª±c hi·ªán callback function cho m·ªói ph·∫ßn t·ª≠. T∆∞∆°ng t·ª± <code>for...of</code> loop, nh∆∞ng ng·∫Øn g·ªçn h∆°n. Kh√¥ng t·∫°o m·∫£ng m·ªõi, kh√¥ng tr·∫£ v·ªÅ gi√° tr·ªã, ch·ªâ th·ª±c hi·ªán side effects (v√≠ d·ª•: in ra console, s·ª≠a ƒë·ªïi m·∫£ng g·ªëc...).</p>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">let colors = [&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;];
colors.forEach(function(color) { // forEach() v·ªõi anonymous function
    console.log(&quot;M√†u: &quot; + color);
});

// S·ª≠ d·ª•ng arrow function:
colors.forEach(color =&gt; console.log(&quot;M√†u (arrow): &quot; + color));
</code></pre>
<h3 id="x√¢y-d·ª±ng-ph∆∞∆°ng-th·ª©c-filter"><a class="header" href="#x√¢y-d·ª±ng-ph∆∞∆°ng-th·ª©c-filter">X√¢y d·ª±ng ph∆∞∆°ng th·ª©c filter</a></h3>
<p><code>filter()</code> method t·∫°o ra m·ªôt <strong>m·∫£ng m·ªõi</strong> ch·ª©a c√°c ph·∫ßn t·ª≠ th·ªèa m√£n m·ªôt ƒëi·ªÅu ki·ªán n√†o ƒë√≥ (ƒë∆∞·ª£c ki·ªÉm tra b·ªüi callback function). Callback function tr·∫£ v·ªÅ <code>true</code> n·∫øu ph·∫ßn t·ª≠ th·ªèa m√£n ƒëi·ªÅu ki·ªán, <code>false</code> n·∫øu kh√¥ng.</p>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">let numbers = [1, 2, 3, 4, 5, 6];
let evenNumbers = numbers.filter(function(number) { // filter() v·ªõi anonymous function
    return number % 2 === 0; // ƒêi·ªÅu ki·ªán: s·ªë ch·∫µn
});
console.log(evenNumbers); // [2, 4, 6] (m·∫£ng m·ªõi ch·ªâ ch·ª©a s·ªë ch·∫µn)

// S·ª≠ d·ª•ng arrow function:
let oddNumbers = numbers.filter(number =&gt; number % 2 !== 0); // L·ªçc s·ªë l·∫ª
console.log(oddNumbers); // [1, 3, 5]
</code></pre>
<h3 id="x√¢y-d·ª±ng-ph∆∞∆°ng-th·ª©c-some"><a class="header" href="#x√¢y-d·ª±ng-ph∆∞∆°ng-th·ª©c-some">X√¢y d·ª±ng ph∆∞∆°ng th·ª©c some</a></h3>
<p><code>some()</code> method ki·ªÉm tra xem <strong>√≠t nh·∫•t m·ªôt</strong> ph·∫ßn t·ª≠ trong m·∫£ng c√≥ th·ªèa m√£n ƒëi·ªÅu ki·ªán (callback function) hay kh√¥ng. Tr·∫£ v·ªÅ <code>true</code> n·∫øu c√≥ √≠t nh·∫•t m·ªôt ph·∫ßn t·ª≠ th·ªèa m√£n, <code>false</code> n·∫øu kh√¥ng c√≥ ph·∫ßn t·ª≠ n√†o th·ªèa m√£n.</p>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">let numbers = [1, 2, 3, 4, 5];
let hasEvenNumber = numbers.some(function(number) { // some() v·ªõi anonymous function
    return number % 2 === 0; // ƒêi·ªÅu ki·ªán: s·ªë ch·∫µn
});
console.log(hasEvenNumber); // true (m·∫£ng numbers c√≥ s·ªë ch·∫µn)

let allOddNumbers = numbers.some(number =&gt; number % 2 !== 0); // Ki·ªÉm tra c√≥ s·ªë l·∫ª kh√¥ng
console.log(allOddNumbers); // true
</code></pre>
<h3 id="x√¢y-d·ª±ng-ph∆∞∆°ng-th·ª©c-every"><a class="header" href="#x√¢y-d·ª±ng-ph∆∞∆°ng-th·ª©c-every">X√¢y d·ª±ng ph∆∞∆°ng th·ª©c every</a></h3>
<p><code>every()</code> method ki·ªÉm tra xem <strong>t·∫•t c·∫£</strong> ph·∫ßn t·ª≠ trong m·∫£ng c√≥ th·ªèa m√£n ƒëi·ªÅu ki·ªán (callback function) hay kh√¥ng. Tr·∫£ v·ªÅ <code>true</code> n·∫øu <strong>t·∫•t c·∫£</strong> ph·∫ßn t·ª≠ th·ªèa m√£n, <code>false</code> n·∫øu c√≥ √≠t nh·∫•t m·ªôt ph·∫ßn t·ª≠ kh√¥ng th·ªèa m√£n.</p>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">let numbers = [2, 4, 6, 8];
let allEvenNumbers = numbers.every(function(number) { // every() v·ªõi anonymous function
    return number % 2 === 0; // ƒêi·ªÅu ki·ªán: s·ªë ch·∫µn
});
console.log(allEvenNumbers); // true (t·∫•t c·∫£ s·ªë trong m·∫£ng ƒë·ªÅu ch·∫µn)

let allPositiveNumbers = numbers.every(number =&gt; number &gt; 0); // Ki·ªÉm tra t·∫•t c·∫£ s·ªë d∆∞∆°ng
console.log(allPositiveNumbers); // true
</code></pre>
<h3 id="ƒê·ªá-quy-l√†-g√¨-h·ªçc-v·ªÅ-ƒë·ªá-quy-trong-javascript"><a class="header" href="#ƒê·ªá-quy-l√†-g√¨-h·ªçc-v·ªÅ-ƒë·ªá-quy-trong-javascript">ƒê·ªá quy l√† g√¨? H·ªçc v·ªÅ ƒë·ªá quy trong JavaScript</a></h3>
<p>ƒê·ªá quy (recursion) l√† k·ªπ thu·∫≠t l·∫≠p tr√¨nh m√† m·ªôt h√†m t·ª± g·ªçi l·∫°i ch√≠nh n√≥. D√πng ƒë·ªÉ gi·∫£i quy·∫øt c√°c b√†i to√°n c√≥ c·∫•u tr√∫c l·∫∑p l·∫°i, ho·∫∑c b√†i to√°n c√≥ th·ªÉ chia nh·ªè th√†nh c√°c b√†i to√°n con t∆∞∆°ng t·ª±. C·∫ßn c√≥ ƒëi·ªÅu ki·ªán d·ª´ng (base case) ƒë·ªÉ tr√°nh l·∫∑p v√¥ h·∫°n.</p>
<ul>
<li><strong>V√≠ d·ª• (t√≠nh giai th·ª´a):</strong></li>
</ul>
<pre><code class="language-javascript">function factorial(n) {
    if (n === 0) { // Base case: giai th·ª´a c·ªßa 0 l√† 1
        return 1;
    } else {
        return n * factorial(n - 1); // G·ªçi l·∫°i h√†m factorial v·ªõi n-1 (ƒë·ªá quy)
    }
}

console.log(factorial(5)); // 120 (5! = 5 * 4 * 3 * 2 * 1)
</code></pre>
<h2 id="ph·∫ßn-5-dom-v√†-events"><a class="header" href="#ph·∫ßn-5-dom-v√†-events">Ph·∫ßn 5: DOM v√† Events</a></h2>
<h3 id="html-dom-l√†-g√¨"><a class="header" href="#html-dom-l√†-g√¨">HTML DOM l√† g√¨?</a></h3>
<p>HTML DOM (Document Object Model) l√† m√¥ h√¨nh bi·ªÉu di·ªÖn c·∫•u tr√∫c HTML d∆∞·ªõi d·∫°ng c√¢y c√°c ƒë·ªëi t∆∞·ª£ng (nodes). JavaScript c√≥ th·ªÉ truy c·∫≠p v√† thao t√°c v·ªõi DOM ƒë·ªÉ thay ƒë·ªïi n·ªôi dung, c·∫•u tr√∫c, style c·ªßa trang web.</p>
<h3 id="html-dom-v√†-dom-api-l√†-g√¨"><a class="header" href="#html-dom-v√†-dom-api-l√†-g√¨">HTML DOM v√† DOM API l√† g√¨?</a></h3>
<p>DOM API (Application Programming Interface) l√† t·∫≠p h·ª£p c√°c ƒë·ªëi t∆∞·ª£ng, thu·ªôc t√≠nh, ph∆∞∆°ng th·ª©c do tr√¨nh duy·ªát cung c·∫•p ƒë·ªÉ JavaScript t∆∞∆°ng t√°c v·ªõi DOM. V√≠ d·ª•: <code>document.getElementById()</code>, <code>element.innerHTML</code>, <code>element.style.color</code>, <code>element.addEventListener()</code>.</p>
<h3 id="dom-document-object-trong-javascript"><a class="header" href="#dom-document-object-trong-javascript">DOM Document Object trong JavaScript</a></h3>
<p><code>document</code> object l√† entry point (ƒëi·ªÉm b·∫Øt ƒë·∫ßu) ƒë·ªÉ truy c·∫≠p DOM t·ª´ JavaScript. ƒê·∫°i di·ªán cho to√†n b·ªô trang HTML. C√°c ph∆∞∆°ng th·ª©c v√† thu·ªôc t√≠nh c·ªßa <code>document</code> cho ph√©p truy c·∫≠p v√† thao t√°c v·ªõi c√°c ph·∫ßn t·ª≠ HTML tr√™n trang.</p>
<h3 id="l·∫•y-element-trong-dom"><a class="header" href="#l·∫•y-element-trong-dom">L·∫•y element trong DOM</a></h3>
<p>C√°c ph∆∞∆°ng th·ª©c ch√≠nh ƒë·ªÉ l·∫•y element (ph·∫ßn t·ª≠ HTML) t·ª´ DOM:</p>
<ul>
<li><code>document.getElementById(id)</code>: L·∫•y element c√≥ <code>id</code> attribute t∆∞∆°ng ·ª©ng (tr·∫£ v·ªÅ 1 element ho·∫∑c <code>null</code>).</li>
<li><code>document.getElementsByClassName(className)</code>: L·∫•y danh s√°ch (HTMLCollection) c√°c element c√≥ <code>class</code> attribute t∆∞∆°ng ·ª©ng (tr·∫£ v·ªÅ HTMLCollection r·ªóng n·∫øu kh√¥ng t√¨m th·∫•y).</li>
<li><code>document.getElementsByTagName(tagName)</code>: L·∫•y danh s√°ch (HTMLCollection) c√°c element c√≥ tag name t∆∞∆°ng ·ª©ng (v√≠ d·ª•: &quot;p&quot;, &quot;div&quot;, &quot;a&quot;...) (tr·∫£ v·ªÅ HTMLCollection r·ªóng n·∫øu kh√¥ng t√¨m th·∫•y).</li>
<li><code>document.querySelector(selector)</code>: L·∫•y <strong>element ƒë·∫ßu ti√™n</strong> ph√π h·ª£p v·ªõi CSS selector (tr·∫£ v·ªÅ 1 element ho·∫∑c <code>null</code>).</li>
<li><code>document.querySelectorAll(selector)</code>: L·∫•y danh s√°ch (NodeList) <strong>t·∫•t c·∫£</strong> element ph√π h·ª£p v·ªõi CSS selector (tr·∫£ v·ªÅ NodeList r·ªóng n·∫øu kh√¥ng t√¨m th·∫•y). N√™n d√πng <code>querySelector</code> v√† <code>querySelectorAll</code> v√¨ linh ho·∫°t h∆°n (d√πng CSS selector).</li>
</ul>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;V√≠ d·ª• DOM Get Element&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1 id=&quot;title&quot;&gt;Ti√™u ƒë·ªÅ ch√≠nh&lt;/h1&gt;
    &lt;p class=&quot;paragraph&quot;&gt;ƒêo·∫°n vƒÉn 1.&lt;/p&gt;
    &lt;p class=&quot;paragraph&quot;&gt;ƒêo·∫°n vƒÉn 2.&lt;/p&gt;
    &lt;ul&gt;
        &lt;li&gt;Item 1&lt;/li&gt;
        &lt;li&gt;Item 2&lt;/li&gt;
    &lt;/ul&gt;
    &lt;div id=&quot;container&quot;&gt;
        &lt;button&gt;Click me&lt;/button&gt;
    &lt;/div&gt;

    &lt;script&gt;
        let titleElement = document.getElementById(&quot;title&quot;); // L·∫•y theo ID
        console.log(titleElement); // &lt;h1 id=&quot;title&quot;&gt;...&lt;/h1&gt;

        let paragraphElements = document.getElementsByClassName(&quot;paragraph&quot;); // L·∫•y theo class
        console.log(paragraphElements); // HTMLCollection [p.paragraph, p.paragraph]

        let liElements = document.getElementsByTagName(&quot;li&quot;); // L·∫•y theo tag name
        console.log(liElements); // HTMLCollection [li, li]

        let firstParagraph = document.querySelector(&quot;.paragraph&quot;); // L·∫•y element ƒë·∫ßu ti√™n theo CSS selector
        console.log(firstParagraph); // &lt;p class=&quot;paragraph&quot;&gt;...&lt;/p&gt;

        let allParagraphs = document.querySelectorAll(&quot;.paragraph&quot;); // L·∫•y t·∫•t c·∫£ element theo CSS selector
        console.log(allParagraphs); // NodeList [p.paragraph, p.paragraph]
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 id="l·∫•y-element-trong-dom-1"><a class="header" href="#l·∫•y-element-trong-dom-1">L·∫•y element trong DOM</a></h3>
<p>Ti·∫øp t·ª•c v·ªÅ c√°c ph∆∞∆°ng th·ª©c l·∫•y element, c√≥ th·ªÉ t·∫≠p trung v√†o <code>querySelector</code> v√† <code>querySelectorAll</code> v√† c√°c lo·∫°i CSS selector c√≥ th·ªÉ d√πng (class, id, tag name, attribute selectors, pseudo-classes...).</p>
<h3 id="l·∫•y-element-trong-dom-2"><a class="header" href="#l·∫•y-element-trong-dom-2">L·∫•y element trong DOM</a></h3>
<p>C√≥ th·ªÉ ƒëi s√¢u v√†o performance khi ch·ªçn element, c√°ch t·ªëi ∆∞u selector, v√† s·ª± kh√°c bi·ªát gi·ªØa HTMLCollection v√† NodeList (HTMLCollection l√† live collection - t·ª± ƒë·ªông c·∫≠p nh·∫≠t khi DOM thay ƒë·ªïi, NodeList c√≥ th·ªÉ l√† static ho·∫∑c live t√πy ph∆∞∆°ng th·ª©c l·∫•y).</p>
<h3 id="attribute-node-v√†-text-node-trong-html-dom"><a class="header" href="#attribute-node-v√†-text-node-trong-html-dom">Attribute node v√† Text node trong HTML DOM</a></h3>
<p>Trong DOM tree, m·ªói element HTML l√† m·ªôt element node. B√™n trong element node c√≥ th·ªÉ c√≥ attribute nodes (thu·ªôc t√≠nh HTML) v√† text nodes (n·ªôi dung text).</p>
<h3 id="dom-attribute"><a class="header" href="#dom-attribute">DOM attribute</a></h3>
<p>DOM API cung c·∫•p c√°c ph∆∞∆°ng th·ª©c ƒë·ªÉ thao t√°c v·ªõi attribute nodes:</p>
<ul>
<li><code>element.getAttribute(attributeName)</code>: L·∫•y gi√° tr·ªã attribute.</li>
<li><code>element.setAttribute(attributeName, value)</code>: S·ª≠a ƒë·ªïi ho·∫∑c th√™m attribute.</li>
<li><code>element.removeAttribute(attributeName)</code>: X√≥a attribute.</li>
<li><code>element.hasAttribute(attributeName)</code>: Ki·ªÉm tra xem element c√≥ attribute kh√¥ng.</li>
</ul>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;V√≠ d·ª• DOM Attribute&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;a id=&quot;link&quot; href=&quot;https://f8.edu.vn&quot; target=&quot;_blank&quot;&gt;F8&lt;/a&gt;

    &lt;script&gt;
        let linkElement = document.getElementById(&quot;link&quot;);
        console.log(linkElement.getAttribute(&quot;href&quot;)); // &quot;https://f8.edu.vn&quot;
        linkElement.setAttribute(&quot;title&quot;, &quot;H·ªçc l·∫≠p tr√¨nh t·∫°i F8&quot;); // Th√™m attribute title
        console.log(linkElement.getAttribute(&quot;title&quot;)); // &quot;H·ªçc l·∫≠p tr√¨nh t·∫°i F8&quot;
        linkElement.removeAttribute(&quot;target&quot;); // X√≥a attribute target
        console.log(linkElement.hasAttribute(&quot;target&quot;)); // false
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 id="innertext--textcontent-property"><a class="header" href="#innertext--textcontent-property">InnerText &amp; textContent Property</a></h3>
<p><code>innerText</code> v√† <code>textContent</code> properties d√πng ƒë·ªÉ l·∫•y ho·∫∑c set n·ªôi dung text c·ªßa m·ªôt element.</p>
<ul>
<li><code>innerText</code>: Ch·ªâ l·∫•y text &quot;hi·ªÉn th·ªã&quot; (sau khi render), kh√¥ng l·∫•y text c·ªßa c√°c element ·∫©n (v√≠ d·ª•: <code>display: none</code>).</li>
<li><code>textContent</code>: L·∫•y <strong>t·∫•t c·∫£</strong> text content, k·ªÉ c·∫£ text c·ªßa element ·∫©n. N√™n d√πng <code>textContent</code> v√¨ chu·∫©n h∆°n, nh·∫•t qu√°n h∆°n.</li>
</ul>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;V√≠ d·ª• innerText &amp; textContent&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;content&quot;&gt;
        &lt;p&gt;ƒêo·∫°n vƒÉn b·∫£n 1.&lt;/p&gt;
        &lt;p style=&quot;display: none;&quot;&gt;ƒêo·∫°n vƒÉn b·∫£n 2 (·∫©n).&lt;/p&gt;
    &lt;/div&gt;

    &lt;script&gt;
        let contentElement = document.getElementById(&quot;content&quot;);
        console.log(contentElement.innerText);
        // ƒêo·∫°n vƒÉn b·∫£n 1.
        console.log(contentElement.textContent);
        // ƒêo·∫°n vƒÉn b·∫£n 1.
        // ƒêo·∫°n vƒÉn b·∫£n 2 (·∫©n).
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 id="th√™m-element-v√†o-element-trong-dom"><a class="header" href="#th√™m-element-v√†o-element-trong-dom">Th√™m element v√†o element trong DOM</a></h3>
<ul>
<li>
<p><strong>T√≥m t·∫Øt:</strong></p>
</li>
<li>
<p><code>element.innerHTML</code>: L·∫•y ho·∫∑c set <strong>HTML content b√™n trong</strong> element (d·∫°ng chu·ªói HTML). C√≥ th·ªÉ d√πng ƒë·ªÉ th√™m HTML v√†o element.</p>
</li>
<li>
<p><code>element.outerHTML</code>: L·∫•y ho·∫∑c set <strong>HTML content c·ªßa ch√≠nh element v√† b√™n trong n√≥</strong> (d·∫°ng chu·ªói HTML).</p>
</li>
</ul>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;V√≠ d·ª• innerHTML &amp; outerHTML&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;container&quot;&gt;
        &lt;p&gt;ƒêo·∫°n vƒÉn b·∫£n ban ƒë·∫ßu.&lt;/p&gt;
    &lt;/div&gt;

    &lt;script&gt;
        let containerElement = document.getElementById(&quot;container&quot;);
        console.log(containerElement.innerHTML); // &quot;&lt;p&gt;ƒêo·∫°n vƒÉn b·∫£n ban ƒë·∫ßu.&lt;/p&gt;&quot;

        containerElement.innerHTML = &quot;&lt;h2&gt;Ti√™u ƒë·ªÅ m·ªõi&lt;/h2&gt;&lt;p&gt;ƒêo·∫°n vƒÉn b·∫£n m·ªõi.&lt;/p&gt;&quot;; // Set HTML content m·ªõi
        console.log(containerElement.innerHTML);
        // &quot;&lt;h2&gt;Ti√™u ƒë·ªÅ m·ªõi&lt;/h2&gt;&lt;p&gt;ƒêo·∫°n vƒÉn b·∫£n m·ªõi.&lt;/p&gt;&quot;

        console.log(containerElement.outerHTML);
        // &quot;&lt;div id=&quot;container&quot;&gt;&lt;h2&gt;Ti√™u ƒë·ªÅ m·ªõi&lt;/h2&gt;&lt;p&gt;ƒêo·∫°n vƒÉn b·∫£n m·ªõi.&lt;/p&gt;&lt;/div&gt;&quot;
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 id="node-properties"><a class="header" href="#node-properties">Node properties</a></h3>
<p>Node properties (thu·ªôc t√≠nh node) cung c·∫•p th√¥ng tin v·ªÅ node trong DOM tree. V√≠ d·ª•:</p>
<ul>
<li><code>node.nodeName</code>: T√™n node (tag name cho element node, &quot;#text&quot; cho text node...).</li>
<li><code>node.nodeType</code>: Lo·∫°i node (1: element node, 3: text node...).</li>
<li><code>node.parentNode</code>: Node cha.</li>
<li><code>node.childNodes</code>: Danh s√°ch node con (HTMLCollection/NodeList).</li>
<li><code>node.firstChild</code>, <code>node.lastChild</code>, <code>node.nextSibling</code>, <code>node.previousSibling</code>: Node con ƒë·∫ßu, con cu·ªëi, node anh em k·∫ø ti·∫øp, node anh em tr∆∞·ªõc ƒë√≥.</li>
</ul>
<h3 id="ƒê·ªëi-t∆∞·ª£ng-dom-style-trong-element-node"><a class="header" href="#ƒê·ªëi-t∆∞·ª£ng-dom-style-trong-element-node">ƒê·ªëi t∆∞·ª£ng DOM style trong Element node</a></h3>
<p><code>element.style</code> object cho ph√©p truy c·∫≠p v√† s·ª≠a ƒë·ªïi inline styles (style vi·∫øt tr·ª±c ti·∫øp trong attribute <code>style</code>) c·ªßa element t·ª´ JavaScript.</p>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;V√≠ d·ª• DOM Style&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;box&quot; style=&quot;background-color: lightblue; width: 200px; height: 100px;&quot;&gt;
        Kh·ªëi h·ªôp
    &lt;/div&gt;

    &lt;script&gt;
        let boxElement = document.getElementById(&quot;box&quot;);
        console.log(boxElement.style.backgroundColor); // &quot;lightblue&quot; (l·∫•y style background-color)
        boxElement.style.color = &quot;red&quot;; // Set style color
        boxElement.style.border = &quot;2px solid black&quot;; // Set style border
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 id="classlist-property"><a class="header" href="#classlist-property">ClassList Property</a></h3>
<p><code>element.classList</code> property tr·∫£ v·ªÅ m·ªôt ƒë·ªëi t∆∞·ª£ng <code>DOMTokenList</code> ƒë·∫°i di·ªán cho danh s√°ch class c·ªßa element. Cung c·∫•p c√°c ph∆∞∆°ng th·ª©c ƒë·ªÉ thao t√°c v·ªõi class:</p>
<ul>
<li><code>classList.add(className)</code>: Th√™m class.</li>
<li><code>classList.remove(className)</code>: X√≥a class.</li>
<li><code>classList.toggle(className)</code>: Th√™m class n·∫øu ch∆∞a c√≥, x√≥a class n·∫øu ƒë√£ c√≥.</li>
<li><code>classList.contains(className)</code>: Ki·ªÉm tra xem element c√≥ class kh√¥ng.</li>
</ul>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;V√≠ d·ª• classList&lt;/title&gt;
    &lt;style&gt;
        .highlight {
            background-color: yellow;
            font-weight: bold;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;p id=&quot;text&quot;&gt;ƒêo·∫°n vƒÉn b·∫£n.&lt;/p&gt;
    &lt;button id=&quot;toggleBtn&quot;&gt;Toggle Highlight&lt;/button&gt;

    &lt;script&gt;
        let textElement = document.getElementById(&quot;text&quot;);
        let toggleButton = document.getElementById(&quot;toggleBtn&quot;);

        toggleButton.addEventListener(&quot;click&quot;, function() {
            textElement.classList.toggle(&quot;highlight&quot;); // Toggle class &quot;highlight&quot;
        });
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 id="dom-events"><a class="header" href="#dom-events">DOM events</a></h3>
<p>DOM events (s·ª± ki·ªán DOM) l√† c√°c h√†nh ƒë·ªông x·∫£y ra tr√™n trang web (click chu·ªôt, g√µ ph√≠m, load trang...). JavaScript c√≥ th·ªÉ l·∫Øng nghe (listen) v√† x·ª≠ l√Ω (handle) c√°c s·ª± ki·ªán n√†y ƒë·ªÉ t·∫°o t∆∞∆°ng t√°c.</p>
<h3 id="dom-events-example"><a class="header" href="#dom-events-example">DOM events example</a></h3>
<p>V√≠ d·ª• v·ªÅ c√°c s·ª± ki·ªán DOM ph·ªï bi·∫øn:</p>
<ul>
<li>
<p><code>click</code>: Click chu·ªôt.</p>
</li>
<li>
<p><code>mouseover</code>, <code>mouseout</code>: Chu·ªôt di v√†o, di ra kh·ªèi element.</p>
</li>
<li>
<p><code>keydown</code>, <code>keyup</code>: Ph√≠m ƒë∆∞·ª£c nh·∫•n, ph√≠m ƒë∆∞·ª£c nh·∫£.</p>
</li>
<li>
<p><code>submit</code>: Form ƒë∆∞·ª£c submit.</p>
</li>
<li>
<p><code>load</code>: Trang ho·∫∑c resource (·∫£nh, script...) ƒë√£ load xong.</p>
</li>
<li>
<p><code>DOMContentLoaded</code>: DOM tree ƒë√£ ƒë∆∞·ª£c parse xong.</p>
</li>
<li>
<p><strong>V√≠ d·ª• (s·ª± ki·ªán click):</strong></p>
</li>
</ul>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;V√≠ d·ª• DOM Event&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;button id=&quot;myButton&quot;&gt;Click me&lt;/button&gt;
    &lt;p id=&quot;message&quot;&gt;&lt;/p&gt;

    &lt;script&gt;
        let buttonElement = document.getElementById(&quot;myButton&quot;);
        let messageElement = document.getElementById(&quot;message&quot;);

        buttonElement.addEventListener(&quot;click&quot;, function() { // L·∫Øng nghe s·ª± ki·ªán click
            messageElement.textContent = &quot;Button ƒë√£ ƒë∆∞·ª£c click!&quot;; // X·ª≠ l√Ω s·ª± ki·ªán click
        });
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 id="preventdefault--stoppropagation"><a class="header" href="#preventdefault--stoppropagation">PreventDefault &amp; StopPropagation</a></h3>
<ul>
<li>
<p><strong>T√≥m t·∫Øt:</strong></p>
</li>
<li>
<p><code>event.preventDefault()</code>: NgƒÉn ch·∫∑n h√†nh vi m·∫∑c ƒë·ªãnh c·ªßa s·ª± ki·ªán (v√≠ d·ª•: ngƒÉn link chuy·ªÉn trang, ngƒÉn form submit trang).</p>
</li>
<li>
<p><code>event.stopPropagation()</code>: NgƒÉn ch·∫∑n s·ª± ki·ªán lan truy·ªÅn l√™n c√°c element cha (event bubbling).</p>
</li>
<li>
<p><strong>V√≠ d·ª• (<code>preventDefault</code> tr√™n link):</strong></p>
</li>
</ul>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;V√≠ d·ª• preventDefault&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;a href=&quot;https://f8.edu.vn&quot; id=&quot;link&quot;&gt;Link F8&lt;/a&gt;
    &lt;script&gt;
        let linkElement = document.getElementById(&quot;link&quot;);
        linkElement.addEventListener(&quot;click&quot;, function(event) {
            event.preventDefault(); // NgƒÉn link chuy·ªÉn trang
            alert(&quot;Link click b·ªã ch·∫∑n!&quot;);
        });
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 id="event-listener"><a class="header" href="#event-listener">Event listener</a></h3>
<p>Event listener (b·ªô l·∫Øng nghe s·ª± ki·ªán) d√πng ƒë·ªÉ ƒëƒÉng k√Ω (attach) m·ªôt function (event handler) ƒë·ªÉ x·ª≠ l√Ω m·ªôt s·ª± ki·ªán tr√™n m·ªôt element.</p>
<ul>
<li><code>element.addEventListener(eventType, eventHandler, useCapture)</code>: ƒêƒÉng k√Ω event listener.</li>
<li><code>element.removeEventListener(eventType, eventHandler, useCapture)</code>: G·ª° b·ªè event listener.</li>
</ul>
<pre><code class="language-js">const button = document.querySelector(&quot;.btn&quot;)
button.addEventListener(&quot;click&quot;, function(event) {
  console.log(&quot;Hello!&quot;);
})

// OR using Javascript one-liners
button.addEventListener(&quot;click&quot;, event =&gt; console.log(&quot;Hello!&quot;))
</code></pre>
<h2 id="ph·∫ßn-6-json-promise-es6"><a class="header" href="#ph·∫ßn-6-json-promise-es6">Ph·∫ßn 6: JSON, Promise, ES6+</a></h2>
<h3 id="json-l√†-g√¨-ƒê∆∞·ª£c-s·ª≠-d·ª•ng-ra-sao-trong-js"><a class="header" href="#json-l√†-g√¨-ƒê∆∞·ª£c-s·ª≠-d·ª•ng-ra-sao-trong-js">JSON l√† g√¨? ƒê∆∞·ª£c s·ª≠ d·ª•ng ra sao trong JS?</a></h3>
<p>JSON (JavaScript Object Notation) l√† ƒë·ªãnh d·∫°ng d·ªØ li·ªáu text nh·∫π, d·ªÖ ƒë·ªçc, d·ªÖ parse, d·ª±a tr√™n c√∫ ph√°p object c·ªßa JavaScript. D√πng ph·ªï bi·∫øn ƒë·ªÉ trao ƒë·ªïi d·ªØ li·ªáu gi·ªØa server v√† client trong web development (v√≠ d·ª•: API).</p>
<ul>
<li>
<p>C·∫•u tr√∫c: key-value pairs, key l√† chu·ªói, value c√≥ th·ªÉ l√† string, number, boolean, null, array, object.</p>
</li>
<li>
<p>V√≠ d·ª• JSON:</p>
</li>
</ul>
<pre><code class="language-json">    {
        &quot;name&quot;: &quot;Gemini&quot;,
        &quot;age&quot;: 2,
        &quot;isRobot&quot;: true,
        &quot;skills&quot;: [&quot;learning&quot;, &quot;coding&quot;, &quot;talking&quot;]
    }
</code></pre>
<ul>
<li>
<p><strong>JavaScript built-in object <code>JSON</code> cung c·∫•p:</strong></p>
</li>
<li>
<p><code>JSON.stringify(object)</code>: Chuy·ªÉn ƒë·ªïi object JavaScript sang chu·ªói JSON.</p>
</li>
<li>
<p><code>JSON.parse(jsonString)</code>: Chuy·ªÉn ƒë·ªïi chu·ªói JSON sang object JavaScript.</p>
</li>
</ul>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">let personObject = { name: &quot;Gemini&quot;, age: 2 };
let jsonString = JSON.stringify(personObject); // Chuy·ªÉn object sang JSON string
console.log(jsonString); // '{&quot;name&quot;:&quot;Gemini&quot;,&quot;age&quot;:2}'

let parsedObject = JSON.parse(jsonString); // Chuy·ªÉn JSON string sang object
console.log(parsedObject.name); // &quot;Gemini&quot;
</code></pre>
<h3 id="promise-sync-async-trong-javascript"><a class="header" href="#promise-sync-async-trong-javascript">Promise (sync async) trong JavaScript</a></h3>
<p>Promise l√† object ƒë·∫°i di·ªán cho k·∫øt qu·∫£ (th√†nh c√¥ng ho·∫∑c th·∫•t b·∫°i) c·ªßa m·ªôt t√°c v·ª• <strong>b·∫•t ƒë·ªìng b·ªô</strong> (asynchronous) v√† c√≥ th·ªÉ ch∆∞a ho√†n th√†nh ngay l·∫≠p t·ª©c (v√≠ d·ª•: g·ªçi API, ƒë·ªçc file...). Gi√∫p x·ª≠ l√Ω b·∫•t ƒë·ªìng b·ªô m·ªôt c√°ch d·ªÖ ƒë·ªçc, d·ªÖ qu·∫£n l√Ω h∆°n so v·ªõi callback.</p>
<ul>
<li><strong>Tr·∫°ng th√°i Promise:</strong>
<ul>
<li><code>pending</code> (ch·ªù x·ª≠ l√Ω): T√°c v·ª• ch∆∞a ho√†n th√†nh.</li>
<li><code>fulfilled</code> (th√†nh c√¥ng): T√°c v·ª• ho√†n th√†nh th√†nh c√¥ng.</li>
<li><code>rejected</code> (th·∫•t b·∫°i): T√°c v·ª• ho√†n th√†nh th·∫•t b·∫°i.</li>
</ul>
</li>
</ul>
<h3 id="promise-n·ªói-ƒëau"><a class="header" href="#promise-n·ªói-ƒëau">Promise (n·ªói ƒëau)</a></h3>
<p>C√≥ th·ªÉ n√≥i v·ªÅ &quot;callback hell&quot; v√† t·∫°i sao Promise ra ƒë·ªùi ƒë·ªÉ gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ callback hell. Promise gi√∫p code b·∫•t ƒë·ªìng b·ªô d·ªÖ ƒë·ªçc, d·ªÖ maintain h∆°n b·∫±ng c√°ch &quot;chaining&quot; c√°c t√°c v·ª• b·∫•t ƒë·ªìng b·ªô tu·∫ßn t·ª± ho·∫∑c song song.</p>
<h3 id="promise-trong-javascript"><a class="header" href="#promise-trong-javascript">Promise trong Javascript</a></h3>
<p>C√°ch t·∫°o Promise: <code>new Promise((resolve, reject) =&gt; { ... });</code></p>
<ul>
<li>
<p><code>resolve(value)</code>: G·ªçi khi t√°c v·ª• th√†nh c√¥ng, truy·ªÅn gi√° tr·ªã k·∫øt qu·∫£.</p>
</li>
<li>
<p><code>reject(error)</code>: G·ªçi khi t√°c v·ª• th·∫•t b·∫°i, truy·ªÅn l·ªói.</p>
</li>
<li>
<p><strong>C√°ch x·ª≠ l√Ω k·∫øt qu·∫£ Promise:</strong></p>
</li>
<li>
<p><code>.then(onFulfilled)</code>: X·ª≠ l√Ω khi Promise fulfilled (th√†nh c√¥ng).</p>
</li>
<li>
<p><code>.catch(onRejected)</code>: X·ª≠ l√Ω khi Promise rejected (th·∫•t b·∫°i).</p>
</li>
<li>
<p><code>.finally(onFinally)</code>: Th·ª±c hi·ªán code sau khi Promise fulfilled ho·∫∑c rejected (kh√¥ng quan t√¢m k·∫øt qu·∫£), th∆∞·ªùng d√πng ƒë·ªÉ cleanup (v√≠ d·ª•: t·∫Øt loading indicator).</p>
</li>
<li>
<p><strong>V√≠ d·ª• (Promise ƒë∆°n gi·∫£n):</strong></p>
</li>
</ul>
<pre><code class="language-javascript">let myPromise = new Promise((resolve, reject) =&gt; {
    setTimeout(function() {
        let success = true; // Gi·∫£ l·∫≠p t√°c v·ª• th√†nh c√¥ng/th·∫•t b·∫°i
        if (success) {
            resolve(&quot;D·ªØ li·ªáu th√†nh c√¥ng!&quot;); // G·ªçi resolve khi th√†nh c√¥ng
        } else {
            reject(&quot;L·ªói x·∫£y ra!&quot;); // G·ªçi reject khi th·∫•t b·∫°i
        }
    }, 2000);
});

myPromise.then(function(result) { // X·ª≠ l√Ω khi th√†nh c√¥ng
    console.log(&quot;Th√†nh c√¥ng:&quot;, result); // &quot;Th√†nh c√¥ng: D·ªØ li·ªáu th√†nh c√¥ng!&quot;
}).catch(function(error) { // X·ª≠ l√Ω khi th·∫•t b·∫°i
    console.log(&quot;L·ªói:&quot;, error); // &quot;L·ªói: L·ªói x·∫£y ra!&quot; (n·∫øu success = false)
}).finally(function() { // Th·ª±c hi·ªán sau khi Promise xong (d√π th√†nh c√¥ng hay th·∫•t b·∫°i)
    console.log(&quot;Promise ƒë√£ ho√†n th√†nh.&quot;);
});
</code></pre>
<h3 id="promise-chain"><a class="header" href="#promise-chain">Promise chain</a></h3>
<p>Promise chaining (chu·ªói Promise) cho ph√©p li√™n k·∫øt c√°c t√°c v·ª• b·∫•t ƒë·ªìng b·ªô tu·∫ßn t·ª±. <code>.then()</code> c√≥ th·ªÉ tr·∫£ v·ªÅ m·ªôt Promise m·ªõi, t·∫°o th√†nh chu·ªói. Gi√∫p x·ª≠ l√Ω c√°c t√°c v·ª• ph·ª• thu·ªôc l·∫´n nhau m·ªôt c√°ch tu·∫ßn t·ª±.</p>
<ul>
<li><strong>V√≠ d·ª• (Promise chain):</strong></li>
</ul>
<pre><code class="language-javascript">function fetchData(url) {
    return new Promise((resolve, reject) =&gt; {
        // Gi·∫£ l·∫≠p fetch API
        setTimeout(function() {
            let data = &quot;D·ªØ li·ªáu t·ª´ &quot; + url;
            resolve(data);
        }, 1000);
    });
}

fetchData(&quot;url1&quot;).then(function(data1) { // G·ªçi API 1
    console.log(&quot;D·ªØ li·ªáu 1:&quot;, data1); // X·ª≠ l√Ω d·ªØ li·ªáu 1
    return fetchData(&quot;url2&quot;); // Tr·∫£ v·ªÅ Promise m·ªõi ƒë·ªÉ g·ªçi API 2
}).then(function(data2) { // Ch·∫°y khi Promise tr·∫£ v·ªÅ t·ª´ .then() tr∆∞·ªõc ƒë√≥ fulfilled
    console.log(&quot;D·ªØ li·ªáu 2:&quot;, data2); // X·ª≠ l√Ω d·ªØ li·ªáu 2
    return fetchData(&quot;url3&quot;); // Ti·∫øp t·ª•c chain
}).then(function(data3) {
    console.log(&quot;D·ªØ li·ªáu 3:&quot;, data3);
}).catch(function(error) { // B·∫Øt l·ªói n·∫øu c√≥ l·ªói ·ªü b·∫•t k·ª≥ Promise n√†o trong chu·ªói
    console.log(&quot;L·ªói:&quot;, error);
});
</code></pre>
<h3 id="promise-methods-resolve-reject-all"><a class="header" href="#promise-methods-resolve-reject-all">Promise methods (resolve, reject, all)</a></h3>
<p>C√°c static methods c·ªßa <code>Promise</code> object:</p>
<ul>
<li>
<p><code>Promise.resolve(value)</code>: Tr·∫£ v·ªÅ m·ªôt Promise ƒë√£ fulfilled v·ªõi gi√° tr·ªã <code>value</code>.</p>
</li>
<li>
<p><code>Promise.reject(error)</code>: Tr·∫£ v·ªÅ m·ªôt Promise ƒë√£ rejected v·ªõi l·ªói <code>error</code>.</p>
</li>
<li>
<p><code>Promise.all(promises)</code>: Nh·∫≠n v√†o m·ªôt m·∫£ng c√°c Promises, tr·∫£ v·ªÅ m·ªôt Promise m·ªõi fulfilled khi <strong>t·∫•t c·∫£</strong> Promises trong m·∫£ng fulfilled, ho·∫∑c rejected ngay l·∫≠p t·ª©c n·∫øu c√≥ <strong>√≠t nh·∫•t m·ªôt</strong> Promise rejected. D√πng ƒë·ªÉ ch·∫°y c√°c t√°c v·ª• b·∫•t ƒë·ªìng b·ªô song song v√† ƒë·ª£i t·∫•t c·∫£ ho√†n th√†nh.</p>
</li>
<li>
<p><strong>V√≠ d·ª• (<code>Promise.all</code>):</strong></p>
</li>
</ul>
<pre><code class="language-javascript">let promise1 = Promise.resolve(&quot;Promise 1 th√†nh c√¥ng&quot;);
let promise2 = new Promise(resolve =&gt; setTimeout(() =&gt; resolve(&quot;Promise 2 th√†nh c√¥ng&quot;), 1000));
let promise3 = Promise.resolve(&quot;Promise 3 th√†nh c√¥ng&quot;);

Promise.all([promise1, promise2, promise3]).then(function(results) { // Ch·∫°y song song, ƒë·ª£i t·∫•t c·∫£ xong
    console.log(&quot;T·∫•t c·∫£ Promises th√†nh c√¥ng:&quot;, results); // [&quot;Promise 1 th√†nh c√¥ng&quot;, &quot;Promise 2 th√†nh c√¥ng&quot;, &quot;Promise 3 th√†nh c√¥ng&quot;]
}).catch(function(error) {
    console.log(&quot;C√≥ l·ªói:&quot;, error);
});
</code></pre>
<h3 id="h·ªçc-v·ªÅ-javascript-ecmascript-6"><a class="header" href="#h·ªçc-v·ªÅ-javascript-ecmascript-6">H·ªçc v·ªÅ JavaScript ECMAScript 6</a></h3>
<p>ECMAScript 6 (ES6) ho·∫∑c ES2015 l√† phi√™n b·∫£n JavaScript ra m·∫Øt nƒÉm 2015, gi·ªõi thi·ªáu nhi·ªÅu t√≠nh nƒÉng m·ªõi, hi·ªán ƒë·∫°i, gi√∫p code JavaScript m·∫°nh m·∫Ω v√† d·ªÖ vi·∫øt h∆°n. C√°c t√≠nh nƒÉng ES6 quan tr·ªçng: <code>let</code>, <code>const</code>, arrow function, template literals, classes, modules, destructuring, spread operator...</p>
<p>S·∫Ω ƒë∆∞·ª£c c·∫≠p nh·∫≠t d·∫ßn b√™n d∆∞·ªõi </p>
<h3 id="let--const-keyword"><a class="header" href="#let--const-keyword">Let &amp; Const keyword</a></h3>
<p>(ƒê√£ ƒë·ªÅ c·∫≠p ·ªü m·ª•c 5) √în l·∫°i v√† so s√°nh <code>let</code> v√† <code>const</code> v·ªõi <code>var</code>. N√™n ∆∞u ti√™n d√πng <code>let</code> v√† <code>const</code> thay cho <code>var</code> v√¨ c√≥ ph·∫°m vi block-scoped r√µ r√†ng h∆°n, tr√°nh l·ªói hoisting.</p>
<h3 id="arrow-function-trong-javascript-es6"><a class="header" href="#arrow-function-trong-javascript-es6">Arrow function trong JavaScript ES6</a></h3>
<p>(ƒê√£ ƒë·ªÅ c·∫≠p ·ªü m·ª•c 29) √în l·∫°i arrow function, c√∫ ph√°p ng·∫Øn g·ªçn h∆°n cho anonymous function, ƒë·∫∑c bi·ªát h·ªØu √≠ch trong callback functions.</p>
<pre><code class="language-js">const multiplyByTwo = (num) =&gt; {
    return num * 2;
}
</code></pre>
<h3 id="template-literals-template-string-trong-javascript-es6"><a class="header" href="#template-literals-template-string-trong-javascript-es6">Template literals (Template string) trong javascript ES6</a></h3>
<p>Template literals (template string) d√πng backtick `` ƒë·ªÉ khai b√°o chu·ªói, cho ph√©p nh√∫ng bi·∫øn tr·ª±c ti·∫øp v√†o chu·ªói b·∫±ng c√∫ ph√°p <code>${variable}</code> (string interpolation), v√† h·ªó tr·ª£ chu·ªói nhi·ªÅu d√≤ng d·ªÖ d√†ng.</p>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">let name = &quot;Gemini&quot;;
let age = 2;
let message = `Xin ch√†o, t√¥i l√† ${name}, ${age} tu·ªïi.
T√¥i l√† m·ªôt robot.`; // Template literals, chu·ªói nhi·ªÅu d√≤ng
console.log(message);
// Xin ch√†o, t√¥i l√† Gemini, 2 tu·ªïi.
// T√¥i l√† m·ªôt robot.
</code></pre>
<h3 id="classes-trong-javascript-es6"><a class="header" href="#classes-trong-javascript-es6">Classes trong JavaScript ES6</a></h3>
<p>Classes trong ES6 cung c·∫•p c√∫ ph√°p m·ªõi ƒë·ªÉ ƒë·ªãnh nghƒ©a object v√† k·∫ø th·ª´a, g·∫ßn g≈©i h∆°n v·ªõi c√°c ng√¥n ng·ªØ h∆∞·ªõng ƒë·ªëi t∆∞·ª£ng kh√°c (nh∆∞ng v·∫´n d·ª±a tr√™n prototype-based inheritance c·ªßa JavaScript).</p>
<ul>
<li><strong>V√≠ d·ª• (Class c∆° b·∫£n):</strong></li>
</ul>
<pre><code class="language-javascript">class Animal { // ƒê·ªãnh nghƒ©a class Animal
    constructor(name) { // Constructor
        this.name = name;
    }

    speak() { // Method speak
        console.log(this.name + &quot; makes a sound.&quot;);
    }
}

class Dog extends Animal { // Class Dog k·∫ø th·ª´a t·ª´ Animal
    constructor(name, breed) {
        super(name); // G·ªçi constructor c·ªßa class cha
        this.breed = breed;
    }

    bark() { // Method bark ri√™ng c·ªßa Dog
        console.log(&quot;Woof!&quot;);
    }
}

let animal = new Animal(&quot;Generic Animal&quot;);
animal.speak(); // &quot;Generic Animal makes a sound.&quot;

let dog = new Dog(&quot;Lucky&quot;, &quot;Golden Retriever&quot;);
dog.speak(); // &quot;Lucky makes a sound.&quot; (k·∫ø th·ª´a t·ª´ Animal)
dog.bark(); // &quot;Woof!&quot; (method c·ªßa Dog)
</code></pre>
<h3 id="enhanced-object-literals-trong-javascript-es6"><a class="header" href="#enhanced-object-literals-trong-javascript-es6">Enhanced object literals trong javascript ES6</a></h3>
<p>Enhanced object literals (object literals c·∫£i ti·∫øn) trong ES6 cung c·∫•p c√∫ ph√°p ng·∫Øn g·ªçn h∆°n ƒë·ªÉ t·∫°o object:</p>
<ul>
<li>Shorthand property names: N·∫øu key v√† value c√≥ c√πng t√™n bi·∫øn, c√≥ th·ªÉ vi·∫øt t·∫Øt <code>key</code> thay v√¨ <code>key: key</code>.</li>
<li>Method shorthand: B·ªè t·ª´ kh√≥a <code>function</code> khi ƒë·ªãnh nghƒ©a method trong object.</li>
<li>Computed property names: Key c√≥ th·ªÉ l√† bi·ªÉu th·ª©c ƒë∆∞·ª£c t√≠nh to√°n trong ngo·∫∑c vu√¥ng <code>[...]</code>.</li>
</ul>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">let name = &quot;Gemini&quot;;
let age = 2;

let person = {
    name, // Shorthand property name (t∆∞∆°ng ƒë∆∞∆°ng name: name)
    age,  // Shorthand property name (t∆∞∆°ng ƒë∆∞∆°ng age: age)
    greet() { // Method shorthand (b·ªè function keyword)
        console.log(&quot;Xin ch√†o, t√¥i l√† &quot; + this.name);
    },
    [&quot;skill&quot; + &quot;1&quot;]: &quot;learning&quot; // Computed property name (key ƒë∆∞·ª£c t√≠nh to√°n)
};

console.log(person.name); // &quot;Gemini&quot;
person.greet(); // &quot;Xin ch√†o, t√¥i l√† Gemini&quot;
console.log(person.skill1); // &quot;learning&quot;
</code></pre>
<h3 id="default-parameter-values-trong-javascript-es6"><a class="header" href="#default-parameter-values-trong-javascript-es6">Default parameter values trong JavaScript ES6</a></h3>
<p>Default parameter values (gi√° tr·ªã tham s·ªë m·∫∑c ƒë·ªãnh) trong ES6 cho ph√©p g√°n gi√° tr·ªã m·∫∑c ƒë·ªãnh cho tham s·ªë c·ªßa h√†m. N·∫øu khi g·ªçi h√†m kh√¥ng truy·ªÅn ƒë·ªëi s·ªë cho tham s·ªë ƒë√≥, tham s·ªë s·∫Ω nh·∫≠n gi√° tr·ªã m·∫∑c ƒë·ªãnh.</p>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">function greet(name = &quot;Guest&quot;) { // Tham s·ªë name c√≥ gi√° tr·ªã m·∫∑c ƒë·ªãnh &quot;Guest&quot;
    console.log(&quot;Xin ch√†o, &quot; + name + &quot;!&quot;);
}

greet(&quot;Gemini&quot;); // &quot;Xin ch√†o, Gemini!&quot; (truy·ªÅn ƒë·ªëi s·ªë)
greet(); // &quot;Xin ch√†o, Guest!&quot; (kh√¥ng truy·ªÅn ƒë·ªëi s·ªë, d√πng gi√° tr·ªã m·∫∑c ƒë·ªãnh)
</code></pre>
<h3 id="destructuring-trong-javascript-es6"><a class="header" href="#destructuring-trong-javascript-es6">Destructuring trong JavaScript ES6</a></h3>
<p>Destructuring (ph√¢n r√£ c·∫•u tr√∫c) trong ES6 cho ph√©p &quot;gi·∫£i n√©n&quot; gi√° tr·ªã t·ª´ m·∫£ng ho·∫∑c object v√†o c√°c bi·∫øn ri√™ng bi·ªát m·ªôt c√°ch ng·∫Øn g·ªçn.</p>
<ul>
<li><strong>V√≠ d·ª• (destructuring m·∫£ng):</strong></li>
</ul>
<pre><code class="language-javascript">let colors = [&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;];
let [firstColor, secondColor, thirdColor] = colors; // Destructuring m·∫£ng

console.log(firstColor); // &quot;red&quot;
console.log(secondColor); // &quot;green&quot;
console.log(thirdColor); // &quot;blue&quot;
</code></pre>
<ul>
<li><strong>V√≠ d·ª• (destructuring object):</strong></li>
</ul>
<pre><code class="language-javascript">let person = { name: &quot;Gemini&quot;, age: 2, city: &quot;Internet&quot; };
let { name, age } = person; // Destructuring object (l·∫•y thu·ªôc t√≠nh name v√† age)

console.log(name); // &quot;Gemini&quot;
console.log(age); // 2
</code></pre>
<h3 id="spread-trong-javascript-es6"><a class="header" href="#spread-trong-javascript-es6">Spread trong JavaScript ES6</a></h3>
<p>Spread operator (<code>...</code>) trong ES6 c√≥ nhi·ªÅu ·ª©ng d·ª•ng:</p>
<ul>
<li>
<p><strong>Copy m·∫£ng/object:</strong> T·∫°o b·∫£n sao n√¥ng (shallow copy) c·ªßa m·∫£ng ho·∫∑c object.</p>
</li>
<li>
<p><strong>N·ªëi m·∫£ng:</strong> N·ªëi nhi·ªÅu m·∫£ng th√†nh m·ªôt m·∫£ng m·ªõi.</p>
</li>
<li>
<p><strong>Truy·ªÅn ƒë·ªëi s·ªë h√†m:</strong> Truy·ªÅn c√°c ph·∫ßn t·ª≠ c·ªßa m·∫£ng l√†m ƒë·ªëi s·ªë ri√™ng l·∫ª cho h√†m.</p>
</li>
<li>
<p><strong>Rest parameters (tham s·ªë rest):</strong> Thu th·∫≠p c√°c ƒë·ªëi s·ªë c√≤n l·∫°i c·ªßa h√†m v√†o m·ªôt m·∫£ng.</p>
</li>
<li>
<p><strong>V√≠ d·ª• (copy m·∫£ng, n·ªëi m·∫£ng):</strong></p>
</li>
</ul>
<pre><code class="language-javascript">let arr1 = [1, 2, 3];
let arr2 = [...arr1]; // Copy m·∫£ng arr1
console.log(arr2); // [1, 2, 3]
arr2.push(4); // Thay ƒë·ªïi arr2 kh√¥ng ·∫£nh h∆∞·ªüng arr1 (shallow copy)
console.log(arr1); // [1, 2, 3]

let arr3 = [4, 5, 6];
let combinedArray = [...arr1, ...arr3]; // N·ªëi m·∫£ng arr1 v√† arr3
console.log(combinedArray); // [1, 2, 3, 4, 5, 6]
</code></pre>
<h3 id="kh√°i-ni·ªám-tagged-template-literals-√≠t-ng∆∞·ªùi-bi·∫øt"><a class="header" href="#kh√°i-ni·ªám-tagged-template-literals-√≠t-ng∆∞·ªùi-bi·∫øt">Kh√°i ni·ªám tagged template literals (√≠t ng∆∞·ªùi bi·∫øt)</a></h3>
<p>Tagged template literals l√† m·ªôt t√≠nh nƒÉng n√¢ng cao c·ªßa template literals. Cho ph√©p b·∫°n ƒë·ªãnh nghƒ©a m·ªôt &quot;tag function&quot; ƒë·ªÉ x·ª≠ l√Ω template literal theo c√°ch t√πy ch·ªânh. √çt d√πng trong th·ª±c t·∫ø h√†ng ng√†y, nh∆∞ng h·ªØu √≠ch trong m·ªôt s·ªë tr∆∞·ªùng h·ª£p ƒë·∫∑c bi·ªát (v√≠ d·ª•: sanitizing input, i18n...).</p>
<h3 id="module-trong-javascript-es6"><a class="header" href="#module-trong-javascript-es6">Module trong JavaScript ES6</a></h3>
<p>Modules trong ES6 cho ph√©p chia code JavaScript th√†nh c√°c file (module) ri√™ng bi·ªát, gi√∫p code c√≥ c·∫•u tr√∫c t·ªët h∆°n, d·ªÖ t√°i s·ª≠ d·ª•ng, d·ªÖ b·∫£o tr√¨.</p>
<ul>
<li><code>export</code>: ƒê·ªÉ export (xu·∫•t) c√°c bi·∫øn, h√†m, class t·ª´ module.</li>
<li><code>import</code>: ƒê·ªÉ import (nh·∫≠p) c√°c module kh√°c v√†o module hi·ªán t·∫°i.</li>
</ul>
<p><strong>V√≠ d·ª•:</strong></p>
<ul>
<li><strong><code>module1.js</code> (module 1):</strong></li>
</ul>
<pre><code class="language-javascript">    export const message = &quot;Xin ch√†o t·ª´ module 1!&quot;; // Export bi·∫øn
    export function greet(name) { // Export h√†m
        console.log(message + &quot; &quot; + name);
    }
</code></pre>
<ul>
<li><strong><code>main.js</code> (module ch√≠nh):</strong></li>
</ul>
<pre><code class="language-javascript">    import { message, greet } from './module1.js'; // Import t·ª´ module1.js

    console.log(message); // &quot;Xin ch√†o t·ª´ module 1!&quot;
    greet(&quot;User&quot;); // &quot;Xin ch√†o t·ª´ module 1! User&quot;
</code></pre>
<ul>
<li><strong>Trong HTML, c·∫ßn th√™m <code>type=&quot;module&quot;</code> v√†o th·∫ª <code>&lt;script&gt;</code>:</strong></li>
</ul>
<pre><code class="language-html">    &lt;script type=&quot;module&quot; src=&quot;main.js&quot;&gt;&lt;/script&gt;
</code></pre>
<h3 id="kh√°i-ni·ªám-optional-chaining"><a class="header" href="#kh√°i-ni·ªám-optional-chaining">Kh√°i ni·ªám Optional chaining</a></h3>
<p>Optional chaining operator <code>?.</code> (ES2020+) gi√∫p truy c·∫≠p thu·ªôc t√≠nh c·ªßa object m·ªôt c√°ch an to√†n, tr√°nh l·ªói khi object ho·∫∑c thu·ªôc t√≠nh trung gian c√≥ th·ªÉ <code>null</code> ho·∫∑c <code>undefined</code>. N·∫øu gi√° tr·ªã tr∆∞·ªõc <code>?.</code> l√† <code>null</code> ho·∫∑c <code>undefined</code>, bi·ªÉu th·ª©c tr·∫£ v·ªÅ <code>undefined</code> ngay l·∫≠p t·ª©c, kh√¥ng g√¢y l·ªói.</p>
<p><strong>V√≠ d·ª•:</strong></p>
<pre><code class="language-javascript">let user = {
    name: &quot;Gemini&quot;,
    address: {
        city: &quot;Internet&quot;
    }
};

console.log(user.address?.city); // &quot;Internet&quot; (truy c·∫≠p an to√†n, n·∫øu address c√≥ t·ªìn t·∫°i)
console.log(user.profile?.email); // undefined (user.profile kh√¥ng t·ªìn t·∫°i, kh√¥ng l·ªói)

// Kh√¥ng d√πng optional chaining, c√≥ th·ªÉ g√¢y l·ªói:
// console.log(user.profile.email); // L·ªói: Cannot read property 'email' of undefined
</code></pre>
<h3 id="fetch"><a class="header" href="#fetch">Fetch</a></h3>
<p>Fetch API l√† built-in API hi·ªán ƒë·∫°i trong JavaScript ƒë·ªÉ th·ª±c hi·ªán c√°c request HTTP (g·ªçi API) m·ªôt c√°ch b·∫•t ƒë·ªìng b·ªô (d·ª±a tr√™n Promise). Thay th·∫ø cho <code>XMLHttpRequest</code> c≈©.</p>
<ul>
<li><strong>V√≠ d·ª• (GET request v·ªõi Fetch API):</strong></li>
</ul>
<pre><code class="language-javascript">fetch('https://jsonplaceholder.typicode.com/todos/1') // G·ªçi API GET
    .then(response =&gt; response.json()) // Parse response body th√†nh JSON (tr·∫£ v·ªÅ Promise)
    .then(data =&gt; { // Ch·∫°y khi Promise t·ª´ response.json() fulfilled
        console.log(data); // In ra d·ªØ li·ªáu JSON
    })
    .catch(error =&gt; { // B·∫Øt l·ªói n·∫øu c√≥ l·ªói trong qu√° tr√¨nh fetch ho·∫∑c parse JSON
        console.error(&quot;L·ªói fetch:&quot;, error);
    });
</code></pre>
<h3 id="json-server"><a class="header" href="#json-server">JSON server</a></h3>
<p>JSON Server l√† th∆∞ vi·ªán Node.js gi√∫p t·∫°o nhanh REST API gi·∫£ l·∫≠p t·ª´ file JSON. D√πng ƒë·ªÉ test frontend, l√†m backend demo, h·ªçc API... C√†i ƒë·∫∑t b·∫±ng npm: <code>npm install -g json-server</code>. Ch·∫°y server: <code>json-server --watch db.json</code>.</p>
<h3 id="ph∆∞∆°ng-th·ª©c-reduce-c√≥-logic-nh∆∞-th·∫ø-n√†o"><a class="header" href="#ph∆∞∆°ng-th·ª©c-reduce-c√≥-logic-nh∆∞-th·∫ø-n√†o">Ph∆∞∆°ng th·ª©c reduce c√≥ logic nh∆∞ th·∫ø n√†o?</a></h3>
<p>(ƒê√£ ƒë·ªÅ c·∫≠p ·ªü m·ª•c 51, 52) √în l·∫°i v√† ƒëi s√¢u h∆°n v·ªÅ logic ho·∫°t ƒë·ªông c·ªßa <code>reduce()</code> method, c√°ch accumulator v√† currentValue thay ƒë·ªïi qua m·ªói l·∫ßn l·∫∑p, v√† c√°c ·ª©ng d·ª•ng kh√°c nhau c·ªßa <code>reduce()</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><h1 id="b√†i-1-gioi-thieu-java-jvm-va-hellooo-world"><a class="header" href="#b√†i-1-gioi-thieu-java-jvm-va-hellooo-world">B√†i 1: GioÃõÃÅi thieÃ£ÃÇu Java, JVM vaÃÄ Hellooo world</a></h1>
<p>ƒê·ªçc b√†i g·ªëc c·ªßa Loda ƒëi nh√°, c√°i n√†y ch·ªâ ghi l·∫°i m·ªôt s·ªë √Ω ƒë·ªÉ cho m√¨nh quay l·∫°i tham kh·∫£o th√¥i.</p>
<h3 id="c√†i-ƒë·∫∑t-m√¥i-tr∆∞·ªùng"><a class="header" href="#c√†i-ƒë·∫∑t-m√¥i-tr∆∞·ªùng">C√†i ƒë·∫∑t m√¥i tr∆∞·ªùng</a></h3>
<p><code>Java</code>¬†ho·∫°t ƒë·ªông nh∆∞ v·∫≠y, n√≥ ch·ªâ n√≥i 1 ng√¥n ng·ªØ duy nh·∫•t th√¥i, tuy nhi√™n n√≥ c√≥ m·ªôt th·∫±ng anh b√° ƒë·∫°o, t√™n √¥ng √Ω n√¥m na l√†¬†m√¥i tr∆∞·ªùng ·∫£o¬†hay t√™n chu·∫©n l√†¬†<code>Java virtual machine (JVM)</code>. Nhi·ªám v·ª• c·ªßa¬†<code>JVM</code>¬†l√† n√≥ ph·ª• ƒë·ªÅ (thuy·∫øt minh) cho t·ª´ng lo·∫°i OS kh√°c nhau r·∫±ng th·∫±ng¬†<code>Java</code>¬†ƒëang l√†m g√¨, n√≥i g√¨, l√†m g√¨.</p>
<p>V√¨ ch√∫ng ta l√† Developer n√™n s·∫Ω c√†i g√≥i¬†<code>JDK</code>¬†(<code>Java Development Kit</code>), n√≥ ch·ª©a c√°c c√¥ng c·ª• gi√∫p l·∫≠p tr√¨nh¬†<code>Java</code>. Ngo√†i ra trong qu√° tr√¨nh c√†i, n√≥ s·∫Ω c√†i m√¥i tr∆∞·ªùng¬†<code>JRE</code>¬†(<code>Java Runtime Enviroment</code>, bao g·ªìm c·∫£ th·∫±ng¬†<code>JVM</code>¬†·ªü tr√™n) lu√¥n.</p>
<h3 id="hello-world"><a class="header" href="#hello-world">Hello World</a></h3>
<p>T·∫°o Project trong Intellij ch·∫≥ng h·∫°n, xong r·ªìi th√¨ c√πng nh√¨n v√†o c·∫•u tr√∫c c·ªßa project th√¨ s·∫Ω th·∫•y c√≥ 3 th∆∞ m·ª•c:</p>
<ul>
<li><code>.idea</code>: Th·∫±ng n√†y l√† th∆∞ m·ª•c do¬†<code>Intellij</code>¬†t·ª± t·∫°o ra ƒë·ªÉ ch·ª©a c√°c file config c·ªßa ph·∫ßn m·ªÅm n√†y, b·∫°n s·∫Ω k c·∫ßn quan t√¢m ƒë·∫øn.</li>
<li><code>src</code>: ƒê√¢y l√† th∆∞ m·ª•c ch√≠nh b·∫°n s·∫Ω l√†m vi·ªác, t·∫•t c·∫£¬†<code>code</code>¬†b·∫°n ƒë·ªÉ trong n√†y</li>
<li><code>{project-name}.iml</code>: File n√†y c≈©ng do¬†<code>Intellj</code>¬†t·∫°o ra v√† qu·∫£n l√Ω module, b·∫°n kh√¥ng c·∫ßn quan t√¢m n√≥.</li>
</ul>
<h3 id="m·ªôt-s·ªë-th√¥ng-tin-kh√°c"><a class="header" href="#m·ªôt-s·ªë-th√¥ng-tin-kh√°c">M·ªôt s·ªë th√¥ng tin kh√°c</a></h3>
<ul>
<li><code>public static void main(String[] args)</code>: (G·ªçi t·∫Øt l√†¬†<code>psvm</code>¬†nh√©) C√°i th·∫±ng n√†y s·∫Ω l√† n∆°i¬†<code>Java</code>¬†t√¨m t·ªõi ƒë·∫ßu ti√™n, v√† ƒë·ªçc to√†n b·ªô c√°c ƒëo·∫°n code trong c√°i th·∫±ng t√™n l√†¬†<code>psvm</code>¬†n√†y. D√π n√≥ ·ªü b·∫•t c·ª© ƒë√¢u, n√≥ s·∫Ω ƒë∆∞·ª£c t√¨m t·ªõi.</li>
<li>2 c√°i d·∫•u¬†<code>{``}</code>: ƒê√°nh d·∫•u ƒëo·∫°n b·∫Øt ƒë·∫ßu v√† k·∫øt th√∫c c·ªßa c√°i¬†<code>public static void main(String[] args)</code>¬†kia.</li>
</ul>
<p>V·∫≠y l√† th·∫±ng¬†<code>Java</code>¬†s·∫Ω ƒëi l√πng t√¨m, xem c√°i th·∫±ng¬†<code>psvm</code>¬†xem n√≥ ·ªü ƒë√¢u. R·ªìi ƒë·ªçc h·∫øt t·∫•t c·∫£ nh·ªØng th·ª© n·∫±m trong c√°i 2 d·∫•u¬†<code>{``}</code>¬†c·ªßa th·∫±ng n√†y.</p>
<h1 id="bien-ph·∫°m-vi-ki·ªÉu-d·ªØ-li·ªáu-to√°n-t·ª≠-trong-java"><a class="header" href="#bien-ph·∫°m-vi-ki·ªÉu-d·ªØ-li·ªáu-to√°n-t·ª≠-trong-java">BieÃÇÃÅn, ph·∫°m vi, ki·ªÉu d·ªØ li·ªáu, to√°n t·ª≠ trong Java</a></h1>
<h3 id="bi·∫øn--ki·ªÉu-d·ªØ-li·ªáu"><a class="header" href="#bi·∫øn--ki·ªÉu-d·ªØ-li·ªáu">Bi·∫øn &amp; Ki·ªÉu d·ªØ li·ªáu</a></h3>
<pre><code class="language-java">public class Calculation{
    public static void main(String[] args){
        // khai bao so nguyen
        int a = 5;
        int b = 10;
        int x = 10 + 5;
        System.out.println(x);

    }
}
</code></pre>
<p>Th·ª© nh·∫•t l√† c√°i¬†<code>// khai bao so nguyen</code>, c√°i n√†y g·ªçi l√†¬†<code>Comment</code>, t·ª©c c√°c b·∫°n vi·∫øt g√¨ sau 2 c√°i d·∫•u¬†<code>//</code>¬†th√¨ n√≥ s·∫Ω kh√¥ng ·∫£nh h∆∞·ªüng t·ªõi¬†<code>code</code>¬†c·ªßa ch∆∞∆°ng tr√¨nh, n√≥ ch·ªâ mang √Ω nghƒ©a ch√∫ th√≠ch th√¥i.</p>
<p>Th·ª© hai l√† c√°i n√†y:</p>
<pre><code class="language-java">int a = 5;
</code></pre>
<p>N√≥i v·ªÅ¬†<code>Bi·∫øn</code>¬†(<code>Variable</code>) c√°c b·∫°n c√≥ li√™n t∆∞·ªüng t·ªõi li√™n t∆∞·ªüng t·ªõi bi·∫øn¬†<code>x</code>¬†trong ƒë·ªì th·ªã h√†m s·ªë¬†<code>ax + b = 0</code>¬†kh√¥ng. Th√¨ ch√≠nh l√† n√≥ ƒë·∫•y.</p>
<blockquote>
<p>Bi·∫øn¬†s·∫Ω gi√∫p ch√∫ng ta l∆∞u tr·ªØ v√† qu·∫£n l√Ω c√°c gi√° tr·ªã trong ch∆∞∆°ng tr√¨nh.</p>
</blockquote>
<p>Trong¬†<code>Java</code>,¬†<code>Bi·∫øn</code>¬†c≈©ng l√† ƒë·∫°i di·ªán cho m·ªôt ƒë·ªëi t∆∞·ª£ng v√† ƒë·ªëi t∆∞·ª£ng n√†y ph·∫£i ƒë∆∞·ª£c x√°c ƒë·ªãnh l√† thu·ªôc¬†<code>Ki·ªÉu d·ªØ li·ªáu</code>¬†n√†o. C√≥ c√°c ki·ªÉu d·ªØ li·ªáu¬†<code>nguy√™n thu·ª∑</code>¬†(<code>primitive</code>) nh∆∞ sau:</p>
<ul>
<li><code>boolean</code>: l√† ki·ªÉu logic, ch·ªâ c√≥ 2 gi√° tr·ªã¬†<code>true</code>¬†ho·∫∑c¬†<code>false</code></li>
<li><code>char</code>: ki·ªÉu k√Ω t·ª±, ch·ªâ ch·ª©a ƒëc ƒë∆∞·ª£c m·ªôt k√Ω t·ª±, ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a trong d·∫•u ngo·∫∑c ƒë∆°n¬†<code>'</code></li>
<li><code>int</code>¬†: s·ªë nguy√™n (<code>1,2,3, ..</code>)</li>
<li><code>long</code>: s·ªë nguy√™n, l·ªõn h∆°n¬†<code>int</code>. (s·∫Ω gi·∫£i th√≠ch ·ªü d∆∞·ªõi)</li>
<li><code>float</code>: s·ªë th·ª±c (<code>1.5, 2.5, ..</code>).</li>
<li><code>double</code>: s·ªë th·ª±c, l·ªõn h∆°n¬†<code>float</code>.</li>
</ul>
<p>Ngo√†i ra c√≤n 2 ki·ªÉu d·ªØ li·ªáu nh·ªè h∆°n¬†<code>int</code>¬†l√†¬†<code>byte</code>¬†v√†¬†<code>short</code>.</p>
<p>Ki·ªÉu d·ªØ li·ªáu cao c·∫•p h∆°n g·ªçi l√†¬†<code>Object</code>¬†m√† ƒë·∫∑c tr∆∞ng nh·∫•t l√†¬†<code>String</code>.</p>
<ul>
<li><code>String</code>: M·ªôt chu·ªói c√°c k√Ω t·ª±, ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a trong d·∫•u ngo·∫∑c k√©p¬†<code>&quot;&quot;</code>. vd¬†<code>String a = &quot;Hellooo world~~~&quot;</code></li>
</ul>
<h3 id="c√°ch-khai-b√°o"><a class="header" href="#c√°ch-khai-b√°o">C√°ch khai b√°o</a></h3>
<p>ƒê·ªÉ khai b√°o bi·∫øn, b·∫Øt bu·ªôc tr∆∞·ªõc ƒë√≥ b·∫°n ph·∫£i ch·ªâ cho n√≥¬†<code>ki·ªÉu d·ªØ li·ªáu</code>¬†m√† n√≥ s·∫Ω nh·∫≠n, ngo√†i ra c√≥ th·ªÉ c√≥ gi√° tr·ªã ho·∫∑c kh√¥ng.</p>
<ul>
<li>C√°ch 1:¬†<code>[ki·ªÉu_d·ªØ_li·ªáu][t√™n_bi·∫øn];</code></li>
<li>C√°ch 2:¬†<code>[ki·ªÉu_d·ªØ_li·ªáu][t√™n_bi·∫øn] = [gi√°_tr·ªã];</code></li>
</ul>
<pre><code class="language-java">int a, b, c; // Khai b√°o 3 bi·∫øn c√≥ ki·ªÉu d·ªØ li·ªáu int
float b = 4.5f, c = 4f; // Khai b√°o 2 bi·∫øn c√≥ ki·ªÉu d·ªØ li·ªáu float v·ªõi gi√° tr·ªã ban ƒë·∫ßu. ·ªü ƒë√¢y bi·∫øn `c` s·∫Ω ƒë∆∞·ª£c hi·ªÉu l√† c = 4.0
double c = 4444.3;
char t = 'c';
String e = &quot;Hello&quot;;
</code></pre>
<h3 id="c√°ch-ƒë·∫∑t-t√™n"><a class="header" href="#c√°ch-ƒë·∫∑t-t√™n">C√°ch ƒë·∫∑t t√™n</a></h3>
<p>T√™n bi·∫øn ph·∫£i tu√¢n theo¬†<code>quy t·∫Øc l·∫°c ƒë√† (Camel Case)</code>: ƒë√≥ l√† ch·ªØ c√°i ƒë·∫ßu ti√™n c·ªßa t·ª´ ƒë·∫ßu ti√™n ph·∫£i vi·∫øt th∆∞·ªùng v√† ch·ªØ c√°i ƒë·∫ßu ti√™n c·ªßa c√°c t·ª´ ti·∫øp theo ph·∫£i vi·∫øt hoa, v√≠ d·ª•:¬†<code>listStudent</code>,¬†<code>minScore</code>.</p>
<h3 id="ph·∫°m-vi-s·ª≠-d·ª•ng"><a class="header" href="#ph·∫°m-vi-s·ª≠-d·ª•ng">Ph·∫°m vi s·ª≠ d·ª•ng</a></h3>
<p>M·ªôt khi b·∫°n ƒë√£ khai b√°o bi·∫øn, th√¨ b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng n√≥ trong nh·ªØng¬†<code>Ph·∫°m vi</code>¬†m√† n√≥ kh·∫£ d·ª•ng. ?? üòÄ?? C√πng nh√¨n v√≠ d·ª• ·ªü d∆∞·ªõi nh√©.</p>
<p>V√≠ d·ª•:</p>
<pre><code class="language-java">public static void main(String[] args){
    // khai bao so nguyen `a`
    int a;
    // G√°n gi√° tr·ªã cho a, b·∫°n s·ª≠ d·ª•ng to√°n t·ª≠ `=`
    // S·ª≠ d·ª•ng bi·∫øn a b√¨nh th∆∞·ªùng
    a = 124214;

    // l·∫•y a v√† c·ªông th√™m 1,, r·ªìi g√°n ng∆∞·ª£c l·∫°i gi√° tr·ªã ƒë√≥ v√†o a :D
    // S·ª≠ d·ª•ng bi·∫øn a b√¨nh th∆∞·ªùng
    a = a + 1;

}
// G√°n l·∫°i gi√° tr·ªã cho a = 100 - 10;
// Ch∆∞∆°ng tr√¨nh l·ªói
a = 100 - 10;
</code></pre>
<p><code>Ph·∫°m vi</code>¬†(<code>Scope</code>) l√† ƒë√¢y c√°c b·∫°n ·∫°, ch√≠nh l√† 2 c√°i d·∫•u¬†<code>{}</code>, khi b·∫°n khai b√°o m·ªôt bi·∫øn¬†<code>a</code>¬†trong 2 c√°i d·∫•u¬†<code>{``}</code>¬†th√¨ b·∫°n ch·ªâ c√≥ th·ªÉ s·ª≠ d·ª•ng ·ªü trong n√≥ th√¥i, ra ngo√†i n√≥ s·∫Ω kh√¥ng hi·ªÉu¬†<code>a</code>¬†l√† th·∫±ng n√†o v√† t·ª´ ƒë√¢u chui ra.</p>
<blockquote>
<p>Bi·∫øn¬†kh√¥ng th·ªÉ s·ª≠ d·ª•ng ngo√†i, nh∆∞ng n√≥ c√≥ th·ªÉ ƒë∆∞·ª£c s·ª≠ d·ª•ng ·ªü b√™n trong nh·ªØng¬†scope¬†m√† n√≥ ch·ª©a ho·∫∑c c√πng c·∫•p v·ªõi n√≥.</p>
</blockquote>
<pre><code class="language-java">public class Calculation{
    // Khai b√°o a ·ªü ngo√†i main, c√°i `public static` l√† c·∫ßn thi·∫øt nh√©, c√≤n chi ti·∫øt th√¨ ch√∫ng ta s·∫Ω h·ªçc ·ªü c√°c b√†i sau.
    public static int a = 5;
    public static void main(String[] args){
        // thay ƒë·ªïi a, ·ªü trong, v·∫´n okie.
        a = 10;

        // Bi·∫øn a c√≥ th·ªÉ s·ª≠ d·ª•ng trong c√°c `scope` con c·ªßa n√≥
        // L√†m g√¨ bi·∫øn a ·ªü ƒë√¢y c≈©ng ƒë∆∞·ª£c, bi·∫øn ƒë·ªïi n√≥.

        // g√°n gi√° tr·ªã bi·∫øn a v√†o b;
        int b = a;

        System.out.println(b);
    }
}
</code></pre>
<h3 id="to√°n-t·ª≠"><a class="header" href="#to√°n-t·ª≠">To√°n t·ª≠</a></h3>
<p>Khi ƒë√£ x√°c ƒë·ªãnh c√°c¬†<code>Bi·∫øn</code>¬†trong ch∆∞∆°ng tr√¨nh, b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng¬†<code>to√°n t·ª≠</code>¬†ƒë·ªÉ thay ƒë·ªïi c√°c gi√° tr·ªã. C√°c¬†<code>to√°n t·ª≠</code>¬†th√¨ kh√° ƒë∆°n gi·∫£n, gi·ªëng m√¥n to√°n b√¨nh th∆∞·ªùng th√¥i. V·ªõi c√°c ki·ªÉu¬†<code>nguy√™n thu·ª∑ (primitive)</code>¬†ta c√≥:</p>
<pre><code class="language-java">public class Calculation{
    public static void main(String[] args){
      int a;
      int b = 5;
      int c = a + b; // c = 0 + 5 c·ªông
      int d = a - b; // d = 0 - 5 tr·ª´
      int f = a * 5; // f = 0 x 5 nh√¢n
      int g = a / 5; // g = 0 : 5; chia
    }
}
</code></pre>
<p>C√≤n v·ªõi¬†<code>String</code>¬†th√¨ b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng¬†<code>+</code>¬†ƒë·ªÉ gh√©p 2 chu·ªói m√† th√¥i. C√≤n c√°c to√†n t·ª≠ c√≤n l·∫°i kh√¥ng ƒë∆∞·ª£c s·ª≠ d·ª•ng v·ªõi¬†<code>String</code></p>
<pre><code class="language-java">public class Calculation{
    public static void main(String[] args){
      String a = &quot;Hello&quot;
      String b = &quot;World&quot;
      // M√¨nh ƒë√£ n·ªëi 3 x√¢u l√† &quot;Hello&quot; + &quot; &quot; (Kho·∫£ng tr·∫Øng) + &quot;World&quot; l·∫°i v·ªõi nhau
      System.out.println(a + &quot; &quot; + b);

      String c = a + 5; // String c·ªông v·ªõi m·ªôt s·ªë nguy√™n?
      System.out.println(c); // K·∫øt qu·∫£ s·∫Ω l√†: &quot;Hello 5&quot; :V
      // B·∫°n s·∫Ω hi·ªÉu l√† khi c·ªông String v·ªõi m·ªôt s·ªë, s·ªë ƒë√≥ s·∫Ω b·ªã chuy·ªÉn th√†nh String v√† n·ªëi v√†o sau.

    }
}
</code></pre>
<h3 id="√âp-ki·ªÉu-d·ªØ-li·ªáu"><a class="header" href="#√âp-ki·ªÉu-d·ªØ-li·ªáu">√âp ki·ªÉu d·ªØ li·ªáu</a></h3>
<p>Nh√¨n v√†o v√≠ d·ª• sau, b·∫°n s·∫Ω r√µ.</p>
<pre><code class="language-java">public class Calculation{
    public static void main(String[] args){
      int a = 2;
      float b = 3.5f; // d√πng ch·ªØ f ƒë·ªÉ n√≥ hi·ªÉu ƒë√¢y l√† 3,5 float ch·ª© k ph·∫£i 3,5 double

      float c = a + b; // c = 5.5

      int d = a + b; // b√°o l·ªói. V√¨ sao?
      // v√¨ java ƒëang hi·ªÉu 2 + 3.5 n√≥ s·∫Ω √©p th√†nh 5.5 l√† float. B√¢y gi·ªù g√°n n√≥ v√†o s·ªë nguy√™n th√¨ s·∫Ω nh∆∞ n√†y int = float?

      // ƒê·ªÉ g√°n ƒë∆∞·ª£c b·∫°n c·∫ßn s·ª≠ d·ª•ng √©p ki·ªÉu
      int d = (int) a + b; // d = 5
      // a + b = 5.5 =&gt; √©p th√†nh (int) =&gt; 5 (l·∫•y ph·∫ßn nguy√™n th√¥i)

      char character = '5';
      int number = (int) character; // number = 53. Why?

      // V√¨ √©p `char` th√†nh `int` th√¨ n√≥ s·∫Ω kh√¥ng chuy·ªÉn ch·ªØ th√†nh s·ªë, m√† n√≥ s·∫Ω ki·∫øm tra '5' l√† k√Ω t·ª± ASCII th·ª© bao nhi√™u trong m√°y t√≠nh, v√† tr·∫£ l·∫°i s·ªë th·ª© t·ª± ƒë√≥.

      float = (float) 5; // =&gt; 5.0
    }
}
</code></pre>
<h3 id="b·∫£n-ch·∫•t-c·ªßa-bi·∫øn-n√≥i-th√™m"><a class="header" href="#b·∫£n-ch·∫•t-c·ªßa-bi·∫øn-n√≥i-th√™m">B·∫£n ch·∫•t c·ªßa bi·∫øn (N√≥i th√™m)</a></h3>
<p>Khi c√°c b·∫°n khai b√°o m·ªôt bi·∫øn¬†<code>int</code>¬†trong ch∆∞∆°ng tr√¨nh c·ªßa m√¨nh v√† s·ª≠ d·ª•ng lung tung kh·∫Øp m·ªçi n∆°i, th√¨ b·∫°n c√≥ bi·∫øt c√°i bi·∫øn¬†<code>int</code>¬†√Ω ·ªü ƒë√¢u l√≤i ra kh√¥ng :))</p>
<p>V·ªÅ b·∫£n ch·∫•t,¬†<code>Bi·∫øn</code>¬†s·∫Ω l√† m·ªôt v√πng nh·ªõ trong thi·∫øt b·ªã v·∫≠t l√Ω m√† d·ªÖ nh·∫•t l√† ƒë·ªÉ trong¬†<code>ram</code>. v√† khi b·∫°n cho n√≥ m·ªôt gi√° tr·ªã, n√≥ s·∫Ω l∆∞u tr·ªØ s·ªë ƒë√≥ v√†o¬†<code>ram</code>, v√† c·∫ßn th√¨ l·∫•y l√™n.</p>
<p>V·∫≠y ƒë·ªÉ¬†<code>ram</code>¬†bi·∫øt b·∫°n mu·ªën l∆∞u c√°i g√¨ th√¨ b·∫°n ph·∫£i khai b√°o cho n√≥. V√≠ d·ª• b·∫°n b·∫£o t√¥i c·∫ßn m·ªôt s·ªë nguy√™n¬†<code>int</code>. Th√¨ m√°y t√≠nh hi·ªÉu l√† m√¨nh c·∫ßn l∆∞u tr·ªØ m·ªôt s·ªë nguy√™n b√¨nh th∆∞·ªùng, kh√¥ng qu√° l·ªõn, n√≥ s·∫Ω cho b·∫°n¬†<code>4 byte</code>¬†trong¬†<code>Ram</code>¬†th√≠ch l∆∞u g√¨ th√¨ l∆∞u. nh∆∞ng¬†<code>kh√¥ng ƒë∆∞·ª£c v∆∞·ª£t qu√° 4 byte</code>.</p>
<blockquote>
<p>4 byte = 32 bit, b·ªè ƒëi 1 bit ƒë·∫ßu ti√™n ƒë·ªÉ ƒë√°nh d·∫•u l√† s·ªë √¢m hay d∆∞∆°ng, th√¨ c√≤n¬†31 bit¬†=&gt; s·ªë l·ªõn nh·∫•t m√† bi·∫øn int l∆∞u tr·ªØ ƒë∆∞·ª£c l√†¬†2^31 - 1¬†=¬†2147483647</p>
</blockquote>
<p>T·ª´ ƒë√¢y, b·∫°n s·∫Ω hi·ªÉu v√¨ sao c√≥ s·ªë¬†<code>long</code>, v√¨ nhu c·∫ßu l∆∞u s·ªë l·ªõn h∆°n th√¨¬†<code>long</code>¬†ƒë∆∞·ª£c c·∫•p t·∫≠n¬†<code>8 byte</code>.</p>
<p>C√≤n tr∆∞·ªùng h·ª£p ƒë·∫∑c bi·ªát nh∆∞¬†<code>String</code>¬†th√¨ tu·ª≥ gi√° tr·ªã c·ªßa n√≥ c√≥ bao nhi√™u k√Ω t·ª±, m√†¬†<code>Ram</code>¬†s·∫Ω c·∫•p t∆∞∆°ng ·ª©ng b·∫•y nhi√™u¬†<code>byte</code></p>
<h1 id="b√†i-3-ham-va-cau-lenh-ƒëieu-kien"><a class="header" href="#b√†i-3-ham-va-cau-lenh-ƒëieu-kien">B√†i 3: HaÃÄm vaÃÄ caÃÇu leÃ£ÃÇnh ƒëieÃÇÃÄu kieÃ£ÃÇn</a></h1>
<h2 id="1-c√¢u-l·ªánh-r·∫Ω-nh√°nh"><a class="header" href="#1-c√¢u-l·ªánh-r·∫Ω-nh√°nh">#1 C√¢u l·ªánh r·∫Ω nh√°nh</a></h2>
<h3 id="if"><a class="header" href="#if">if</a></h3>
<p>C√°c b·∫°n nh√¨n qua v√≠ d·ª• n√†y:</p>
<pre><code class="language-java">public static void main(String[] args){
    // khai bao so nguyen
    int a = 9;

    // Ki·ªÉm tra xem a c√≥ b·∫±ng 9 kh√¥ng
    if (a == 9) {
        // n·∫øu b·∫±ng 9, in ra m√†n h√¨nh &quot;Hello&quot;
        System.out.println(&quot;Hello&quot;);
    }

// K·∫øt qu·∫£ tr√™n m√†n h√¨nh:
// Hello
}
</code></pre>
<p>Th√¨ c√°c c·∫ßn bi·∫øt nh∆∞ sau, c√¢u l·ªánh¬†<code>if</code>¬†l√† m·ªôt c√¢u l·ªánh ƒëi·ªÅu ki·ªán, v√† nh·∫≠n v√†o l√† m·ªôt ƒëi·ªÅu ki·ªán¬†<code>true</code>¬†ho·∫∑c¬†<code>false</code>. C√≥ c√∫ ph√°p nh∆∞ sau:</p>
<pre><code class="language-java">if ([ƒëi·ªÅu ki·ªán]){
    // Th·ª±c hi·ªán ƒëo·∫°n code n·∫øu [ƒëi·ªÅu ki·ªán] l√† `true`. N·∫øu `false` b·ªè qa ƒëi xu·ªëng d∆∞·ªõi.
}
// Ti·∫øp t·ª•c th·ª±c hi·ªán ƒëo·∫°n code ph√≠a d∆∞·ªõi
</code></pre>
<p>V·∫≠y ƒë·∫•y, n√™n ƒë·ªÉ so s√°nh b·∫°n c·∫ßn d√πng¬†<code>to√°n t·ª≠ quan h·ªá</code>¬†m√¨nh li·ªát k√™ d∆∞·ªõi ƒë√¢y:</p>
<ul>
<li><code>==</code>: Ki·ªÉm tra 2 to√°n h·∫°ng c√≥¬†<code>b·∫±ng nhau</code>¬†kh√¥ng? (<code>if(a==b)</code>)</li>
<li><code>!=</code>: Ki·ªÉm tra 2 to√°n h·∫°ng c√≥¬†<code>kh√°c nhau</code>¬†kh√¥ng? (<code>if(a!=b)</code>)</li>
<li><code>&gt;</code>: Ki·ªÉm tra to√†n h·∫°ng A c√≥¬†<code>l·ªõn h∆°n</code>¬†B kh√¥ng? (<code>if(a&gt;b)</code>)</li>
<li><code>&lt;</code>: Ki·ªÉm tra to√†n h·∫°ng A c√≥¬†<code>nh·ªè h∆°n</code>¬†B kh√¥ng? (<code>if(a&lt;b)</code>)</li>
<li><code>&gt;=</code>: Ki·ªÉm tra to√†n h·∫°ng A c√≥¬†<code>l·ªõn h∆°n ho·∫∑c b·∫±ng</code>¬†B kh√¥ng? (<code>if(a&gt;=b)</code>)</li>
<li><code>&lt;=</code>: Ki·ªÉm tra to√†n h·∫°ng A c√≥¬†<code>nh·ªè h∆°n ho·∫∑c b·∫±ng</code>¬†B kh√¥ng? (<code>if(a&lt;=b)</code>)</li>
</ul>
<p>T·∫•t c·∫£¬†<code>to√°n t·ª≠ quan h·ªá</code>¬†·ªü tr√™n, khi th·ª±c hi·ªán xong n√≥ s·∫Ω tr·∫£ v·ªÅ l√† ki·ªÉu¬†<code>boolean</code>, n√™n b·∫°n c√≥ th·ªÉ g√°n n√≥ v√†o m·ªôt bi·∫øn b·∫•t k·ª≥, nh∆∞ l√†y:</p>
<pre><code class="language-java">int a = 5;
int b = 6;

boolean result = a == b; // false

System.out.println(&quot;Result: &quot; + result);

// K·∫øt qu·∫£ in ra tr√™n m√†n h√¨nh:
// &quot;Result: false&quot;

if(result){ // vi·∫øt t·∫Øt c·ªßa if(result == true)
    System.out.println(&quot;Result is true&quot;);
}
</code></pre>
<p>ƒê·∫øn ƒë√¢y, c√≥ th·ªÉ n√≥i c√¢u l·ªánh¬†<code>if</code>¬†th·ª±c ch·∫•t nh·∫≠n v√†o m·ªôt gi√° tr·ªã¬†<code>boolean</code>.</p>
<h3 id="else"><a class="header" href="#else">else</a></h3>
<p>Ti·∫øp theo, ch√∫ng ta t·ªõi v·ªõi d·∫°ng ƒë·∫ßy ƒë·ªß c·ªßa¬†<code>if</code>¬†ch√≠nh l√† c·∫•u tr√∫c¬†<code>if else</code>.</p>
<pre><code class="language-java">if ([ƒëi·ªÅu ki·ªán]){
    // Th·ª±c hi·ªán ƒëo·∫°n code n·∫øu [ƒëi·ªÅu ki·ªán] l√† `true`.
} else {
    // Th·ª±c hi·ªán ƒëo·∫°n code trong n√†y n·∫øu [ƒëi·ªÅu ki·ªán] l√† `false`
}
//C√°c ƒëo·∫°n code ·ªü d∆∞·ªõi th·ª±c hi·ªán b√¨nh th∆∞·ªùng sau khi if ho·∫∑c else di·ªÖn ra
</code></pre>
<p>V√≠ d·ª•:</p>
<pre><code class="language-java">int a = 5;
if ( (a + 2) == 7 ){
    System.out.println(&quot;B·∫±ng 7&quot;);
    // S·ª≠ d·ª•ng bi·∫øn `a` ·ªü ngay trong scope {} c·ªßa `if`,, nh∆∞ b√†i #2 m√¨nh c√≥ n√≥i, bi·∫øn ƒë∆∞·ª£c s·ª≠ d·ª•ng trong c√°c scope con ho·∫∑c b·∫±ng c·∫•p
    System.out.println(&quot;Gi√° tr·ªã l√∫c n√†y c·ªßa a = &quot; + a);
}else{
    System.out.println(&quot;Kh√°c 7&quot;);
    System.out.println(&quot;Gi√° tr·ªã l√∫c n√†y c·ªßa a = &quot; + a);
    int b = 7; // T·∫°o ra 1 bi·∫øn b trong else
}

b = 50; // L·ªói, kh√¥ng bi·∫øt b l√† g√¨, v√¨ b ·ªü scope nh·ªè h∆°n, b√™n ngo√†i kh√¥ng hi·ªÉu.
</code></pre>
<h3 id="to√°n-t·ª≠-logic"><a class="header" href="#to√°n-t·ª≠-logic">To√°n t·ª≠ logic</a></h3>
<p>To√°n t·ª≠ logic l√† nh·ªØng to√°n t·ª≠ gi√∫p ch√∫ng ta k·∫øt h·ª£p nhi·ªÅu [ƒëi·ªÅu ki·ªán] l·∫°i v·ªõi nhau.</p>
<p>V√≠ d·ª• m√¨nh n√≥i:¬†<code>&quot;N·∫øu ab = 3 V√Ä ac = 4 V√Ä bc = 5 th√¨ abc l√† tam gi√°c vu√¥ng&quot;</code></p>
<p>Th√¨ trong code c·∫ßn vi·∫øt ch∆∞∆°ng tr√¨nh nh∆∞ th·∫ø n√†o?</p>
<p>C√°ch 1: S·ª≠ d·ª•ng¬†<code>if</code>¬†th√¥ng th∆∞·ªùng.</p>
<pre><code class="language-java">int ab = 3;
int ac = 4;
int bc = 5;

if(ab == 3){
    if(ac == 4){
        if(bc == 5){
            System.out.println(&quot;abc l√† tam gi√°c c·ª±c vu√¥ng&quot;);
        }
    }
}
</code></pre>
<p>C√°ch 2: S·ª≠ d·ª•ng¬†<code>if</code>¬†v√†¬†<code>to√°n t·ª≠ logic</code></p>
<pre><code class="language-java">int ab = 3;
int ac = 4;
int bc = 5;

// N·∫øu ab = 3 V√Ä ac = 4 V√Ä bc = 5
if(ab == 3 &amp;&amp; ac == 4 &amp;&amp; bc==5){
    // th√¨ abc l√† tam gi√°c vu√¥ng
    System.out.println(&quot;abc l√† tam gi√°c c·ª±c vu√¥ng&quot;);
}
</code></pre>
<p>C√°c b·∫°n nh√¨n v√≠ d·ª• c≈©ng ƒëo√°n ra¬†<code>&amp;&amp;</code>¬†ch√≠nh l√†¬†<code>to√°n t·ª≠ logic</code>¬†ƒë·∫°i di·ªán cho kh√°i ni·ªám¬†<code>AND</code>. Ch√∫ng ta c√≥ t·∫•t c·∫£ c√°c lo·∫°i¬†<code>to√°n t·ª≠ logic</code>¬†nh∆∞ sau:</p>
<ul>
<li><code>&amp;&amp;</code>: AND</li>
<li><code>||</code>: OR</li>
<li><code>!</code>: NOT</li>
</ul>
<p>M·ª•c ti√™u c·ªßa c√°c¬†<code>to√°n t·ª≠ logic</code>¬†l√† t√°c ƒë·ªông l√™n c√°c bi·ªÉu th·ª©c¬†<code>boolean</code>¬†ƒë·ªÉ cho ra m·ªô bi·∫øn¬†<code>boolean</code>¬†m·ªõi.</p>
<h3 id="ph√©p-and-"><a class="header" href="#ph√©p-and-">Ph√©p AND (&amp;&amp;)</a></h3>
<p>Ph√©p¬†<code>&amp;&amp;</code>¬†ho·∫°t ƒë·ªông theo nguy√™n t·∫Øc,¬†<code>ch·ªâ c·∫ßn c√≥ 1 c√°i sai, th√¨ t·∫•t c·∫£ ƒë·ªÅu sai</code>¬†hay¬†<code>T·∫•t c·∫£ ƒë·ªÅu ph·∫£i ƒë√∫ng, m·ªõi l√† ƒë√∫ng</code></p>
<p>N·∫øu¬†<code>&quot;A ƒë√∫ng v√† B ƒë√∫ng v√† C sai th√¨ k·∫øt qu·∫£ v·∫´n l√† sai&quot;</code></p>
<pre><code class="language-java">// B·∫°n ch·∫°y th·ª≠ xem n√≥ ƒëi v√†o ph·∫ßn n√†o nh√©
if(true &amp;&amp; true &amp;&amp; true &amp;&amp; false){
    System.out.println(&quot;true&quot;);
}else{
    System.out.println(&quot;false&quot;);
}
</code></pre>
<h3 id="ph√©p-or-"><a class="header" href="#ph√©p-or-">Ph√©p OR (||)</a></h3>
<p>Ph√©p¬†<code>||</code>¬†th√¨ r·∫•t d·ªÖ d√£i,¬†<code>Ch·ªâ 1 c√°i ƒë√∫ng l√† ƒë·ªß</code></p>
<pre><code class="language-java">// B·∫°n ch·∫°y th·ª≠ xem n√≥ ƒëi v√†o ph·∫ßn n√†o nh√©
if(false || false || true || false){
    System.out.println(&quot;true&quot;);
}else{
    System.out.println(&quot;false&quot;);
}
</code></pre>
<h3 id="ph√©p-not-"><a class="header" href="#ph√©p-not-">Ph√©p NOT (!)</a></h3>
<p>Ph√©p¬†<code>!</code>¬†l√†m ph·ªß ƒë·ªãnh gi√° tr·ªã c·ªßa bi·ªÉu th·ª©c, n·∫øu n√≥ ƒëang¬†<code>true</code>¬†th√¨ bi·∫øn n√≥ th√†nh¬†<code>false</code>¬†v√† ng∆∞·ª£c l·∫°i.</p>
<pre><code class="language-java">int a = 7;
if(!(a == 7)){ // (a==7) =&gt; true g·∫∑p th·∫±ng ! l·∫°i b·ªã chuy·ªÉn th√†nh false. =&gt; v√†o v·∫ø else
    System.out.println(&quot;ƒê√°ng nh·∫Ω ra n√™n v√†o ƒë√¢y&quot;);
}else{
    System.out.println(&quot;But nope, n√≥ l·∫°i v√†o ƒë√¢y&quot;);
}
</code></pre>
<h2 id="h√†m-function"><a class="header" href="#h√†m-function">H√†m (Function)</a></h2>
<pre><code class="language-java">public class Calculation {
    public static void main(String[] args){
        f(5,6);
        f(2,3);
        f(1,10);
    }

    public static void f(int x, int y){
        int a = x + y;
        System.out.println(&quot;In a ra m√†n h√¨nh: &quot; + a);
    }
}
// K·∫øt qu·∫£ khi ch·∫°y:

// In a ra m√†n h√¨nh: 11
// In a ra m√†n h√¨nh: 5
// In a ra m√†n h√¨nh: 11
</code></pre>
<h3 id="c√°ch-khai-b√°o-1"><a class="header" href="#c√°ch-khai-b√°o-1">C√°ch khai b√°o</a></h3>
<p>C√°ch khai b√°o m·ªôt ph∆∞∆°ng th·ª©c nh∆∞ sau:</p>
<p><code>[ki·ªÉu_truy_c·∫≠p] [ki·ªÉu_tr·∫£_v·ªÅ] [t√™n_ph∆∞∆°ng_th·ª©c] ([danh_s√°ch_tham_s·ªë]){}</code></p>
<p>v√≠ d·ª•:</p>
<pre><code class="language-java">public static void f(int x, int y){
    // Code c·ªßa b·∫°n
}

public static void main(String[] args){

}
</code></pre>
<p>V√† khai b√°o ·ªü ngo√†i h√†m¬†<code>main()</code>. T·ªõi ƒë√¢y, b·∫°n hi·ªÉu¬†<code>main()</code>¬†c≈©ng l√† m·ªôt¬†<code>h√†m (function)</code>. Tuy nhi√™n n√≥ ƒë·∫∑c bi·ªát v√¨ c√∫ ph√°p c·ªßa n√≥ l√† c·ªë ƒë·ªãnh v√† ƒë∆∞·ª£c¬†<code>Java</code>¬†t√¨m t·ªõi ƒë·ªÉ ƒë·ªçc ƒë·∫ßu ti√™n.</p>
<p>1 -¬†<code>[ki·ªÉu_truy_c·∫≠p]</code>:</p>
<p>Trong v√≠ d·ª• tr√™n¬†<code>[ki·ªÉu_truy_c·∫≠p]</code>¬†ch√≠nh l√† v·∫ø¬†<code>public static</code>. N√≥ ƒë·ªãnh nghƒ©a ph·∫°m vi¬†<code>h√†m</code>¬†ƒë∆∞·ª£c s·ª≠ d·ª•ng. ch√∫ng ta s·∫Ω t√¨m hi·ªÉu ·ªü c√°c b√†i sau nh√© c√°c b·∫°n, b√¢y gi·ªù b·∫°n h√£y m·∫∑c ƒë·ªãnh s·ª≠ d·ª•ng¬†<code>public static</code>¬†·ªü tr∆∞·ªõc m·ªói h√†m khai b√°o ƒë·ªÉ c√≥ th·ªÉ s·ª≠ d·ª•ng ƒë∆∞·ª£c nh√©. ·ªû b√†i n√†y, ch√∫ng ta t·∫°m hi·ªÉu v·ªõi nhau:¬†<code>public static</code>¬†l√†¬†<code>&quot;truy c·∫≠p ·ªü b·∫•t c·ª© ƒë√¢u&quot;</code>¬†t·ª©c c√≥ th·ªÉ g·ªçi h√†m n√†y ·ªü b·∫•t k√¨ ch·ªó n√†o.</p>
<p>2 -¬†<code>[ki·ªÉu_tr·∫£_v·ªÅ]</code>:</p>
<p>T∆∞∆°ng ƒë∆∞∆°ng v·ªõi ph·∫ßn¬†<code>void</code>¬†·ªü v√≠ d·ª• tr√™n, ki·ªÉu tr·∫£ v·ªÅ l√† gi√° tr·ªã ch√∫ng ta nh·∫≠n ƒë∆∞·ª£c sau khi g·ªçi h√†m.</p>
<p>B·∫°n h√£y nh·ªõ l·∫°i, khi truy·ªÅn¬†<code>x</code>¬†v√†o¬†<code>f(x)</code>¬†ch√∫ng ta s·∫Ω nh·∫≠n l·∫°i l√†¬†<code>y</code>. Th√¨ h√†m c≈©ng v·∫≠y, ch√∫ng ta c√≥ th·ªÉ tr·∫£ l·∫°i m·ªôt gi√° tr·ªã g√¨ ƒë√≥. v√≠ d·ª•:</p>
<pre><code class="language-java">// [ki·ªÉu tr·∫£ v·ªÅ]: int
public static int tong(int x, int y){
    int t = x + y; // T√≠nh t·ªïng 2 s√≥ x, y
    return t; // tr·∫£ s·ªë ƒë√≥ ra s·ª≠ d·ª•ng c√¢u l·ªánh `return {bi·∫øn}`
}

public static void main(String[] args){
    int t = tong(5,6); // L·∫•y gi√° tr·ªã tr·∫£ ra, g√°n n√≥ v√†o t;
}
</code></pre>
<p>T√¥i ƒë·ªãnh nghƒ©a m·ªôt h√†m t√≠nh t·ªïng¬†<code>tong(x,y)</code>¬†nh·∫≠n v√†o 2 s·ªë nguy√™n, v√† y√™u c·∫ßu n√≥ tr·∫£ ra m·ªôt s·ªë¬†<code>int</code>.</p>
<p>C√°c ki·ªÉu tr·∫£ v·ªÅ:</p>
<ul>
<li><code>primitive</code>:¬†<code>int</code>,¬†<code>boolean</code>,¬†<code>char</code>, ...</li>
<li><code>Object</code>:¬†<code>String</code>, (c√≤n r·∫•t nhi·ªÅu, s·∫Ω h·ªçc ·ªü b√†i ti·∫øp theo)</li>
<li><code>void</code>: Kh√¥ng tr·∫£ v·ªÅ g√¨ c·∫£</li>
</ul>
<p>·ªû v√≠ d·ª• ƒë·∫ßu ti√™n m√¨nh ƒë√£ s·ª≠ d·ª•ng¬†<code>void</code>¬†ƒë·ªÉ ƒë·ªãnh nghƒ©a h√†m.</p>
<pre><code class="language-java">public static void f(int x, int y){
    int a = x + y;
    System.out.println(&quot;In a ra m√†n h√¨nh: &quot; + a);
}
</code></pre>
<p>ƒêi·ªÅu n√†y n√≥i l√† h√†m c·ªßa ch√∫ng ta th·ª±c hi·ªán m·ªôt ho·∫°t ƒë·ªông kh√©p k√≠n, v√† kh√¥ng c√≥ nhu c·∫ßu tr·∫£ ra ngo√†i c√°i g√¨ c·∫£. M√¨nh ch·ªâ t√≠nh t·ªïng r·ªìi in lu√¥n ra m√†n h√¨nh th√¥i, kh√¥ng c·∫ßn ƒë∆∞a g√¨ ra ngo√†i c·∫£.</p>
<p>3 -¬†<code>[danh_s√°ch_tham_s·ªë]</code></p>
<p>Tham s·ªë ƒë·∫ßu v√†o, l√† nh·ªØng th·ª© ch√∫ng ta ƒë∆∞a v√†o h√†m, ƒë·ªãnh nghƒ©a tham s·ªë ƒë·∫ßu v√†o bao g·ªìm¬†<code>[ki·ªÉu_d·ªØ_li·ªáu] [t√™n_bi·∫øn]</code>. Ch√∫ng ta c√≥ truy·ªÅn nhi·ªÅu tham s·ªë v√†o¬†<code>h√†m</code>¬†b·∫±ng c√°ch ƒë·∫∑t d·∫ßu ph·∫©y¬†<code>,</code>¬†gi·ªØa m·ªói tham s·ªë.</p>
<pre><code class="language-java">public static int f(int x, int y, int z, ... ){
    // code
}
</code></pre>
<p>·ªû ƒë√¢y l∆∞u √Ω ph·∫ßn¬†<code>[t√™n_bi·∫øn]</code>¬†b·∫°n c√≥ th·ªÉ ƒë·∫∑t t√™n b·∫•t k·ª≥. ch·∫≥ng h·∫°n:</p>
<pre><code class="language-java">// H√†m nh·∫≠n v√†o 2 bi·∫øn `x`, `y` v√† tr·∫£ ra k·∫øt qu·∫£ `boolean` xem n√≥ c√≥ b·∫±ng nhau hay kh√¥ng
public static boolean bangnhau(int x, int y){
    return x == y;
}

public static void main(String[] args){
    int a = 5; // t√™n bi·∫øn l√† `a`
    int b = 6; // t√™n bi·∫øn l√† `b`

    boolean ketqua = bangnhau(a,b); // ƒë∆∞a `a` , `b` v√†o h√†m.
    // b·∫£n ch·∫•t khi g·ªçi h√†m `bangnhau`:
    // int x = a;
    // int y = b;
    // return x == y;
    //
    System.out.println(&quot;K·∫øt qu·∫£: &quot; + ketqua);
}
</code></pre>
<p>B·∫°n ƒë·ªãnh nghƒ©a¬†<code>tham s·ªë ƒë·∫ßu v√†o</code>¬†l√†¬†<code>x</code>¬†v√†¬†<code>y</code>¬†th√¨ n√≥ ch·ªâ hi·ªÉu trong ·ªü h√†m ƒë√≥ th√¥i, v√† nh·ªØng gi√° tr·ªã truy·ªÅn v√†o s·∫Ω g√°n v√†o c√°c bi·∫øn¬†<code>x</code>¬†v√†¬†<code>y</code>.</p>
<h1 id="nhap-xuat-du-lieu-trong-java"><a class="header" href="#nhap-xuat-du-lieu-trong-java">NhaÃ£ÃÇp xuaÃÇÃÅt duÃõÃÉ lieÃ£ÃÇu trong Java</a></h1>
<h3 id="nh·∫≠p-xu·∫•t-t·ª´-b√†n-ph√≠m"><a class="header" href="#nh·∫≠p-xu·∫•t-t·ª´-b√†n-ph√≠m">Nh·∫≠p xu·∫•t t·ª´ b√†n ph√≠m</a></h3>
<pre><code class="language-java">public class Calculation {
    public static void main(String[] args) {
        // Ch√∫ng ta khai b√°o 3 bi·∫øn a,b,c kh√¥ng c√≥ gi√° tr·ªã.
        int a, b, c;

        //Khai b√°o ƒë·ªëi t∆∞·ª£ng Scanner, gi√∫p ch√∫ng ta nh·∫≠n th√¥ng tin t·ª´ keyboard
        Scanner sc = new Scanner(System.in);
        System.out.print(&quot;Nh·∫≠p a: &quot;); //print thay v√¨ println, n√≥ s·∫Ω in ra, nh∆∞ng kh√¥ng xu·ªëng d√≤ng

        a = sc.nextInt(); // sc.nextInt() l√† c√°ch ƒë·ªÉ l·∫•y gi√° tr·ªã t·ª´ b√†n ph√≠m, n√≥ s·∫Ω ch·ªù t·ªõi khi ch√∫ng ta nh·∫≠p m·ªôt s·ªë.
        System.out.print(&quot;Nh·∫≠p b: &quot;);
        b = sc.nextInt();
         System.out.print(&quot;Nh·∫≠p c: &quot;);
        c = sc.nextInt();
        // In c√°c gi√° tr·ªã ra m√†n h√¨nh
        System.out.println(&quot;a = &quot; + a + &quot;, b = &quot; + b + &quot;, c = &quot; + c);
        //  ƒê√¢y l√† ph√©p c·ªông String m√¨nh ƒë√£ n√≥i trong B√†i #1.
}
</code></pre>
<p>C√°i d√≤ng l·ªánh n√†y¬†<code>a = sc.nextInt()</code>. N√≥ s·∫Ω ch·ªù cho t·ªõi khi b·∫°n nh·∫≠p 1 s·ªë nguy√™n v√† g√µ¬†<code>Enter</code>¬†th√¨ th√¥i. Gi·∫£ s·ª≠ m√¨nh nh·∫≠p¬†<code>5</code></p>
<p>Ch∆∞∆°ng tr√¨nh l·∫°i ti·∫øp t·ª•c ch·∫°y cho t·ªõi khi g·∫∑p c√¢u l·ªánh¬†<code>sc.nextInt()</code>¬†ti·∫øp theo. V√† c·ª© ti·∫øp t·ª•c nh∆∞ v·∫≠y cho t·ªõi d√≤ng l·ªánh cu·ªëi c√πng.</p>
<p>T·ª´ ƒë√¢y, c√°c b·∫°n c√≥ th·ªÉ hi·ªÉu l√† ƒë·ªëi t∆∞·ª£ng¬†<code>Scanner</code>¬†ƒë√£ l√†m nhi·ªám v·ª• l√† nh·∫≠n d·ªØ li·ªáu ng∆∞·ªùi d√πng nh·∫≠p t·ª´ b√†n ph√≠m, v√† g√°n n√≥ v√†o bi·∫øn, b·∫±ng c√¢u l·ªánh¬†<code>nextInt</code>.</p>
<p>B√¢y gi·ªù quay tr·ªü ng∆∞·ª£c l√™n tr√™n 1 ch√∫t, ·ªü c√¢u l·ªánh:</p>
<pre><code class="language-java">Scanner sc = new Scanner(System.in);
</code></pre>
<p>c√°c b·∫°n s·∫Ω th·∫•y m·ªôt kh√°i ni·ªám l√†¬†<code>new</code>. c√°i n√†y th√¨ [B√†i #5][link-bai5] m√¨nh s·∫Ω n√≥i chi ti·∫øt, c√≤n ·ªü ƒë√¢y th√¨ b·∫°n hi·ªÉu n√≥ ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ t·∫°o ra 1 ƒë·ªëi t∆∞·ª£ng¬†<code>Scanner</code>. </p>
<h3 id="c√°c-ph∆∞∆°ng-th·ª©c-nh·∫≠p-xu·∫•t"><a class="header" href="#c√°c-ph∆∞∆°ng-th·ª©c-nh·∫≠p-xu·∫•t">C√°c ph∆∞∆°ng th·ª©c nh·∫≠p xu·∫•t</a></h3>
<p><code>Scanner</code>¬†c√≥ m·ªôt lo·∫°t c√°c h√†m h·ªó tr·ª£ nh∆∞ sau:</p>
<ul>
<li><code>next()</code>: Nh·∫≠n v√†o m·ªôt¬†<code>String token</code>¬†(nh·∫≠n v√†o 1 t·ª´ ƒë·∫ßu ti√™n thay c·∫£ c√¢u)</li>
<li><code>nextInt()</code>: Nh·∫≠n v√†o m·ªôt s·ªë¬†<code>int</code></li>
<li><code>nextLong()</code>: Nh·∫≠n v√†o m·ªôt s·ªë¬†<code>long</code></li>
<li><code>nextFloat()</code>: Nh·∫≠n v√†o m·ªôt s·ªë¬†<code>float</code></li>
<li><code>nextDouble()</code>: Nh·∫≠n v√†o m·ªôt s·ªë¬†<code>double</code></li>
<li><code>sc.nextLine()</code>: Nh·∫≠n v√†o m·ªôt¬†<code>chu·ªói String</code>¬†(C·∫£ 1 c√¢u)</li>
<li><code>nextByte()</code>: Nh·∫≠n v√†o m·ªôt¬†<code>byte</code></li>
<li><code>nextBoolean()</code>: Nh·∫≠n v√†o m·ªôt¬†<code>boolean</code></li>
</ul>
<p>C√°c h√†m tr√™n b·∫°n hi·ªÉu nguy√™n l√Ω l√† n√≥ ƒë·ªÅu s·∫Ω¬†<code>ch·ªù</code>¬†cho t·ªõi khi b·∫°n nh·∫≠p ki·ªÉu d·ªØ li·ªáu n√≥ mu·ªën v√†o.</p>
<p>C√≥¬†<code>next()</code>¬†v√†¬†<code>nextLine()</code>¬†kh√° ƒë·∫∑c bi·ªát, m√¨nh s·∫Ω v√≠ d·ª•:</p>
<pre><code class="language-java">Scanner sc = new Scanner(System.in); //T·∫°o ƒë·ªëi t∆∞·ª£ng Scanner
System.out.print(&quot;Nh·∫≠p g√¨ ƒë√≥: &quot;);
String a = sc.nextLine(); // nh·∫≠n v√†o 1 string
System.out.println(&quot;B·∫°n v·ª´a nh·∫≠p: &quot;+a);

System.out.print(&quot;Nh·∫≠p th√™m g√¨ ƒëi: &quot;);
String b = sc.next(); // c≈©ng nh·∫≠n v√†o 1 String
System.out.println(&quot;B·∫°n v·ª´a nh·∫≠p: &quot;+b);
</code></pre>
<p><code>nextLine</code>¬†th√¨ nh·∫≠n v√†o c·∫£ 1 chu·ªói d√†i¬†<code>String</code>, cho t·ªõi khi b·∫°n nh·∫•n¬†<code>Enter</code>. C√≤n¬†<code>next</code>¬†d√π b·∫°n c√≥ nh·∫≠p d√†i nh∆∞ n√†o, n√≥ c≈©ng nh·∫≠n 1 t·ª´ ƒë·∫ßu ti√™n th√¥i.</p>
<h3 id="b·∫£n-ch·∫•t-c·ªßanext"><a class="header" href="#b·∫£n-ch·∫•t-c·ªßanext">B·∫£n ch·∫•t c·ªßa<code>next</code></a></h3>
<p>B·∫°n ƒë·ªÉ √Ω l√† c√°c h√†m l·∫•y gi√° tr·ªã t·ª´ b√†n ph√≠m ƒë·ªÅu c√≥ ch·ªØ¬†<code>next</code>. B√¢y gi·ªù b·∫°n ch·∫°y cho m√¨nh v√≠ d·ª• n√†y, b·∫°n s·∫Ω hi·ªÉu:</p>
<pre><code class="language-java">public static void main(String[] args) {
    int a,b,c;
    Scanner sc = new Scanner(System.in); // T·∫°o ƒë·ªëi t∆∞·ª£ng Scanner
    System.out.print(&quot;Nh·∫≠p a: &quot;);
    a = sc.nextInt();
    b = sc.nextInt();
    c = sc.nextInt();
    System.out.println(&quot;a = &quot;+a);
    System.out.println(&quot;b = &quot;+b);
    System.out.println(&quot;c = &quot;+c);
}
</code></pre>
<p>B·∫°n s·∫Ω th·∫•y l√†, n√≥ ƒë∆∞a¬†tu·∫ßn t·ª±¬†c√°c gi√° tr·ªã hi·ªán c√≥ tr√™n b√†n ph√≠m v√†o c√°c bi·∫øn. b·∫£n ch·∫•t c·ªßa ch·ªØ¬†<code>next</code>¬†ch√≠nh l√†¬†tu·∫ßn t·ª±. N√≥ s·∫Ω ch·ªù b·∫°n nh·∫≠p n·∫øu kh√¥ng c√≥ gi√° tr·ªã g√¨ tr√™n m√†n h√¨nh, nh∆∞ng n·∫øu ƒë√£ c√≥ s·∫µn gi√° tr·ªã r·ªìi, n√≥ s·∫Ω ghi nh·ªõ trong¬†<code>b·ªô ƒë·ªám</code>¬†v√† khi g·∫∑p h√†m¬†<code>nextInt()</code>¬†n√≥ kh√¥ng ch·ªù n·ªØa, m√† n√≥ l·∫•y lu√¥n c√°i gi√° tr·ªã c√≤n th·ª´a ra, ch∆∞a s·ª≠ d·ª•ng ƒë·∫øn ƒë·ªÉ g·∫Øn lu√¥n v√†o bi·∫øn üòÇ</p>
<p>Nh√¨n nh∆∞ nh∆∞ n√†y cho d·ªÖ hi·ªÉu:</p>
<pre><code class="language-java">public static void main(String[] args) {
    int a,b,c;
    Scanner sc = new Scanner(System.in); // T·∫°o ƒë·ªëi t∆∞·ª£ng Scanner
    System.out.print(&quot;Nh·∫≠p a: &quot;);
    a = sc.nextInt(); // Ch·ªù b·∫°n nh·∫≠p.
    // b·∫°n nh·∫≠p: 5 6 7 8 9 10
    // b·ªô ƒë·ªám = 5 6 7 8 9 10
    // l·∫•y 5 ra, g·∫Øn v√†o a
    // b·ªô ƒë·ªám c√≤n: 6 7 8 9 10
    b = sc.nextInt(); // g·∫∑p l·ªánh nextInt()
    // th·∫•y b·ªô ƒë·ªám c√≤n, l·∫•y 6 ra, g·∫Øn v√†o b
    // b·ªô ƒë·ªám c√≤n: 7 8 9 10
    c = sc.nextInt(); // g·∫∑p l·ªánh nextInt()
    // th·∫•y b·ªô ƒë·ªám c√≤n th·ª´a, l·∫•y 7 ra, g·∫Øn v√†o b
    // b·ªô ƒë·ªám c√≤n: 8 9 10
    System.out.println(&quot;a = &quot;+a); // in a
    System.out.println(&quot;b = &quot;+b); // in b
    System.out.println(&quot;c = &quot;+c); // in c
}
</code></pre>
<h3 id="inp·ª•t-outp·ª•t-t·ª´-file"><a class="header" href="#inp·ª•t-outp·ª•t-t·ª´-file">Inp·ª•t/ outp·ª•t t·ª´ File</a></h3>
<p>ƒê·ªÉ cho thu·∫≠n ti·ªán trong vi·ªác ƒë·ªçc ghi, th√¨ ngo√†i b√†n ph√≠m, m·ªôt trong nh·ªØng y√™u c·∫ßu quan tr·ªçng khi l·∫≠p tr√¨nh ƒë√≥ l√† nh·∫≠p xu·∫•t d·ªØ li·ªáu t·ª´ File, ph·∫ßn n√†y s·∫Ω kh√¥ng kh√°c nhi·ªÅu v·ªõi t·ª´ b√†n ph√≠m ƒë√¢u c√°c b·∫°n, m√¨nh s·∫Ω h∆∞·ªõng d·∫´n.</p>
<p>T·∫°i th∆∞ m·ª•c g·ªëc c·ªßa project, b·∫°n click¬†<code>New</code>¬†&gt;¬†<code>File</code>. T·∫°o 1 t·ªáp t√™n l√†¬†<code>input.txt</code>. Nh∆∞ h√¨nh:</p>
<pre><code class="language-java">public static void main(String[] args) throws FileNotFoundException { // Th√™m c√°i n√†y v√†o ƒë√¢y
    int a,b,c;
    Scanner sc = new Scanner(new File(&quot;input.txt&quot;)); // T·∫°o ƒë·ªëi t∆∞·ª£ng Scanner ƒë·ªçc t·ªõi c√°i file v·ª´a t·∫°o
    System.out.print(&quot;Nh·∫≠p a: &quot;);
    a = sc.nextInt();
    b = sc.nextInt();
    c = sc.nextInt();
    System.out.println(&quot;a = &quot;+a); // in a
    System.out.println(&quot;b = &quot;+b); // in b
    System.out.println(&quot;c = &quot;+c); // in c
}
// K·∫øt qu·∫£ ch·∫°y:
// Nh·∫≠p a: a = 5
// b = 7
// c = 8
</code></pre>
<p>ƒêo·∫°n¬†<code>throws FileNotFoundException</code>. ·ªû ƒë√¢y th√¨ b·∫°n hi·ªÉu n√≥ l√† l·ªói c√≥ th·ªÉ x·∫£y ra, n·∫øu n√≥ kh√¥ng t√¨m th·∫•y file¬†<code>input.txt</code>¬†th√¨ n√≥ s·∫Ω x·∫£y ra c√°i l·ªói kia. Ch√∫ng ta s·∫Ω x·ª≠ l√Ω l·ªói ƒë√≥ sau, hi·ªán t·∫°i th√¨ n·∫øu b·∫°n nh·∫≠p ƒë√∫ng t√™n File th√¨ kh√¥ng th·ªÉ l·ªói ƒë∆∞·ª£c.# ViÃÄ sao neÃÇn suÃõÃâ duÃ£ng StringBuffer</p>
<p>C√πng xem v√≠ d·ª• n√†y nh√©:</p>
<pre><code class="language-java">long start = System.nanoTime();

String s = &quot;Hello&quot;;
for (int i = 0; i &lt; 1000; i++) {
    s += &quot; world&quot;;
}
long end = System.nanoTime();
System.out.println(&quot;Total time: &quot;+(end-start));

// K·∫øt qu·∫£:
// Total time: 17495917 ns
// = 17.4 ms (Milliseconds)
</code></pre>
<p>B√¢y gi·ªù, v·∫´n l√† ch∆∞∆°ng tr√¨nh t∆∞∆°ng t·ª±, m√¨nh s·ª≠ s·ª•ng¬†<code>String Buffer</code></p>
<pre><code class="language-java">long start = System.nanoTime();

StringBuffer sb = new StringBuffer(&quot;Hello&quot;);
for (int i = 0; i &lt; 1000; i++) {
    sb.append(&quot; world&quot;);
}
String s = sb.toString();
long end = System.nanoTime();
System.out.println(&quot;Total time: &quot;+(end-start));

// K·∫øt qu·∫£:
// Total time: 461198 ns
// = 0.46 ms
</code></pre>
<p><code>String Buffer</code>¬†nhanh h∆°n g·∫•p¬†38 l·∫ßn.</p>
<p>Hi·ªáu nƒÉng ƒë∆∞·ª£c ch·∫°y tr√™n Mac Pro 2017, t·∫°i m√°y b·∫°n c√≥ th·ªÉ s·∫Ω kh√°c, nh∆∞ng ch·∫Øc ch·∫Øn r·∫±ng¬†<code>StringBuffer</code>¬†lu√¥n nhanh h∆°n!</p>
<h3 id="g√≥c-gi·∫£i-th√≠ch"><a class="header" href="#g√≥c-gi·∫£i-th√≠ch">G√≥c gi·∫£i th√≠ch</a></h3>
<p>C√≥ m·ªôt ƒëi·ªÅu √≠t b·∫°n h·ªçc l·∫≠p tr√¨nh¬†<code>Java</code>¬†ƒë·ªÉ √Ω, ƒë√≥ l√†¬†<code>String</code>¬†l√†¬†<code>immutable</code>. T·ª©c n·ªôi dung trong¬†<code>String</code>¬†l√† kh√¥ng ƒë∆∞·ª£c quy·ªÅn thay ƒë·ªïi.</p>
<p>Nhi·ªÅu b·∫°n l·∫ßm t∆∞·ªüng r·∫±ng vi·ªác n·ªëi x√¢u l√† b·∫°n thay ƒë·ªïi n·ªôi dung c·ªßa¬†<code>String</code>, nh∆∞ng th·ª±c ch·∫•t b·∫°n ƒëang t·∫°o ra m·ªôt ƒë·ªëi t∆∞·ª£ng ho√†n to√†n m·ªõi:</p>
<pre><code class="language-java">String s = &quot;A&quot;;
s += &quot;B&quot;;
// Complier s·∫Ω t·∫°o ra m·ªôt ƒë·ªëi t∆∞·ª£ng m·ªõi l√† &quot;AB&quot;
// V√† g√°n v√†o `s`
// B·∫£n ch·∫•t `s` b√¢y gi·ªù l√† m·ªôt ƒë·ªëi t∆∞·ª£ng m·ªõi ch·ª© b·∫°n kh√¥ng h·ªÅ thay ƒë·ªïi n·ªôi dung ban ƒë·∫ßu c·ªßa `s`.
// ƒê√¢y l√† nh·ªØng g√¨ ·ªü d∆∞·ªõi Compiler s·∫Ω l√†m:
StringBuffer sb = new StringBuffer(&quot;A&quot;); // Compiler V·∫´n ph·∫£i x√†i t·ªõi StringBuffer
sb.append(&quot;B&quot;);
s = sb.toString();
</code></pre>
<p>V√¨ v·∫≠y khi n·ªëi x√¢u trong¬†<code>Java</code>, vi·ªác b·∫°n th·ª±c hi·ªán n√≥ li√™n t·ª•c, s·∫Ω t∆∞∆°ng ƒë∆∞∆°ng v·ªõi vi·ªác kh·ªüi t·∫°o li√™n t·ª•c v√† n·ªëi 2 x√¢u l·∫°i r·ªìi tr·∫£ v·ªÅ ƒë·ªëi t∆∞·ª£ng¬†<code>String</code>¬†m·ªõi d·∫´n t·ªõi chi ph√≠ l·ªõn.</p>
<p><code>StringBuffer</code>¬†cho ph√©p ch√∫ng ta thao t√°c tr√™n m·ªôt ƒë·ªëi t∆∞·ª£ng duy nh·∫•t v√† thay ƒë·ªïi ƒë∆∞·ª£c n·ªôi dung trong n√≥. N·∫øu ban ƒë·∫ßu n·ªôi dung l√†¬†<code>&quot;A&quot;</code>, b·∫°n mu·ªën n·ªëi th√™m¬†<code>&quot;B&quot;</code>¬†v√†o. Th√¨ n√≥ ch·ªâ c·∫ßn g·∫Øn chu·ªói¬†<code>bytes</code>¬†c·ªßa¬†<code>&quot;B&quot;</code>¬†v√†o li·ªÅn k·ªÅ ngay sau¬†<code>&quot;A&quot;</code>¬†l√† xong. (V√¨ n√≥ c√≥ th·ªÉ thay ƒë·ªïi, kh√°c v·ªõi¬†<code>String</code>¬†l√†¬†<code>immutable</code>).</p>
<h1 id="huong-dan-java-reflection"><a class="header" href="#huong-dan-java-reflection">HuÃõoÃõÃÅng daÃÇÃÉn Java Reflection</a></h1>
<h3 id="gi·ªõi-thi·ªáu"><a class="header" href="#gi·ªõi-thi·ªáu">Gi·ªõi thi·ªáu</a></h3>
<p><code>Java Relection</code>¬†l√† m·ªôt core package trong th∆∞ vi·ªán chu·∫©n c·ªßa¬†<code>Java</code>. M·ª•c ƒë√≠ch c·ªßa n√≥ l√† cho ph√©p ch√∫ng ta truy c·∫≠p v√†o¬†g·∫ßn nh∆∞ m·ªçi th·ª©¬†b√™n trong ƒë·ªëi t∆∞·ª£ng. &quot;D∆∞·ªõi m·ªôt g√≥c ƒë·ªô kh√°c&quot;!</p>
<p>Ch√∫ng ta th∆∞·ªùng bi·∫øt t·ªõi¬†<code>Java</code>¬†th√¥ng qua kh√°i ni·ªám h∆∞·ªõng ƒë·ªëi t∆∞·ª£ng nh∆∞ sau:</p>
<pre><code class="language-java">String str = &quot;Hello Loda&quot;;
str.toUpperCase(); // Ch√∫ng ta g·ªçi h√†m toUpperCase() th√¥ng qua to√°n t·ª≠ &quot;.&quot;
// M·ªçi th·ª© trong ƒë·ªëi t∆∞·ª£ng l√† kh√©p k√≠n, ch√∫ng ta ph·∫£i g·ªçi th√¥ng qua h√†m public
</code></pre>
<p>Ho·∫∑c</p>
<pre><code class="language-java">public class Girl {
    String name;
    int age;
    int atk;
    int agi;
    int def;
    // ... V√† 1000 thu·ªôc t√≠nh kh√°c

    public static void main(String[] args) {
        Girl girl = new Girl();
        // Ch√∫ng ta th∆∞·ªùng ph·∫£i nh·ªõ t√™n thu·ªôc t√≠nh ƒë·ªÉ g·ªçi n√≥ ra
        girl.name = &quot;Ngoc Trinh&quot;;

        // Gi√° s·ª≠ class n√†y c√≥ 100 thu·ªôc t√≠nh l√† String.
        // B·∫°n mu·ªën set gi√° tr·ªã c·ªßa t·∫•t c·∫£ tr∆∞·ªùng String l√† &quot;Ngoc Trinh&quot;
        // B·∫°n s·∫Ω r·∫•t b·ªëi r·ªëi vs vi·ªác g·ªçi t·ª´ng thu·ªôc t√≠nh b·∫±ng vi·ªác &quot;.{t√™n thu·ªôc t√≠nh}&quot; nh∆∞ n√†y.

        // C√≥ c√°ch n√†o cho code duy·ªát t√¨m to√†n b·ªô thu·ªôc t√≠nh, c√°i n√†o l√† String th√¨ ƒë·ªïi n√≥ th√†nh &quot;Ngoc Trinh&quot;?
    }
}
</code></pre>
<p>ƒê√∫ng v·∫≠y, khi ch√∫ng ta mu·ªën g·ªçi t√™n thu·ªôc t√≠nh, m√† l·∫°i kh√¥ng mu·ªën g√µ¬†<code>.</code>¬†v√† nh·ªõ ra t√™n thu·ªôc t√≠nh, th√¨ l√†m nh∆∞ n√†o?</p>
<p>B√¢y gi·ªù, ch√∫ng ta ph·∫£i ti·∫øp c·∫≠n t·ª´ g√≥c nh√¨n kh√°c. Ch√∫ng ta s·∫Ω ∆∞·ªõc m√¨nh c√≥ th·ªÉ¬†duy·ªát h·∫øt t·∫•t c·∫£¬†c√°c thu·ªôc t√≠nh c·ªßa 1 class b·∫±ng v√≤ng l·∫∑p. R·ªìi check xem thu·ªôc t√≠nh c√≥ l√†¬†<code>String</code>¬†kh√¥ng? n·∫øu c√≥ th√¨ g√°n gi√° tr·ªã m·ªõi l√† &quot;Ngoc Trinh&quot;!</p>
<p>ƒê·ªÉ l√†m ƒë∆∞·ª£c ƒëi·ªÅu n√†y, ch√∫ng ta c·∫ßn ƒë√†o s√¢u v√†o¬†<code>Class</code>¬†v√† ph√° v·ª° gi·ªõi h·∫°n c·ªßa java truy·ªÅn th·ªëng. ƒê√¢y l√† l√∫c¬†<code>Java Reflection</code>¬†(S·ª± ph·∫£n chi·∫øu) v√†o tr·∫≠n.</p>
<h3 id="java-reflection"><a class="header" href="#java-reflection">Java Reflection</a></h3>
<p><code>Java Reflecion</code>¬†cho ph√©p b·∫°n ƒë√°nh gi√°, s·ª≠a ƒë·ªïi c·∫•u tr√∫c v√† h√†nh vi c·ªßa m·ªôt ƒë·ªëi t∆∞·ª£ng t·∫°i th·ªùi gian ch·∫°y (runtime) c·ªßa ch∆∞∆°ng tr√¨nh. ƒê·ªìng th·ªùi n√≥ cho ph√©p b·∫°n truy c·∫≠p v√†o c√°c th√†nh vi√™n private (private member) t·∫°i m·ªçi n∆°i trong ·ª©ng d·ª•ng, ƒëi·ªÅu n√†y kh√¥ng ƒë∆∞·ª£c ph√©p v·ªõi c√°ch ti·∫øp c·∫≠n truy·ªÅn th·ªëng.</p>
<h3 id="l·∫•y-ra-thu·ªôc-t√≠nh-field"><a class="header" href="#l·∫•y-ra-thu·ªôc-t√≠nh-field">L·∫•y ra Thu·ªôc t√≠nh (Field)</a></h3>
<p>Quay tr·ªü l·∫°i v√≠ d·ª• tr√™n, Ch√∫ng ta s·∫Ω l·∫•y ra to√†n b·ªô thu·ªôc t√≠nh c·ªßa¬†<code>Girl</code>. T√¨m xem c√°i n√†o t√™n¬†<code>name</code>¬†v√† b·ªï sung gi√° tr·ªã m·ªõi cho n√≥.</p>
<pre><code class="language-java">public class Girl {
    private String name;

    public Girl() {

    }

    public Girl(String name) {
        this.name = name;
    }

    public void setName(String name){
        this.name = name;
    }

    @Override
    public String toString() {
        return &quot;Girl{&quot; +
               &quot;name='&quot; + name + '\'' +
               '}';
    }

    public static void main(String[] args) throws Exception {
        Girl girl = new Girl(); // KH·ªüi t·∫°o ƒë·ªëi t∆∞·ª£ng Girl
        girl.setName(&quot;Ngoc trinh&quot;);

        // Lay ra tat ca field cua object
        // Ch·ªâ ƒë·ªÉ b·∫°n xem v√≠ d·ª• th√¥i, b·ªè qua ph·∫ßn n√†y nh√©!
        for(Field field : girl.getClass().getDeclaredFields()){
            System.out.println();
            System.out.println(&quot;Field: &quot; +field.getName());
            System.out.println(&quot;Type: &quot; +field.getType());
        }

        // PH·∫¶N CH√çNH
        Field nameField = girl.getClass().getDeclaredField(&quot;name&quot;); // L·∫•y ra field c√≥ t√™n &quot;name&quot; (n·∫øu kh√¥ng t√¨m th·∫•y, n√≥ s·∫Ω b·∫Øn NoSuchFieldException)
        nameField.setAccessible(true); // Cho ph√©p truy c·∫≠p t·∫°m th·ªùi. (V√¨ n√≥ ƒëang l√† Private m√†)

        // B√¢y gi·ªù c√°i &quot;nameField&quot; ƒë·∫°i di·ªán cho thu·ªôc t√≠nh &quot;name&quot; c·ªßa m·ªçi object c√≥ class Girl.
        nameField.set(girl, &quot;Bella&quot;); // thay gi√° tr·ªã m·ªõi c·ªßa `girl` b·∫±ng nameField.

        System.out.println(girl);
    }
}
// Output:
// Field: name
// Type: class java.lang.String
// Girl{name='Bella'}
</code></pre>
<h3 id="l·∫•y-ra-h√†m-method"><a class="header" href="#l·∫•y-ra-h√†m-method">L·∫•y ra H√†m (Method)</a></h3>
<p>V·∫•n ƒë·ªÅ ƒë·∫∑t ra, gi·ªëng v·ªõi¬†<code>field</code>. Ch√∫ng ta c≈©ng s·∫Ω c√≥ nhu c·∫ßu duy·ªát t√¨m m·ªôt¬†<code>method</code>¬†n√†o ƒë√≥ v√† s·ª≠ d·ª•ng n√≥:</p>
<pre><code class="language-java">public static void main(String[] args) throws Exception {
    Class&lt;Girl&gt; girlClass = Girl.class;

    // Su dung getDeclaredMethods de lay ra nhung method cua class va cha no.
    Method[] methods = girlClass.getDeclaredMethods();
    for(Method method : methods){
        System.out.println();
        System.out.println(&quot;Method: &quot; + method.getName());
        System.out.println(&quot;Parameters: &quot; + Arrays.toString(method.getParameters()));
    }

    // Lay ra method ten la setName va co 1 tham so truyen vao -&gt;
    // =&gt; ch√≠nh l√†: setName(String name)
    Method methodSetName = girlClass.getMethod(&quot;setName&quot;, String.class);
    // B√¢y gi·ªù methodSetName s·∫Ω ƒë·∫°i di·ªán cho method setName(String name) c·ªßa m·ªçi object c√≥ class l√† Girl

    Girl girl = new Girl(); // T·∫°o ra ƒë·ªëi t∆∞·ª£ng Girl

    // Th·ª±c hi·ªán h√†m setName() tr√™n ƒë·ªëi t∆∞·ª£ng girl, gi√° tr·ªã truy·ªÅn v√†o l√† &quot;Ngoc Trinh&quot;
    methodSetName.invoke(girl, &quot;Ngoc Trinh&quot;);
    System.out.println(girl);
}
</code></pre>
<h3 id="l·∫•y-ra-constructor"><a class="header" href="#l·∫•y-ra-constructor">L·∫•y ra Constructor</a></h3>
<p>L·∫•y ra h√†m kh·ªüi t·∫°o c·ªßa m·ªôt class. T·ª´ ƒë√≥ cho ph√©p ch√∫ng ta c√°ch t·∫°o ra ƒë·ªëi t∆∞·ª£ng t·ª´ theo m·ªôt c√°ch kh√°c, thay v√¨¬†<code>new Class()</code>¬†nh∆∞ b√¨nh th∆∞·ªùng</p>
<pre><code class="language-java">public static void main(String[] args) {
    Class&lt;Girl&gt; girlClass = Girl.class;
    System.out.println(&quot;Class: &quot; + girlClass.getSimpleName());
    System.out.println(&quot;Constructors: &quot; + Arrays.toString(girlClass.getConstructors())); // L·∫•y ra to√†n b·ªô Constructor c·ªßa class n√†y
    try {
        // T·∫°o ra m·ªôt object Girl t·ª´ class. (Kh·ªüi t·∫°o kh√¥ng tham s·ªë)
        Girl girl1 = girlClass.newInstance();
        System.out.println(&quot;Girl1: &quot; + girl1);

        // L·∫•y ra h√†m constructor v·ªõi tham s·ªë l√† 1 string
        // Ch√≠nh l√† -&gt; public Girl(String name) {}
        Constructor&lt;Girl&gt; girlConstructor = girlClass.getConstructor(String.class);
        Girl girl2 = girlConstructor.newInstance(&quot;Hello&quot;);

        System.out.println(&quot;Girl2: &quot; + girl2);
    } catch (Exception e) {
        // Exception xay ra khi constructor khong ton tai hoac tham so truyen vao khong dung
        e.printStackTrace();
    }
}
</code></pre>
<h3 id="l·∫•y-ra-annotation-tr√™n-field-method-class"><a class="header" href="#l·∫•y-ra-annotation-tr√™n-field-method-class">L·∫•y ra Annotation tr√™n Field, Method, Class</a></h3>
<p>ƒê√∫ng v·∫≠y, ƒë√¢y c≈©ng ch√≠nh l√† m·ªôt trong nh·ªØng ph·∫ßn quan tr·ªçng b·∫≠c nh·∫•t c·ªßa¬†<code>Java Reflection</code>. Cho ph√©p ch√∫ng ta ki·ªÉm tra¬†<code>Class</code>¬†hi·ªán t·∫°i ƒëang ƒë∆∞·ª£c ch√∫ th√≠ch b·ªüi nh·ªØng¬†<code>Annotation</code>¬†n√†o.</p>
<pre><code class="language-java">@SuppressWarnings(&quot;deprecation&quot;)
@Deprecated
public class Girl {
    private String name;

    public Girl() {

    }

    public Girl(String name) {
        this.name = name;
    }

    @Nullable
    public void setName(String name){
        this.name = name;
    }

    @Override
    public String toString() {
        return &quot;Girl{&quot; +
               &quot;name='&quot; + name + '\'' +
               '}';
    }

    public static void main(String[] args) {
        Class&lt;Girl&gt; girlClass = Girl.class;
        System.out.println(&quot;Class: &quot;+girlClass.getSimpleName()); // L·∫•y ra t√™n Class
        for(Annotation annotation : girlClass.getDeclaredAnnotations()){
            System.out.println(&quot;Annotation: &quot; + annotation.annotationType()); // L·∫•y ra t√™n c√°c Annatation tr√™n class n√†y
        }

        for(Method method: girlClass.getDeclaredMethods()){ // L·∫•y ra c√°c method c·ªßa class
            System.out.println(&quot;\nMethod: &quot; + method.getName()); //T√™n method
            for(Annotation annotation : method.getAnnotations()){
                System.out.println(&quot;Annotation: &quot; + annotation.annotationType()); // L·∫•y ra t√™n c√°c Annatation tr√™n method n√†y
            }
        }
    }
}
</code></pre>
<h1 id="huong-dan-tu-tao-mot-annotations"><a class="header" href="#huong-dan-tu-tao-mot-annotations">HuÃõoÃõÃÅng daÃÇÃÉn tuÃõÃ£ taÃ£o moÃ£ÃÇt Annotations</a></h1>
<h3 id="kh√°i-ni·ªám"><a class="header" href="#kh√°i-ni·ªám">Kh√°i ni·ªám</a></h3>
<p><code>Annotation</code>¬†(Ch√∫ th√≠ch) ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ¬†ch√∫ th√≠ch¬†tr√™n m·ªôt¬†<code>class</code>, m·ªôt tr∆∞·ªùng (<code>field</code>) ho·∫∑c m·ªôt¬†<code>method</code>¬†ƒë·ªÉ cung c·∫•p ho·∫∑c b·ªï sung c√°c th√¥ng tin. N√≥ ho√†n to√†n kh√¥ng ·∫£nh h∆∞·ªüng t·ªõi code c·ªßa b·∫°n.</p>
<p>Trong b√†i c√≥ s·ª≠ d·ª•ng c√°c ki·∫øn th·ª©c:</p>
<ol>
<li>Optional</li>
<li>Functional Interface &amp; Lambda</li>
<li>Java Reflection</li>
</ol>
<p><code>Annotation</code>¬†ƒë∆∞·ª£c s·ª≠ d·ª•ng ·ªü 3 d·∫°ng:</p>
<ul>
<li>Ch√∫ th√≠ch cho tr√¨nh bi√™n d·ªãch (Compiler)</li>
<li>Ch√∫ th√≠ch cho qu√° tr√¨nh build</li>
<li>Ch√∫ th√≠ch trong qu√° tr√¨nh ch·∫°y ch∆∞∆°ng tr√¨nh (Runtime)</li>
</ul>
<p>H·∫≥n b·∫°n ƒë√£ 1 l·∫ßn t·ª´ng th·∫•y c√°i¬†<code>@Override</code>¬†ph·∫£i kh√¥ng? n√≥ l√† m·ªôt¬†<em>Annotation ch√∫ th√≠ch cho tr√¨nh bi√™n d·ªãch</em>, ƒë·ªÉ cho tr√¨nh bi√™n d·ªãch bi·∫øt h√†m ƒë√≥ ƒë√£ b·ªã ghi ƒë√®.</p>
<p>C√≤n¬†<em>ch√∫ th√≠ch cho qu√° tr√¨nh build</em>¬†th√¨ kh√¥ng h·∫≥n c√≥ v√≠ d·ª• c·ª• th·ªÉ, nh∆∞ng b·∫°n h√£y nghƒ© t·ªõi¬†<code>Maven</code>,¬†<code>Gradle</code>¬†nh·ªØng c√¥ng c·ª• build n√†y s·∫Ω c√≥ th√™m th√¥ng tin khi build ·ª©ng d·ª•ng c·ªßa b·∫°n khi g·∫∑p m·ªôt s·ªë¬†<code>Annotation</code>¬†ƒë·∫∑c bi·ªát, v√† s·∫Ω b·ªï sung th√™m code v√†o ƒë√≥.</p>
<p><em>Ch√∫ th√≠ch trong qu√° tr√¨nh ch·∫°y ch∆∞∆°ng tr√¨nh</em>¬†s·∫Ω l√† n·ªôi dung ch√≠nh c·ªßa ch√∫ng ta h√¥m nay. ƒê√¢y l√† nh·ªØng¬†<code>Annotation</code>¬†m√† ch·ªâ khi b·∫°n ch·∫°y ch∆∞∆°ng tr√¨nh r·ªìi th√¨ n√≥ m·ªõi t√°c ƒë·ªông t·ªõi code. C√πng v√†o v√≠ d·ª• ƒë·ªÉ d·ªÖ hi·ªÉu nh√©!</p>
<h3 id="khai-b√°o-annotation"><a class="header" href="#khai-b√°o-annotation">Khai b√°o Annotation</a></h3>
<p>C√°ch khai b√°o¬†<code>Annotation</code>¬†l√† s·ª≠ d·ª•ng¬†<code>@interface</code></p>
<p>v·∫≠y l√† b·∫°n ƒë√£ c√≥ 1¬†<code>Annotation</code>. Gi·ªù g·ªçi n√≥ ra v√† s·ª≠ d·ª•ng:</p>
<h3 id="khai-b√°o-ph·∫°m-vi-cho-annotation"><a class="header" href="#khai-b√°o-ph·∫°m-vi-cho-annotation">Khai b√°o ph·∫°m vi cho Annotation</a></h3>
<p>Ch√∫ng ta c√≥ th·ªÉ quy ƒë·ªãnh ph·∫°m vi s·ª≠ d·ª•ng c·ªßa¬†<code>Annotation</code>¬†b·∫±ng c√°ch:</p>
<p><code>@Retention</code>: D√πng ƒë·ªÉ ch√∫ th√≠ch¬†m·ª©c ƒë·ªô t·ªìn t·∫°i¬†c·ªßa m·ªôt annotation n√†o ƒë√≥. C·ª• th·ªÉ c√≥ 3 m·ª©c nh·∫≠n th·ª©c t·ªìn t·∫°i c·ªßa v·∫≠t ƒë∆∞·ª£c ch√∫ th√≠ch:</p>
<ol>
<li><code>RetentionPolicy.SOURCE</code>: T·ªìn t·∫°i tr√™n code ngu·ªìn, v√† kh√¥ng ƒë∆∞·ª£c b·ªô d·ªãch (compiler) nh·∫≠n ra.</li>
<li><code>RetentionPolicy.CLASS</code>: M·ª©c t·ªìn t·∫°i ƒë∆∞·ª£c b·ªô d·ªãch nh·∫≠n ra, nh∆∞ng kh√¥ng ƒë∆∞·ª£c nh·∫≠n bi·∫øt b·ªüi m√°y ·∫£o t·∫°i th·ªùi ƒëi·ªÉm ch·∫°y (Runtime).</li>
<li><code>RetentionPolicy.RUNTIME</code>: M·ª©c t·ªìn t·∫°i l·ªõn nh·∫•t, ƒë∆∞·ª£c b·ªô d·ªãch (compiler) nh·∫≠n bi·∫øt, v√† m√°y ·∫£o (jvm) c≈©ng nh·∫≠n ra khi ch·∫°y ch∆∞∆°ng tr√¨nh.</li>
</ol>
<p><code>@Target</code>: D√πng ƒë·ªÉ ch√∫ th√≠ch¬†ph·∫°m vi s·ª≠ d·ª•ng¬†c·ªßa m·ªôt¬†<code>Annotation</code></p>
<ol>
<li><code>ElementType.TYPE</code>¬†- Cho ph√©p ch√∫ th√≠ch tr√™n Class, interface, enum, annotation.</li>
<li><code>ElementType.FIELD</code>¬†- Cho ph√©p ch√∫ th√≠ch tr∆∞·ªùng (field), bao g·ªìm c·∫£ c√°c h·∫±ng s·ªë enum.</li>
<li><code>ElementType.METHOD</code>¬†- Cho ph√©p ch√∫ th√≠ch tr√™n method.</li>
<li><code>ElementType.PARAMETER</code>¬†- Cho ph√©p ch√∫ th√≠ch tr√™n parameter</li>
<li><code>ElementType.CONSTRUCTOR</code>¬†- Cho ph√©p ch√∫ th√≠ch tr√™n constructor</li>
<li><code>ElementType.LOCAL_VARIABLE</code>¬†- Cho ph√©p ch√∫ th√≠ch tr√™n bi·∫øn ƒë·ªãa ph∆∞∆°ng.</li>
<li><code>ElementType.ANNOTATION_TYPE</code>¬†- Cho ph√©p ch√∫ th√≠ch tr√™n Annotation kh√°c</li>
<li><code>ElementType.PACKAGE</code>¬†- Cho ph√©p ch√∫ th√≠ch tr√™n package.</li>
</ol>
<h3 id="x·ª≠-l√Ω-annotation"><a class="header" href="#x·ª≠-l√Ω-annotation">X·ª≠ l√Ω Annotation</a></h3>
<p>B∆∞·ªõc 1: Ch√∫ th√≠ch b·∫•t k√¨ ch·ªó n√†o b·∫°n mu·ªën.</p>
<p>B∆∞·ªõc 2: Vi·∫øt class x·ª≠ l√Ω¬†<code>@JsonName</code></p>
<p>B∆∞·ªõc 3: Ch·∫°y th·ª≠:</p>
<pre><code class="language-java">public @interface JsonName {
    String value(); // c√°c gi√° tr·ªã trong @interface ƒë·ªÅu d·∫°ng h√†m abstract, kh√¥ng tham s·ªë
}
</code></pre>
<pre><code class="language-java">@JsonName(value = &quot;super_man&quot;)
public class SuperMan extends Person {
    private String name;
}
</code></pre>
<pre><code class="language-java">@Retention(RetentionPolicy.RUNTIME) // T·ªìn t·∫°i trong l√∫c ch·∫°y ch∆∞∆°ng tr√¨nh
@Target({ ElementType.TYPE, ElementType.FIELD, ElementType.METHOD}) // ƒê∆∞·ª£c s·ª≠ d·ª•ng tr√™n class, interface, method, bi·∫øn
public @interface JsonName {
    String value();
}
</code></pre>
<pre><code class="language-java">@JsonName(value = &quot;super_man&quot;)
public class SuperMan {
    // Kh√¥ng ch√∫ th√≠ch, th√¨ ch√∫ng ta s·∫Ω coi nh∆∞ l·∫•y t√™n field l√† `name` lu√¥n
    private String name;

    @JsonName(&quot;date_of_birth&quot;)
    private LocalDateTime dateOfBirth;

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public LocalDateTime getDateOfBirth() {
        return dateOfBirth;
    }

    public void setDateOfBirth(LocalDateTime dateOfBirth) {
        this.dateOfBirth = dateOfBirth;
    }
}
</code></pre>
<pre><code class="language-java">public class JsonNameProcessor {
    public static String toJson(Object object) throws IllegalAccessException {
        StringBuilder sb = new StringBuilder(); // D√πng StringBuilder de tao json tu class

        Class&lt;?&gt; clazz = object.getClass();
        JsonName jsonClassName = clazz.getDeclaredAnnotation(JsonName.class); // Lay ra annotation @JsonName tren Class

        sb.append(&quot;{\n&quot;)
          .append(&quot;\t\&quot;&quot;)
          // Lay gia tri cua Annotation, neu annotation la null thi lay ten Class de thay the
          .append(Optional.ofNullable(jsonClassName).map(JsonName::value).orElse(clazz.getSimpleName()))
          .append(&quot;\&quot;: {\n&quot;); //

        Field fields[] = clazz.getDeclaredFields();
        for (int i = 0; i &lt; fields.length; i++) {
            fields[i].setAccessible(true); // Set setAccessible = true. De co the truy cap vao private field
            JsonName jsonFieldName = fields[i].getDeclaredAnnotation(JsonName.class); // get annotation tren field
            sb.append(&quot;\t\t\&quot;&quot;)
              // Lay gia tri cua Annotation, neu annotation la null thi lay ten field thay the
              .append(Optional.ofNullable(jsonFieldName).map(JsonName::value).orElse(fields[i].getName())) // L
              .append(&quot;\&quot;: &quot;)
              // Neu field la String hoac Object. thi append dau ngoac kep vao
              .append(fields[i].getType() == String.class || !fields[i].getType().isPrimitive() ? &quot;\&quot;&quot; : &quot;&quot;)
              // Lay gia tri cua field
              .append(fields[i].get(object))
              // Neu field la String hoac Object. thi append dau ngoac kep vao
              .append(fields[i].getType() == String.class || !fields[i].getType().isPrimitive()? &quot;\&quot;&quot; : &quot;&quot;)
              // N·∫øu l√† field cu·ªëi c√πng, th√¨ kh√¥ng append d·∫•u &quot;,&quot;
              .append(i != fields.length -1 ? &quot;,\n&quot; : &quot;\n&quot;);
        }
        sb.append(&quot;\t}\n&quot;);
        sb.append(&quot;}&quot;);

        return sb.toString();
    }
}
</code></pre>
<pre><code class="language-java">public static void main(String[] args) throws IllegalAccessException {
    SuperMan superMan = new SuperMan(); // Tao doi tuong super man
    superMan.setDateOfBirth(LocalDateTime.now());
    superMan.setName(&quot;loda&quot;);

    String json =JsonNameProcessor.toJson(superMan);
    System.out.println(json);
}
// OUTPUT:
/*
{
	&quot;super_man&quot;: {
		&quot;name&quot;: &quot;loda&quot;,
		&quot;date_of_birth&quot;: &quot;2019-04-03T21:07:23.983&quot;
	}
}
*/
</code></pre>
<h1 id="java-8functional-interfaces--lambda-expressions-cuc-de-hieu"><a class="header" href="#java-8functional-interfaces--lambda-expressions-cuc-de-hieu">„ÄåJava 8„ÄçFunctional Interfaces &amp; Lambda Expressions cuÃõÃ£c deÃÇÃÉ hieÃÇÃâu</a></h1>
<h3 id="gi·ªõi-thi·ªáu-1"><a class="header" href="#gi·ªõi-thi·ªáu-1">Gi·ªõi thi·ªáu</a></h3>
<p>Kh√°i ni·ªám¬†<code>Functional Interfaces</code>¬†ƒë∆∞·ª£c¬†<code>Java</code>¬†ƒë∆∞a ra c√πng v·ªõi phi√™n b·∫£n¬†<code>Java 8</code>. v·ªÅ c∆° b·∫£n, c√≥ th·ªÉ hi·ªÉu:</p>
<blockquote>
<p>Functional Interfaces¬†l√† interface nh∆∞ng ch·ªâ c√≥ m·ªôt 1 abstract function duy nh·∫•t.</p>
</blockquote>
<p>V√≠ d·ª•:</p>
<pre><code class="language-java">interface Runable {
    public void run(); // Ch·ªâ c√≥ duy nh·∫•t m·ªôt abstract function.
}
</code></pre>
<h3 id="functional-programming"><a class="header" href="#functional-programming">Functional Programming</a></h3>
<p>Tr∆∞·ªõc khi ƒëi v√†o chi ti·∫øt, ch√∫ng ta c√πng t√¨m hi·ªÉu kh√°i ni·ªám¬†<code>L·∫≠p tr√¨nh h∆∞·ªõng h√†m</code>.</p>
<p>C√πng xem v√≠ d·ª• d∆∞·ªõi ƒë√¢y:</p>
<pre><code class="language-java">public static void main(String[] args) {
    // M√¨nh mu·ªën x·ª≠ l√Ω d·ªØ li·ªáu tr∆∞·ªõc khi ·ªân ra m√†n h√¨nh.
    System.out.println(process(&quot;Hey Loda!!!&quot;));
}

public static String process(String input){
    // Cho t·∫•t c·∫£ vi·∫øt hoa l√™n.
    return input.toUpperCase();
}

// Output:
HEY LODA!!!
</code></pre>
<p>Tuy nhi√™n b·∫°n s·∫Ω th·∫•y c√°ch l√†m n√†y kh√¥ng¬†<code>flexible</code>, v√¨ c√°c b·∫°n ch·ªâ c√≥ th·ªÉ x·ª≠ l√Ω cho ch·ªØ th√†nh¬†<code>UPPER CASE</code>. Mu·ªën l√†m g√¨ ƒë√≥ kh√°c, nh∆∞¬†<code>toLowerCase</code>¬†ch·∫≥ng h·∫°n, m√¨nh s·∫Ω ph·∫£i vi·∫øt m·ªôt¬†<code>function</code>¬†m·ªõi.</p>
<p>Ch√∫ng ta gi·∫£i quy·∫øt c√°ch c√°ch n√†y b·∫±ng¬†<code>Anonymous function (H√†m ·∫©n danh)</code></p>
<p>S·ª≠a code ch√∫t:</p>
<pre><code class="language-java">public interface StringProcessor{
    public String process(String input);
}

// StringProcessor ·ªü ƒë√¢y l√† m·ªôt Interface, hay Functional Interface
public static String getStr(String input, StringProcessor processor){
    return processor.process(input);
}

public static void main(String[] args) {
    // In ra ch·ªØ hoa
    System.out.println(getStr(&quot;Hello Loda!&quot;, new StringProcessor() {
        @Override
        public String process(String input) {
            return input.toUpperCase();
        }
    }));

    // In ra ch·ªØ th∆∞·ªùng
    System.out.println(getStr(&quot;Hey Loda!&quot;, new StringProcessor() {
        @Override
        public String process(String input) {
            return input.toLowerCase();
        }
    }));
}
// Output:
// HELLO LODA!
// hey loda!
</code></pre>
<h3 id="lambda-expressions"><a class="header" href="#lambda-expressions">Lambda Expressions</a></h3>
<p>Quay l·∫°i v√≠ d·ª• ·ªü tr√™n, ch√∫ng ta th·∫•y l√†¬†<code>StringProcessor</code>¬†ch·ªâ c√≥ duy nh·∫•t m·ªôt¬†<code>function process(x)</code>. N√™n m·ªçi ƒëo·∫°n code ƒë·ªÅu s·∫Ω gi·ªëng h·ªát nhau ·ªü vi·ªác¬†<code>implement function</code>¬†n√†y.</p>
<pre><code class="language-java">new StringProcessor() {
    @Override
    public String process(String input) {
        // Do something here
        // Ch·ªâ kh√°c nhau ƒëo·∫°n code ·ªü gi·ªØa
        return x;
    }
}
</code></pre>
<p>Th·ª±c ra c√°i ch√∫ng ta quan t√¢m l√†: <code>Input -&gt; Process -&gt; Output</code>. H√£y th·ª≠ nh√¨n ·ªü v√≠ d·ª• d∆∞·ªõi cho Lambda Expressions:</p>
<pre><code class="language-java">// (input) -&gt; input.toUpperCase()
// ƒë·∫ßu v√†o -&gt; ƒë·∫ßu ra
System.out.println(getStr(&quot;Hello Loda!&quot;, input -&gt; input.toUpperCase()));

// C·∫•u tr√∫c c·ªßa m·ªôt lambda nh∆∞ sau:
// parameter -&gt; expression body
</code></pre>
<p>Trong ƒë√≥:</p>
<ul>
<li><code>parameter</code>¬†l√† nh·ªØng tham s·ªë ƒë·∫ßu v√†o c·ªßa h√†m (m·ªôt ho·∫∑c nhi·ªÅu)</li>
<li><code>expression body</code>¬†l√† ph·∫ßn x·ª≠ l√Ω¬†<code>parameter</code>, b·∫°n c·∫ßn tr·∫£ ra ƒë√∫ng ki·ªÉu d·ªØ li·ªáu ƒë√£ khai b√°o trong¬†<code>Functional Interface</code></li>
</ul>
<p>N·∫øu¬†<code>code</code>¬†b·∫°n ch·ªâ c·∫ßn 1 thao t√°c, th√¨ kh√¥ng c·∫ßn¬†<code>return</code>¬†gi·ªëng v√≠ d·ª• ·ªü tr√™n. C√≤n n·∫øu¬†<code>code</code>¬†y√™u c·∫ßu x·ª≠ l√Ω nhi·ªÅu, th√¨ d·∫°ng ƒë·∫ßy ƒë·ªß c·ªßa n√≥ nh∆∞ sau:</p>
<pre><code>parameter -&gt; {
    expression body
    [return] // (kh√¥ng tr·∫£ v·ªÅ n·∫øu l√† void)
}
</code></pre>
<p>v√≠ d·ª•:</p>
<pre><code class="language-java">System.out.println(getStr(&quot;Hello Loda!&quot;, input -&gt; {
    String temp =  input + &quot; Oke!!!&quot;;
    return temp.toLowerCase();
}));
</code></pre>
<h3 id="functional-interface"><a class="header" href="#functional-interface">Functional Interface</a></h3>
<p>T·ªõi ƒë√¢y, b·∫°n ƒë√£ hi·ªÉu √Ω nghƒ©a c·ªßa vi·ªác cho ra ƒë·ªùi kh√°i ni·ªám¬†<code>Functional Interface</code>, n√≥ l√† m·ªôt quy ƒë·ªãnh chung ph·∫£i c√≥ ƒë·ªÉ c√≥ th·ªÉ vi·∫øt code d∆∞·ªõi d·∫°ng bi·ªÉu th·ª©c¬†<code>Lambda</code>. M·ªôt s·ªë ƒëi·ªÅu c·∫ßn l∆∞u √Ω v·ªõi¬†<code>Functional Interface</code>¬†nh∆∞ sau:</p>
<h4 id="functionalinterface"><a class="header" href="#functionalinterface">@FunctionalInterface</a></h4>
<p><code>Annotation</code>¬†n√†y ch·ªâ ƒë·ªÉ b·ªï sung, n√≥ ƒë√°nh d·∫•u m·ªôt¬†<code>interface</code>¬†l√†¬†<code>Functional Interface</code>. L√∫c n√†y b·∫°n khai b√°o 2¬†<code>abtract function</code>¬†b√™n trong¬†<code>interface</code>¬†th√¨ s·∫Ω b√°o l·ªói.</p>
<pre><code class="language-java">@FunctionalInterface // G·∫Øn c√°i n√†y l√™n interface, n√≥ ƒë√°nh d·∫•u interface ch·ªâ ƒë∆∞·ª£c ph√©p c√≥ 1 funtion th√¥i
public interface StringProcessor{
    public String process(String input);
    public String preProcess(String input); // l·ªói
}
</code></pre>
<h4 id="default-function--static-funtion"><a class="header" href="#default-function--static-funtion">default function &amp; static funtion</a></h4>
<p><code>Java 8</code>¬†c·∫£i ti·∫øn cho ph√©p¬†<code>interface</code>¬†ƒë∆∞·ª£c khai b√°o¬†<code>code</code>¬†b√™n trong n√≥, v·ªõi ƒëi·ªÅu ki·ªán¬†<code>code</code>¬†ph·∫£i n·∫±m trong¬†<code>default</code>¬†ho·∫∑c¬†<code>static</code>. <code>default</code>¬†v√†¬†<code>static</code>¬†kh√¥ng ph√° v·ª° quy lu·∫≠t c·ªßa¬†<code>@FunctionInterfaces</code></p>
<pre><code class="language-java">@FunctionalInterface // G·∫Øn c√°i n√†y l√™n interface, n√≥ ƒë√°nh d·∫•u interface ch·ªâ ƒë∆∞·ª£c ph√©p c√≥ 1 funtion th√¥i
public interface StringProcessor{
    public String process(String input);

    // M·ªçi class implement StringProcessor ƒë·ªÅu c√≥ th·ªÉ g·ªçi h√†m n√†y ƒë·ªÉ s·ª≠ d·ª•ng lu√¥n
    public default void printf(Object t){
        System.out.println(t);
    }

    // L√† h√†m static, g·ªçi t·ª´ class c≈©ng ƒë∆∞·ª£c.         
    // StringProcessor.concat(a,b)
    public static String concat(String a, String b){
        return a + b;
    }
}
</code></pre>
<h3 id="method-reference"><a class="header" href="#method-reference">Method reference</a></h3>
<p>Ph·∫ßn n√†y ch·ªâ ƒë·ªÉ b·ªï sung, kh√¥ng c√≥ n√≥, b·∫°n v·∫´n c√≥ th·ªÉ s·ª≠ d·ª•ng¬†<code>Lambda Expressions</code>¬†b√¨nh th∆∞·ªùng. Nh∆∞ng v·ªõi¬†<code>Method reference</code>, code c·ªßa b·∫°n s·∫Ω c√≤n s·∫°ch s·∫Ω h∆°n n·ªØa.</p>
<p>V√≠ d·ª•:</p>
<pre><code class="language-java">System.out.println(getStr(&quot;Hello Loda!&quot;, input -&gt; input.toUpperCase()));
// T∆∞∆°ng ƒë∆∞∆°ng v·ªõi vi·ªác vi·∫øt nh∆∞ n√†y:
System.out.println(getStr(&quot;Hello Loda!&quot;, String::toUpperCase));
</code></pre>
<p>ho·∫∑c</p>
<pre><code class="language-java">System.out.println(getStr(&quot;Hello Loda!&quot;, input -&gt; new String(input));
// T∆∞∆°ng ƒë∆∞∆°ng v·ªõi vi·ªác vi·∫øt nh∆∞ n√†y:
System.out.println(getStr(&quot;Hello Loda!&quot;, String::new));
</code></pre>
<p><code>Method reference</code>¬†l√† c√°ch vi·∫øt ng·∫Øn g·ªçn, s·∫Ω b·ªè qua lu√¥n c·∫£ ph·∫ßn¬†<code>parameter</code>¬†v√¨ b·∫£n th√¢n t√™n h√†m ƒë√£ bi·∫øt n√≥ s·∫Ω nh·∫≠n v√†o g√¨ v√† tr·∫£ ra c√°i g√¨ r·ªìi. Vi·ªác c√≤n l·∫°i ƒë·ªÉ¬†<code>Compiler</code>¬†lo th√¥i kakaka. C√≥ c√°c c√°ch ƒë·ªÉ g·ªçi¬†<code>Method reference</code>¬†nh∆∞ sau:</p>
<ul>
<li><code>[T√™n Class]::[T√™n method]</code>: Gi·ªëng v·ªõi v√≠ d·ª• ·ªü tr√™n¬†<code>String::toUpperCase</code>.</li>
<li><code>[T√™n Class]::new</code>: T·∫°o ra m·ªôt ƒë·ªëi t∆∞·ª£ng m·ªõi, t·ª´ tham s·ªë ƒë∆∞·ª£c truy·ªÅn v√†o</li>
</ul>
<h1 id="huong-dan-stream-api"><a class="header" href="#huong-dan-stream-api">HuÃõoÃõÃÅng daÃÇÃÉn Stream API</a></h1>
<h3 id="kh√°i-qu√°t"><a class="header" href="#kh√°i-qu√°t">Kh√°i qu√°t</a></h3>
<p><code>Stream</code>¬†l√† m·ªôt abtract layer cho ph√©p b·∫°n x·ª≠ l√Ω m·ªôt d√≤ng d·ªØ li·ªáu d·ª±a tr√™n c√°c thao t√°c ƒë√£ ƒë·ªãnh nghƒ©a tr∆∞·ªõc. B·∫°n c√≥ th·ªÉ t·∫°o¬†<code>Stream</code>¬†t·ª´ c√°c ngu·ªìn d·ªØ li·ªáu nh∆∞¬†<code>Collections</code>,¬†<code>Arrays</code>¬†ho·∫∑c¬†<code>I/O resources</code>. M·∫∑c ƒë·ªãnh c√°c l·ªõp k·∫ø th·ª´a c·ªßa¬†<code>Collection</code>¬†ƒë·ªÅu c√≥ h√†m¬†<code>.stream()</code>:</p>
<pre><code class="language-java">Collection&lt;String&gt; collection = Arrays.asList(&quot;hello&quot;, &quot;loda&quot;, &quot;kaka&quot;);
Stream&lt;String&gt; streamOfCollection = collection.stream(); // T·∫°o ra m·ªôt stream t·ª´ collection
List&lt;String&gt; list = new ArrayList&lt;&gt;();
Stream&lt;String&gt; stream = list.stream(); // t·∫°o ra 1 lu·ªìng
Stream&lt;String&gt; parallelStream = list.parallelStream(); // lu·ªìng d·ªØ li·ªáu song song (x·ª≠ l√Ω tr√™n nhi·ªÅu thread c√πng l√∫c)
</code></pre>
<h3 id="c√°ch-s·ª≠-d·ª•ng"><a class="header" href="#c√°ch-s·ª≠-d·ª•ng">C√°ch s·ª≠ d·ª•ng</a></h3>
<p>Ch·ª©c nƒÉng c·ªßa¬†<code>Stream</code>¬†l√† c·ª±c k√¨ ƒëa d·∫°ng gi√∫p b·∫°n thao t√°c d·ªØ li·ªáu d·ªÖ d√†ng h∆°n.</p>
<h4 id="foreach-duy·ªát-qua-to√†n-b·ªô-d·ªØ-li·ªáu-c·ªßa-b·∫°n"><a class="header" href="#foreach-duy·ªát-qua-to√†n-b·ªô-d·ªØ-li·ªáu-c·ªßa-b·∫°n"><code>forEach()</code>: Duy·ªát qua to√†n b·ªô d·ªØ li·ªáu c·ªßa b·∫°n</a></h4>
<pre><code class="language-java">list.stream().forEach(s -&gt; System.out.println(s));
</code></pre>
<h4 id="map-t·∫°o-ra-c√°c-gi√°-tr·ªã-m·ªõi-t·ª´-d·ªØ-li·ªáu-hi·ªán-c√≥"><a class="header" href="#map-t·∫°o-ra-c√°c-gi√°-tr·ªã-m·ªõi-t·ª´-d·ªØ-li·ªáu-hi·ªán-c√≥"><code>map()</code>: T·∫°o ra c√°c gi√° tr·ªã m·ªõi t·ª´ d·ªØ li·ªáu hi·ªán c√≥</a></h4>
<pre><code class="language-java">Arrays.asList(3, 5, 7)
    .stream() // t·∫°o ra Stream t·ª´ List&lt;Integer&gt;
    .map(i -&gt; &quot;loda-&quot;+i) // bi·∫øn ƒë·ªïi t·ª´ng ph·∫ßn t·ª≠ th√†nh String
    .map(String::toUpperCase) // bi·∫øn ƒë·ªïi t·ª´ng ph·∫ßn t·ª≠ th√†nh Upper case
    .forEach(System.out::println); // in ra xem th·ª≠
</code></pre>
<h4 id="filter-g√≠up-ch√∫ng-ta-thao-t√°c-v·ªõi-nh·ªØng-d·ªØ-li·ªáu-mong-mu·ªën"><a class="header" href="#filter-g√≠up-ch√∫ng-ta-thao-t√°c-v·ªõi-nh·ªØng-d·ªØ-li·ªáu-mong-mu·ªën"><code>filter()</code>¬†g√≠up ch√∫ng ta thao t√°c v·ªõi nh·ªØng d·ªØ li·ªáu mong mu·ªën.</a></h4>
<pre><code class="language-java">Arrays.asList(2, 3, 5, 7)
    .stream()
    .filter(i -&gt; i % 2 != 0) //t·ª´ ƒë√¢y tr·ªü ƒëi, ch√∫ng ta ch·ªâ mu·ªën l√†m vi·ªác v·ªõi s·ªë l·∫ª
    .map(i -&gt; &quot;loda-&quot; + i)
    .map(String::toUpperCase)
    .forEach(System.out::println);
</code></pre>
<h4 id="limit-gi·ªõi-h·∫°n-s·ªë-l∆∞·ª£ng-d·ªØ-li·ªáu-c·∫ßn-x·ª≠-l√Ω"><a class="header" href="#limit-gi·ªõi-h·∫°n-s·ªë-l∆∞·ª£ng-d·ªØ-li·ªáu-c·∫ßn-x·ª≠-l√Ω"><code>limit()</code>: Gi·ªõi h·∫°n s·ªë l∆∞·ª£ng d·ªØ li·ªáu c·∫ßn x·ª≠ l√Ω</a></h4>
<pre><code class="language-java">IntStream.range(1, 1000).boxed() // T·∫°o ra Stream c√≥ d·ªØ li·ªáu t·ª´ 1-&gt;999
            .filter(i -&gt; i % 2 != 0)
            .map(i -&gt; &quot;loda-&quot; + i)
            .map(String::toUpperCase)
            .limit(10) // Ch√∫ng ta gi·ªõi h·∫°n l·∫•y 10 c√°i r·ªìi in ra
            .forEach(System.out::println);
</code></pre>
<h4 id="sorted-s·∫Øp-x·∫øp-stream-b·∫°n-c√≥-th·ªÉ-t·ª±-ƒë·ªãnh-nghƒ©a-c√°ch-sort-b·∫±ng-c√°ch-th√™m-comparator-v√†o"><a class="header" href="#sorted-s·∫Øp-x·∫øp-stream-b·∫°n-c√≥-th·ªÉ-t·ª±-ƒë·ªãnh-nghƒ©a-c√°ch-sort-b·∫±ng-c√°ch-th√™m-comparator-v√†o"><code>sorted()</code>: s·∫Øp x·∫øp¬†<code>Stream</code>. B·∫°n c√≥ th·ªÉ t·ª± ƒë·ªãnh nghƒ©a c√°ch sort b·∫±ng c√°ch th√™m Comparator v√†o</a></h4>
<pre><code class="language-java">sorted((o1, o2) -&gt; o1.compareTo(o2))
</code></pre>
<pre><code class="language-java">List&lt;String&gt; result = IntStream.range(1, 1000).boxed()
                                .filter(i -&gt; i % 2 != 0)
                                .map(i -&gt; &quot;loda-&quot; + i)
                                .map(String::toUpperCase)
                                .limit(10)
                                .sorted(Comparator.naturalOrder()) // m·ªôt c√°ch kh√°c ƒë·ªÉ sort
                                .collect(Collectors.toList());
</code></pre>
<h4 id="collect-gi√∫p-ch√∫ng-ta-l·∫•y-to√†n-b·ªô-d·ªØ-li·ªáu-ƒë√£-bi·∫øn-ƒë·ªïi-trong-stream-th√†nh-ƒë·ªëi-t∆∞·ª£ng-m√¨nh-mong-mu·ªën"><a class="header" href="#collect-gi√∫p-ch√∫ng-ta-l·∫•y-to√†n-b·ªô-d·ªØ-li·ªáu-ƒë√£-bi·∫øn-ƒë·ªïi-trong-stream-th√†nh-ƒë·ªëi-t∆∞·ª£ng-m√¨nh-mong-mu·ªën"><code>collect()</code>¬†gi√∫p ch√∫ng ta l·∫•y to√†n b·ªô d·ªØ li·ªáu ƒë√£ bi·∫øn ƒë·ªïi trong¬†<code>Stream</code>¬†th√†nh ƒë·ªëi t∆∞·ª£ng m√¨nh mong mu·ªën.</a></h4>
<pre><code class="language-java">List&lt;String&gt; result = Stream.of(&quot;b·∫°n&quot;, &quot;h√£y&quot;, &quot;like&quot;, &quot;Fanpage&quot;, &quot;loda&quot;,&quot;d·ªÉ&quot;,&quot;c·∫≠p&quot;,&quot;nh·∫≠t&quot;,&quot;nhi·ªÅu&quot;,&quot;h∆°n&quot;)
                            .filter(s -&gt; {
                                System.out.println(&quot;[filtering] &quot; + s);
                                return s.length()&gt;=4;
                            })
                            .map(s -&gt; {
                                System.out.println(&quot;[mapping] &quot; + s);
                                return s.toUpperCase();
                            })
                            .limit(3)
                            .collect(Collectors.toList());
System.out.println(&quot;----------------------&quot;);
System.out.println(&quot;Result:&quot;);
result.forEach(System.out::println);
</code></pre>
<pre><code class="language-makefile">[filtering] b·∫°n // kh√¥ng tho·∫£ m√£n
[filtering] h√£y // ti·∫øp t·ª•c t√¨m, c≈©ng k tho·∫£ m√£n
[filtering] like // tho·∫£ m√£n
[mapping] like // mapping n√≥ lu√¥n
[filtering] Fanpage // l·∫°i quay l·∫°i filter t√¨m ti·∫øp, tho·∫£ m√£n
[mapping] Fanpage // mapping
[filtering] loda // tho·∫£ m√£n
[mapping] loda // mapping
// ƒê·ªß 3 tr∆∞·ªùng h·ª£p tho·∫£ m√£n, d·ª´ng.
----------------------
Result:
LIKE
FANPAGE
LODA
</code></pre>
<h3 id="b·∫£n-ch·∫•t-c·ªßa-stream"><a class="header" href="#b·∫£n-ch·∫•t-c·ªßa-stream">B·∫£n ch·∫•t c·ªßa Stream</a></h3>
<p>(C√≥ v√≠ d·ª• trong b√†i g·ªëc n·ªØa)</p>
<p><code>Stream</code>¬†l√†¬†<code>Lazy evaluation</code>. Hi·ªÉu ƒë∆°n gi·∫£n l√† n√≥ s·∫Ω kh√¥ng x·ª≠ l√Ω d·ªØ li·ªáu tr·ª±c ti·∫øp qua t·ª´ng b∆∞·ªõc, m√† ch·ªù b·∫°n khai b√°o xong t·∫•t c·∫£ c√°c thao t√°c¬†<code>operation</code>¬†nh∆∞¬†<code>map</code>,¬†<code>filter</code>,v.v.. cho t·ªõi khi g·∫∑p l·ªánh¬†<code>.collect()</code>¬†th√¨ n√≥ th·ª±c hi·ªán to√†n b·ªô trong m·ªôt v√≤ng l·∫∑p duy nh·∫•t.</p>
<p>H√†m¬†<code>.collect()</code>¬†v√† m·ªôt s·ªë h√†m nh∆∞¬†<code>min()</code>,¬†<code>max()</code>,¬†<code>count()</code>¬†ƒë∆∞·ª£c g·ªçi l√†¬†<code>terminal operation</code>. Khi g·ªçi nh·ªØng function c√≥ d·∫°ng¬†<code>terminal</code>¬†th√¨¬†<code>Stream</code>¬†m·ªõi ch√≠nh th·ª©c ho·∫°t ƒë·ªông. </p>
<p>M·ªôt l∆∞u √Ω khi s·ª≠ d·ª•ng l√†¬†Stream kh√¥ng ƒë∆∞·ª£c t√°i s·ª≠ d·ª•ng. V√¨¬†<code>Stream</code>¬†ƒë∆∞·ª£c t·∫°o ra ƒë·ªÉ¬†x·ª≠ l√Ω¬†d·ªØ li·ªáu ch·ª© kh√¥ng ph·∫£i ƒë·ªÉ¬†l∆∞u tr·ªØ! N√™n mu·ªën s·ª≠ d·ª•ng, m·ªói l·∫ßn b·∫°n s·∫Ω c·∫ßn t·∫°o ra 1¬†<code>Stream</code>¬†m·ªõi.</p>
<pre><code class="language-java">Stream&lt;String&gt; stream =
  Stream.of(&quot;loda&quot;, &quot;.&quot;, &quot;me&quot;,&quot;like&quot;).filter(element -&gt; element.contains(&quot;e&quot;));
Optional&lt;String&gt; anyElement = stream.findAny(); //L·∫•y ra m·ªôt ph·∫ßn t·ª≠ b·∫•t k·ª≥ trong Stream, n√≥ s·∫Ω tr·∫£ ra Optional

// Th·ª±c hi·ªán d√≤ng l·ªánh ti·∫øp theo s·∫Ω b·∫Øn ra IllegalStateException
Optional&lt;String&gt; firstElement = stream.findFirst();
</code></pre>
<h1 id="khai-niem-threadpool-va-executor-trong-java"><a class="header" href="#khai-niem-threadpool-va-executor-trong-java">KhaÃÅi nieÃ£ÃÇm ThreadPool vaÃÄ Executor trong Java</a></h1>
<p>M·ªôt v√≠ d·ª• ƒë∆°n gi·∫£n nh√© (Trong th·ª±c t·∫ø s·∫Ω kh√°c, h√£y coi ƒë√¢y l√† v√≠ d·ª• nha):</p>
<p>B√¢y gi·ªù, gi·∫£ s·ª≠ b·∫°n c√≥ m·ªôt Server Web. N·∫øu ch√∫ng ta nh·∫≠n 1 request t·ª´ client, ch√∫ng ta s·∫Ω x·ª≠ l√Ω m·∫•t 0.5s v√† tr·∫£ v·ªÅ k·∫øt qu·∫£ cho ng∆∞·ªùi d√πng.</p>
<p>Th·∫ø n·∫øu c√≥ 2 ng∆∞·ªùi request c√πng l√∫c? =&gt; gi·∫£i quy·∫øt b·∫±ng c√°ch m·ªói m·ªôt request s·∫Ω x·ª≠ l√Ω ·ªü 1 thread, ƒë∆°n gi·∫£n.</p>
<p>Th·∫ø n·∫øu c√≥ 100 ng∆∞·ªùi request c√πng l√∫c? =&gt; m·ªói ng∆∞·ªùi t·∫°o m·ªôt thre... wait a minute.... (n·∫øu 1 th√°ng c√≥ 10M l∆∞·ª£t request =&gt; t·∫°o ra 10M thread)</p>
<p>N·∫øu b·∫°n t·∫°o 1-2 thread m·ªõi, ch·∫£ ai tr√°ch g√¨ b·∫°n c·∫£. Nh∆∞ng n·∫øu b·∫°n t·∫°o li√™n t·ª•c v√† t·ªõi h√†ng trƒÉm c√°i m·ªõi m·ªói l·∫ßn nh∆∞ng l·∫°i gi·∫£i quy·∫øt c√πng 1 v·∫•n ƒë·ªÅ th√¨ c√≥ l·ªó h·ªïng ƒë·∫•y. V√¨ chi ph√≠ c·ªßa vi·ªác t·∫°o 1 thread l√† t∆∞∆°ng ƒë·ªëi l·ªõn, th∆∞·ªùng d·∫´n t·ªõi c√°c v·∫•n ƒë·ªÅ v·ªÅ hi·ªáu nƒÉng v√† c·∫•p ph√°t d·ªØ li·ªáu.</p>
<p>V·ªõi vi·ªác x·ª≠ l√Ω c√°c t√°c v·ª• li√™n t·ª•c nh∆∞ v·∫≠y, c√≥ m·ªôt gi·∫£i ph√°p l√† s·ª≠ d·ª•ng¬†<code>Thread Pool</code>.</p>
<p>·ªû v√≠ d·ª• tr√™n, B√¢y gi·ªù t√¥i s·∫Ω ch·ªâ s·ª≠ d·ª•ng 30 thread th√¥i! V√† ƒë·∫∑t 30 thread n√†y ·ªü tr·∫°ng th√°i kh√¥ng l√†m g√¨ v√† v·ª©t v√†o 1 c√°i¬†<code>Pool</code>¬†(1 c√°i b·ªÉ ch·ª©a, ki·ªÉu v·∫≠y). V·ªõi m·ªói request ƒë·∫øn, t√¥i s·∫Ω l·∫•y trong¬†<code>Pool</code>¬†ra 1 thread v√† x·ª≠ l√Ω c√¥ng vi·ªác, x·ª≠ l√Ω xong, th√¨ c·∫•t thread v√†o ng∆∞·ª£c tr·ªü l·∫°i pool. ƒê∆°n gi·∫£n v·∫≠y th√¥i, nh∆∞ th·∫ø ch√∫ng ta s·∫Ω kh√¥ng ph·∫£i t·∫°o m·ªõi Thread n·ªØa. Tr√°nh t√¨nh t·ªën chi ph√≠ v√† hi·ªáu nƒÉng.</p>
<p>V·∫•n ƒë·ªÅ l√† gi·∫£ s·ª≠ c√≥ h∆°n 31 request t·ªõi c√πng l√∫c th√¨ sao? r·∫•t ƒë√∫ng, tr∆∞·ªùng h·ª£p n√†y l√† ch·∫Øc ch·∫Øn c√≥. L√∫c n√†y¬†<code>Pool</code>¬†s·∫Ω kh√¥ng c√≤n thread n√†o s·∫µn c√≥ n·ªØa. N√™n 1 request c√≤n l·∫°i s·∫Ω b·ªã ƒë·∫©y v√†o 1 h√†ng ƒë·ª£i¬†<code>BlockingQueue</code>. N√≥ s·∫Ω ƒë·ª£i ·ªü ƒë√≥, bao gi·ªù¬†<code>Pool</code>¬†c√≥ 1 thread r·∫£nh r·ªói th√¨ s·∫Ω quay l·∫°i x·ª≠ l√Ω n·ªët.</p>
<h3 id="c√°ch-t·∫°o-threadpool-trong-java"><a class="header" href="#c√°ch-t·∫°o-threadpool-trong-java">C√°ch t·∫°o ThreadPool trong Java</a></h3>
<p>Java Concurrency API h·ªó tr·ª£ m·ªôt v√†i lo·∫°i¬†<code>ThreadPool</code>¬†sau:</p>
<ul>
<li><strong>Cached thread pool</strong>: M·ªói nhi·ªám v·ª• s·∫Ω t·∫°o ra thread m·ªõi n·∫øu c·∫ßn, nh∆∞ng s·∫Ω t√°i s·ª≠ d·ª•ng l·∫°i c√°c thread c≈©. (C√°i n√†y v·∫´n nguy hi·ªÉm nh√©, n√™n √°p d·ª•ng v·ªõi c√°c task nh·ªè, t·ªën √≠t t√≠nh to√°n)</li>
<li><strong>Fixed thread pool</strong>: gi·ªõi h·∫°n s·ªë l∆∞·ª£ng t·ªëi ƒëa c·ªßa c√°c Thread ƒë∆∞·ª£c t·∫°o ra. C√°c task kh√°c ƒë·∫øn sau ph·∫£i ch·ªù trong h√†ng ƒë·ª£i (BlockingQueue). (V√≠ d·ª• ƒë·∫ßu b√†i)</li>
<li><strong>Single-threaded pool</strong>: ch·ªâ gi·ªØ m·ªôt Thread th·ª±c thi m·ªôt nhi·ªám v·ª• m·ªôt l√∫c.</li>
<li><strong>Fork/Join pool</strong>: m·ªôt Thread ƒë·∫∑c bi·ªát s·ª≠ d·ª•ng Fork/ Join Framework b·∫±ng c√°ch t·ª± ƒë·ªông chia nh·ªè c√¥ng vi·ªác t√≠nh to√°n cho c√°c core x·ª≠ l√Ω. (T√≠nh to√°n song song)</li>
</ul>
<h3 id="executor"><a class="header" href="#executor"><strong>Executor</strong></a></h3>
<p><code>Executor</code>¬†l√† m·ªôt class ƒëi k√®m trong g√≥i¬†<code>java.util.concurrent</code>, l√† m·ªôt ƒë·ªëi t∆∞·ª£ng ch·ªãu tr√°ch nhi·ªám qu·∫£n l√Ω c√°c lu·ªìng v√† th·ª±c hi·ªán c√°c t√°c v·ª• Runnable ƒë∆∞·ª£c y√™u c·∫ßu x·ª≠ l√Ω. N√≥ t√°ch ri√™ng c√°c chi ti·∫øt c·ªßa vi·ªác t·∫°o Thread, l·∫≠p k·∫ø ho·∫°ch (scheduling), ‚Ä¶ ƒë·ªÉ ch√∫ng ta c√≥ th·ªÉ t·∫≠p trung ph√°t tri·ªÉn logic c·ªßa t√°c v·ª• m√† kh√¥ng quan t√¢m ƒë·∫øn c√°c chi ti·∫øt qu·∫£n l√Ω Thread.</p>
<p>N√≥i chung n√≥ l√† th·∫±ng wrapper c√°c c√°c b∆∞·ªõc m√¨nh n√≥i ·ªü tr√™n, v√† qu·∫£n l√Ω h·ªô ch√∫ng ta.</p>
<p>Ch√∫ng c√≥ th·ªÉ t·∫°o m·ªôt Executor b·∫±ng c√°ch s·ª≠ d·ª•ng m·ªôt trong c√°c ph∆∞∆°ng th·ª©c ƒë∆∞·ª£c cung c·∫•p b·ªüi l·ªõp ti·ªán √≠ch¬†<code>Executors</code>¬†nh∆∞ sau:</p>
<ul>
<li><strong>newSingleThreadExecutor()</strong>: trong ThreadPool ch·ªâ c√≥ 1 Thread v√† c√°c task (nhi·ªám v·ª•) s·∫Ω ƒë∆∞·ª£c x·ª≠ l√Ω m·ªôt c√°ch tu·∫ßn t·ª±.</li>
<li><strong>newCachedThreadPool()</strong>: nh∆∞ gi·∫£i th√≠ch ·ªü tr√™n, n√≥ s·∫Ω c√≥ 1 s·ªë l∆∞·ª£ng nh·∫•t ƒë·ªãnh thread ƒë·ªÉ s·ª≠ d·ª•ng l·∫°i, nh∆∞ng v·∫´n s·∫Ω t·∫°o m·ªõi thread n·∫øu c·∫ßn. M·∫∑c ƒë·ªãnh n·∫øu m·ªôt Thread kh√¥ng ƒë∆∞·ª£c s·ª≠ d·ª•ng trong v√≤ng 60 gi√¢y th√¨ Thread ƒë√≥ s·∫Ω b·ªã t·∫Øt.</li>
<li><strong>newFixedThreadPool(int n)</strong>: trong Pool ch·ªâ c√≥ n Thread ƒë·ªÉ x·ª≠ l√Ω nhi·ªám v·ª•, c√°c y√™u c·∫ßu t·ªõi sau b·ªã ƒë·∫©y v√†o h√†ng ƒë·ª£i</li>
<li><strong>newScheduledThreadPool(int corePoolSize)</strong>: t∆∞∆°ng t·ª± nh∆∞¬†<code>newCachedThreadPool()</code>¬†nh∆∞ng s·∫Ω c√≥ th·ªùi gian delay gi·ªØa c√°c Thread.</li>
<li><strong>newSingleThreadScheduledExecutor()</strong>: t∆∞∆°ng t·ª± nh∆∞¬†<code>newSingleThreadExecutor()</code>¬†nh∆∞ng s·∫Ω c√≥ kho·∫£ng th·ªùi gian delay gi·ªØa c√°c Thread.</li>
</ul>
<h3 id="code-ch·∫°y-th·ª≠"><a class="header" href="#code-ch·∫°y-th·ª≠"><strong>Code ch·∫°y th·ª≠</strong></a></h3>
<p>Ch√∫ng ta s·∫Ω l·∫•y v√≠ d·ª• ƒë·∫ßu b√†i ƒë·ªÉ code lu√¥n nh√©.</p>
<p>T·∫°o m·ªôt class implement¬†<code>Runnable</code>¬†ƒë·ªÉ x·ª≠ l√Ω request ƒë·∫øn. (ph√¢n bi·ªát¬†<code>Runnable</code>¬†v√†¬†<code>Thread</code>¬†nh√© c√°c b·∫°n)</p>
<pre><code class="language-java">public class RequestHandler implements Runnable {
    String name;
    public RequestHandler(String name){
        this.name = name;
    }

    @Override
    public void run() {
        try {
            // B·∫Øt ƒë·∫ßu x·ª≠ l√Ω request ƒë·∫øn
            System.out.println(Thread.currentThread().getName() + &quot; Starting process &quot; + name);
            // cho ng·ªß 500 milis ƒë·ªÉ v√≠ d·ª• l√† qu√° tr√¨nh x·ª≠ l√Ω m·∫•t 0,5 s
            Thread.sleep(500);
            // K·∫øt th√∫c x·ª≠ l√Ω request
            System.out.println(Thread.currentThread().getName() + &quot; Finished process &quot; + name);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
    }
}
</code></pre>
<h3 id="newsinglethreadexecutor"><a class="header" href="#newsinglethreadexecutor"><strong>newSingleThreadExecutor</strong></a></h3>
<pre><code class="language-java">import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;

public class SingleThreadPoolExample {
    public static void main(String[] args) {
        ExecutorService executor = Executors.newSingleThreadExecutor();

        // C√≥ 100 request t·ªõi c√πng l√∫c
        for (int i = 0; i &lt; 100; i++) {
            executor.execute(new RequestHandler(&quot;request-&quot; + i));
        }
        executor.shutdown(); // Kh√¥ng cho threadpool nh·∫≠n th√™m nhi·ªám v·ª• n√†o n·ªØa

        while (!executor.isTerminated()) {
            // Ch·ªù x·ª≠ l√Ω h·∫øt c√°c request c√≤n ch·ªù trong Queue ...
        }
    }
}
// OUTPUT:
/*
..
..
pool-1-thread-1 Starting process request-98
pool-1-thread-1 Finished process request-98
pool-1-thread-1 Starting process request-99
pool-1-thread-1 Finished process request-99
*/
</code></pre>
<p>C·∫£ ch∆∞∆°ng tr√¨nh ch·ªâ c√≥ 1 pool, 1 thread duy nh·∫•t, x·ª≠ l√Ω to√†n b·ªô request ƒë·∫øn. C√°i n√†o ƒë·∫øn sau th√¨ ƒë·ª£i th√¥i.</p>
<h3 id="newfixedthreadpool"><a class="header" href="#newfixedthreadpool"><strong>newFixedThreadPool()</strong></a></h3>
<pre><code class="language-java">public class FixedThreadPoolExample {
    public static void main(String[] args) throws InterruptedException {
        ExecutorService executor = Executors.newFixedThreadPool(5);

        // C√≥ 100 request t·ªõi c√πng l√∫c

        for (int i = 0; i &lt; 100; i++) {
            executor.execute(new RequestHandler(&quot;request-&quot; + i));
        }
        executor.shutdown(); // Kh√¥ng cho threadpool nh·∫≠n th√™m nhi·ªám v·ª• n√†o n·ªØa

        while (!executor.isTerminated()) {
            // Ch·ªù x·ª≠ l√Ω h·∫øt c√°c request c√≤n ch·ªù trong Queue ...
        }
    }
}
// OUTPUT:
/*
..
..
pool-1-thread-2 Finished process request-96
pool-1-thread-5 Starting process request-99
pool-1-thread-3 Finished process request-97
pool-1-thread-4 Finished process request-98
pool-1-thread-5 Finished process request-99
*/
</code></pre>
<p>Lo·∫°i n√†y th√¨ ch√∫ng ta c·ªë ƒë·ªãnh 5 thread, v√† n√≥ c·ª≠ m·∫∑c ƒë·ªãnh nh∆∞ v·∫≠y m√† x√†i th√¥i, thi·∫øu thread th√¨ ph·∫£i ch·ªù t·ªõi khi c√≥</p>
<h3 id="newcachedthreadpool"><a class="header" href="#newcachedthreadpool"><strong>newCachedThreadPool()</strong></a></h3>
<pre><code class="language-java">public class CachedThreadPoolExample {
    public static void main(String[] args) throws InterruptedException {
        ExecutorService executor = Executors.newCachedThreadPool();

        // C√≥ 100 request t·ªõi c√πng l√∫c

        for (int i = 0; i &lt; 100; i++) {
            executor.execute(new RequestHandler(&quot;request-&quot; + i));
            Thread.sleep(200);
        }
        executor.shutdown(); // Kh√¥ng cho threadpool nh·∫≠n th√™m nhi·ªám v·ª• n√†o n·ªØa

        while (!executor.isTerminated()) {
            // Ch·ªù x·ª≠ l√Ω h·∫øt c√°c request c√≤n ch·ªù trong Queue ...
        }
    }
}

//OUTPUT:
/*
..
..
pool-1-thread-3 Starting process request-98
pool-1-thread-1 Finished process request-96
pool-1-thread-1 Starting process request-99
pool-1-thread-2 Finished process request-97
pool-1-thread-3 Finished process request-98
pool-1-thread-1 Finished process request-99
*/
</code></pre>
<p>C√≥ ch√∫t kh·ªüi s·∫Øc, ch∆∞∆°ng tr√¨nh ch·∫°y nhanh h∆°n h·∫≥n. V√¨ n√≥ ƒë∆∞·ª£c t·∫°o s·ªë thread tho·∫£i m√°i n·∫øu c·∫ßn :)))) R·∫•t nguy hi·ªÉm. Nh∆∞ng b·∫°n s·∫Ω th·∫•y l√† c√≥ ch·ªó n√≥ s·ª≠ d·ª•ng l·∫°i c√°c thread ƒë√£ xong tr∆∞·ªõc ƒë√≥.# ThreadPoolExecutor vaÃÄ nguyeÃÇn taÃÜÃÅc quaÃân lyÃÅ pool size</p>
<ul>
<li>Kh√°i ni·ªám</li>
<li>Nguy√™n t·∫Øc v·∫≠n h√†nh</li>
<li>Code v√≠ d·ª•</li>
</ul>
<h3 id="gi·ªõi-thi·ªáu-2"><a class="header" href="#gi·ªõi-thi·ªáu-2"><strong>Gi·ªõi thi·ªáu</strong></a></h3>
<p><code>ThreadPoolExecutor</code>¬†l√† m·ªôt class n√¢ng cao h∆°n c·ªßa c√°c¬†<code>ThreadPool</code>¬†c∆° b·∫£n trong g√≥i java concurrent. C·ª• th·ªÉ c√°c th·ªÉ lo·∫°i ThreadPool kh√°c b·∫°n xem ·ªü ƒë√¢y:</p>
<ol>
<li>KhaÃÅi nieÃ£ÃÇm ThreadPool vaÃÄ Executor trong Java</li>
</ol>
<p>ƒê·∫∑c ƒëi·ªÉm c·ªßa c√°c lo·∫°i¬†<code>ThreadPool</code>¬†th√¥ng th∆∞·ªùng ƒë∆∞·ª£c cung c·∫•p trong¬†<code>ExecutorService</code>¬†l√† kh√¥ng ƒë·ªß linh ƒë·ªông theo t√¨nh hu·ªëng. ƒëi·ªÉn h√¨nh l√† b·ªã fix s·ªë l∆∞·ª£ng thread, ho·∫∑c cho ph√©p t·∫°o qu√° nhi·ªÅu thread. N√≥ th·ª±c s·ª± ch∆∞a ph·∫£i ph∆∞∆°ng √°n t·ªëi ∆∞u.</p>
<p><code>ThreadPoolExecutor</code>¬†th√¨ kh√°c, m·ªôt phi√™n b·∫£n n√¢ng c·∫•p h∆°n, cho ph√©p ch√∫ng ta t√πy bi·∫øn s·ªë l∆∞·ª£ng Thread theo k·ªãch b·∫£n. Gi√∫p n√≥ th√¥ng minh h∆°n m·∫•y c√°i kia m·ªôt ch√∫t.</p>
<p>Ngo√†i ra c√≤n c√≥¬†<code>ThreadPoolTaskExecutor</code>¬†do¬†<code>Spring Framework</code>¬†cung c·∫•p c≈©ng ho·∫°t ƒë·ªông t∆∞∆°ng t·ª±</p>
<h3 id="kh√°i-ni·ªám-1"><a class="header" href="#kh√°i-ni·ªám-1"><strong>Kh√°i ni·ªám</strong></a></h3>
<p><code>ThreadPoolExecutor</code>¬†v√†¬†<code>ThreadPoolTaskExecutor</code>¬†c≈©ng l√†¬†<code>Executor</code>¬†nh∆∞ng n√≥ c√≥ th√™m c√°c tham s·ªë nh∆∞ sau:</p>
<ul>
<li><code>corePoolSize</code>: S·ªë l∆∞·ª£ng Thread m·∫∑c ƒë·ªãnh trong¬†<code>Pool</code></li>
<li><code>maxPoolSize</code>: S·ªë l∆∞·ª£ng t·ªëi ƒëa Thread trong¬†<code>Pool</code></li>
<li><code>queueCapacity</code>: S·ªë l∆∞·ª£ng t·ªëi da c·ªßa¬†<code>BlockingQueue</code></li>
</ul>
<h3 id="nguy√™n-t·∫Øc-v·∫≠n-h√†nh"><a class="header" href="#nguy√™n-t·∫Øc-v·∫≠n-h√†nh"><strong>Nguy√™n t·∫Øc v·∫≠n h√†nh</strong></a></h3>
<p>V√≠ d·ª• v·ªõi¬†<code>ThreadPoolExecutor</code>¬†c√≥:</p>
<ul>
<li><code>corePoolSize</code>: 5</li>
<li><code>maxPoolSize</code>: 15</li>
<li><code>queueCapacity</code>: 100</li>
</ul>
<ol>
<li>Khi c√≥ request, n√≥ s·∫Ω t·∫°o trong Pool t·ªëi ƒëa 5 thread (<code>corePoolSize</code>).</li>
<li>Khi s·ªë l∆∞·ª£ng thread v∆∞·ª£t qu√° 5 thread. N√≥ s·∫Ω cho v√†o h√†ng ƒë·ª£i.</li>
<li>Khi s·ªë l∆∞·ª£ng h√†ng ƒë·ª£i full 100 (<code>queueCapacity</code>). L√∫c n√†y m·ªõi b·∫Øt ƒë·∫ßu t·∫°o th√™m Thread m·ªõi.</li>
<li>S·ªë thread m·ªõi ƒë∆∞·ª£c t·∫°o t·ªëi ƒëa l√† 15 (<code>maxPoolSize</code>).</li>
<li>Khi Request v∆∞·ª£t qu√° s·ªë l∆∞·ª£ng 15 thread. Request s·∫Ω b·ªã t·ª´ ch·ªëi!</li>
</ol>
<p>V·ªõi k·ªãch b·∫£n nh∆∞ th·∫ø n√†y, b·∫°n s·∫Ω lu√¥n ti·∫øt ki·ªám ƒë∆∞·ª£c s·ªë l∆∞·ª£ng thread s·ª≠ d·ª•ng l√† 5 trong tr∆∞·ªùng h·ª£p b√¨nh th∆∞·ªùng. Nh∆∞ng v·∫´n c√≥ th·ªÉ handle l√™n t·ªõi 15 thread n·∫øu server qu√° t·∫£i.</p>
<p>ƒêi·ªÉm ch√∫ng ta hay nh·∫ßm l·∫´n l√† ƒëi·ªÅu ki·ªán ƒë·ªÉ t·∫°o th√™m thread ƒë√≥ l√† khi¬†<strong>h√†ng ƒë·ª£i ph·∫£i full</strong>. ƒê√∫ng v·∫≠y, n·∫øu h√†ng ƒë·ª£i ch∆∞a full, th√¨ c√≥ nghƒ©a ch√∫ng ta ch∆∞a qu√° t·∫£i.</p>
<h3 id="code-v√≠-d·ª•"><a class="header" href="#code-v√≠-d·ª•"><strong>Code v√≠ d·ª•</strong></a></h3>
<p>T·∫°o ra m·ªôt Runnable ƒë·ªÉ x·ª≠ l√Ω c√°c nhi·ªám v·ª•.</p>
<pre><code class="language-java">public class RequestHandler implements Runnable {
    String name;
    public RequestHandler(String name){
        this.name = name;
    }

    @Override
    public void run() {
        try {
            System.out.println(Thread.currentThread().getName() + &quot; Starting process &quot; + name);
            // Gi·∫£ s·ª≠ nhi·ªám v·ª• x·ª≠ l√Ω h·∫øt 0.5s
            Thread.sleep(500);
            System.out.println(Thread.currentThread().getName() + &quot; Finished process &quot; + name);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
    }
}
</code></pre>
<p>T·∫°o ra¬†<code>ThreadPoolExecutor</code>¬†ƒë·ªÉ x·ª≠ l√Ω 1000 request t·ªõi d·ªìn d·∫≠p.</p>
<pre><code class="language-java">public class ThreadPoolExecutorExample {
    public static void main(String[] args) {
        int corePoolSize = 5;
        int maximumPoolSize = 10;
        int queueCapacity = 100;
        ThreadPoolExecutor executor = new ThreadPoolExecutor(corePoolSize, // S·ªë corePoolSize
                                                             maximumPoolSize, // s·ªë maximumPoolSize
                                                             10, // th·ªùi gian m·ªôt thread ƒë∆∞·ª£c s·ªëng n·∫øu kh√¥ng l√†m g√¨
                                                             TimeUnit.SECONDS,
                                                             new ArrayBlockingQueue&lt;&gt;(queueCapacity)); // Blocking queue ƒë·ªÉ cho request ƒë·ª£i
        // 1000 request ƒë·∫øn d·ªìn d·∫≠p, li·ªÅn 1 ph√°t, kh√¥ng ngh·ªâ
        for (int i = 0; i &lt; 1000; i++) {
            executor.execute(new RequestHandler(&quot;request-&quot; + i));
        }
        executor.shutdown(); // Kh√¥ng cho threadpool nh·∫≠n th√™m nhi·ªám v·ª• n√†o n·ªØa

        while (!executor.isTerminated()) {
            // Ch·ªù x·ª≠ l√Ω h·∫øt c√°c request c√≤n ch·ªù trong Queue ...
        }
    }
}

// OUTPUT
/*
..
..
pool-1-thread-3 Finished process request-96
pool-1-thread-5 Finished process request-97
pool-1-thread-4 Finished process request-98
pool-1-thread-8 Finished process request-100
pool-1-thread-2 Finished process request-99
pool-1-thread-6 Finished process request-102
pool-1-thread-7 Finished process request-101
pool-1-thread-9 Finished process request-104
pool-1-thread-10 Finished process request-103
*/
</code></pre>
<p>B·∫°n s·∫Ω th·∫•y l√† ch∆∞∆°ng tr√¨nh ƒë√£ ph·∫£i s·ª≠ d·ª•ng t·ªõi 10 thread ƒë·ªÉ x·ª≠ l√Ω h·∫øt 1000 request c√πng 1 l√∫c. Nh·ªõ l√† c√πng 1 l√∫c nh√© c√°c b·∫°n, th·∫ø l√† nhi·ªÅu r·ªìi ƒë√≥. V√† theo nguy√™n t·∫Øc. N√≥ ƒë√£ t·∫≠n d·ª•ng h·∫øt¬†<code>maxPoolSize</code>¬†r·ªìi. M√†¬†<code>queue</code>¬†v·∫´n full. N√™n c√°c request kh√¥ng ·ªü trong¬†<code>queue</code>¬†s·∫Ω b·ªã reject. D·∫´n t·ªõi ch·ªâ s·ª≠ l√Ω ƒë∆∞·ª£c¬†<code>104 request</code>¬†m√† th√¥i.</p>
<p>B√¢y gi·ªù, v·∫´n l√† v√≠ d·ª• n√†y, nh∆∞ng m·ªói request c√°ch nhau¬†<code>50 milliseconds</code>¬†th√¨ s·∫Ω nh∆∞ n√†o, d·ªÖ th·ªü h∆°n k? ch·ªâ 0.05s th√¥i.</p>
<pre><code class="language-java">for (int i = 0; i &lt; 1000; i++) {
    executor.execute(new RequestHandler(&quot;request-&quot; + i));
    Thread.sleep(50);
}
// OUTPUT:
/*
..
..
pool-1-thread-2 Finished process request-993
pool-1-thread-1 Finished process request-994
pool-1-thread-3 Finished process request-995
pool-1-thread-4 Finished process request-996
pool-1-thread-5 Finished process request-997
pool-1-thread-9 Finished process request-998
pool-1-thread-10 Finished process request-999
*/
</code></pre>
<p>X·ª≠ l√Ω g·ªçn g√†ng, s·∫°ch s·∫Ω c√°c b·∫°n ·∫°. S·ª©c m·∫°nh c·ªßa¬†<code>ThreadPoolExecutor</code>¬†ph√°t huy r√µ r·ªát h∆°n. T·∫≠n d·ª•ng ƒë∆∞·ª£c 10 thread v√† queue v·∫´n c√≤n ch·ªó n√™n r·∫•t nhanh, kh√°c bi·ªát trong m·ªôt h·ªá th·ªëng c√≥ th·ªÉ ƒëc t√≠nh b·∫±ng¬†<code>milliseconds</code>¬†nh∆∞ v·∫≠y ƒë√≥. n·∫øu m·ªói request c√°ch nhau¬†<code>100 milliseconds</code>¬†th√¨ n√≥ ch·ªâ c·∫ßn s·ª≠ d·ª•ng 5 thread th√¥i.</p>
<p>to√†n b·ªô code m√¨nh ƒë·ªÉ t·∫°i Github:¬†CODE</p>
<p>Ch√∫c c√°c b·∫°n h·ªçc t·∫≠p t·ªët! ohoho</p>
<h1 id="gioi-thieu-reactive-programming-voi-reactor"><a class="header" href="#gioi-thieu-reactive-programming-voi-reactor">GioÃõÃÅi thieÃ£ÃÇu Reactive Programming voÃõÃÅi Reactor</a></h1>
<h3 id="gi·ªõi-thi·ªáu-3"><a class="header" href="#gi·ªõi-thi·ªáu-3"><strong>Gi·ªõi thi·ªáu</strong></a></h3>
<p>C√°c ·ª©ng d·ª•ng hi·ªán nay y√™u c·∫ßu m·ªôt t·ªëc ƒë·ªô ph·∫£n h·ªìi cao ƒë·ªÉ n√¢ng cao tr·∫£i nghi·ªám ng∆∞·ªùi d√πng, gi√∫p h·ªá th·ªëng m∆∞·ª£t m√†, linh ho·∫°t, kh√¥ng b·ªã ƒë√≥ng bƒÉng lu·ªìng. C√°c y√™u c·∫ßu n√†y c≈©ng l√† k·∫øt qu·∫£ h∆∞·ªõng t·ªõi khi ch√∫ng ta s·ª≠ d·ª•ng m√¥ h√¨nh l·∫≠p tr√¨nh theo¬†<strong>Reactive Programming</strong>.</p>
<p>Trong b√†i vi·∫øt n√†y, ch√∫ng ta s·∫Ω c·ªë g·∫Øng l√†m s√°ng t·ªè m√¥ h√¨nh l·∫≠p tr√¨nh n√†y th√¥ng qua m·ªôt s·ªë kh√°i ni·ªám¬†<code>Synchronous</code>¬†v√†¬†<code>Asynchronous</code>¬†,¬†<code>Blocking</code>¬†v√†¬†<code>Non-Blocking</code>¬†tr∆∞·ªõc.</p>
<h3 id="synchronous-v√†-asynchronous"><a class="header" href="#synchronous-v√†-asynchronous"><strong>Synchronous v√† Asynchronous</strong></a></h3>
<p><code>Synchronous</code>¬†(X·ª≠ l√Ω ƒë·ªìng b·ªô): l√† x·ª≠ l√Ω m√† ch∆∞∆°ng tr√¨nh s·∫Ω ch·∫°y theo t·ª´ng b∆∞·ªõc, nghƒ©a l√† th·ª±c hi·ªán xong ƒëo·∫°n code tr√™n m·ªõi t·ªõi ƒëo·∫°n code k·∫ø ti·∫øp v√† s·∫Ω theo th·ª© t·ª± t·ª´ tr√™n xu·ªëng d∆∞·ªõi, t·ª´ tr√°i qua ph·∫£i. ƒê√¢y c≈©ng l√† nguy√™n t·∫Øc c∆° b·∫£n m√† c√°c b·∫°n ƒë√£ ƒë∆∞·ª£c h·ªçc.</p>
<p><code>Asynchronous</code>¬†(X·ª≠ l√Ω b·∫•t ƒë·ªìng b·ªô): Ng∆∞·ª£c l·∫°i v·ªõi x·ª≠ l√Ω ƒë·ªìng b·ªô, nghƒ©a l√† ch∆∞∆°ng tr√¨nh c√≥ th·ªÉ ho·∫°t ƒë·ªông nh·∫£y c√≥c, function ph√≠a d∆∞·ªõi c√≥ th·ªÉ ho·∫°t ƒë·ªông m√† kh√¥ng c·∫ßn ph·∫£i ch·ªù function hay m·ªôt ƒëo·∫°n code n√†o ƒë√≥ ph√≠a tr√™n th·ª±c hi·ªán xong. D∆∞·ªõi ƒë√¢y l√† minh h·ªça cho vi·ªác l√†m vi·ªác v·ªõi d·ªØ li·ªáu ƒë·ªìng b·ªô v√† b·∫•t ƒë·ªìng b·ªô :</p>
<p>!image</p>
<p>Nh∆∞ ta th·∫•y n·∫øu c√°c c√¥ng vi·ªác kh√¥ng li√™n quan ƒë·∫øn nhau th√¨ b·∫•t ƒë·ªìng b·ªô gi√∫p ta ti·∫øt ki·ªám th·ªùi gian x·ª≠ l√Ω h∆°n v√† mang l·∫°i cho ng∆∞·ªùi d√πng tr·∫£i nghi·ªám t·ªët h∆°n.</p>
<h3 id="blocking-v√†-non-blocking"><a class="header" href="#blocking-v√†-non-blocking"><strong>Blocking v√† Non-Blocking</strong></a></h3>
<p>Ch√∫ng ta c√≥ th·ªÉ hi·ªÉu m·ªôt c√°ch ƒë∆°n gi·∫£n khi ch√∫ng ta mu·ªën d·∫•y m·ªôt danh s√°ch¬†<code>Student</code>.</p>
<p>L·∫≠p tr√¨nh theo m√¥ h√¨nh¬†<code>Blocking</code>¬†th√¨ ph·∫£i ch·ªù ƒë·ª£i ch∆∞∆°ng tr√¨nh th·ª±c hi·ªán l·∫•y t·∫•t c·∫£¬†<code>Student</code>¬†r·ªìi m·ªõi th·ª±c hi·ªán c√°c thao t√°c ti·∫øp theo, hay ƒë∆∞·ª£c g·ªçi l√† b·ªã ƒë√≥ng bƒÉng lu·ªìng ch·ªù qu√° tr√¨nh ƒë√≥ng g√≥i t·∫•t c·∫£¬†<code>Student</code>¬†ho√†n t·∫•t. Do ƒë√≥ s·∫Ω d·∫´n t·ªën th·ªùi gian ch·ªù ƒë·ª£i n·∫øu s·ªë l∆∞·ª£ng danh s√°ch r·∫•t l·ªõn.</p>
<p>L·∫≠p tr√¨nh theo m√¥ h√¨nh¬†<code>Non-Blocking</code>¬†th√¨ ho·∫°t ƒë·ªông ng∆∞·ª£c l·∫°i, kh√¥ng c·∫ßn ph·∫£i ch·ªù ƒë·ª£i ho√†n thi·ªán c·∫£ danh s√°ch¬†<code>Student</code>¬†m√† v·ªõi m·ªói¬†<code>Student</code>¬†n√†o ƒë∆∞·ª£c ƒë∆∞a ra th√¨ th·ª±c hi·ªán thao t√°c lu√¥n v·ªõi n√≥. ƒêi·ªÅu n√†y d·∫´n t·ªõi kh√¥ng b·ªã ƒë√≥ng bƒÉng lu·ªìng, k·ªÉ c·∫£ s·ªë l∆∞·ª£ng danh s√°ch l·ªõn.</p>
<h3 id="reactive-programming"><a class="header" href="#reactive-programming"><strong>Reactive Programming</strong></a></h3>
<p>N√≥i m·ªôt c√°ch ng·∫Øn g·ªçn,¬†<strong>Reactive Programming</strong>¬†l√† m√¥ h√¨nh l·∫≠p tr√¨nh m√† ·ªü ƒë√≥ d·ªØ li·ªáu ƒë∆∞·ª£c truy·ªÅn t·∫£i d∆∞·ªõi d·∫°ng lu·ªìng ( stream). M√¥ h√¨nh n√†y d∆∞a tr√™n nguy√™n t·∫Øc¬†<code>Asynchronous</code>¬†v√†¬†<code>Non-Blocking</code>¬†ƒë·ªÉ l√†m vi·ªác v·ªõi d·ªØ li·ªáu.</p>
<p>D∆∞·ªõi ƒë√¢y l√† m·ªôt s·ªë kh√°i ni·ªám m√† b·∫°n c·∫ßn ph·∫£i bi·∫øt khi l√†m vi·ªác v·ªõi m√¥ h√¨nh n√†y:</p>
<p><strong>Publisher:</strong>¬†L√† nh√† cung c·∫•p d·ªØ li·ªáu, ho·∫∑c l√† n∆°i ph√°t ra ngu·ªìn d·ªØ li·ªáu.</p>
<p><strong>Subscriber:</strong>¬†L·∫Øng nghe¬†<strong>Publisher</strong>, y√™u c·∫ßu d·ªØ li·ªáu m·ªõi. Hay ƒë∆∞·ª£c g·ªçi L√† ng∆∞·ªùi ti√™u th·ª• d·ªØ li·ªáu.</p>
<p><strong>Backpressure:</strong>¬†L√† kh·∫£ nƒÉng m√†¬†<strong>Subscriber</strong>¬†cho ph√©p¬†<strong>Publisher</strong>¬†c√≥ th·ªÉ x·ª≠ l√Ω bao nhi√™u y√™u c·∫ßu t·∫°i th·ªùi ƒëi·ªÉm ƒë√≥. B·ªüi v√¨¬†<strong>Subscriber</strong>¬†ch·ªãu tr√°ch nhi·ªám v·ªÅ lu·ªìng d·ªØ li·ªáu, kh√¥ng ph·∫£i¬†<strong>Publisher</strong>¬†v√¨ n√≥ ch·ªâ cung c·∫•p d·ªØ li·ªáu.</p>
<p><strong>Stream:</strong>¬†Lu·ªìng d·ªØ li·ªáu bao g·ªìm c√°c d·ªØ li·ªáu tr·∫£ v·ªÅ , c√°c l·ªói x·∫£y ra v√† lu·ªìng n√†y ph·∫£i l√† lu·ªìng b·∫•t ƒë·ªìng b·ªô.</p>
<p>Nh∆∞ v·∫≠y d·ªØ li·ªáu c·ªßa ch√∫ng ra s·∫Ω ƒë∆∞·ª£c chuy·ªÉn th√†nh m·ªôt d√≤ng (data stream) do ƒë√≥ tr√°nh ƒë∆∞·ª£c vi·ªác b·ªã blocking v√† c√°c d·ªØ li·ªáu ph√°t ra th√¨ ƒë·ªÅu ƒë∆∞·ª£c subcriber l·∫Øng nghe d·∫´n ƒë·∫øn qu√° tr√¨nh x·ª≠ l√Ω v√† b√°o l·ªói di·ªÖn ra m·ªôt c√°ch ƒë∆°n gi·∫£n h∆°n.</p>
<h3 id="reactor"><a class="header" href="#reactor"><strong>Reactor</strong></a></h3>
<p><strong>Reactor</strong>¬†l√† m·ªôt n·ªÅn t·∫£ng ƒë·ªÉ ta tri·ªÉn khai vi·ªác l·∫≠p tr√¨nh theo phong c√°ch¬†<strong>reactive programming</strong>. N√≥ ƒë∆∞·ª£c t√≠ch h·ª£p tr·ª±c ti·∫øp v·ªõi Java 8 funcion APIs nh∆∞¬†<code>CompletableFuture</code>,¬†<code>Stream</code>,¬†<code>Duration</code>.</p>
<p><strong>Reactor</strong>¬†cung c·∫•p 2 lo·∫°i v·ªÅ¬†<strong>Publisher</strong>¬†:</p>
<p><code>Flux</code>: l√† m·ªôt steam ph√°t ra t·ª´ 0...n ph·∫ßn t·ª≠.</p>
<p>!image</p>
<p><code>Mono</code>: l√† m·ªôt steam ph√°t ra t·ª´ 0...1 ph·∫ßn t·ª≠.</p>
<p>!image</p>
<p>V·∫≠y l√† c√°c b·∫°n c√≥ th·ªÉ hi·ªÉu ƒë∆∞·ª£c¬†<strong>Reactive Programming</strong>¬†ph·∫£i kh√¥ng n√†o :D. C√°c b√†i vi·∫øt t·ªõi ch√∫ng ta s·∫Ω ƒëi s√¢u h∆°n v·ªÅ c√°c th·ª±c thi c≈©ng nh∆∞ c√°c¬†<code>function</code>¬†m√†¬†<strong>Reactor</strong>¬†h·ªó tr·ª£. H√£y ch√∫ √Ω theo d√µi v√† ƒë·ª´ng qu√™n nh·∫≠n x√©t ƒë·ªÉ ch√∫ng t√¥i c√≥ th·ªÉ c·∫£i thi·ªán c√°c b√†i vi·∫øt t·ªët h∆°n.</p>
<h1 id="gioi-thieu-reactor-core"><a class="header" href="#gioi-thieu-reactor-core">GioÃõÃÅi thieÃ£ÃÇu Reactor Core</a></h1>
<ul>
<li>Maven Dependencies</li>
<li>T·∫°o ra m·ªôt lu·ªìng d·ªØ li·ªáu</li>
<li>Subscribe()</li>
<li>So s√°nh v·ªõi Streams Java 8</li>
<li>Backpressure</li>
<li>Concurrency</li>
<li>K·∫øt lu·∫≠n</li>
</ul>
<h3 id="t·ªïng-quan"><a class="header" href="#t·ªïng-quan"><strong>T·ªïng Quan</strong></a></h3>
<p><strong>Reactor Core</strong>¬†l√† m·ªôt th·ª± vi·ªán Java 8 implement m√¥ h√¨nh¬†<strong>Reactive Programming</strong>. N√≥ ƒë∆∞·ª£c x√¢y d·ª±ng d·ª±a tr√™n¬†<strong>Reactive Streams Specification</strong>¬†- m·ªôt ti√™u chu·∫©n ƒë·ªÉ x√¢y d·ª±ng ·ª©ng d·ª•ng¬†<code>Reactive</code>.</p>
<p>Trong b√†i vi·∫øt n√†y, ch√∫ng ta s·∫Ω ƒëi t·ª´ng b∆∞·ªõc nh·ªè th√¥ng qua¬†<code>Reactor</code>¬†cho ƒë·∫øn khi c√≥ c√°i nh√¨n to√†n c·∫£nh c≈©ng nh∆∞ c√°ch th·ª±c thi c·ªßa¬†<strong>Reactor core</strong>.</p>
<h3 id="maven-dependencies"><a class="header" href="#maven-dependencies"><strong>Maven Dependencies</strong></a></h3>
<p>ƒê√¢y l√† th∆∞ vi·ªán c·ªßa¬†<code>Reactor</code>, ch√∫ng ta c√≥ th·ªÉ l·∫•y th∆∞ vi·ªán m·ªõi nh·∫•t t·∫°i¬†ƒë√¢y</p>
<pre><code>&lt;dependency&gt;&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;
    &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;
    &lt;version&gt;3.2.8.RELEASE&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<h3 id="t·∫°o-ra-m·ªôt-lu·ªìng-d·ªØ-li·ªáu"><a class="header" href="#t·∫°o-ra-m·ªôt-lu·ªìng-d·ªØ-li·ªáu"><strong>T·∫°o ra m·ªôt lu·ªìng d·ªØ li·ªáu</strong></a></h3>
<p>ƒê·ªÉ c√≥ m·ªôt ·ª©ng d·ª±ng ph·∫£n ·ª©ng (reactive), ƒëi·ªÅu ƒë·∫ßu ti√™n ch√∫ng ta c·∫ßn ph·∫£i l√†m l√† t·∫°o ra m·ªôt lu·ªìng d·ªØ li·ªáu. Kh√¥ng c√≥ d·ªØ li·ªáu n√†y ch√∫ng ta s·∫Ω kh√¥ng c√≥ b·∫•t c·ª© ƒëi·ªÅu g√¨ ƒë·ªÉ ph·∫£n ·ª©ng, ƒë√≥ l√† l√Ω do t·∫°i sao ƒë√¢y l√† b∆∞·ªõc ƒë·∫ßu ti√™n.</p>
<p><code>Reactor core</code>¬†cung c·∫•p 2 lo·∫°i d·ªØ li·ªáu cho ph√©p ch√∫ng ta th·ª±c hi·ªán ƒëi·ªÅu n√†y.</p>
<p><strong>Flux</strong></p>
<p>C√°ch ƒë·∫ßu ti√™n ƒë√≥ l√† d√πng¬†<code>Flux</code>.¬†<code>Flux</code>¬†l√† m·ªôt lu·ªìng c√≥ th·ªÉ ph√°t ra¬†<strong>0..n</strong>¬†ph·∫ßn t·ª≠. V√≠ d·ª• t·∫°o ƒë∆°n gi·∫£n:</p>
<pre><code class="language-java">Flux&lt;Integer&gt; just = Flux.just(1,2,3,4);
</code></pre>
<p><strong>Mono</strong></p>
<p>C√°ch th·ª© hai ƒë√≥ l√†¬†<code>Mono</code>.¬†<code>Mono</code>¬†l√† m·ªôt lu·ªìng c√≥ th·ªÉ ph√°t ra¬†<strong>0..1</strong>¬†ph·∫ßn t·ª≠. N√≥ ho·∫°t ƒë·ªông g·∫ßn gi·ªëng h·ªá nh∆∞¬†<code>Flux</code>, ch·ªâ l√† b·ªã gi·ªõi h·∫°n kh√¥ng qu√° m·ªôt ph·∫ßn t·ª≠. V√≠ d·ª•:</p>
<pre><code class="language-java">Mono&lt;String&gt; just = Mono.just(&quot;atomPtit&quot;);
</code></pre>
<p>ƒêi·ªÅu l∆∞u √Ω r·∫±ng c·∫£¬†<code>Flux</code>¬†v√†¬†<code>Mono</code>¬†ƒë·ªÅ ƒë∆∞·ª£c tri·ªÉn khai t·ª´ interface¬†<code>Publisher</code>. C·∫£ hai ƒë·ªÅu tu·∫ßn th·ªß ti√™u chu·∫©n¬†<code>Reactive</code>, ch√∫ng ta c√≥ th·ªÉ s·ª≠ d·ª•ng interface nh∆∞ sau:</p>
<pre><code class="language-java">Publisher&lt;String&gt; just = Mono.just(&quot;foo&quot;);
</code></pre>
<h3 id="subscribe"><a class="header" href="#subscribe"><strong>Subscribe()</strong></a></h3>
<p>H√£y lu√¥n ghi nh·ªõ r·∫±ng:¬†<strong>Kh√¥ng c√≥ g√¨ x·∫£y ra cho ƒë·∫øn khi subscribe()</strong>¬†.</p>
<p>Trong¬†<code>reactor</code>, khi b·∫°n vi·∫øt m·ªôt¬†<code>Publisher</code>, d·ªØ li·ªáu kh√¥ng b·∫Øt ƒë·∫ßu ƒë∆∞·ª£c b∆°m v√†o theo m·∫∑c ƒë·ªãnh. Thay v√†o ƒë√≥, b·∫°n t·∫°o m·ªôt m√¥ t·∫£ tr·ª´u t∆∞·ª£ng v·ªÅ quy ƒë·ªãnh kh√¥ng ƒë·ªìng b·ªô c·ªßa b·∫°n(h·ªó tr·ª£ t√°i s·ª≠ d·ª•ng).</p>
<p>ƒê·ªÉ hi·ªÉu r√µ lu·ªìng ho·∫°t ƒë·ªông h√£y theo d√µi qua v√≠ d·ª• ƒë∆°n gi·∫£n sau.</p>
<pre><code>&lt;dependency&gt;
    &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;
    &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;
    &lt;version&gt;3.2.8.RELEASE&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;
    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;
    &lt;version&gt;1.1.3&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<p>Ch√∫ng ta th√™m th∆∞ vi·ªán¬†<code>logback</code>. ƒêi·ªÅu n√†y s·∫Ω gi√∫p ch√∫ng ta ghi nh·∫≠t k√Ω ƒë·∫ßu ra c·ªßa qu√° tr√¨nh ho·∫°t ƒë·ªông¬†<code>reactor</code>¬†t·ª´ ƒë√≥ hi·ªÉu r√µ h∆°n v·ªÅ lu·ªìng d·ªØ li·ªáu.</p>
<pre><code class="language-java">public class ReactorCode {
    public static void main(String[] args) {
        List&lt;Integer&gt; elements = new ArrayList&lt;&gt;();
        Flux.just(1, 2, 3, 4)
                .log()
                .subscribe(elements::add);
    }
}

// OUTPUT:
/*
23:02:16.996 [main] DEBUG reactor.util.Loggers$LoggerFactory - Using Slf4j logging framework
23:02:17.014 [main] INFO  reactor.Flux.Array.1 - | onSubscribe([Synchronous Fuseable] FluxArray.ArraySubscription)
23:02:17.017 [main] INFO  reactor.Flux.Array.1 - | request(unbounded)
23:02:17.018 [main] INFO  reactor.Flux.Array.1 - | onNext(1)
23:02:17.018 [main] INFO  reactor.Flux.Array.1 - | onNext(2)
23:02:17.018 [main] INFO  reactor.Flux.Array.1 - | onNext(3)
23:02:17.018 [main] INFO  reactor.Flux.Array.1 - | onNext(4)
23:02:17.019 [main] INFO  reactor.Flux.Array.1 - | onComplete()
*/
</code></pre>
<p>H√£y nh√¨n v√†o ph·∫ßn output, m·ªçi th·ª© ƒë·ªÅu ch·∫°y tr√™n main thread. B√¢y gi·ªù chugn ta ƒëi xem r√µ t·ª´ng d√≤ng th·ª±c thi: 1.¬†<code>onSubscribe()</code>¬†- ƒêi·ªÅu n√†y ƒë∆∞·ª£c g·ªçi thi ch√∫ng ra ƒëƒÉng k√Ω (subscriber()) lu·ªìng</p>
<ol>
<li><code>request(unbounded)</code>¬†- Khi ch√∫ng ta g·ªçi ƒëƒÉng k√Ω, th√¨ h√†m n√†y ƒë∆∞·ª£c ch·∫°y ng·∫ßm nh·∫±m √Ω nghƒ©a t·∫°o ƒëƒÉng k√Ω. Trong tr∆∞·ªùng h·ª£p n√†y ch·∫°y m·∫∑c ƒë·ªãnh l√† unbounded (kh√¥ng gi·ªõi h·∫°n), nghƒ©a l√† n√≥ y√™u c·∫ßu m·ªçi ph·∫ßn t·ª≠ c√≥ s·∫µn.</li>
<li><code>onNext()</code>¬†- H√†m n√†y ƒë∆∞·ª£c g·ªçi cho m·ªçi ph·∫ßn t·ª≠ ƒë∆°n.</li>
<li><code>onComplete()</code>¬†- H√†m n√†y ƒë∆∞·ª£c g·ªçi sau c√πng sau khi nh·∫≠n ƒë∆∞·ª£c ph·∫ßn t·ª≠ cu·ªëi c√πng. Trong th·ª±c c√≥ th·ªÉ x·∫£y ra c√°c h√†m kh√°c nh∆∞¬†<code>onError()</code>, c√°i m√† c√≥ th·ªÉ ƒë∆∞·ª£c g·ªçi khi x·∫£y ra m·ªôt exception.</li>
</ol>
<h3 id="so-s√°nh-v·ªõi-streams-java-8"><a class="header" href="#so-s√°nh-v·ªõi-streams-java-8"><strong>So s√°nh v·ªõi Streams Java 8</strong></a></h3>
<p>C√≥ v·∫ª nhi·ªÅu ng∆∞·ªùi v·∫´n ƒëang nghƒ© s·ª± t∆∞∆°ng ƒë·ªìng v·ªõi Stream trong Java 8:</p>
<pre><code class="language-java">List&lt;Integer&gt; collected = Stream.of(1, 2, 3, 4)
  .collect(toList());
</code></pre>
<p>S·ª± kh√°c bi·∫øt c·ªët l√µi l√†¬†<code>Reactive</code>¬†l√† m·ªôt h√¨nh¬†<strong>push</strong>¬†(ƒë·∫©y) , trong khi Stream Java 8 l√† m√¥ h√¨nh¬†<strong>pull</strong>¬†(k√©o)</p>
<p>Streams Java 8 l√†¬†<code>terminal</code>¬†- k√©o t·∫•t c·∫£ d·ªØ li·ªáu v√† tr·∫£ v·ªÅ m·ªôt k·∫øt qu·∫£. V·ªõi¬†<code>Reactive</code>, ch√∫ng ta c√≥ m·ªôt lu·ªìng v√¥ h·∫°n ƒë·∫øn t·ª´ m·ªôt ngu·ªìi t√†i nguy√™n b√™n ngo√†i, v·ªõi nhi·ªÅu ng∆∞·ªùi subscribe(). Ch√∫ng ta c≈©ng c√≥ th·ªÉ l√†m nh·ªØng vi·ªác nh∆∞ k·∫øt h·ª£p c√°c lu·ªìng, ti·ªÅu ti·∫øt lu·ªìng v√†¬†<code>backpressure</code>.</p>
<h3 id="backpressure"><a class="header" href="#backpressure"><strong>Backpressure</strong></a></h3>
<p>Trong v√≠ d·ª• tr√™n, ng∆∞·ªùi ƒëƒÉng k√Ω n√≥i v·ªõi¬†<code>Publisher</code>¬†ƒë·∫©y t·ª´ng ph·∫ßn t·ª≠ m·ªôt. ƒêi·ªÅu n√†y c√≥ th·ªÉ tr·ªü n√™n qu√° t·∫£i cho ng∆∞·ªùi ƒëƒÉng k√Ω ph·∫£i ti√™u th·ª• h·∫øt t·∫•t c·∫£ t√†i nguy√™n c·ªßa n√≥.</p>
<p><strong>Backpressure</strong>¬†ƒë∆°n gi·∫£n ch·ªâ l√† b·∫£o v·ªõi¬†<code>Publisher</code>¬†g·ª≠i cho n√≥ √≠t d·ªØ li·ªáu h∆°n ƒë·ªÉ ngƒÉn ch·∫∑n n√≥ b·ªã qu√° t·∫£i.</p>
<p>V√≠ d·ª• d∆∞·ªõi ƒë√¢y, ch√∫ng ta s·∫Ω y√™u c·∫ßu ch·ªâ g·ª≠i 2 ph·∫ßn t·ª´ c√πng m·ªôt l√∫c b·∫±ng c√°ch s·ª≠ d·ª•ng¬†<code>request ()</code>:</p>
<pre><code class="language-java">Flux.just(1, 2, 3, 4)
  .log()
  .subscribe(new Subscriber&lt;Integer&gt;() {
    private Subscription s;
    int onNextAmount;

    @Override
    public void onSubscribe(Subscription s) {
        this.s = s;
        s.request(2);
    }

    @Override
    public void onNext(Integer integer) {
        elements.add(integer);
        onNextAmount++;
        if (onNextAmount % 2 == 0) {
            s.request(2);
        }
    }

    @Override
    public void onError(Throwable t) {}

    @Override
    public void onComplete() {}
});

//OUTPUT
/*
23:31:15.395 [main] INFO  reactor.Flux.Array.1 - | onSubscribe([Synchronous Fuseable] FluxArray.ArraySubscription)
23:31:15.397 [main] INFO  reactor.Flux.Array.1 - | request(2)
23:31:15.397 [main] INFO  reactor.Flux.Array.1 - | onNext(1)
23:31:15.398 [main] INFO  reactor.Flux.Array.1 - | onNext(2)
23:31:15.398 [main] INFO  reactor.Flux.Array.1 - | request(2)
23:31:15.398 [main] INFO  reactor.Flux.Array.1 - | onNext(3)
23:31:15.398 [main] INFO  reactor.Flux.Array.1 - | onNext(4)
23:31:15.398 [main] INFO  reactor.Flux.Array.1 - | request(2)
23:31:15.398 [main] INFO  reactor.Flux.Array.1 - | onComplete()
*/
</code></pre>
<p>B√¢y gi·ªù ch√∫ng ta nh√¨n th·∫•y h√†m¬†<code>request()</code>¬†ƒë∆∞·ª£c g·ªçi tr∆∞·ªõc, ti·∫øp theo ƒë√≥ l√† 2 h√†m¬†<code>onNext()</code>¬†th·ª±c hi·ªán, sau ƒë√≥ l·∫°i l√†¬†<code>request()</code>.</p>
<h3 id="concurrency"><a class="header" href="#concurrency"><strong>Concurrency</strong></a></h3>
<p>T·∫•t c·∫£ c√°c v√≠ d·ª• tr√™n ch√∫ng ta ƒë·ªÅu ƒëang ch·∫°y tr√™n m·ªôt lu·ªìng ch√≠nh. Tuy nhi√™n, ch√∫ng ta c√≥ th·ªÉ ki·ªÉm so√°t lu·ªìng n√†o m√† code c·ªßa ch√∫ng ta ch·∫°y n·∫øu ch√∫ng ta mu·ªën. C√°c inteface¬†<code>Scheduler</code>¬†cung c·∫•p m·ªôt s·ª± tr·ª´u t∆∞·ª£ng v·ªõi¬†<code>asynchronous</code>.</p>
<pre><code class="language-java">public class ReactorCode {
    public static void main(String[] args) {
        ExecutorService service = Executors.newFixedThreadPool(10);
        Flux.just(1, 2, 3, 4)
                .log()
                .subscribeOn(Schedulers.fromExecutorService(service))
                .subscribe();

        Flux.just(5, 6, 7, 8)
                .log()
                .subscribeOn(Schedulers.fromExecutorService(service))
                .subscribe();
    }
}

//OUTPUT
/*
23:48:02.972 [main] DEBUG reactor.util.Loggers$LoggerFactory - Using Slf4j logging framework
23:48:02.996 [pool-1-thread-2] INFO  reactor.Flux.Array.2 - | onSubscribe([Synchronous Fuseable] FluxArray.ArraySubscription)
23:48:02.996 [pool-1-thread-1] INFO  reactor.Flux.Array.1 - | onSubscribe([Synchronous Fuseable] FluxArray.ArraySubscription)
23:48:03.000 [pool-1-thread-2] INFO  reactor.Flux.Array.2 - | request(unbounded)
23:48:03.000 [pool-1-thread-1] INFO  reactor.Flux.Array.1 - | request(unbounded)
23:48:03.001 [pool-1-thread-1] INFO  reactor.Flux.Array.1 - | onNext(1)
23:48:03.001 [pool-1-thread-2] INFO  reactor.Flux.Array.2 - | onNext(5)
23:48:03.001 [pool-1-thread-1] INFO  reactor.Flux.Array.1 - | onNext(2)
23:48:03.001 [pool-1-thread-2] INFO  reactor.Flux.Array.2 - | onNext(6)
23:48:03.001 [pool-1-thread-1] INFO  reactor.Flux.Array.1 - | onNext(3)
23:48:03.001 [pool-1-thread-2] INFO  reactor.Flux.Array.2 - | onNext(7)
23:48:03.001 [pool-1-thread-1] INFO  reactor.Flux.Array.1 - | onNext(4)
23:48:03.001 [pool-1-thread-2] INFO  reactor.Flux.Array.2 - | onNext(8)
23:48:03.002 [pool-1-thread-1] INFO  reactor.Flux.Array.1 - | onComplete()
23:48:03.002 [pool-1-thread-2] INFO  reactor.Flux.Array.2 - | onComplete()
*/
</code></pre>
<p>·ªû ƒë√¢y ch√∫ng ta d√πng¬†ExecutorService, 2 lu·ªìng code th·ª±c hi·ªán song song tr√™n 2 thread kh√°c nhau, ƒëi·ªÅu m√† ƒë√£ ch·ª©ng minh b·∫±ng output.</p>
<h3 id="k·∫øt-lu·∫≠n"><a class="header" href="#k·∫øt-lu·∫≠n"><strong>K·∫øt lu·∫≠n</strong></a></h3>
<p>Sau b√†i vi·∫øt n√†y, ch√∫ng t√¥i ƒë√£ c√≥ c√°i nh√¨n t·ªïng quan v·ªÅ¬†<code>Reactor Core</code>. T·ª´ c√°c t·∫°o m·ªôt¬†<code>Publisher</code>¬†, c√°c ƒëƒÉng k√Ω, backpressure c≈©ng nh∆∞ x·ª≠ l√Ω kh√¥ng ƒë·ªìng b·ªô. ƒê√¢y c≈©ng l√† n·ªÅn t·∫£ng ƒë·ªÉ cho ch√∫ng t√¥i vi·∫øt c√°i b√†i vi·∫øt kh√°c li√™n quan v·ªÅ¬†<code>Reactor Core</code>.</p>
<h1 id="b·∫°n-th·ª±c-s·ª±-ƒë√£-bi·∫øt-khi-n√†o-d√πng-interface-khi-n√†o-d√πng-abstract"><a class="header" href="#b·∫°n-th·ª±c-s·ª±-ƒë√£-bi·∫øt-khi-n√†o-d√πng-interface-khi-n√†o-d√πng-abstract">B·∫°n th·ª±c s·ª± ƒë√£ bi·∫øt khi n√†o d√πng Interface khi n√†o d√πng Abstract?</a></h1>
<h3 id="t·ªïng-quan-1"><a class="header" href="#t·ªïng-quan-1">T·ªïng quan</a></h3>
<p>Trong java, ch√∫ng ta c√≥ <code>class</code> <code>abstract</code> v√† m·ªôt <code>Interface</code>, ai c≈©ng bi·∫øt m·ªôt class c√≥ th·ªÉ <code>impements</code> nhi·ªÅu <code>Interface</code> v√† ch·ªâ k·∫ø th·ª´a ƒë∆∞·ª£c m·ªôt <code>class</code> <code>abstract</code>. Nh∆∞ng b·∫°n th·ª±c s·ª± ƒë√£ bi·∫øt khi n√†o th√¨ ta d√πng <code>Interface</code>, khi n√†o d√πng <code>Abstract</code>. Ch∆∞a k·ªÉ b·∫Øt ƒë·∫ßu t·ª´ Java 8 c√≥ s·ª± thay ƒë·ªïi v·ªÅ <code>Interface</code> c√†ng l√†m kh√≥ ph√¢n bi·ªát gi·ªØa hai lo·∫°i n√†y.</p>
<p>Trong b√†i vi·∫øt n√†y ch√∫ng t√¥i s·∫Ω ƒëi so s√°nh m·ªôt s·ªë t√≠nh ch·∫•t c·ªßa 2 lo·∫°i n√†y, sau ƒë√≥ l√† ƒë∆∞a ra v√≠ d·ª• ƒë∆°n gi·∫£i ƒë·ªÉ c√°c b·∫°n h√¨nh dung r√µ nh·∫•t. Cu·ªëi c√πng l√† hi·ªÉu khi n√†o th√¨ d√πng ch√∫ng.</p>
<h3 id="s·ª±-kh√°c-nhau-gi·ªØa-interface-v√†-abstract"><a class="header" href="#s·ª±-kh√°c-nhau-gi·ªØa-interface-v√†-abstract">S·ª± kh√°c nhau gi·ªØa Interface v√† Abstract</a></h3>
<ol>
<li>Methods: Class <code>abstract</code> c√≥ c√°c ph∆∞∆°ng th·ª©c abstract v√† non-abstract. Trong khi <code>Interface</code> ch·ªâ c√≥ ph∆∞∆°ng th·ª©c abstract, t·ª´ Java 8, th√¨ Interface c√≥ th√™m 2 lo·∫°i ph∆∞∆°ng th·ª©c l√† <code>default</code> v√† <code>static</code>.</li>
<li>Variables: Class <code>abstract</code> c√≥ th·ªÉ c√≥ c√°c bi·∫øn final, non-final, static v√† non-static. Trong khi <code>Interface</code> ch·ªâ c√≥ c√°c bi·∫øn static v√† final.</li>
<li>Implementation: Class <code>abstract</code> c√≥ th·ªÉ implement c√°c Interface. Trong khi <code>Interface</code> th√¨ kh√¥ng th·ªÉ implement class abstract.</li>
<li>Inheritance: Class <code>abstract</code> c√≥ th·ªÉ k·∫ø th·ª´a ƒë∆∞·ª£c m·ªôt class kh√°c. Trong khi <code>Interface</code> c√≥ th·ªÉ k·∫ø th·ª´a ƒë∆∞·ª£c nhi·ªÅu Interface kh√°c.</li>
<li>Accessibility: c√°c th√†nh vi√™n trong <code>Interface</code> ki·∫øu m·∫∑c ƒë·ªãnh l√† <code>public</code>. Trong khi class <code>abstract</code> th√¨ l·∫°i c√≥ th·ªÉ l√† private, protected,..</li>
</ol>
<p><strong><em>Ngu·ªìn: <a href="https://loda.me">https://loda.me</a> - c√≤n nhi·ªÅu c√°i hay ho l·∫Øm!</em></strong></p>
<h3 id="abstract-l√†-g√¨"><a class="header" href="#abstract-l√†-g√¨">Abstract l√† g√¨?</a></h3>
<p>Abstract(tr·ª´u t∆∞·ª£ng) nghƒ©a l√† m·ªôt c√°i g√¨ ƒë√≥ kh√¥ng ho√†n to√†n c·ª• th·ªÉ, n√≥ ch·ªâ l√† m·ªôt √Ω t∆∞·ªüng ho·∫∑c √Ω ch√≠nh c·ªßa m·ªôt c√°i g√¨ ƒë√≥ m√† kh√¥ng c√≥ b·∫£n tri·ªÉn khai c·ª• th·ªÉ. V√¨ v·∫≠y Class abstract ch·ªâ l√† m·ªôt c·∫•u tr√∫c ho·∫∑c h∆∞·ªõng d·∫´n ƒë∆∞·ª£c t·∫°o cho c√°c class c·ª• th·ªÉ kh√°c.</p>
<p>Ch√∫ng ta c√≥ th·ªÉ n√≥i r·∫±ng m·ªôt class abstract l√† linh h·ªìn c·ªßa m·ªôt class c·ª• th·ªÉ, v√† r√µ r√†ng m·ªôt c∆° th·ªÉ (class) kh√¥ng th·ªÉ c√≥ hai linh h·ªìn. ƒê√¢y c≈©ng l√† l√Ω do Java kh√¥ng h·ªó tr·ª£ nhi·ªÅu k·∫ø th·ª´a cho c√°c class abstract.</p>
<p>H√£y nh√¨n v√†o class abstract sau:
<em>Xe.class</em></p>
<pre><code>public abstract class Xe {
    private String dongCo;
     abstract void khoiDongDongCo();
     abstract void dungDongco();
}

</code></pre>
<p>Ch√∫ng t√¥i t·∫°o m·ªôt class abstract <code>Xe</code> c√≥ thu·ªôc t√≠nh l√† <code>ƒë·ªông c∆°</code>, v√† c√°c ph∆∞∆°ng th·ª©c kh·ªüi ƒë·ªông/ d·ª´ng ƒë·ªông c∆°. <code>Xe</code> l√† m·ªôt c√°i g√¨ ƒë√≥ kh√¥ng c·ª• th·ªÉ, n√≥ c√≥ th·ªÉ l√† √¥ t√¥, xe m√°y, ... v√† r√µ r√†ng kh√¥ng c√≥ <code>Xe</code> n√†o m√† kh√¥ng t·ªìn t·∫°i ƒë·ªông c∆° v√† c∆° ch·∫ø kh·ªüi ƒë·ªông/d·ª´ng ƒë·ªông c∆° c·∫£.</p>
<p><em>Oto.class</em></p>
<pre><code>public class Oto extends Xe {
    @Override
    void khoiDongDongCo() {
        System.out.println(&quot;Kh·ªüi ƒë·ªông ƒë·ªông c∆° c·ªßa √¥t√¥&quot;);
    }

    @Override
    void dungDongco() {
        System.out.println(&quot;D·ª´ng ƒë·ªông c∆° c·ªßa √¥t√¥&quot;);
    }
}

</code></pre>
<h3 id="interface-l√†-g√¨"><a class="header" href="#interface-l√†-g√¨">Interface l√† g√¨?</a></h3>
<p>Interface (Giao di·ªán) l√† m·ªôt h√¨nh th·ª©c, gi·ªëng nh∆∞ m·ªôt h·ª£p ƒë·ªìng, n√≥ kh√¥ng th·ªÉ t·ª± l√†m b·∫•t c·ª© ƒëi·ªÅu g√¨. Nh∆∞ng khi c√≥ m·ªôt class k√Ω k·∫øt h·ª£p ƒë·ªìng (implement Interface) n√†y, th√¨ class ƒë√≥ ph·∫£i tu√¢n theo h·ª£p ƒë·ªìng n√†y.</p>
<p>Trong Interface, ch√∫ng t√¥i ƒë·ªãnh nghƒ©a c√°c h√†nh vi c·ªßa m·ªôt class s·∫Ω th·ª±c hi·ªán. M·ªôt class c√≥ th·ªÉ c√≥ m·ªôt s·ªë c√°ch h√†nh vi kh√°c nhau, c≈©ng gi·ªëng nh∆∞ n√≥ c√≥ th·ªÉ k√Ω k·∫øt ƒë∆∞·ª£c v·ªõi nhi·ªÅu h·ª£p ƒë·ªìng kh√°c nhau. ƒê√≥ c≈©ng l√† l√Ω do t·∫°i sao Java cho ph√©p implement nhi·ªÅu Interface.</p>
<p>Ti·∫øp n·ªëi v√≠ d·ª• tr√™n, <code>Xe</code> c√≥ th·ªÉ di chuy·ªÉn, v√¨ v·∫≠y ch√∫ng t√¥i t·∫°o m·ªôt Interface H√†nh ƒë·ªông di chuy·ªÉn v√† class <code>Oto</code> implement n√≥.</p>
<p><em>HanhDongDiChuyen.class</em></p>
<pre><code>public interface HanhDongDiChuyen {
    void diChuyen();
}

</code></pre>
<p>ƒê√¢y l√† nh·ªØng h√†nh vi c·ªßa <code>Oto</code>, ch·ª© kh√¥ng thu·ªôc t√≠nh s·∫µn c√≥ c·ªßa n√≥: <strong>√ît√¥ l√† xe h∆°i, ngay c·∫£ khi n√≥ kh√¥ng th·ªÉ di chuy·ªÉn ƒë∆∞·ª£c!</strong></p>
<p><em>Oto.class</em></p>
<pre><code>public class Oto extends Xe implements HanhDongDiChuyen{
    @Override
    void khoiDongDongCo() {
        System.out.println(&quot;Kh·ªüi ƒë·ªông ƒë·ªông c∆° c·ªßa √¥t√¥&quot;);
    }

    @Override
    void dungDongco() {
        System.out.println(&quot;D·ª´ng ƒë·ªông c∆° c·ªßa √¥t√¥&quot;);
    }

    @Override
    public void diChuyen() {
        System.out.println(&quot;√ît√¥ ƒëang di chuy·ªÉn&quot;);
    }
}

</code></pre>
<h3 id="khi-n√†o-n√™n-d√πng"><a class="header" href="#khi-n√†o-n√™n-d√πng">Khi n√†o n√™n d√πng?</a></h3>
<ol>
<li>Class abstract ƒë·∫°i di·ªán cho m·ªëi quan h·ªá &quot;IS - A&quot; (√ît√¥ l√† Xe)</li>
<li>Interface ƒë·∫°i di·ªán cho m·ªëi quan h·ªá &quot;like - A&quot; (√î t√¥ c√≥ th·ªÉ chuy·ªÉn ƒë·ªông).</li>
<li>T·∫°o m·ªôt class abstract khi b·∫°n ƒëang cung c·∫•p c√°c h∆∞·ªõng d·∫´n cho m·ªôt class c·ª• th·ªÉ.</li>
<li>T·∫°o Interface khi ch√∫ng ta cung c·∫•p c√°c h√†nh vi b·ªï sung cho class c·ª• th·ªÉ v√† nh·ªØng h√†nh v√¨ n√†y kh√¥ng b·∫Øt bu·ªôc ƒë·ªëi v·ªõi clas ƒë√≥.</li>
</ol>
<h3 id="k·∫øt-lu·∫≠n-1"><a class="header" href="#k·∫øt-lu·∫≠n-1">K·∫øt lu·∫≠n</a></h3>
<p>M·ª•c ƒë√≠ch c·ªßa b√†i vi·∫øt n√†y l√† ƒë·ªÉ gi√∫p b·∫°n hi·ªÉu v√† n·∫Øm v·ªØng class abstract, Interface v√† k·ªãch b·∫£n s·ª≠ d·ª•ng. Th√¥ng qua n·ªï l·ª±c to√†n b·ªô b√†i vi·∫øt c·ªßa ch√∫ng t√¥i, ch√∫ng t√¥i tin ch·∫Øc r·∫±ng b·∫°n ƒë√£ hi·ªÉu ƒë∆∞·ª£c ƒëi·ªÅu g√¨ ƒë√≥. Cu·ªëi c√πng, c·∫£m ∆°n b·∫°n ƒë√£ ƒë·ªçc b√†i vi·∫øt.</p>
<h1 id="java-concurrency-ph·∫ßn-1-thread"><a class="header" href="#java-concurrency-ph·∫ßn-1-thread">Java Concurrency (Ph·∫ßn 1): Thread</a></h1>
<p>Source: <a href="https://viblo.asia/p/java-concurrency-phan-1-thread-GAWVpevY405">Java Concurrency (Ph·∫ßn 1): Thread</a></p>
<h2 id="1-gi·ªõi-thi·ªáu"><a class="header" href="#1-gi·ªõi-thi·ªáu">1. Gi·ªõi thi·ªáu</a></h2>
<p>L·∫≠p tr√¨nh ƒë·ªìng th·ªùi (concurrency) trong Java ƒë·ªÅ c·∫≠p ƒë·∫øn kh·∫£ nƒÉng c·ªßa m·ªôt ch∆∞∆°ng tr√¨nh Java th·ª±c thi nhi·ªÅu t√°c v·ª• ƒë·ªìng th·ªùi ho·∫∑c song song, t·∫≠n d·ª•ng t·ªëi ƒëa c√°c b·ªô x·ª≠ l√Ω (CPU) ƒëa l√µi (core) hi·ªán ƒë·∫°i. Khi c√°c ·ª©ng d·ª•ng ng√†y c√†ng tr·ªü n√™n ph·ª©c t·∫°p v√† ƒë√≤i h·ªèi hi·ªáu su·∫•t cao h∆°n, l·∫≠p tr√¨nh ƒë·ªìng th·ªùi tr·ªü th√†nh y·∫øu t·ªë thi·∫øt y·∫øu ƒë·ªÉ c·∫£i thi·ªán hi·ªáu nƒÉng, kh·∫£ nƒÉng ph·∫£n h·ªìi v√† kh·∫£ nƒÉng m·ªü r·ªông.
Java cung c·∫•p m·ªôt b·ªô c√¥ng c·ª• v√† c√°c th∆∞ vi·ªán phong ph√∫ gi√∫p c√°c nh√† ph√°t tri·ªÉn t·∫°o ra c√°c ·ª©ng d·ª•ng ƒë·ªìng th·ªùi, qu·∫£n l√Ω nhi·ªÅu lu·ªìng (threads) v√† ƒëi·ªÅu ph·ªëi c√°c t√°c v·ª• m·ªôt c√°ch hi·ªáu qu·∫£. Trong b√†i vi·∫øt n√†y, ch√∫ng s·∫Ω kh√°m ph√° c√°c kh√°i ni·ªám c∆° b·∫£n v·ªÅ l·∫≠p tr√¨nh ƒë·ªìng th·ªùi trong Java.</p>
<p><img src="https://images.viblo.asia/full/dab66ffc-6006-45b9-a745-5e5a9f09d9da.png" alt="image.png" /></p>
<h2 id="2-ƒê·ªãnh-nghƒ©a-thread"><a class="header" href="#2-ƒê·ªãnh-nghƒ©a-thread">2. ƒê·ªãnh nghƒ©a Thread</a></h2>
<p>M·ªôt thread l√† m·ªôt ƒë∆°n v·ªã th·ª±c thi nh·ªè h∆°n m·ªôt process. <strong>M·ªôt process c√≥ th·ªÉ t·∫°o ra nhi·ªÅu thread trong qu√° tr√¨nh th·ª±c thi</strong>. T·∫•t c·∫£ c√°c thread trong c√πng m·ªôt process s·∫Ω chia s·∫ª, <strong>d√πng chung m·ªôt s·ªë v√πng nh·ªõ v·ªõi nhau</strong> (heap memory, static variables, metaspace, ‚Ä¶ ph·∫ßn n√†y m√¨nh s·∫Ω chia s·∫ª c·ª• th·ªÉ h∆°n ·ªü m·ªôt b√†i vi·∫øt kh√°c). V√¨ v·∫≠y, vi·ªác giao ti·∫øp gi·ªØa c√°c thread kh√° ƒë∆°n gi·∫£n v√† d·ªÖ d√†ng h∆°n so v·ªõi giao ti·∫øp gi·ªØa c√°c process. Ngo√†i ra, vi·ªác t·∫°o m·ªõi/h·ªßy thread ƒë∆°n gi·∫£n v√† t·ªën √≠t c√¥ng h∆°n so v·ªõi vi·ªác t·∫°o m·ªõi/h·ªßy m·ªôt process. V√¨ c√°c l√Ω do n√†y, thread c√≤n ƒë∆∞·ª£c g·ªçi l√† lightweight process.</p>
<p><img src="https://images.viblo.asia/full/cb4fb02e-990b-4290-bdb3-c7b3e9d030a1.png" alt="image.png" /></p>
<h2 id="3-c√°ch-kh·ªüi-t·∫°o-thread"><a class="header" href="#3-c√°ch-kh·ªüi-t·∫°o-thread">3. C√°ch kh·ªüi t·∫°o thread</a></h2>
<p>ƒê√¢y l√† m·ªôt c√¢u h·ªèi th∆∞·ªùng hay g·∫∑p trong ph·ªèng v·∫•n. B·∫°n c√≥ th·ªÉ tham kh·∫£o ho·∫∑c tr·∫£ l·ªùi nh∆∞ sau:
Ta c√≥ th·ªÉ ph√¢n lo·∫°i c√°c c√°ch kh·ªüi t·∫°o thread nh∆∞ sau:</p>
<h3 id="31-t·∫°o-tr·ª±c-ti·∫øp-thread"><a class="header" href="#31-t·∫°o-tr·ª±c-ti·∫øp-thread">3.1. T·∫°o tr·ª±c ti·∫øp thread</a></h3>
<p>s·ª≠ d·ª•ng <code>new Thread().start()</code>.</p>
<pre><code>new Thread(() -&gt; resource.counter++).start();

</code></pre>
<h3 id="32-khai-b√°o-thread-execution-method"><a class="header" href="#32-khai-b√°o-thread-execution-method">3.2. Khai b√°o Thread execution method</a></h3>
<h4 id="321-k·∫ø-th·ª´a-class-thread"><a class="header" href="#321-k·∫ø-th·ª´a-class-thread">3.2.1. K·∫ø th·ª´a class Thread</a></h4>
<p>ƒê√¢y l√† m·ªôt c√°ch ph·ªï bi·∫øn. Ch√∫ng ta t·∫°o ra m·ªôt class m·ªõi k·∫ø th·ª´a class Thread v√† ghi ƒë√® method run nh∆∞ sau:</p>
<pre><code>public class ExtendsThread extends Thread {
    @Override
    public void run() {
        System.out.println(&quot;Do something&quot;);
    }

    public static void main(String[] args) {
        new ExtendsThread().start();
    }
}

</code></pre>
<h4 id="322-tri·ªÉn-khai-interface-runnable"><a class="header" href="#322-tri·ªÉn-khai-interface-runnable">3.2.2. Tri·ªÉn khai interface Runnable</a></h4>
<p>ƒê√¢y c≈©ng l√† m·ªôt c√°ch ph·ªï bi·∫øn, implement Runnable interface v√† override method run, nh∆∞ sau:</p>
<pre><code>public class ImplementsRunnable implements Runnable {
    @Override
    public void run() {
        System.out.println(&quot;Do something&quot;);
    }

    public static void main(String[] args) {
        ImplementsRunnable runnable = new ImplementsRunnable();
        new Thread(runnable).start();
    }
}

</code></pre>
<h4 id="323-tri·ªÉn-khai-interface-callable"><a class="header" href="#323-tri·ªÉn-khai-interface-callable">3.2.3. Tri·ªÉn khai interface Callable</a></h4>
<p>T∆∞∆°ng t·ª± nh∆∞ method tr∆∞·ªõc, ngo·∫°i tr·ª´ method n√†y c√≥ th·ªÉ nh·∫≠n gi√° tr·ªã tr·∫£ v·ªÅ sau khi Thread ƒë∆∞·ª£c th·ª±c thi, nh∆∞ sau:</p>
<pre><code>public class ImplementsCallable implements Callable&lt;String&gt; {
    @Override
    public String call() throws Exception {
        System.out.println(&quot;Do something&quot;);
        return &quot;test&quot;;
    }

    public static void main(String[] args) throws Exception {
        ImplementsCallable callable = new ImplementsCallable();
        FutureTask&lt;String&gt; futureTask = new FutureTask&lt;&gt;(callable);
        new Thread(futureTask).start();
        System.out.println(futureTask.get());
    }
}

</code></pre>
<h4 id="324-s·ª≠-d·ª•ng-class-·∫©n-danh-ho·∫∑c-bi·ªÉu-th·ª©c-lambda"><a class="header" href="#324-s·ª≠-d·ª•ng-class-·∫©n-danh-ho·∫∑c-bi·ªÉu-th·ª©c-lambda">3.2.4. S·ª≠ d·ª•ng class ·∫©n danh ho·∫∑c bi·ªÉu th·ª©c Lambda</a></h4>
<pre><code>public class UseAnonymousClass {
    public static void main(String[] args) {
        new Thread(new Runnable() {
            @Override
            public void run() {
                System.out.println(&quot;AnonymousClass&quot;);
            }
        }).start();

        new Thread(() -&gt;
                System.out.println(&quot;Lambda&quot;)
        ).start();
    }
}

</code></pre>
<h3 id="33-t·∫°o-gi√°n-ti·∫øp-thread"><a class="header" href="#33-t·∫°o-gi√°n-ti·∫øp-thread">3.3. T·∫°o gi√°n ti·∫øp thread</a></h3>
<h4 id="331-s·ª≠-d·ª•ng-thread-pool-c·ªßa-executorservice"><a class="header" href="#331-s·ª≠-d·ª•ng-thread-pool-c·ªßa-executorservice">3.3.1. S·ª≠ d·ª•ng thread pool c·ªßa ExecutorService</a></h4>
<pre><code>public class UseExecutorService {
    public static void main(String[] args) {
        ExecutorService poolA = Executors.newFixedThreadPool(2);
        poolA.execute(() -&gt; {
            System.out.println(&quot;do something&quot;);
        });
}

</code></pre>
<h4 id="332-s·ª≠-d·ª•ng-thread-pool-ho·∫∑c-stream-song-song-parallel-stream"><a class="header" href="#332-s·ª≠-d·ª•ng-thread-pool-ho·∫∑c-stream-song-song-parallel-stream">3.3.2. S·ª≠ d·ª•ng thread pool ho·∫∑c Stream song song (parallel stream)</a></h4>
<pre><code>public class UseForkJoinPool {
    public static void main(String[] args) {
        ForkJoinPool forkJoinPool = new ForkJoinPool();
        forkJoinPool.execute( () -&gt; {
            System.out.println(&quot;Do something&quot;);
        });

        List&lt;String&gt; list = Arrays.asList(&quot;e1&quot;);
        list.parallelStream().forEach(System.out::println);
    }
}

</code></pre>
<h4 id="333-s·ª≠-d·ª•ng-completablefuture"><a class="header" href="#333-s·ª≠-d·ª•ng-completablefuture">3.3.3. S·ª≠ d·ª•ng CompletableFuture</a></h4>
<pre><code>public class UseCompletableFuture {
    public static void main(String[] args) throws InterruptedException {
        CompletableFuture&lt;String&gt; cf = CompletableFuture.supplyAsync(() -&gt; {
            System.out.println(&quot;5......&quot;);
            return &quot;test&quot;;
        });
        Thread.sleep(1000);
    }
}

</code></pre>
<h4 id="334-s·ª≠-d·ª•ng-class-timer"><a class="header" href="#334-s·ª≠-d·ª•ng-class-timer">3.3.4. S·ª≠ d·ª•ng class Timer</a></h4>
<pre><code>public class UseTimer {
    public static void main(String[] args) {
        Timer timer = new Timer();

        timer.schedule(new TimerTask() {
            @Override
            public void run() {
                System.out.println(&quot;9......&quot;);
            }
        }, 0, 1000);
    }
}

</code></pre>
<p>Java ch·ªâ c√≥ m·ªôt c√°ch ƒë·ªÉ t·∫°o thread m·ªôt c√°ch tr·ª±c ti·∫øp, ƒë√≥ l√† th√¥ng qua vi·ªác t·∫°o new Thread().start(). Do ƒë√≥, cho d√π s·ª≠ d·ª•ng ph∆∞∆°ng th·ª©c n√†o th√¨ cu·ªëi c√πng n√≥ c≈©ng ph·ª• thu·ªôc v√†o new Thread().start(). C√°c ƒë·ªëi t∆∞·ª£ng Runnable, Callable, ‚Ä¶ ch·ªâ l√† ph·∫ßn th√¢n c·ªßa Thread, t·ª©c l√† t√°c v·ª• ƒë∆∞·ª£c cung c·∫•p cho Thread ƒë·ªÉ th·ª±c thi.</p>
<h2 id="4-tr·∫°ng-th√°i-c·ªßa-thread"><a class="header" href="#4-tr·∫°ng-th√°i-c·ªßa-thread">4. Tr·∫°ng th√°i c·ªßa thread</a></h2>
<p><img src="https://images.viblo.asia/full/9e0a1831-55d3-48d9-8f04-21ab8bb96b91.png" alt="thread-status.png" /></p>
<p>T·∫°i m·ªôt th·ªùi ƒëi·ªÉm, m·ªôt thread trong Java ch·ªâ c√≥ th·ªÉ ·ªü m·ªôt trong s√°u tr·∫°ng th√°i trong v√≤ng ƒë·ªùi c·ªßa n√≥:</p>
<ul>
<li><code>NEW</code>: Khi ƒë·ªëi t∆∞·ª£ng thread ƒë∆∞·ª£c t·∫°o, n√≥ s·∫Ω chuy·ªÉn sang tr·∫°ng th√°i NEW, ch·∫≥ng h·∫°n nh∆∞: Thread t = new MyThread();</li>
<li><code>RUNNABLE</code>: Tr·∫°ng th√°i s·∫µn s√†ng ƒë·ªÉ ch·∫°y. Ta c√≥ th·ªÉ hi·ªÉu, n√≥ s·∫Ω ƒë∆∞·ª£c chia th√†nh 2 tr∆∞·ªùng h·ª£p nh·ªè h∆°n: <strong>ƒëang ch·∫°y ho·∫∑c ƒëang ch·ªù ƒë·ªÉ ch·∫°y</strong>. V√≠ d·ª•, khi sau, ta g·ªçi method start(), thread ƒë√≥ c√≥ th·ªÉ ch∆∞a ch·∫°y ƒë∆∞·ª£c ngay m√† ph·∫£i ƒë·ª£i CPU schedule ƒë·ªÉ ch·∫°y.</li>
<li><code>BLOCKED</code>: Tr·∫°ng th√°i b·ªã ch·∫∑n, thread A ƒëang c·ªë gi√†nh kh√≥a (lock) nh∆∞ng kho√° ƒëang gi·ªØa b·ªüi thread B, thread A ph·∫£i ƒë·ª£i, b·ªã blocked cho ƒë·∫øn khi kho√° ƒë∆∞·ª£c gi·∫£i ph√≥ng.</li>
<li><code>TIME_WAITING</code>: Tr·∫°ng th√°i ch·ªù c√≥ th·ªùi gian ch·ªù, c√≥ th·ªÉ t·ª± ƒë·ªông quay tr·ªü l·∫°i tr·∫°ng th√°i RUNNABLE sau kho·∫£ng th·ªùi gian x√°c ƒë·ªãnh.</li>
<li><code>WAITING</code>: Tr·∫°ng th√°i ch·ªù, bi·ªÉu th·ªã r·∫±ng thread A ƒëang ch·ªù c√°c thread kh√°c th·ª±c hi·ªán m·ªôt s·ªë h√†nh ƒë·ªông c·ª• th·ªÉ, nh∆∞ (notification) th√¥ng b√°o cho thread A ho·∫∑c (interruption) ng·∫Øt thread A. Kh√°c v·ªõi TIME_WAITING, tr·∫°ng th√°i WAITING kh√¥ng c√≥ th·ªùi gian timeout, ch·ªâ ƒë∆∞·ª£c wakeup khi c√≥ th√¥ng b√°o t·ª´ thread kh√°c.</li>
<li><code>TERMINATED</code>: Tr·∫°ng th√°i k·∫øt th√∫c, bi·ªÉu th·ªã r·∫±ng thread ƒë√£ ho√†n th√†nh c√¥ng vi·ªác ho·∫∑c d·ª´ng lai do g·∫∑p exception.</li>
</ul>
<h2 id="5-c√°c-method-c∆°-b·∫£n-c·ªßa-thread"><a class="header" href="#5-c√°c-method-c∆°-b·∫£n-c·ªßa-thread">5. C√°c method c∆° b·∫£n c·ªßa thread</a></h2>
<h3 id="51-start"><a class="header" href="#51-start">5.1. start()</a></h3>
<p>Method start() kh·ªüi t·∫°o vi·ªác th·ª±c thi m·ªôt thread. N√≥ g·ªçi ph∆∞∆°ng th·ª©c run() ƒë∆∞·ª£c x√°c ƒë·ªãnh trong class thread ho·∫∑c runnable object. Thread s·∫Ω chuy·ªÉn t·ª´ tr·∫°ng th√°i NEW sang tr·∫°ng th√°i RUNNABLE sau khi method n√†y ƒë∆∞·ª£c g·ªçi.</p>
<pre><code>public class Main {
    public static void main(String[] args) {
        Thread myThread = new Thread(new MyRunnable());
        myThread.start();
    }
}

</code></pre>
<h3 id="52-run"><a class="header" href="#52-run">5.2. run()</a></h3>
<p>Method run() ch·ª©a m√£ s·∫Ω ƒë∆∞·ª£c th·ª±c thi trong lu·ªìng.</p>
<pre><code>class MyRunnable implements Runnable {
    public void run() {
        System.out.println(&quot;This is a runnable.&quot;);
    }
}

</code></pre>
<h3 id="53-sleep-v√†-wait"><a class="header" href="#53-sleep-v√†-wait">5.3. sleep() v√† wait()</a></h3>
<p>Method <code>sleep()</code> l√†m cho thread hi·ªán ƒëang th·ª±c thi ·ªü ch·∫ø ƒë·ªô ng·ªß (TIMED_WAITING) trong 1 kho·∫£ng th·ªùi gian ƒë∆∞·ª£c ch·ªâ ƒë·ªãnh (t√≠nh b·∫±ng milliseconds).</p>
<p>Method wait() khi·∫øn thread hi·ªán t·∫°i ƒë·ª£i cho ƒë·∫øn khi m·ªôt thread kh√°c g·ªçi notify() ho·∫∑c notifyAll() tr√™n c√πng m·ªôt object. Thread s·∫Ω chuy·ªÉn t·ª´ tr·∫°ng th√°i RUNNABLE sang tr·∫°ng th√°i WAITING n·∫øu d√πng wait() kh√¥ng truy·ªÅn th√™m th·ªùi gian timeout, c√≤n n·∫øu truy·ªÅn th√™m th·ªùi gian timeout - wait(timeout) th√¨ thread s·∫Ω ·ªü tr·∫°ng th√°i <code>TIMED_WAITING</code>.</p>
<p>S·ª± kh√°c bi·ªát gi·ªØa 2 method:</p>
<ul>
<li><strong>Method wait() c·∫ßn ƒë∆∞·ª£c ƒë·∫∑t trong synchronized code, c√≤n sleep() th√¨ kh√¥ng.</strong></li>
<li>Method sleep() kh√¥ng gi·∫£i ph√≥ng kh√≥a, trong khi method wait() s·∫Ω gi·∫£i ph√≥ng kh√≥a.</li>
<li>Method wait() th∆∞·ªùng ƒë∆∞·ª£c s·ª≠ d·ª•ng cho t∆∞∆°ng t√°c/giao ti·∫øp gi·ªØa c√°c thread, c√≤n sleep() th∆∞·ªùng ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ t·∫°m d·ª´ng th·ª±c thi.</li>
<li>Sau khi method wait() ƒë∆∞·ª£c g·ªçi, thread s·∫Ω kh√¥ng t·ª± ƒë·ªông th·ª©c d·∫≠y; c·∫ßn m·ªôt lu·ªìng kh√°c g·ªçi method notify() ho·∫∑c notifyAll() tr√™n c√πng m·ªôt ƒë·ªëi t∆∞·ª£ng ƒë·ªÉ ƒë√°nh th·ª©c lu·ªìng ƒë√≥. Sau khi method sleep() ƒë∆∞·ª£c th·ª±c thi, thread s·∫Ω t·ª± ƒë·ªông th·ª©c d·∫≠y (RUNNABLE).</li>
<li>sleep() l√† m·ªôt method static c·ªßa class Thread, c√≤n wait() l√† m·ªôt method c·ªßa class Object.</li>
</ul>
<h3 id="54-notify-v√†-notifyall"><a class="header" href="#54-notify-v√†-notifyall">5.4. notify() v√† notifyAll()</a></h3>
<p>notify(): ƒë·ªëi v·ªõi t·∫•t c·∫£ c√°c thread ƒëang ch·ªù object monitor b·∫±ng c√°ch s·ª≠ d·ª•ng b·∫•t k·ª≥ method wait() n√†o, method notify() th√¥ng b√°o cho m·ªôt trong s·ªë c√°c thread ƒë√≥ th·ª©c d·∫≠y. <strong>Vi·ªác l·ª±a ch·ªçn ch√≠nh x√°c thread n√†o ƒë∆∞·ª£c ƒë√°nh th·ª©c l√† m·∫´u nhi√™n v√† ch√∫ng ta kh√¥ng th·ªÉ ki·ªÉm so√°t ƒë∆∞·ª£c</strong> thread ƒë∆∞·ª£c ƒë√°nh th·ª©c.
notifyAll(): Ph∆∞∆°ng ph√°p n√†y ch·ªâ ƒë∆°n gi·∫£n ƒë√°nh th·ª©c t·∫•t c·∫£ c√°c thread ƒëang ch·ªù tr√™n object monitor.
M√¨nh s·∫Ω n√≥i chi ti·∫øt h∆°n v·ªÅ c√°c method n√†y trong b√†i giao ti·∫øp gi·ªØa c√°c threads.</p>
<h3 id="55-yield"><a class="header" href="#55-yield">5.5. yield()</a></h3>
<p>Method yield() l√†m cho thread hi·ªán ƒëang th·ª±c thi t·∫°m d·ª´ng v√† cho ph√©p c√°c thread kh√°c th·ª±c thi.
M·ªçi ng∆∞·ªùi l∆∞u √Ω, ƒë√¢y ch·ªâ l√† hint cho scheduler t·∫°m d·ª´ng thread, scheduler c√≥ th·ªÉ b·ªè qua c√°i hint n√†y.
Method n√†y c√≥ th·ªÉ d√πng ƒë·ªÉ t√°i hi·ªán bug do race condition. Tuy nhi√™n, method n√†y hi·∫øm khi ƒë∆∞·ª£c s·ª≠ d·ª•ng v√† <strong>m√¨nh recommend kh√¥ng d√πng method n√†y trong production code</strong>.</p>
<h3 id="56-join"><a class="header" href="#56-join">5.6. join()</a></h3>
<p>Method <code>join()</code> cho ph√©p m·ªôt thread ch·ªù ƒë·ª£i m·ªôt thread kh√°c ho√†n th√†nh. ƒêi·ªÅu n√†y c√≥ th·ªÉ h·ªØu √≠ch khi b·∫°n c·∫ßn ƒë·∫£m b·∫£o ho√†n th√†nh m·ªôt s·ªë nhi·ªám v·ª• nh·∫•t ƒë·ªãnh tr∆∞·ªõc khi ti·∫øp t·ª•c. Khi thread A g·ªçi method <code>join()</code> c·ªßa thread B, thread A s·∫Ω chuy·ªÉn sang tr·∫°ng th√°i ch·ªù ( <code>RUNNABLE ‚Üí WAITING</code>). N√≥ v·∫´n ·ªü tr·∫°ng th√°i ch·ªù cho ƒë·∫øn khi thread B k·∫øt th√∫c.</p>
<p>Gi·∫£ s·ª≠ b·∫°n c·∫ßn th·ª±c hi·ªán m·ªôt s·ªë l·ªánh g·ªçi API ƒë·∫øn c√°c endpoints kh√°c nhau l·∫•y d·ªØ li·ªáu ƒë·ªìng th·ªùi. M·ªói l·ªánh g·ªçi API ƒë∆∞·ª£c th·ª±c hi·ªán trong m·ªôt thread ri√™ng bi·ªát v√† b·∫°n mu·ªën ƒë·ª£i cho ƒë·∫øn khi t·∫•t c·∫£ c√°c thread ho√†n th√†nh y√™u c·∫ßu API c·ªßa ch√∫ng tr∆∞·ªõc khi t·ªïng h·ª£p (aggregate) k·∫øt qu·∫£.</p>
<pre><code>String[] apiEndpoints = {
    &quot;https://api.example.com/data1&quot;,
    &quot;https://api.example.com/data2&quot;,
    &quot;https://api.example.com/data3&quot;
};

List&lt;Thread&gt; threads = new ArrayList&lt;&gt;();

List&lt;String&gt; results = new ArrayList&lt;&gt;();

for (String endpoint : apiEndpoints) {
    Thread thread = new Thread(() -&gt; {
        String response = makeApiCall(endpoint);
        synchronized (results) {
            results.add(response);
        }
    });
    threads.add(thread);
    thread.start();
}

// Wait for all threads to complete
try {
    for (Thread thread : threads) {
        thread.join();
    }
} catch (InterruptedException e) {
    e.printStackTrace();
}

// Process and aggregate results
results.forEach(response -&gt; System.out.println(&quot;API response: &quot; + response));

</code></pre>
<p>N·∫øu m·ªçi ng∆∞·ªùi th·∫•y b√†i vi·∫øt h·ªØu √≠ch th√¨ nh·ªù m·ªçi ng∆∞·ªùi share ƒë·ªÉ n·ªôi dung c·ªßa Ronin ƒë∆∞·ª£c nhi·ªÅu ng∆∞·ªùi bi·∫øt h∆°n.</p>
<p>C√°m ∆°n m·ªçi ng∆∞·ªùi. üôè</p>
<hr />
<p>üßë‚Äçüíª 150+ Ronin Engineers: <a href="https://roninhub.com/">https://roninhub.com/</a></p>
<p>‚úèÔ∏è System Design VN: <a href="https://fb.com/groups/systemdesign.vn">https://fb.com/groups/systemdesign.vn</a></p>
<p>üìö T√†i li·ªáu kh√°c: <a href="https://roninhub.com/tai-lieu">https://roninhub.com/tai-lieu</a></p>
<p>üé¨ Youtube: <a href="https://youtube.com/@ronin-engineer">https://youtube.com/@ronin-engineer</a></p>
<h1 id="java-8optional"><a class="header" href="#java-8optional">„ÄåJava 8„ÄçOptional</a></h1>
<p><code>Java 8</code>¬†ra ƒë·ªùi c√πng v·ªõi m·ªôt class m·ªõi t√™n l√†¬†<code>Optional</code>. Nhi·ªám v·ª• c·ªßa n√≥ l√† ki·ªÉm so√°t¬†<code>null</code>¬†h·ªô ch√∫ng ta.</p>
<h3 id="kh√°i-ni·ªám-optional"><a class="header" href="#kh√°i-ni·ªám-optional"><strong>Kh√°i ni·ªám Optional</strong></a></h3>
<p><code>Optional&lt;T&gt;</code>¬†l√† m·ªôt ƒë·ªëi t∆∞·ª£ng¬†<code>Generic</code>, nhi·ªám v·ª• ch√≠nh c·ªßa n√≥ l√†¬†<strong>b·ªçc</strong>¬†hay¬†<strong>wrapper</strong>¬†l·∫•y m·ªôt object kh√°c. N√≥ ch·ªâ ch·ª©a ƒë∆∞·ª£c m·ªôt object duy nh·∫•t b√™n trong.</p>
<p>Vi·ªác b·∫°n l·∫•y gi√° tr·ªã c·ªßa object b√¢y gi·ªù s·∫Ω th√¥ng qua¬†<code>Optional</code>¬†v√† n·∫øu object ƒë√≥¬†<code>null</code>¬†c≈©ng kh√¥ng sao, v√¨ th·∫±ng¬†<code>Optional</code>¬†ki·ªÉm so√°t n√≥ ch·∫∑t ch·∫Ω h∆°n l√†¬†<code>if else</code>.</p>
<p>V√≠ d·ª• b·∫°n c√≥ m·ªôt ƒë·ªëi t∆∞·ª£ng b·∫•t k·ª≥:</p>
<p>Khi ch√∫ng ta th·ª±c hi·ªán c√°c thao t√°c, ch√∫ng ta c√≥ th·ªÉ ki·ªÉm tra nh∆∞ th·∫ø n√†y:</p>
<p>Hmmm..... tr√¥ng th·∫ø n√†y th√¨ kh√°c ƒë·∫øch g√¨¬†<code>if (str != null)</code>¬†=))) Nhi·ªÅu b·∫°n s·∫Ω t·ª± nghƒ©. ƒê√∫ng l√† nh∆∞ v·∫≠y, n·∫øu n√≥ ch·ªâ l√†m ƒë∆∞·ª£c ƒë·∫øn ƒë√¢y, th√¨ th√¥i.. ngh·ªâ m·ªãa ƒëee huhu :((</p>
<p>B√¢y gi·ªù m√¨nh s·∫Ω gi·ªõi thi·ªáu t·ª´ng t√≠nh nƒÉng l·∫ßn l∆∞·ª£t c·ªßa¬†<code>Optional</code>¬†ƒë·ªÉ b·∫°n th·∫•y n√≥ k√¨ di·ªáu nh∆∞ n√†o.</p>
<h3 id="ifpresent"><a class="header" href="#ifpresent"><strong>ifPresent</strong></a></h3>
<p><code>ifPresent</code>¬†nh·∫≠n v√†o m·ªôt¬†<code>Consumer</code>, n√≥ c≈©ng ch·ªâ l√†¬†<code>Functional Interface</code>¬†th√¥i c√°c b·∫°n. Nh·∫≠n v√†o m·ªôt ƒë·ªëi t∆∞·ª£ng v√† thao t√°c tr√™n n√≥, kh√¥ng return g√¨ c·∫£.</p>
<p>N·∫øu b·∫°n ch∆∞a r√µ¬†<code>Functional Interface</code>¬†v√†¬†<code>Lambda Expression</code>¬†th√¨ b·∫°n c√≥ th·ªÉ xem ngay ƒë√¢y, d·ªÖ hi·ªÉu l√©m:</p>
<p>Functional Interfaces &amp; Lambda Expressions cuÃõÃ£c deÃÇÃÉ hieÃÇÃâu</p>
<h3 id="orelse-v√†-orelseget"><a class="header" href="#orelse-v√†-orelseget"><strong>orElse() v√† orElseGet()</strong></a></h3>
<p><code>orElse()</code>¬†l·∫•y ra object trong¬†<code>Optional</code>. N·∫øu¬†<code>null</code>, tr·∫£ v·ªÅ gi√° tr·ªã m·∫∑c ƒë·ªãnh do b·∫°n quy ƒë·ªãnh</p>
<p><code>orElseGet()</code>¬†T∆∞∆°ng t·ª±¬†<code>orElse()</code>¬†nh∆∞ng tr·∫£ ra b·∫±ng¬†<code>Supplier interface</code></p>
<h3 id="map"><a class="header" href="#map"><strong>map()</strong></a></h3>
<p><code>map()</code>¬†gi√∫p ch√∫ng ta bi·∫øn ƒë·ªïi ƒë·ªëi t∆∞·ª£ng b√™n trong¬†<code>Optional</code>.</p>
<p>m√¨nh s·∫Ω v√≠ d·ª• b·∫±ng code d·ªÖ hi·ªÉu h∆°n.</p>
<p><code>code</code>¬†tr√¥ng s√°ng s·ªßa h∆°n nhi·ªÅu ph·∫£i kh√¥ng b·∫°n :3</p>
<p>Trong code ·ªü tr√™n s·ª≠ d·ª•ng¬†<code>Method reference</code>, kh√°i ni·ªám n√†y m√¨nh ƒë√£ n√≥i chi ti·∫øt t·∫°i ƒë√¢y:</p>
<p>H∆∞·ªõng d·∫´n Method Reference v√† Lambda Expressions</p>
<p>Kh√°i ni·ªám¬†<code>map()</code>¬†m√¨nh c√≥ n√≥i chi ti·∫øt t·∫°i ƒë√¢y:</p>
<p>Stream Trong Java 8 c·ª±c d·ªÖ hi·ªÉu!</p>
<h3 id="filter"><a class="header" href="#filter"><strong>filter()</strong></a></h3>
<p><code>filter()</code>¬†gi√∫p ch√∫ng ta ki·ªÉm tra gi√° tr·ªã trong¬†<code>Optional</code>¬†n·∫øu kh√¥ng th·ªèa m√£n ƒëi·ªÅu ki·ªán, tr·∫£ v·ªÅ¬†<code>empty()</code></p>
<p>T·ªõi ƒë√¢y m√¨nh ƒë√£ gi·ªõi thi·ªáu xong v·ªõi c√°c b·∫°n c√°c t√≠nh nƒÉng kh√° hay ho c·ªßa¬†<code>Optional</code>. Ngo√†i vi·ªác gi√∫p ch√∫ng ta ki·ªÉm so√°t¬†<code>NullException</code>¬†th√¨ c√≤n gi√∫p¬†<code>code</code>¬†c·ªßa ch√∫ng ta s√°ng s·ªßa h∆°n r·∫•t nhi·ªÅu v√† thu·∫≠n ti·ªán h∆°n trong nhi·ªÅu tr∆∞·ªùng h·ª£p y√™u c·∫ßu ƒëi·ªÅu ki·ªán ph·ª©c t·∫°p</p>
<p>Ch√∫c c√°c b·∫°n h·ªçc t·∫≠p th√†nh c√¥ng. V√† ch·ªõ qu√™n like v√† share ·ªßng h·ªô nh√° ahihi :3</p>
<pre><code class="language-java">String str = null;
// T·∫°o ra m·ªôt ƒë·ªëi t∆∞·ª£ng Optional
Optional&lt;String&gt; optional = Optional.ofNullable(str);
// B√¢y gi·ªù Optional ƒë√£ wrap l·∫•y c√°i str.
</code></pre>
<pre><code class="language-java">if (optional.isPresent()) {
    System.out.println(opt.get()); // l·∫•y ra c√°i str m√¨nh ƒë√£ wrapper
}
</code></pre>
<pre><code class="language-java">optional.ifPresent(s -&gt; System.out.println(s));
</code></pre>
<pre><code class="language-java">String b = optional.orElse(&quot;Gi√° tr·ªã m·∫∑c ƒë·ªãnh&quot;);
</code></pre>
<pre><code class="language-java">String b = optional.orElseGet(() -&gt; {
    StringBuilder sb = new StringBuilder();
    // Thao t√°c ph·ª©c t·∫°p
    return sb.toString();
});
</code></pre>
<pre><code class="language-java">class Outfit{
    public String type;

    public String getType() { return type; }
}

class Girl{
    private Outfit outfit;

    public Outfit getOutfit() { return outfit; }
}

public String getOutfitType(Girl girl){
    return Optional.ofNullable(girl) // T·∫°o ra Optional wrap l·∫•y girl
        .map(Girl::getOutfit) // n·∫øu girl != null th√¨ l·∫•y outfit ra xem kakaka :3 ng∆∞·ª£c l·∫°i tr·∫£ ra Optional.empty()
        .map(Outfit::getType) // n·∫øu outfit != null th√¨ l·∫•y ra xem type c·ªßa n√≥
        .orElse(&quot;Kh√¥ng m·∫∑c g√¨&quot;); // N·∫øu cu·ªëi c√πng l√† Optional.empty() th√¨ tr·∫£ ra ngo√†i Kh√¥ng m·∫∑c g√¨.
}
</code></pre>
<pre><code class="language-java">public String getOutfitType(Girl girl){
    return Optional.ofNullable(girl) // T·∫°o ra Optional wrap l·∫•y girl
        .map(Girl::getOutfit)
        .map(Outfit::getType)
        .filter(s -&gt; s.contains(&quot;bikini&quot;)) // N√≥ ch·ªâ ch·∫•p nh·∫≠n gi√° tr·ªã bikini, c√≤n l·∫°i d√π kh√°c null th√¨ v·∫´n tr·∫£ ra ngo√†i l√† Optiional.empty()
        .orElse(&quot;Kh√¥ng m·∫∑c g√¨&quot;); // N·∫øu cu·ªëi c√πng l√† Optional.empty() th√¨ tr·∫£ ra ngo√†i &quot;Kh√¥ng m·∫∑c g√¨&quot;.
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="kho-l∆∞u-tr·ªØ-java-snippets"><a class="header" href="#kho-l∆∞u-tr·ªØ-java-snippets">Kho l∆∞u tr·ªØ Java snippets</a></h1>
<p>L·∫•y t·ª´ <a href="https://github.com/iluwatar/30-seconds-of-java">iluwatar/30-seconds-of-java</a> v√† r·∫•t nhi·ªÅu ngu·ªìn kh√°c nhau ƒë·ªÉ t·ªïng h·ª£p v√† s·ª≠ d·ª•ng.</p>
<p>Repo n√†y s·∫Ω kh√¥ng ch·ª©a ƒë·∫ßy ƒë·ªß to√†n b·ªô c√°c ph·∫ßn t·ªáp v√† th∆∞ m·ª•c kh√°c c·ªßa d·ª± √°n (Bao g·ªìm <code>src/test</code>, <code>pom.xml</code> v√† t∆∞∆°ng t·ª±). B·∫°n vui l√≤ng gh√© qua Repository g·ªëc ƒë·ªÉ ngh·ªãch nha.</p>
<p>M·ªôt s·ªë c√°c <em>kho l∆∞u tr·ªØ</em> kh√°c:</p>
<ul>
<li><a href="java/snippets/kho-khac/van-de-hang-ngay.html">M·ªôt s·ªë ƒëo·∫°n Java cho c√°c v·∫•n ƒë·ªÅ h√†ng ng√†y</a></li>
<li><a href="https://java-design-patterns.com/">Java Design Patterns</a></li>
<li><a href="https://groups.inf.ed.ac.uk/cup/javaGithub/">GitHub Java Corpus</a> - R·∫•t nhi·ªÅu d·ª± √°n Java ƒë·ªÉ h·ªçc. B·∫°n c√≥ th·ªÉ t·∫£i lu√¥n <a href="https://groups.inf.ed.ac.uk/cup/javaGithub/top_projects.tar.gz">top_projects.tar.gz 5.3MB</a> ho·∫∑c n·∫øu ƒë∆∞·ªùng d·∫´n tr√™n kh√¥ng ƒë∆∞·ª£c th√¨ <a href="java/snippets/archive/top_projects.tar.gz">b·∫•m v√†o ƒë√¢y</a></li>
</ul>
<p><strong>L∆∞u √Ω:</strong> C√°c ph·∫ßn n·ªôi dung ƒë∆∞·ª£c l∆∞u trong Repository n√†y ch·ªâ mang t√≠nh ch·∫•t l∆∞u tr·ªØ v√† chia s·∫ª. M√¨nh ch·ªâ l√† ng∆∞·ªùi t·ªïng h·ª£p l·∫°i th√¥i.</p>
<h2 id="algorithm"><a class="header" href="#algorithm">Algorithm</a></h2>
<h3 id="binary-search-in-2d-array"><a class="header" href="#binary-search-in-2d-array">Binary Search In 2d Array</a></h3>
<pre><code class="language-java">public class BinarySearchIn2dArraySnippet {

  /**
  * Search an item with binarySearch algorithm.
  *
  * @param matrix should be sorted
  * @param target an item to search
  * @return if location of item is found, otherwise return {-1,-1}
  */
  public static int[] binarySearchIn2darr(int[][] matrix, int target) {
    int rows = matrix.length - 1;
    int cols = matrix[0].length - 1;

    if (rows == 1) {
      return binarySearch(matrix, target, 0, 0, cols);
    }

    int rstart = 0;
    int rend = rows;
    int cmid = cols / 2;

    while (rstart &lt; rend - 1) {
      int rmid = rstart + (rend - rstart) / 2;
      if (matrix[rmid][cmid] &gt; target) {
        rend = rmid;
      } else if (matrix[rmid][cmid] &lt; target) {
        rstart = rmid;
      } else {
        return new int[]{rmid, cmid};
      }
    }
    if (matrix[rstart][cmid] == target) {
      return new int[]{rstart, cmid};
    }
    if (matrix[rend][cmid] == target) {
      return new int[]{rend, cmid};
    }
    if (target &lt;= matrix[rstart][cmid - 1]) {
      return binarySearch(matrix, target, rstart, 0, cmid - 1);
    }
    if (target &gt;= matrix[rstart][cmid + 1]) {
      return binarySearch(matrix, target, rstart, cmid + 1, cols);
    }
    if (target &lt;= matrix[rend][cmid - 1]) {
      return binarySearch(matrix, target, rend, 0, cmid - 1);
    }
    if (target &lt;= matrix[rend][cmid + 1]) {
      return binarySearch(matrix, target, rend, cmid + 1, cols);
    }
    return new int[]{-1, -1};
  }

  static int[] binarySearch(int[][] matrix, int target, int row, int cstart, int cend) {
    while (cstart &lt;= cend) {
      int cmid = cstart + (cend - cstart) / 2;
      if (matrix[row][cmid] &gt; target) {
        cend = cmid - 1;
      } else if (matrix[row][cmid] &lt; target) {
        cstart = cend + 1;
      } else {
        return new int[]{row, cmid};
      }
    }
    return new int[]{-1, -1};
  }
}
</code></pre>
<h3 id="binary-search"><a class="header" href="#binary-search">Binary Search</a></h3>
<pre><code class="language-java">public class BinarySearchSnippet {

  /**
   * Search an item with binarySearch algorithm.
   *
   * @param arr sorted array to search
   * @param item an item to search
   * @return if item is found, return the index position of the array item otherwise return -1
   */

  public static int binarySearch(int[] arr, int left, int right, int item) {
    if (right &gt;= left) {
      int mid = left + (right - left) / 2;
      if (arr[mid] == item) {
        return mid;
      }

      if (arr[mid] &gt; item) {
        return binarySearch(arr, left, mid - 1, item);
      }

      return binarySearch(arr, mid + 1, right, item);
    }
    return -1;
  }   
}
</code></pre>
<h3 id="bubble-sort"><a class="header" href="#bubble-sort">Bubble Sort</a></h3>
<pre><code class="language-java">public class BubbleSortSnippet {

  /**
   * Sort an array with bubbleSort algorithm.
   *
   * @param arr array to sort
   */
  public static void bubbleSort(int[] arr) {
    var lastIndex = arr.length - 1;

    for (var j = 0; j &lt; lastIndex; j++) {
      for (var i = 0; i &lt; lastIndex - j; i++) {
        if (arr[i] &gt; arr[i + 1]) {
          var tmp = arr[i];
          arr[i] = arr[i + 1];
          arr[i + 1] = tmp;
        }
      }
    }
  }
}
</code></pre>
<h3 id="counting-sort"><a class="header" href="#counting-sort">Counting Sort</a></h3>
<pre><code class="language-java">public class CountingSortSnippet {

  /**
   * Sort an array having zero or positive numbers with countingSort algorithm.
   *
   * @param arr array to sort
   */
  public static void countingSort(int[] arr) {
    var max = Arrays.stream(arr).max().getAsInt();

    var count = new int[max + 1];

    for (var num : arr) {
      count[num]++;
    }

    for (var i = 1; i &lt;= max; i++) {
      count[i] += count[i - 1];
    }

    var sorted = new int[arr.length];
    for (var i = arr.length - 1; i &gt;= 0; i--) {
      var cur = arr[i];
      sorted[count[cur] - 1] = cur;
      count[cur]--;
    }

    var index = 0;
    for (var num : sorted) {
      arr[index++] = num;
    }
  }
}
</code></pre>
<h3 id="cycle-sort"><a class="header" href="#cycle-sort">Cycle Sort</a></h3>
<pre><code class="language-java">public class CycleSortSnippet {

  /**
   * Sort an array with cycleSort algorithm.
   *
   * @param arr array to sort
   */
  public static int[] cycleSort(int[] arr) {
    int n = arr.length;
    int i = 0;
    while (i &lt; n) {
      int correctpos = arr[i] - 1;
      if (arr[i] != arr[correctpos]) {
        int temp = arr[i];
        arr[i] = arr[correctpos];
        arr[correctpos] = temp;
      } else {
        i++;
      }
    }
    return arr;
  }
}
</code></pre>
<h3 id="insertion-sort"><a class="header" href="#insertion-sort">Insertion Sort</a></h3>
<pre><code class="language-java">public class InsertionSortSnippet {

  /**
   * Sort an array with insertionSort algorithm.
   *
   * @param arr array to sort
   */
  public static void insertionSort(int[] arr) {
    for (var i = 1; i &lt; arr.length; i++) {
      var tmp = arr[i];
      var j = i - 1;

      while (j &gt;= 0 &amp;&amp; arr[j] &gt; tmp) {
        arr[j + 1] = arr[j];
        j--;
      }
      arr[j + 1] = tmp;
    }
  }
}
</code></pre>
<h3 id="linear-search-in-2d-array"><a class="header" href="#linear-search-in-2d-array">Linear Search In 2d Array</a></h3>
<pre><code class="language-java">public class LinearSearchIn2dArraySnippet {

  /**
   * Search an item with linearSearch algorithm.
   *
   * @param arr    array to search
   * @param target an item to search
   * @return if location of target is found,otherwise return {-1,-1}
   */

  public static int[] linearSearch2dArray(int[][] arr, int target) {

    for (int i = 0; i &lt; arr.length; i++) {
      for (int j = 0; j &lt; arr[i].length; j++) {
        if (arr[i][j] == target) {
          return new int[]{i, j};
        }
      }
    }
    return new int[]{-1, -1};
  }
}
</code></pre>
<h3 id="linear-search"><a class="header" href="#linear-search">Linear Search</a></h3>
<pre><code class="language-java">public class LinearSearchSnippet {

  /**
   * Search an item with linearSearch algorithm.
   *
   * @param arr array to search
   * @param item an item to search
   * @return if item is found, return the index position of the array item otherwise return -1
   */
  public static int linearSearch(int[] arr, int item) {
    for (int i = 0; i &lt; arr.length; i++) {
      if (item == arr[i]) {
        return i;
      }
    }
    return -1;
  }
}
</code></pre>
<h3 id="luhn-mod-n"><a class="header" href="#luhn-mod-n">Luhn Mod N</a></h3>
<pre><code class="language-java">public class LuhnModnSnippet {

  private static final String CODE_POINTS = &quot;0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;

  /**
   * Generates a check character using the Luhn mod N algorithm.
   *
   * @param character the input string consisting of valid alphanumeric characters
   * @return the generated check character
   * @throws IllegalArgumentException if the input contains invalid characters
   */
  public static int codePointFromCharacter(char character) {
    if (CODE_POINTS.indexOf(character) == -1) {
      throw new IllegalArgumentException(&quot;Invalid character: &quot; + character);
    }
    return CODE_POINTS.indexOf(character);
  }

  /**
   * Converts a code point to its corresponding character.
   *
   * @param codePoint the code point to be converted
   * @return the character representation of the code point
   * @throws IllegalArgumentException if the code point is out of range.
   */
  public static char characterFromCodePoint(int codePoint) {
    if (codePoint &lt; 0 || codePoint &gt;= CODE_POINTS.length()) {
      throw new IllegalArgumentException(&quot;Invalid code point: &quot; + codePoint);
    }
    return CODE_POINTS.charAt(codePoint);
  }

  public static int numberOfValidInputCharacters() {
    return CODE_POINTS.length();
  }

  /**
   * Helper method to calculate the sum for both check character generation and validation.
   *
   * @param input the input string
   * @param factorStart the initial factor to start with (1 or 2)
   * @return the calculated sum, reminder, and the numberOfValidInputCharacters
   */
  private static int[] calculateSum(String input, int factorStart) {
    if (input == null || input.isEmpty()) {
      throw new IllegalArgumentException(&quot;Input cannot be empty&quot;);
    }

    int factor = factorStart;
    int sum = 0;
    int n = numberOfValidInputCharacters();

    for (int i = input.length() - 1; i &gt;= 0; i--) {
      int codePoint = codePointFromCharacter(input.charAt(i));
      int addend = factor * codePoint;
      factor = (factor == 2) ? 1 : 2;
      addend = (addend / n) + (addend % n);
      sum += addend;
    }
    return new int[]{sum, sum % n, n};
  }

  /**
   * Generates a check character for the given input string using the Luhn mod N algorithm.
   *
   * @param input the input string (non-empty)
   * @return the generated check character
   * @throws IllegalArgumentException if the input is null or empty
   */
  public static char generateCheckCharacter(String input) {
    int[] result = calculateSum(input, 2);
    return characterFromCodePoint((result[2] - result[1]) % result[2]);
  }

  /**
   * Validates a check character by applying the Luhn mod N algorithm.
   *
   * @param input the input string (including the check character)
   * @return true if the input passes validation, false otherwise
   * @throws IllegalArgumentException if the input is null or empty
   */
  public static boolean validateCheckCharacter(String input) {
    int[] result = calculateSum(input, 1);
    return (result[1] == 0);
  }
}
</code></pre>
<h3 id="merge-sort"><a class="header" href="#merge-sort">Merge Sort</a></h3>
<pre><code class="language-java">public class MergeSortSnippet {
  /**
   * Sort an array with qmergesort algorithm.
   *
   * @param arr   array to sort
   * @low low index where to begin sort (e.g. 0)
   * @high high index where to end sort (e.g. array length - 1)
   */

  public static void mergeSort(int[] arr, int low, int high) {
    if (low &gt;= high) {
      return;
    }
    var mid = (low + high) / 2;
    mergeSort(arr, low, mid);
    mergeSort(arr, mid + 1, high);
    merge(arr, low, high, mid);
  }

  private static void merge(int[] arr, int low, int high, int mid) {
    int[] temp = new int[(high - low + 1)];
    var i = low;
    var j = mid + 1;
    var k = 0;

    while (i &lt;= mid &amp;&amp; j &lt;= high) {
      if (arr[i] &lt; arr[j]) {
        temp[k++] = arr[i];
        i++;
      } else {
        temp[k++] = arr[j];
        j++;
      }
    }

    while (i &lt;= mid) {
      temp[k++] = arr[i];
      i++;
    }

    while (j &lt;= high) {
      temp[k++] = arr[j];
      j++;
    }

    for (int m = 0, n = low; m &lt; temp.length; m++, n++) {
      arr[n] = temp[m];
    }
  }
}
</code></pre>
<h3 id="quick-sort"><a class="header" href="#quick-sort">Quick Sort</a></h3>
<pre><code class="language-java">public class QuickSortSnippet {

  /**
   * Sort an array with quicksort algorithm.
   *
   * @param arr   array to sort
   * @param left  left index where to begin sort (e.g. 0)
   * @param right right index where to end sort (e.g. array length - 1)
   */
  public static void quickSort(int[] arr, int left, int right) {
    var pivotIndex = left + (right - left) / 2;
    var pivotValue = arr[pivotIndex];
    var i = left;
    var j = right;
    while (i &lt;= j) {
      while (arr[i] &lt; pivotValue) {
        i++;
      }
      while (arr[j] &gt; pivotValue) {
        j--;
      }
      if (i &lt;= j) {
        var tmp = arr[i];
        arr[i] = arr[j];
        arr[j] = tmp;
        i++;
        j--;
      }
      if (left &lt; i) {
        quickSort(arr, left, j);
      }
      if (right &gt; i) {
        quickSort(arr, i, right);
      }
    }
  }
}
</code></pre>
<h3 id="selection-sort"><a class="header" href="#selection-sort">Selection Sort</a></h3>
<pre><code class="language-java">public class SelectionSortSnippet {

  /**
   * Sort an array with selectionSort algorithm.
   *
   * @param arr array to sort
   */
  public static void selectionSort(int[] arr) {
    var len = arr.length;

    for (var i = 0; i &lt; len - 1; i++) {
      var minIndex = i;

      for (var j = i + 1; j &lt; len; j++) {
        if (arr[j] &lt; arr[minIndex]) {
          minIndex = j;
        }
      }

      var tmp = arr[minIndex];
      arr[minIndex] = arr[i];
      arr[i] = tmp;
    }
  }
}
</code></pre>
<h3 id="sieve-of-eratosthenes"><a class="header" href="#sieve-of-eratosthenes">Sieve of Eratosthenes</a></h3>
<pre><code class="language-java">public class SieveOfEratosthenesSnippet {
  /**
   * Search an item with binarySearch algorithm.
   *
   * @param n range of number.
   * @return isPrime boolean array where prime number 0 to n are mark true.
   */
  public static boolean[] sieveOfEratosthenes(int n) {
    boolean[] isPrime = new boolean[n + 1];
    for (int i = 0; i &lt; isPrime.length; i++) {
      isPrime[i] = true;
    }

    for (int i = 2; i * i &lt;= n; i++) {
      if (isPrime[i] == true) {
        for (int j = i * i; j &lt;= n; j += i) {
          isPrime[j] = false;
        }
      }
    }

    return isPrime;
  }
}
</code></pre>
<h3 id="verhoeff"><a class="header" href="#verhoeff">Verhoeff</a></h3>
<pre><code class="language-java">public class VerhoeffSnippet {

    private static final int[][] d = {
            {0, 1, 2, 3, 4, 5, 6, 7, 8, 9},
            {1, 0, 3, 2, 5, 4, 7, 6, 9, 8},
            {2, 3, 0, 1, 6, 7, 4, 5, 8, 9},
            {3, 2, 1, 0, 7, 6, 5, 4, 9, 8},
            {4, 5, 6, 7, 0, 1, 2, 3, 8, 9},
            {5, 4, 7, 6, 1, 0, 3, 2, 9, 8},
            {6, 7, 4, 5, 2, 3, 0, 1, 8, 9},
            {7, 6, 5, 4, 3, 2, 1, 0, 9, 8},
            {8, 9, 8, 9, 8, 9, 8, 9, 0, 1},
            {9, 8, 9, 8, 9, 8, 9, 8, 1, 0}
    };

    private static final int[][] p = {
            {0, 1, 2, 3, 4, 5, 6, 7, 8, 9},
            {1, 5, 7, 6, 2, 8, 3, 0, 9, 4},
            {5, 8, 0, 3, 7, 9, 6, 1, 4, 2},
            {8, 9, 1, 6, 0, 4, 3, 5, 2, 7},
            {9, 4, 5, 3, 1, 2, 6, 8, 7, 0},
            {4, 2, 8, 6, 5, 7, 3, 9, 0, 1},
            {2, 7, 9, 3, 8, 0, 6, 4, 1, 5},
            {7, 0, 4, 6, 9, 1, 3, 2, 5, 8}
    };

    private static final int[] inv = {0, 4, 3, 2, 1, 5, 6, 7, 8, 9};

    /**
     * Validates a number using the Verhoeff checksum algorithm.
     *
     * @param num the numeric string to validate
     * @return true if the number is valid according to Verhoeff algorithm, false otherwise
     */
    public static boolean validateVerhoeff(String num) {
        int c = 0;
        int length = num.length();

        // Adjust index for validation of the full number (including check digit)
        for (int i = 0; i &lt; length; i++) {
            int digit = Character.getNumericValue(num.charAt(length - i - 1));
            c = d[c][p[(i + 1) % 8][digit]]; // Correct permutation index
        }

        return c == 0; // Final checksum must be zero
    }

    /**
     * Generates a Verhoeff check digit for a given numeric string.
     *
     * @param num the numeric string for which to generate the check digit
     * @return the generated Verhoeff check digit as a string
     */
    public static String generateVerhoeff(String num) {
        int c = 0;
        int length = num.length();

        for (int i = 0; i &lt; length; i++) {
            int digit = Character.getNumericValue(num.charAt(length - i - 1));
            c = d[c][p[(i % 8)][digit]];
        }

        return Integer.toString(inv[c]);
    }

}
</code></pre>
<h2 id="array"><a class="header" href="#array">Array</a></h2>
<h3 id="all-equal"><a class="header" href="#all-equal">All Equal</a></h3>
<pre><code class="language-java">public class AllEqualSnippet {

  /**
   * Returns true if all elements in array are equal.
   *
   * @param arr the array to check (not null)
   * @param &lt;T&gt; the element type
   * @return true if all elements in the array are equal
   */
  public static &lt;T&gt; boolean allEqual(T[] arr) {
    return Arrays.stream(arr).distinct().count() == 1;
  }
}
</code></pre>
<h3 id="array-concat"><a class="header" href="#array-concat">Array Concat</a></h3>
<pre><code class="language-java">public class ArrayConcatSnippet {

  /**
   * Generic 2 array concatenation Credits: Joachim Sauer https://stackoverflow.com/questions/80476/how-can-i-concatenate-two-arrays-in-java
   *
   * @param first  is the first array (not null)
   * @param second is the second array (not null)
   * @param &lt;T&gt;    the element type
   * @return concatenated array
   */
  public static &lt;T&gt; T[] arrayConcat(T[] first, T[] second) {
    var result = Arrays.copyOf(first, first.length + second.length);
    System.arraycopy(second, 0, result, first.length, second.length);
    return result;
  }
}
</code></pre>
<h3 id="array-mean"><a class="header" href="#array-mean">Array Mean</a></h3>
<pre><code class="language-java">public class ArrayMeanSnippet {

  /**
   * Returns the mean of the integers in the array.
   *
   * @param arr the array of integers (not null)
   * @return a double representing the mean of the array
   */
  public static double arrayMean(int[] arr) {
    return (double) Arrays.stream(arr).sum() / arr.length;
  }
}
</code></pre>
<h3 id="array-median"><a class="header" href="#array-median">Array Median</a></h3>
<pre><code class="language-java">public class ArrayMedianSnippet {

  /**
   * Returns the median of the array.
   *
   * @param arr the array of integers (not null)
   * @return a double representing the median of the array
   */
  public static double arrayMedian(int[] arr) {
    Arrays.sort(arr);
    var mid = arr.length / 2;
    return arr.length % 2 != 0 ? (double) arr[mid] : (double) (arr[mid] + arr[mid - 1]) / 2;
  }
}
</code></pre>
<h3 id="array-mode-in-place"><a class="header" href="#array-mode-in-place">Array Mode In Place</a></h3>
<pre><code class="language-java">public class ArrayModeInPlaceSnippet {

  /**
  * Returns the mode of the array.
  *
  * @param arr array to find mode in it
  * @return mode of array
  */
  public static int modeArrayInPlace(int[] arr) {
    if (arr.length == 0) {
      return 0;
    }

    Arrays.sort(arr);

    int mode = arr[0];
    int maxcount = 1;
    int count = 1;

    for (int i = 1; i &lt; arr.length; i++) {
      if (arr[i] == arr[i - 1]) {
        count++;
      } else {
        if (count &gt; maxcount) {
          maxcount = count;
          mode = arr[i - 1];
        }
        count = 1;
      }
    }
    if (count &gt; maxcount) {
      mode = arr[arr.length - 1];
    }
    return mode;
  }
}
</code></pre>
<h3 id="array-mode"><a class="header" href="#array-mode">Array Mode</a></h3>
<pre><code class="language-java">public class ArrayModeSnippet {

    /**
     * Private constructor to prevent instantiation.
     */
    private ArrayModeSnippet() {
        throw new IllegalStateException(&quot;Utility class&quot;);
    }

    /**
     * Returns the mode(s) of the array.
     * If multiple modes exist, it returns them in a list.
     */
    public static List&lt;Integer&gt; modeArray(int[] arr) {
        int maxCount = 0;
        HashMap&lt;Integer, Integer&gt; frequencyMap = new HashMap&lt;&gt;();
        for (int num : arr) {
            frequencyMap.put(num, frequencyMap.getOrDefault(num, 0) + 1);
            maxCount = Math.max(maxCount, frequencyMap.get(num));
        }
        List&lt;Integer&gt; modes = new ArrayList&lt;&gt;();
        for (Map.Entry&lt;Integer, Integer&gt; entry : frequencyMap.entrySet()) {
            if (entry.getValue() == maxCount) {
                modes.add(entry.getKey());
            }
        }
        return modes;
    }
}
</code></pre>
<h3 id="array-sum"><a class="header" href="#array-sum">Array Sum</a></h3>
<pre><code class="language-java">public class ArraySumSnippet {

  /**
   * Returns sum of the integers in the array.
   *
   * @param arr the array of integers (not null)
   * @return the sum of the elements from the array
   */
  public static int arraySum(int[] arr) {
    return Arrays.stream(arr).sum();
  }
}
</code></pre>
<h3 id="find-max"><a class="header" href="#find-max">Find Max</a></h3>
<pre><code class="language-java">public class FindMaxSnippet {

  /**
   * Returns the maximum integer from the array using reduction.
   *
   * @param arr the array of integers (not null)
   * @return the maximum element from the array
   */
  public static int findMax(int[] arr) {
    return Arrays.stream(arr).reduce(Integer.MIN_VALUE, Integer::max);
  }
}
</code></pre>
<h3 id="find-min"><a class="header" href="#find-min">Find Min</a></h3>
<pre><code class="language-java">public class FindMinSnippet {
 
  /**
    * Returns the minimum integer from the array using reduction.
    *
    * @param arr the array of integers (not null)
    * @return the minimum element from the array
    */
  public static int findMin(int[] arr) {
    return Arrays.stream(arr).reduce(Integer.MAX_VALUE, Integer::min);
  }
}
</code></pre>
<h3 id="multi-array-concatenation"><a class="header" href="#multi-array-concatenation">Multi Array Concatenation</a></h3>
<pre><code class="language-java">public class MultiArrayConcatenationSnippet {

  /**
   * Generic N array concatenation Credits: Joachim Sauer https://stackoverflow.com/questions/80476/how-can-i-concatenate-two-arrays-in-java
   *
   * @param first is the first array (not null)
   * @param rest  the rest of the arrays (optional)
   * @param &lt;T&gt;   the element type
   * @return concatenated array
   */
  public static &lt;T&gt; T[] multiArrayConcat(T[] first, T[]... rest) {
    var totalLength = first.length;
    for (var array : rest) {
      totalLength += array.length;
    }
    var result = Arrays.copyOf(first, totalLength);
    var offset = first.length;
    for (var array : rest) {
      System.arraycopy(array, 0, result, offset, array.length);
      offset += array.length;
    }
    return result;
  }
}
</code></pre>
<h3 id="reverse-array"><a class="header" href="#reverse-array">Reverse Array</a></h3>
<pre><code class="language-java">public class ReverseArraySnippet {

  /**
   * The function then reverses the elements of the array between the starting and ending
   * indices using a while loop and a temporary variable `temp`. Finally, the function returns
   * the reversed array.
   *
   * @param array a array
   * @param start start index array
   * @param end end index array
   * @return reverses elements in the array
   * @throws IllegalArgumentException if the [start] index is greater
   *         than the [end] index or if the array is null
   **/
  public static &lt;T&gt; T[] reverseArray(T[] array, int start, int end) {
    if (start &gt; end || array == null) {
      throw new
              IllegalArgumentException(&quot;Invalid argument!&quot;);
    }
    int minimumSizeArrayForReversal = 2;
    if (start == end || array.length &lt; minimumSizeArrayForReversal) {
      return array;
    }
    while (start &lt; end) {
      T temp = array[start];
      array[start] = array[end];
      array[end] = temp;
      start++;
      end--;
    }
    return array;
  }
}
</code></pre>
<h2 id="class"><a class="header" href="#class">Class</a></h2>
<h3 id="creating-object"><a class="header" href="#creating-object">Creating Object</a></h3>
<pre><code class="language-java">public class CreatingObjectSnippet {

  /**
   * Create object using reflection.
   *
   * @param cls fully qualified name of class includes the package name as String
   * @return object
   * @throws NoSuchMethodException if a method that does not exist at runtime.
   * @throws IllegalAccessException &lt;p&gt;if an currently executing method does not have access to
   *     the definition of the specified class, field, method or constructor&lt;/p&gt;
   * @throws InvocationTargetException &lt;p&gt;InvocationTargetException is a checked exception
   *     that wraps an exception thrown by an invoked method or constructor.&lt;/p&gt;
   * @throws InstantiationException &lt;p&gt;when an method tries to create an instance of a class
   *     using the newInstance method in class Class.&lt;/p&gt;
   * @throws ClassNotFoundException &lt;p&gt;when an application tries to load in a class
   *     through its string name.&lt;/p&gt;
   */
  public static Object createObject(String cls)
          throws NoSuchMethodException,
          IllegalAccessException,
          InvocationTargetException,
          InstantiationException,
          ClassNotFoundException {
    var objectClass = Class.forName(cls);
    var objectConstructor = objectClass.getConstructor();
    return objectConstructor.newInstance();
  }
}
</code></pre>
<h3 id="get-all-field-names"><a class="header" href="#get-all-field-names">Get All Field Names</a></h3>
<pre><code class="language-java">public class GetAllFieldNamesSnippet {

  /**
   * Print all declared field names of the class or the interface the class extends.
   *
   * @param clazz Tested class
   * @return list of names of all fields
   */
  public static List&lt;String&gt; getAllFieldNames(final Class&lt;?&gt; clazz) {
    var fields = new ArrayList&lt;String&gt;();
    var currentClazz = clazz;
    while (currentClazz != null) {
      fields.addAll(
          Arrays.stream(currentClazz.getDeclaredFields())
              .filter(field -&gt; !field.isSynthetic())
              .map(Field::getName)
              .collect(Collectors.toList()));
      currentClazz = currentClazz.getSuperclass();
    }
    return fields;
  }
}
</code></pre>
<h3 id="get-all-methods"><a class="header" href="#get-all-methods">Get All Methods</a></h3>
<pre><code class="language-java">public class GetAllMethodsSnippet {

  /**
   * Print all declared methods of the class.
   *
   * @param cls Tested class
   * @return list of methods name
   */
  public static List&lt;String&gt; getAllMethods(final Class&lt;?&gt; cls) {
    return Arrays.stream(cls.getDeclaredMethods())
        .map(Method::getName)
        .collect(Collectors.toList());
  }
}
</code></pre>
<h3 id="get-all-public-field-names"><a class="header" href="#get-all-public-field-names">Get All Public Field Names</a></h3>
<pre><code class="language-java">public class GetAllPublicFieldNamesSnippet {

  /**
   * Print all declared public field names of the class or the interface the class extends.
   *
   * @param clazz Tested class
   * @return list of name of public fields
   */
  public static List&lt;String&gt; getAllPublicFieldNames(final Class&lt;?&gt; clazz) {
    return Arrays.stream(clazz.getFields())
        .map(Field::getName)
        .collect(Collectors.toList());
  }
}
</code></pre>
<h2 id="date"><a class="header" href="#date">Date</a></h2>
<h3 id="add-days-to-date"><a class="header" href="#add-days-to-date">Add Days To Date</a></h3>
<pre><code class="language-java">public class AddDaysToDateSnippet {

  /**
   * Add days to given date.
   *
   * @param date given date
   * @param noOfDays number of days to add
   * @return modified date
   */
  public static Date addDaysToDate(Date date, int noOfDays) {
    if (date != null) {
      Calendar cal = Calendar.getInstance();
      cal.setTime(date);
      cal.add(Calendar.DAY_OF_MONTH, noOfDays);
      return cal.getTime();
    }
    return null;
  }

  /**
   * Add days to local date.
   *
   * @param date given local date
   * @param noOfDays number of days to add
   * @return modified date
   */
  public static LocalDate addDaysToLocalDate(LocalDate date, long noOfDays) {
    return date != null ? date.plusDays(noOfDays) : null;
  }
}
</code></pre>
<h3 id="date-difference"><a class="header" href="#date-difference">Date Difference</a></h3>
<pre><code class="language-java">public class DateDifferenceSnippet {

  /**
  * This function calculates the number of years between two LocalDate objects.
  * If the result is negative, it returns the absolute value of the difference.
  *
  * @param firstTime  The first LocalDate object representing the starting date
  * @param secondTime The second LocalDate object representing the ending date
  * @return The number of years between the two LocalDate objects as a long data type
  */
  public static long getYearsDifference(LocalDate firstTime, LocalDate secondTime) {
    var yearsDifference = ChronoUnit.YEARS.between(firstTime, secondTime);
    return Math.abs(yearsDifference);
  }

  /**
   * This function calculates the number of months between two LocalDate objects.
   * If the result is negative, it returns the absolute value of the difference.
   *
   * @param firstTime  The first LocalDate object representing the starting date
   * @param secondTime The second LocalDate object representing the ending date
   * @return The number of months between the two LocalDate objects as a long data type
   */
  public static long getMonthsDifference(LocalDate firstTime, LocalDate secondTime) {
    var monthsDifference = ChronoUnit.MONTHS.between(firstTime, secondTime);
    return Math.abs(monthsDifference);
  }

  /**
   * This function calculates the number of days between two LocalDate objects.
   * If the result is negative, it returns the absolute value of the difference.
   *
   * @param firstTime  The first LocalDate object representing the starting date
   * @param secondTime The second LocalDate object representing the ending date
   * @return The number of days between the two LocalDate objects as a long data type
   */
  public static long getDaysDifference(LocalDate firstTime, LocalDate secondTime) {
    var daysDifference = ChronoUnit.DAYS.between(firstTime, secondTime);
    return Math.abs(daysDifference);
  }
}
</code></pre>
<h2 id="encoding"><a class="header" href="#encoding">Encoding</a></h2>
<h3 id="base64decode"><a class="header" href="#base64decode">Base64Decode</a></h3>
<pre><code class="language-java">public class Base64DecodeSnippet {

  /**
   * Decodes a Base64 encoded string to the actual representation.
   *
   * @param input base64 encoded string
   * @return decoded string
   */
  public static String decodeBase64(String input) {
    return new String(Base64.getDecoder().decode(input.getBytes()));
  }
}
</code></pre>
<h3 id="base64encode"><a class="header" href="#base64encode">Base64Encode</a></h3>
<pre><code class="language-java">public class Base64EncodeSnippet {
  /**
   * Encodes the input string to a Base64 encoded string.
   *
   * @param input string to be encoded
   * @return base64 encoded string
   */
  public static String encodeBase64(String input) {
    return Base64.getEncoder().encodeToString(input.getBytes());
  }
}
</code></pre>
<h2 id="file"><a class="header" href="#file">File</a></h2>
<h3 id="list-all-files"><a class="header" href="#list-all-files">List All Files</a></h3>
<pre><code class="language-java">public class ListAllFilesSnippet {

  /**
   * Recursively list all the files in directory.
   *
   * @param path the path to start the search from
   * @return list of all files
   */
  public static List&lt;File&gt; listAllFiles(String path) {
    var all = new ArrayList&lt;File&gt;();
    var list = new File(path).listFiles();
    if (list != null) {  // In case of access error, list is null
      for (var f : list) {
        if (f.isDirectory()) {
          all.addAll(listAllFiles(f.getAbsolutePath()));
        } else {
          all.add(f.getAbsoluteFile());
        }
      }
    }
    return all;
  }
}
</code></pre>
<h3 id="list-directories"><a class="header" href="#list-directories">List Directories</a></h3>
<pre><code class="language-java">public class ListDirectoriesSnippet {

  /**
   * List directories.
   *
   * @param path the path where to look
   * @return array of File
   */
  public static File[] listDirectories(String path) {
    return new File(path).listFiles(File::isDirectory);
  }
}
</code></pre>
<h3 id="list-files-in-directory"><a class="header" href="#list-files-in-directory">List Files In Directory</a></h3>
<pre><code class="language-java">public class ListFilesInDirectorySnippet {

  /**
   * List files in directory.
   *
   * @param folder the path where to look
   * @return array of File
   */
  public static File[] listFilesInDirectory(String folder) {
    return new File(folder).listFiles(File::isFile);
  }
}
</code></pre>
<h3 id="read-lines"><a class="header" href="#read-lines">Read Lines</a></h3>
<pre><code class="language-java">public class ReadLinesSnippet {

  /**
   * Read file as list of strings.
   *
   * @param filename the filename to read from
   * @return list of strings
   * @throws IOException if an I/O error occurs
   */
  public static List&lt;String&gt; readLines(String filename) throws IOException {
    return Files.readAllLines(Paths.get(filename));
  }
}
</code></pre>
<h3 id="zip-directory"><a class="header" href="#zip-directory">Zip Directory</a></h3>
<pre><code class="language-java">public class ZipDirectorySnippet {

  /**
   * Zip a complete directory.
   *
   * @param srcDirectoryName The path to the directory to be zipped
   * @param zipFileName The location and name of the zipped file.
   * @throws IOException if an I/O error occurs
   * */
  public static void zipDirectory(String srcDirectoryName, String zipFileName) throws IOException {
    var srcDirectory = new File(srcDirectoryName);
    try (
        var fileOut = new FileOutputStream(zipFileName);
        var zipOut = new ZipOutputStream(fileOut)
    ) {
      zipFile(srcDirectory, srcDirectory.getName(), zipOut);
    }
  }

  /**
   * Utility function which either zips a single file, or recursively calls itself for 
   * a directory to traverse down to the files contained within it.
   *
   * @param fileToZip The file as a resource
   * @param fileName The actual name of the file
   * @param zipOut The output stream to which all data is being written
   * */
  public static void zipFile(File fileToZip, String fileName, ZipOutputStream zipOut) 
      throws IOException {
    if (fileToZip.isHidden()) { // Ignore hidden files as standard
      return;
    }
    if (fileToZip.isDirectory()) {
      if (fileName.endsWith(&quot;/&quot;)) {
        zipOut.putNextEntry(new ZipEntry(fileName)); // To be zipped next
        zipOut.closeEntry();
      } else {
        // Add the &quot;/&quot; mark explicitly to preserve structure while unzipping action is performed
        zipOut.putNextEntry(new ZipEntry(fileName + &quot;/&quot;));
        zipOut.closeEntry();
      }
      var children = fileToZip.listFiles();
      for (var childFile : children) { // Recursively apply function to all children
        zipFile(childFile, fileName + &quot;/&quot; + childFile.getName(), zipOut);
      }
      return;
    }
    try (
        var fis = new FileInputStream(fileToZip) // Start zipping once we know it is a file
    ) {
      var zipEntry = new ZipEntry(fileName);
      zipOut.putNextEntry(zipEntry);
      var bytes = new byte[1024];
      var length = 0;
      while ((length = fis.read(bytes)) &gt;= 0) {
        zipOut.write(bytes, 0, length);
      }
    }
  }
}
</code></pre>
<h3 id="zip-file"><a class="header" href="#zip-file">Zip File</a></h3>
<pre><code class="language-java">public class ZipFileSnippet {

  /**
   * Zip single file.
   *
   * @param srcFilename the filename of the source file
   * @param zipFilename the filename of the destination zip file
   * @throws IOException if an I/O error occurs
   */
  public static void zipFile(String srcFilename, String zipFilename) throws IOException {
    var srcFile = new File(srcFilename);
    try (
            var fileOut = new FileOutputStream(zipFilename);
            var zipOut = new ZipOutputStream(fileOut);
            var fileIn = new FileInputStream(srcFile)
    ) {
      var zipEntry = new ZipEntry(srcFile.getName());
      zipOut.putNextEntry(zipEntry);
      final var bytes = new byte[1024];
      int length;
      while ((length = fileIn.read(bytes)) &gt;= 0) {
        zipOut.write(bytes, 0, length);
      }
    }
  }
}
</code></pre>
<h3 id="zip-files"><a class="header" href="#zip-files">Zip Files</a></h3>
<pre><code class="language-java">public class ZipFilesSnippet {

  /**
   * Zip multiples files.
   *
   * @param srcFilenames array of source file names
   * @param zipFilename  the filename of the destination zip file
   * @throws IOException if an I/O error occurs
   */
  public static void zipFiles(String[] srcFilenames, String zipFilename) throws IOException {
    try (
            var fileOut = new FileOutputStream(zipFilename);
            var zipOut = new ZipOutputStream(fileOut)
    ) {
      for (String srcFilename : srcFilenames) {
        var srcFile = new File(srcFilename);
        try (var fileIn = new FileInputStream(srcFile)) {
          var zipEntry = new ZipEntry(srcFile.getName());
          zipOut.putNextEntry(zipEntry);
          final var bytes = new byte[1024];
          int length;
          while ((length = fileIn.read(bytes)) &gt;= 0) {
            zipOut.write(bytes, 0, length);
          }
        }
      }
    }
  }
}
</code></pre>
<h2 id="io"><a class="header" href="#io">I/O</a></h2>
<h3 id="inputstream-to-string"><a class="header" href="#inputstream-to-string">InputStream To String</a></h3>
<pre><code class="language-java">public class InputStreamToStringSnippet {

  /**
   * Convert InputStream to String.
   *
   * @param inputStream InputStream to convert
   * @return String
   */
  public static String inputStreamToString(InputStream inputStream) {
    return new BufferedReader(new InputStreamReader(inputStream, StandardCharsets.UTF_8))
            .lines().collect(Collectors.joining(System.lineSeparator()));
  }
}
</code></pre>
<h3 id="read-file-snippet"><a class="header" href="#read-file-snippet">Read File Snippet</a></h3>
<pre><code class="language-java">public class ReadFileSnippet {

  /**
   * Read file using stream and return list of string lines.
   *
   * @param fileName file to read
   * @throws FileNotFoundException if an I/O error occurs
   */
  public static List&lt;String&gt; readFile(String fileName) throws FileNotFoundException {
    try (Stream&lt;String&gt; stream = new BufferedReader(new FileReader(fileName)).lines()) {
      return stream.collect(Collectors.toList());
    }
  }
}
</code></pre>
<h2 id="math"><a class="header" href="#math">Math</a></h2>
<h3 id="dice-throw"><a class="header" href="#dice-throw">Dice Throw</a></h3>
<pre><code class="language-java">public class DiceThrow {

  private static Random random = new Random();

  /**
  * Enum for standardized sided dice (4,6,8,10,12 and 20).
  */
  public enum DiceSides {

    FOUR(4), SIX(6), EIGHT(8), TEN(10), TWELVE(12), TWENTY(20);

    private final int diSides;

    DiceSides(int diceSides) {
      this.diSides = diceSides;
    }

    /**
     * Returns the number of sides of a dice.
     *
     * @return int denoting number of sides of a dice
     */
    public int getDiceSides() {
      return this.diSides;
    }

  }

  /**
  * Returns the sum of sides for the given number of sides of each dice.
  *
  * @param noOfDice number of dice
  * @param sides sides of a dice
  * @return int sum of sides for number of dice
  */
  public static int throwDice(int noOfDice, DiceSides sides) {

    int sum = 0;
    for (int i = 0; i &lt; noOfDice; i++) {
      sum = sum + (1 + random.nextInt(sides.getDiceSides()));
    }
    return sum;
  }
}
</code></pre>
<h3 id="elo-rating"><a class="header" href="#elo-rating">Elo Rating</a></h3>
<pre><code class="language-java">public class EloRatingSnippet {

  static final int BASE = 400; //Two types are popular - 400 and 480. We will choose 400 here
  static final int RATING_ADJUSTMENT_FACTOR = 32; //32 is the standard for Beginner Games

  /**
   * Elo Rating Snippet to calculate result after a single match.
   *
   * @param firstPlayerRating Rating of the first player.
   * @param secondPlayerRating Rating of the second player.
   * @param result Result of the match, always considered with respect to the first player.
   *               1 indicates a win, 0.5 indicates a draw and 0 indicates a loss.
   * @return Returns the new rating of the first player.
   */
  public static double calculateMatchRating(double firstPlayerRating, double secondPlayerRating,
      double result) {
    double ratingDiff = ((secondPlayerRating - firstPlayerRating) * 1.0) / BASE;
    double logisticDiff = Math.pow(10, ratingDiff);
    double firstPlayerExpectedScore = 1.0 / (1 + logisticDiff);
    double firstPlayerActualScore = result;
    double newRating = firstPlayerRating + RATING_ADJUSTMENT_FACTOR * (firstPlayerActualScore 
                       - firstPlayerExpectedScore);
    return newRating;
  }
}
</code></pre>
<h3 id="even-odd"><a class="header" href="#even-odd">Even Odd</a></h3>
<pre><code class="language-java">public class EvenOdd {

  /**
   * Returns string denoting number is odd or even.
   *
   * @param num To check whether its even or odd
   * @return string denoting its even or odd
   */
  public static String evenodd(int num) {
    if (num % 2 == 0) {
      return &quot;even&quot;;
    } else {
      return &quot;odd&quot;;
    }
  }
}
</code></pre>
<h3 id="factorial"><a class="header" href="#factorial">Factorial</a></h3>
<pre><code class="language-java">public class FactorialSnippet {

  /**
   * Factorial. Works only for small numbers
   *
   * @param number for which factorial is to be calculated for
   * @return factorial
   */
  public static int factorial(int number) {
    var result = 1;
    for (var factor = 2; factor &lt;= number; factor++) {
      result *= factor;
    }
    return result;
  }

  /**
   * Factorial. Example of what the recursive implementation looks like.
   *
   * @param number for which factorial is to be calculated for
   * @return factorial
   */
  public static int recursiveFactorial(int number) {
    var initial = 0;
    if (number == initial) {
      return initial + 1;
    }
    return number * recursiveFactorial(number - 1);
  }
}
</code></pre>
<h3 id="fibonacci"><a class="header" href="#fibonacci">Fibonacci</a></h3>
<pre><code class="language-java">public class FibonacciSnippet {

  /**
   * Recursive Fibonacci series. Works only for small n and is spectacularly inefficient
   *
   * @param n given number
   * @return fibonacci number for given n
   */
  public static int fibonacci(int n) {
    if (n &lt;= 1) {
      return n;
    } else {
      return fibonacci(n - 1) + fibonacci(n - 2);
    }
  }

  /**
   * Fibonacci series using dynamic programming. Works for larger ns as well.
   *
   * @param n given number
   * @return fibonacci number for given n
   */
  public static int fibonacciBig(int n) {
      int previous = 0;
      int current = 1;
      for (int i = 0; i &lt; n - 1; i++) {
          int t = previous + current;
          previous = current;
          current = t;
      }

      return current;
  }

  /**
   * Example of what an iterative implementation of Fibonacci looks like.
   *
   * @param number given number
   * @return fibonacci number for given n
   */
  public static int iterativeFibonacci(int number) {
    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();
    list.add(0);
    list.add(1);
    for (int i = 2; i &lt; number + 1; i++) {
      list.add(list.get(i - 2) + list.get(i - 1));
    }
    return list.get(number);
  }
}
</code></pre>
<h3 id="greatest-common-divisor"><a class="header" href="#greatest-common-divisor">Greatest Common Divisor</a></h3>
<pre><code class="language-java">public class GreatestCommonDivisorSnippet {

  /**
   * Greatest common divisor calculation.
   *
   * @param a one of the numbers whose gcd is to be computed
   * @param b other number whose gcd is to be computed
   * @return gcd of the two numbers
   */
  public static int gcd(int a, int b) {
    if (b == 0) {
      return a;
    }
    return gcd(b, a % b);
  }
}
</code></pre>
<h3 id="haversine-formula"><a class="header" href="#haversine-formula">Haversine Formula</a></h3>
<pre><code class="language-java">public class HaversineFormulaSnippet {

  // Radius of sphere on which the points are, in this case Earth.
  private static final double SPHERE_RADIUS_IN_KM = 6372.8;

  /**
   * Haversine formula for calculating distance between two latitude, longitude points.
   *
   * @param latA Latitude of point A
   * @param longA Longitude of point A
   * @param latB Latitude of point B
   * @param longB Longitude of point B
   * @return the distance between the two points.
   */
  public static double findHaversineDistance(double latA, double longA, double latB, double longB) {
    if (!isValidLatitude(latA)
        || !isValidLatitude(latB)
        || !isValidLongitude(longA)
        || !isValidLongitude(longB)) {
      throw new IllegalArgumentException();
    }

    // Calculate the latitude and longitude differences
    var latitudeDiff = Math.toRadians(latB - latA);
    var longitudeDiff = Math.toRadians(longB - longA);

    var latitudeA = Math.toRadians(latA);
    var latitudeB = Math.toRadians(latB);

    // Calculating the distance as per haversine formula
    var a = Math.pow(Math.sin(latitudeDiff / 2), 2)
            + Math.pow(Math.sin(longitudeDiff / 2), 2) * Math.cos(latitudeA) * Math.cos(latitudeB);
    var c = 2 * Math.asin(Math.sqrt(a));
    return SPHERE_RADIUS_IN_KM * c;
  }

  // Check for valid latitude value
  private static boolean isValidLatitude(double latitude) {
    return latitude &gt;= -90 &amp;&amp; latitude &lt;= 90;
  }

  // Check for valid longitude value
  private static boolean isValidLongitude(double longitude) {
    return longitude &gt;= -180 &amp;&amp; longitude &lt;= 180;
  }
}
</code></pre>
<h3 id="least-common-multiple"><a class="header" href="#least-common-multiple">Least Common Multiple</a></h3>
<pre><code class="language-java">public class LeastCommonMultipleSnippet {
  /**
   * Least common multiple  calculation.
   *
   * @param a one of the numbers whose lcm is to be computed
   * @param b other number whose lcm is to be computed
   * @return lcm of the two numbers
   */
  public static int lcm(int a, int b) {
    int max = a &gt; b ? a : b;
    int min = a &lt; b ? a : b;
    for (int i = 1; i &lt;= min; i += 1) {
      int prod = max * i;
      if (prod % min == 0) {
        return prod;
      }
    }
    return max * min;
  }
}
</code></pre>
<h3 id="luhn"><a class="header" href="#luhn">Luhn</a></h3>
<pre><code class="language-java">public class LuhnSnippet {

  /**
   * Calculates checksum for a given number with Luhn's algorithm. Works only on non-negative
   * integers not greater than {@link Long#MAX_VALUE} i.e., all numbers with a maximum of 18
   * digits, plus 19-digit-long numbers start with 1..8 (also some with 9, too). For
   * demonstration purposes, algorithm is not optimized for efficiency.
   *
   * @param num number whose checksum is to be calculated
   * @return checksum value for num
   * @see &lt;a href=&quot;https://patents.google.com/patent/US2950048A&quot;&gt;Hans P. LUHN's patent US2950048A&lt;/a&gt;
   * @see &lt;a href=&quot;https://en.wikipedia.org/wiki/Luhn_algorithm&quot;&gt;Luhn algorithm on Wikipedia&lt;/a&gt;
   */
  public static int calculateLuhnChecksum(long num) {
    if (num &lt; 0) {
      throw new IllegalArgumentException(&quot;Non-negative numbers only.&quot;);
    }
    final var numStr = String.valueOf(num);

    var sum = 0;
    var isOddPosition = true;
    // Loop on digits of numStr from right to left.
    for (var i = numStr.length() - 1; i &gt;= 0; i--) {
      final var digit = Integer.parseInt(Character.toString(numStr.charAt(i)));
      final var substituteDigit = (isOddPosition ? 2 : 1) * digit;

      final var tensPlaceDigit = substituteDigit / 10;
      final var onesPlaceDigit = substituteDigit % 10;
      sum += tensPlaceDigit + onesPlaceDigit;

      isOddPosition = !isOddPosition;
    }
    final var checksumDigit = (10 - (sum % 10)) % 10;
    // Outermost modulus handles edge case `num = 0`.
    return checksumDigit;
  }
}
</code></pre>
<h3 id="natural-number-binary-conversion"><a class="header" href="#natural-number-binary-conversion">Natural Number Binary Conversion</a></h3>
<pre><code class="language-java">public class NaturalNumberBinaryConversionSnippet {

  /**
   * Convert natural number to binary string. Only supports positive integers.Throws exception
   * for negative integers
   *
   * @param naturalNumber given number
   * @return Binary string representation of naturalNumber
   */
  public static String toBinary(long naturalNumber) {
    if (naturalNumber &lt; 0) {
      throw new NumberFormatException(&quot;Negative Integer, this snippet only accepts &quot;
              + &quot;positive integers&quot;);
    }
    if (naturalNumber == 0) {
      return &quot;0&quot;;
    }
    final Stack&lt;Long&gt; binaryBits =
            Stream.iterate(naturalNumber, n -&gt; n &gt; 0, n -&gt; n / 2).map(n -&gt; n % 2)
                    .collect(Stack::new, Stack::push, Stack::addAll);
    return Stream.generate(binaryBits::pop)
            .limit(binaryBits.size()).map(String::valueOf).collect(Collectors.joining());
  }

  /**
   * Convert binary string representation to Long valued Integer. Throws exception if input
   * string contains characters other than '0' and '1'
   *
   * @param binary given number
   * @return Unsigned Long value for the binary number
   */
  public static Long fromBinary(String binary) {
    binary.chars().filter(c -&gt; c != '0' &amp;&amp; c != '1').findFirst().ifPresent(in -&gt; {
      throw new NumberFormatException(
              &quot;Binary string contains values other than '0' and '1'&quot;);
    });
    return IntStream.range(0, binary.length())
            .filter(in -&gt; binary.charAt(binary.length() - 1 - in) == '1')
            .mapToLong(in -&gt; ((long) 0b1) &lt;&lt; in).sum();
  }
}
</code></pre>
<h3 id="perform-lottery"><a class="header" href="#perform-lottery">Perform Lottery</a></h3>
<pre><code class="language-java">public class PerformLotterySnippet {

  /**
   * Generate random lottery numbers.
   *
   * @param numNumbers    how many performLottery numbers are available (e.g. 49)
   * @param numbersToPick how many numbers the player needs to pick (e.g. 6)
   * @return array with the random numbers
   */
  public static Integer[] performLottery(int numNumbers, int numbersToPick) {
    var numbers = new ArrayList&lt;Integer&gt;();
    for (var i = 0; i &lt; numNumbers; i++) {
      numbers.add(i + 1);
    }
    Collections.shuffle(numbers);
    return numbers.subList(0, numbersToPick).toArray(new Integer[numbersToPick]);
  }
}
</code></pre>
<h3 id="prime-number"><a class="header" href="#prime-number">Prime Number</a></h3>
<pre><code class="language-java">public class PrimeNumberSnippet {

  /**
   * Checks if given number is a prime number. Prime number is a number that is greater than 1 and
   * divided by 1 or itself only Credits: https://en.wikipedia.org/wiki/Prime_number
   *
   * @param number number to check prime
   * @return true if prime
   */
  public static boolean isPrime(int number) {
    //if number &lt; 2 its not a prime number
    if (number &lt; 2) {
      return false;
    }
    // 2 and 3 are prime numbers
    if (number &lt; 3) {
      return true;
    }
    // check if n is a multiple of 2
    if (number % 2 == 0) {
      return false;
    }
    // if not, then just check the odds
    for (var i = 3; i * i &lt;= number; i += 2) {
      if (number % i == 0) {
        return false;
      }
    }
    return true;
  }
}
</code></pre>
<h3 id="random-number"><a class="header" href="#random-number">Random Number</a></h3>
<pre><code class="language-java">public class RandomNumber {

  private RandomNumber() {}
    
  private static Random random = new Random();
    
  /**
   * Return a random number between two given numbers.
   *
   * @param start Starting point to find the random number
   * @param end Ending point to find the random number
   * @return Number denoting the random number generated
   */
  public static &lt;T extends Number&gt; Number getRandomNumber(T start, T end) {
    
      if (start instanceof Byte &amp;&amp; end instanceof Byte) {
        return (byte) (start.byteValue()
                + random.nextInt(end.byteValue() - start.byteValue() + 1));
      } else if (start instanceof Short &amp;&amp; end instanceof Short) {
        return (short) (start.shortValue()
                + random.nextInt(end.shortValue() - start.shortValue() + 1));
      } else if (start instanceof Integer &amp;&amp; end instanceof Integer) {
        return start.intValue()
                + random.nextInt(end.intValue() - start.intValue() + 1);
      } else if (start instanceof Long &amp;&amp; end instanceof Long) {
        return start.longValue()
                + (long) (random.nextDouble() * end.longValue() - start.longValue() + 1);
      } else if (start instanceof Float &amp;&amp; end instanceof Float) {
        return start.floatValue()
                + random.nextFloat() * (end.floatValue() - start.floatValue());
      } else if (start instanceof Double &amp;&amp; end instanceof Double) {
        return start.doubleValue()
                + random.nextDouble() * (end.doubleValue() - start.doubleValue());
      } else {
        throw new IllegalArgumentException(&quot;Invalid Numbers As Arguments &quot;
                + start.getClass() + &quot; and &quot; + end.getClass());
        }
    }
}
</code></pre>
<h3 id="square-root"><a class="header" href="#square-root">Square Root</a></h3>
<pre><code class="language-java">public class SquareRoot {

  /**
   * Returns square root of a number.
   *
   * @param num To find SquareRoot
   * @param p   precision till how many decimal numbers we want accurate ans
   */
  public static double sqrt(int num, int p) {
    int start = 0;
    int end = num;
    double root = 0.0;

    while (start &lt;= end) {
      int mid = start + (end - start) / 2;

      if ((mid * mid) &gt; num) {
        end = mid - 1;
      } else if ((mid * mid) &lt; num) {
        start = mid + 1;
      } else {
        return mid;
      }
    }
    double incr = 0.1;
    for (int i = 0; i &lt; p; i++) {
      while (root * root &lt; num) {
        root = root + incr;
      }
      root = root - incr;
      incr = incr / 10;
    }
    return root;
  }
}
</code></pre>
<h2 id="media"><a class="header" href="#media">Media</a></h2>
<h3 id="capture-screen"><a class="header" href="#capture-screen">Capture Screen</a></h3>
<pre><code class="language-java">public class CaptureScreenSnippet {

  /**
   * Capture screenshot and save it to PNG file. Credits: https://viralpatel.net/blogs/how-to-take-screen-shots-in-java-taking-screenshots-java/
   *
   * @param filename the name of the file
   * @throws AWTException if the platform configuration does not allow low-level input control
   * @throws IOException  if an I/O error occurs
   */
  public static void captureScreen(String filename) throws AWTException, IOException {
    var screenSize = Toolkit.getDefaultToolkit().getScreenSize();
    var screenRectangle = new Rectangle(screenSize);
    var robot = new Robot();
    var image = robot.createScreenCapture(screenRectangle);
    ImageIO.write(image, &quot;png&quot;, new File(filename));
  }
}
</code></pre>
<h2 id="network"><a class="header" href="#network">Network</a></h2>
<h3 id="http-get"><a class="header" href="#http-get">HTTP GET</a></h3>
<pre><code class="language-java">public class HttpGetSnippet {

  /**
   * Performs HTTP GET request.
   *
   * @param uri the URI of the connection
   * @return response object
   * @throws Exception i/o error, interruption error, etc
   */
  public static HttpResponse&lt;String&gt; httpGet(String uri) throws Exception {
    var client = HttpClient.newHttpClient();
    var request = HttpRequest.newBuilder()
            .uri(URI.create(uri))
            .build();
    return client.send(request, HttpResponse.BodyHandlers.ofString());
  }
}
</code></pre>
<h3 id="http-post"><a class="header" href="#http-post">HTTP POST</a></h3>
<pre><code class="language-java">public class HttpPostSnippet {

  /**
   * Performs HTTP POST request. Credits https://stackoverflow.com/questions/3324717/sending-http-post-request-in-java
   *
   * @param address   the URL of the connection in String format, like &quot;http://www.google.com&quot;
   * @param arguments the body of the POST request, as a HashMap
   * @return response object
   * @throws IOException          if an I/O error occurs
   * @throws InterruptedException if the operation is interrupted
   */
  public static HttpResponse&lt;String&gt; httpPost(String address, HashMap&lt;String, String&gt; arguments)
          throws IOException, InterruptedException {
    var sj = new StringJoiner(&quot;&amp;&quot;);
    for (var entry : arguments.entrySet()) {
      sj.add(URLEncoder.encode(entry.getKey(), StandardCharsets.UTF_8) + &quot;=&quot;
              + URLEncoder.encode(entry.getValue(), StandardCharsets.UTF_8));
    }

    var out = sj.toString().getBytes(StandardCharsets.UTF_8);
    var request = HttpRequest.newBuilder()
            .uri(URI.create(address))
            .headers(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded; charset=UTF-8&quot;)
            .POST(HttpRequest.BodyPublishers.ofByteArray(out))
            .build();

    return HttpClient.newHttpClient().send(request, HttpResponse.BodyHandlers.ofString());
  }
}
</code></pre>
<h2 id="string"><a class="header" href="#string">String</a></h2>
<h3 id="anagram"><a class="header" href="#anagram">Anagram</a></h3>
<pre><code class="language-java">public class AnagramSnippet {

  /**
   * Checks if two words are anagrams (contains same characters with same frequency in any order).
   *
   * @param s1 The first string to be checked
   * @param s2 The second string to be checked
   * @return true if they are anagrams of each other
   */
  public static boolean isAnagram(String s1, String s2) {
    var l1 = s1.length();
    var l2 = s2.length();

    if (l1 != l2) {
      return false;
    }

    var arr1 = new int[256];
    var arr2 = new int[256];
    
    for (var i = 0; i &lt; l1; i++) {
      arr1[s1.charAt(i)]++;
      arr2[s2.charAt(i)]++;
    }
    return Arrays.equals(arr1, arr2);
  }
}
</code></pre>
<h3 id="common-letters"><a class="header" href="#common-letters">Common Letters</a></h3>
<pre><code class="language-java">public class CommonLettersSnippet {

  /**
   * Find Common Characters inside given two strings.
   *
   * @param firstStr  first string
   * @param secondStr second string
   * @return Common Characters.
   */
  public static String getCommonLetters(String firstStr, String secondStr) {
    Set&lt;String&gt; commonLetters = new HashSet&lt;&gt;();
    for (Character currentCharacter : firstStr.toCharArray()) {
      if (isCommonLetter(secondStr, currentCharacter)) {
        commonLetters.add(currentCharacter.toString());
      }
    }
    return String.join(&quot; &quot;, commonLetters);
  }

  private static boolean isCommonLetter(String str, Character character) {
    return str.contains(character.toString()) &amp;&amp; Character.isLetter(character);
  }
}
</code></pre>
<h3 id="compare-version"><a class="header" href="#compare-version">Compare Version</a></h3>
<pre><code class="language-java">public class CompareVersionSnippet {

  private static final String EXTRACT_VERSION_REGEX = &quot;.*?((?&lt;!\\w)\\d+([.-]\\d+)*).*&quot;;

  /**
   * Compares two version strings.
   * Credits: https://stackoverflow.com/a/6702000/6645088 and https://stackoverflow.com/a/44592696/6645088
   *
   * @param v1 the first version string to compare
   * @param v2 the second version string to compare
   * @return the value {@code 0} if the two strings represent same versions;
   *     a value less than {@code 0} if {@code v1} is greater than {@code v2}; and
   *     a value greater than {@code 0} if {@code v2} is greater than {@code v1}
   */
  public static int compareVersion(String v1, String v2) {
    var components1 = getVersionComponents(v1);
    var components2 = getVersionComponents(v2);
    int length = Math.max(components1.length, components2.length);
    for (int i = 0; i &lt; length; i++) {
      Integer c1 = i &lt; components1.length ? Integer.parseInt(components1[i]) : 0;
      Integer c2 = i &lt; components2.length ? Integer.parseInt(components2[i]) : 0;
      int result = c1.compareTo(c2);
      if (result != 0) {
        return result;
      }
    }
    return 0;
  }

  private static String[] getVersionComponents(String version) {
    return version.replaceAll(EXTRACT_VERSION_REGEX, &quot;$1&quot;).split(&quot;\\.&quot;);
  }
}
</code></pre>
<h3 id="duplicate-character"><a class="header" href="#duplicate-character">Duplicate Character</a></h3>
<pre><code class="language-java">public class DuplicateCharacterSnippet {

  /**
   * Remove Duplicate Characters from a string.
   *
   * @param str The string to be processed
   * @return A string with no duplicate characters
   */

  public static String removeDuplicateCharacters(String str) {
    char[] charsOfStr = str.toCharArray();
    Set&lt;String&gt; uniqueCharacters = new HashSet&lt;&gt;();
    for (char character : charsOfStr) {
      uniqueCharacters.add(String.valueOf(character));
    }
    return String.join(&quot;&quot;, uniqueCharacters);
  }
}
</code></pre>
<h3 id="levenshtein-distance"><a class="header" href="#levenshtein-distance">Levenshtein Distance</a></h3>
<pre><code class="language-java">public class LevenshteinDistanceSnippet {

  /**
   * Find the Levenshtein distance between two words. https://en.wikipedia.org/wiki/Levenshtein_distance
   *
   * @param word1 first word
   * @param word2 second word
   * @return distance
   */
  public static int findLevenshteinDistance(String word1, String word2) {
    // If word2 is empty, removing
    int[][] ans = new int[word1.length() + 1][word2.length() + 1];
    for (int i = 0; i &lt;= word1.length(); i++) {
      ans[i][0] = i;
    }
    // if word1 is empty, adding
    for (int i = 0; i &lt;= word2.length(); i++) {
      ans[0][i] = i;
    }
    // None is empty
    for (int i = 1; i &lt;= word1.length(); i++) {
      for (int j = 1; j &lt;= word2.length(); j++) {
        int min = Math.min(Math.min(ans[i][j - 1], ans[i - 1][j]), ans[i - 1][j - 1]);
        ans[i][j] = word1.charAt(i - 1) == word2.charAt(j - 1) ? ans[i - 1][j - 1] : min + 1;
      }
    }
    return ans[word1.length()][word2.length()];
  }
}
</code></pre>
<h3 id="lindenmayer-system"><a class="header" href="#lindenmayer-system">Lindenmayer System</a></h3>
<pre><code class="language-java">public class LindenmayerSystemSnippet {
  /**
   * Generates an L-system string based on axiom, production rules, and a number of iterations.
   *
   * @param axiom           initial string to begin the L-system
   * @param productionRules map of character rules where each symbol can be replaced with a string
   * @param iterations      number of iterations to apply the production rules
   * @return the generated string after all iterations
   */
  public static String generateLindenmayerSystem(
          String axiom,
          Map&lt;Character, String&gt; productionRules,
          int iterations
  ) {
    String current = axiom;

    for (int i = 0; i &lt; iterations; i++) {
      StringBuilder nextIteration = new StringBuilder(current.length() * 2);

      // Replace each symbol with the corresponding production rule or the symbol itself
      current.chars()
          .mapToObj(c -&gt; (char) c)
          .forEach(symbol -&gt;
                  nextIteration.append(
                          productionRules.getOrDefault(symbol, String.valueOf(symbol))
                  )
          );

      current = nextIteration.toString();
    }
    return current;
  }
}
</code></pre>
<h3 id="max-character-count"><a class="header" href="#max-character-count">Max Character Count</a></h3>
<pre><code class="language-java">public class MaxCharacterCountSnippet {

  /**
   * The maximum count of times a specific character appears in a string.
   *
   * @param str ŸéA specific string
   * @param character A specific character
   * @return the maximum count of one character
   */

  public static int getMaxCharacterCount(String str, char character) {
    int characterCount = 0;
    int maxCharacterCount = 0;
    for (int i = 0; i &lt; str.length(); i++) {
      if ((str.charAt(i)) == character) {
        characterCount++;
        maxCharacterCount = Math.max(maxCharacterCount, characterCount);
      } else {
        characterCount = 0;
      }
    }
    return maxCharacterCount;
  }
}
</code></pre>
<h3 id="palindrome-check"><a class="header" href="#palindrome-check">Palindrome Check</a></h3>
<pre><code class="language-java">public class PalindromCheckSnippet {

  /**
   * Checks if given string is palindrome (same forward and backward). Skips non-letter characters
   * Credits: https://github.com/kousen/java_8_recipes
   *
   * @param s string to check
   * @return true if palindrome
   */
  public static boolean isPalindrome(String s) {
    for (int i = 0, j = s.length() - 1; i &lt; j; i++, j--) {
      while (i &lt; j &amp;&amp; !Character.isLetter(s.charAt(i))) {
        i++;
      }
      while (i &lt; j &amp;&amp; !Character.isLetter(s.charAt(j))) {
        j--;
      }

      if (Character.toLowerCase(s.charAt(i)) != Character.toLowerCase(s.charAt(j))) {
        return false;
      }
    }

    return true;
  }
}
</code></pre>
<h3 id="reverse-string"><a class="header" href="#reverse-string">Reverse String</a></h3>
<pre><code class="language-java">public class ReverseStringSnippet {

  /**
   * Reverse string.
   *
   * @param s the string to reverse
   * @return reversed string
   */
  public static String reverseString(String s) {
    return new StringBuilder(s).reverse().toString();
  }
}
</code></pre>
<h3 id="string-to-date"><a class="header" href="#string-to-date">String To Date</a></h3>
<pre><code class="language-java">public class StringToDateSnippet {

  /**
   * Convert string to date.
   *
   * @param date   the date string
   * @param format expected date format
   * @return Date
   * @throws ParseException in case of an unparseable date string
   */
  public static Date stringToDate(String date, String format) throws ParseException {
    var simpleDateFormat = new SimpleDateFormat(format);
    return simpleDateFormat.parse(date);
  }
}
</code></pre>
<h3 id="kmp-substring-search-algorithm"><a class="header" href="#kmp-substring-search-algorithm">KMP Substring Search Algorithm</a></h3>
<pre><code class="language-java">public class KMPSubstringSearchSnippet {

    /**
     * Implements the Knuth-Morris-Pratt (KMP) algorithm to find the index of the first occurrence of a substring in a given text.
     *
     * @param text The text in which the substring is to be searched.
     * @param pattern The substring pattern to search for.
     * @return The index of the first occurrence of the pattern in the text, or -1 if the pattern is not found.
     */
    public static int kmpSearch(String text, String pattern) {
        if (pattern == null || pattern.length() == 0) {
            return 0; // Trivial case: empty pattern
        }

        int[] lps = computeLPSArray(pattern);
        int i = 0; // index for text
        int j = 0; // index for pattern

        while (i &lt; text.length()) {
            if (pattern.charAt(j) == text.charAt(i)) {
                i++;
                j++;
            }

            if (j == pattern.length()) {
                return i - j; // Found pattern at index (i - j)
            } else if (i &lt; text.length() &amp;&amp; pattern.charAt(j) != text.charAt(i)) {
                if (j != 0) {
                    j = lps[j - 1]; // Use the LPS array to skip characters
                } else {
                    i++; // If no match and j is 0, move to the next character in text
                }
            }
        }
        return -1; // Pattern not found
    }

    /**
     * Computes the LPS (Longest Prefix Suffix) array for the pattern, which indicates the longest proper prefix which is also a suffix.
     *
     * @param pattern The pattern for which the LPS array is to be computed.
     * @return The LPS array.
     */
    private static int[] computeLPSArray(String pattern) {
        int length = 0;
        int i = 1;
        int[] lps = new int[pattern.length()];
        lps[0] = 0; // LPS for the first character is always 0

        while (i &lt; pattern.length()) {
            if (pattern.charAt(i) == pattern.charAt(length)) {
                length++;
                lps[i] = length;
                i++;
            } else {
                if (length != 0) {
                    length = lps[length - 1]; // Fall back to the previous LPS value
                } else {
                    lps[i] = 0;
                    i++;
                }
            }
        }
        return lps;
    }
}
</code></pre>
<h2 id="thread"><a class="header" href="#thread">Thread</a></h2>
<h3 id="thread-pool"><a class="header" href="#thread-pool">Thread Pool</a></h3>
<h3 id="thread-1"><a class="header" href="#thread-1">Thread</a></h3>
<pre><code class="language-java">public class ThreadSnippet {

  /**
   * Creates and returns a new thread with the task assigned to it (task will be performed parallel to the main thread).
   *
   * @param task the task to be executed by this thread
   * @return new thread with task assigned to it.
   */
  public static Thread createThread(Runnable task) {
    return new Thread(task);
  }
}
</code></pre>
<pre><code class="language-java">public class ThreadPool {

  /**
   * &lt;p&gt;Creates pool of threads. Where the pool is the size of the number of processors
   * available to the Java virtual machine.&lt;/p&gt;
   *
   * @return the newly created thread pool
   */
  public static ExecutorService createFixedThreadPool() {
    return Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors());
  }
}
</code></pre>
<h3 id="damm-algorithm"><a class="header" href="#damm-algorithm">Damm Algorithm</a></h3>
<pre><code class="language-java">public class DammSnippet {

  /**
   * Private constructor to prevent instantiation of utility class.
   */
  private DammSnippet() {
    throw new UnsupportedOperationException(&quot;Utility class - instantiation is not allowed.&quot;);
  }
  private static final int[][] matrix = new int[][] {
          { 0, 3, 1, 7, 5, 9, 8, 6, 4, 2 },
          { 7, 0, 9, 2, 1, 5, 4, 8, 6, 3 },
          { 4, 2, 0, 6, 8, 7, 1, 3, 5, 9 },
          { 1, 7, 5, 0, 9, 8, 3, 4, 2, 6 },
          { 6, 1, 2, 3, 0, 4, 5, 9, 7, 8 },
          { 3, 6, 7, 4, 2, 0, 9, 5, 8, 1 },
          { 5, 8, 6, 9, 7, 2, 0, 1, 3, 4 },
          { 8, 9, 4, 5, 3, 6, 2, 0, 1, 7 },
          { 9, 4, 3, 8, 6, 1, 7, 2, 0, 5 },
          { 2, 5, 8, 1, 4, 3, 6, 7, 9, 0 }
  };
  public static int calculateCheckSumDigit(String number) {
    if (number == null || number.isEmpty()) {
      throw new IllegalArgumentException(&quot;Input number cannot be null or empty.&quot;);
    }

    int interim = 0;
    for (int index = 0; index &lt; number.length(); index++) {
      char currCh = number.charAt(index);
      if (!Character.isDigit(currCh)) {
        throw new IllegalArgumentException(&quot;Input number contains invalid characters: &quot; + number);
      }

      int currentIndex = currCh - '0';
      interim = matrix[interim][currentIndex];
    }

    return interim;
  }
  public static int calculateCheckSumDigit(int number) {
    return calculateCheckSumDigit(String.valueOf(number));
  }
  public static int calculateCheckSumDigit(long number) {
    return calculateCheckSumDigit(String.valueOf(number));
  }
  public static String generateCheckSum(String number) {
    int checkSumDigit = calculateCheckSumDigit(number);
    return number + checkSumDigit;
  }
  public static int generateCheckSum(int number) {
    int checkSumDigit = calculateCheckSumDigit(number);
    return (number * 10) + checkSumDigit;
  }
  public static long generateCheckSum(long number) {
    int checkSumNumber = calculateCheckSumDigit(number);
    return (number * 10) + checkSumNumber;
  }
  public static boolean validate(String number) {
    return calculateCheckSumDigit(number) == 0;
  }
  public static boolean validate(int number) {
    return calculateCheckSumDigit(number) == 0;
  }
  public static boolean validate(long number) {
    return calculateCheckSumDigit(number) == 0;
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h3 id="binarysearchin2darraysnippet"><a class="header" href="#binarysearchin2darraysnippet">BinarySearchIn2dArraySnippet</a></h3>
<pre><code class="language-java">package algorithm;

/**
 * BinarySearchIn2dArraySnippet.
 */
public class BinarySearchIn2dArraySnippet {

  /**
  * Search an item with binarySearch algorithm.
  *
  * @param matrix should be sorted
  * @param target an item to search
  * @return if location of item is found, otherwise return {-1,-1}
  */
  public static int[] binarySearchIn2darr(int[][] matrix, int target) {
    int rows = matrix.length - 1;
    int cols = matrix[0].length - 1;

    if (rows == 1) {
      return binarySearch(matrix, target, 0, 0, cols);
    }

    int rstart = 0;
    int rend = rows;
    int cmid = cols / 2;

    while (rstart &lt; rend - 1) {
      int rmid = rstart + (rend - rstart) / 2;
      if (matrix[rmid][cmid] &gt; target) {
        rend = rmid;
      } else if (matrix[rmid][cmid] &lt; target) {
        rstart = rmid;
      } else {
        return new int[]{rmid, cmid};
      }
    }
    if (matrix[rstart][cmid] == target) {
      return new int[]{rstart, cmid};
    }
    if (matrix[rend][cmid] == target) {
      return new int[]{rend, cmid};
    }
    if (target &lt;= matrix[rstart][cmid - 1]) {
      return binarySearch(matrix, target, rstart, 0, cmid - 1);
    }
    if (target &gt;= matrix[rstart][cmid + 1]) {
      return binarySearch(matrix, target, rstart, cmid + 1, cols);
    }
    if (target &lt;= matrix[rend][cmid - 1]) {
      return binarySearch(matrix, target, rend, 0, cmid - 1);
    }
    if (target &lt;= matrix[rend][cmid + 1]) {
      return binarySearch(matrix, target, rend, cmid + 1, cols);
    }
    return new int[]{-1, -1};
  }

  static int[] binarySearch(int[][] matrix, int target, int row, int cstart, int cend) {
    while (cstart &lt;= cend) {
      int cmid = cstart + (cend - cstart) / 2;
      if (matrix[row][cmid] &gt; target) {
        cend = cmid - 1;
      } else if (matrix[row][cmid] &lt; target) {
        cstart = cend + 1;
      } else {
        return new int[]{row, cmid};
      }
    }
    return new int[]{-1, -1};
  }
}
</code></pre>
<h3 id="binarysearchsnippet"><a class="header" href="#binarysearchsnippet">BinarySearchSnippet</a></h3>
<pre><code class="language-java">package algorithm;

/**
 * BinarySearchSnippet.
 */
public class BinarySearchSnippet {

  /**
   * Search an item with binarySearch algorithm.
   *
   * @param arr sorted array to search
   * @param item an item to search
   * @return if item is found, return the index position of the array item otherwise return -1
   */

  public static int binarySearch(int[] arr, int left, int right, int item) {
    if (right &gt;= left) {
      int mid = left + (right - left) / 2;
      if (arr[mid] == item) {
        return mid;
      }

      if (arr[mid] &gt; item) {
        return binarySearch(arr, left, mid - 1, item);
      }

      return binarySearch(arr, mid + 1, right, item);
    }
    return -1;
  }
}
</code></pre>
<h3 id="bubblesortsnippet"><a class="header" href="#bubblesortsnippet">BubbleSortSnippet</a></h3>
<pre><code class="language-java">package algorithm;

/**
 * BubbleSortSnippet.
 */
public class BubbleSortSnippet {

  /**
   * Sort an array with bubbleSort algorithm.
   *
   * @param arr array to sort
   */
  public static void bubbleSort(int[] arr) {
    var lastIndex = arr.length - 1;

    for (var j = 0; j &lt; lastIndex; j++) {
      for (var i = 0; i &lt; lastIndex - j; i++) {
        if (arr[i] &gt; arr[i + 1]) {
          var tmp = arr[i];
          arr[i] = arr[i + 1];
          arr[i + 1] = tmp;
        }
      }
    }
  }
}
</code></pre>
<h3 id="countingsortsnippet"><a class="header" href="#countingsortsnippet">CountingSortSnippet</a></h3>
<pre><code class="language-java">package algorithm;

import java.util.Arrays;

/**
 * CountingSortSnippet.
 */
public class CountingSortSnippet {

  /**
   * Sort an array having zero or positive numbers with countingSort algorithm.
   *
   * @param arr array to sort
   */
  public static void countingSort(int[] arr) {
    var max = Arrays.stream(arr).max().getAsInt();

    var count = new int[max + 1];

    for (var num : arr) {
      count[num]++;
    }

    for (var i = 1; i &lt;= max; i++) {
      count[i] += count[i - 1];
    }

    var sorted = new int[arr.length];
    for (var i = arr.length - 1; i &gt;= 0; i--) {
      var cur = arr[i];
      sorted[count[cur] - 1] = cur;
      count[cur]--;
    }

    var index = 0;
    for (var num : sorted) {
      arr[index++] = num;
    }
  }
}
</code></pre>
<h3 id="cyclesortsnippet"><a class="header" href="#cyclesortsnippet">CycleSortSnippet</a></h3>
<pre><code class="language-java">package algorithm;

/**
 * CycleSortSnippet.
 */
public class CycleSortSnippet {

  /**
   * Sort an array with cycleSort algorithm.
   *
   * @param arr array to sort
   */
  public static int[] cycleSort(int[] arr) {
    int n = arr.length;
    int i = 0;
    while (i &lt; n) {
      int correctpos = arr[i] - 1;
      if (arr[i] != arr[correctpos]) {
        int temp = arr[i];
        arr[i] = arr[correctpos];
        arr[correctpos] = temp;
      } else {
        i++;
      }
    }
    return arr;
  }
}
</code></pre>
<h3 id="dammsnippet"><a class="header" href="#dammsnippet">DammSnippet</a></h3>
<pre><code class="language-java">package algorithm;

/**
 * The implementation of the Damm algorithm based on the details on
 * &lt;a href=&quot;https://en.wikipedia.org/wiki/Damm_algorithm&quot;&gt;Wikipedia&lt;/a&gt;.
 *
 * &lt;p&gt;The Damm algorithm is used for error detection and generates a checksum
 * that can detect single-digit errors and adjacent transposition errors.&lt;/p&gt;
 *
 */
public class DammSnippet {

  /**
   * Private constructor to prevent instantiation of utility class.
   */
  private DammSnippet() {
    throw new UnsupportedOperationException(&quot;Utility class - instantiation is not allowed.&quot;);
  }

  /**
   * The quasigroup table used by the Damm algorithm.
   */
  private static final int[][] matrix = new int[][] {
          { 0, 3, 1, 7, 5, 9, 8, 6, 4, 2 },
          { 7, 0, 9, 2, 1, 5, 4, 8, 6, 3 },
          { 4, 2, 0, 6, 8, 7, 1, 3, 5, 9 },
          { 1, 7, 5, 0, 9, 8, 3, 4, 2, 6 },
          { 6, 1, 2, 3, 0, 4, 5, 9, 7, 8 },
          { 3, 6, 7, 4, 2, 0, 9, 5, 8, 1 },
          { 5, 8, 6, 9, 7, 2, 0, 1, 3, 4 },
          { 8, 9, 4, 5, 3, 6, 2, 0, 1, 7 },
          { 9, 4, 3, 8, 6, 1, 7, 2, 0, 5 },
          { 2, 5, 8, 1, 4, 3, 6, 7, 9, 0 }
  };

  /**
   * Calculates the Damm checksum digit for the given number.
   *
   * @param number the input number as a string
   * @return the calculated checksum digit
   * @throws IllegalArgumentException if the input is null, empty, or contains non-digit characters
   */
  public static int calculateCheckSumDigit(String number) {
    if (number == null || number.isEmpty()) {
      throw new IllegalArgumentException(&quot;Input number cannot be null or empty.&quot;);
    }

    int interim = 0;
    for (int index = 0; index &lt; number.length(); index++) {
      char currCh = number.charAt(index);
      if (!Character.isDigit(currCh)) {
        throw new IllegalArgumentException(&quot;Input number contains invalid characters: &quot; + number);
      }

      int currentIndex = currCh - '0';
      interim = matrix[interim][currentIndex];
    }

    return interim;
  }

  /**
   * Calculates the Damm checksum digit for the given number.
   *
   * @param number the input number as an integer
   * @return the calculated checksum digit
   */
  public static int calculateCheckSumDigit(int number) {
    return calculateCheckSumDigit(String.valueOf(number));
  }

  /**
   * Calculates the Damm checksum digit for the given number.
   *
   * @param number the input number as a long
   * @return the calculated checksum digit
   */
  public static int calculateCheckSumDigit(long number) {
    return calculateCheckSumDigit(String.valueOf(number));
  }

  /**
   * Appends the calculated checksum digit to the given number as a string.
   *
   * @param number the input number as a string
   * @return the original number with the checksum digit appended
   * @throws IllegalArgumentException if the input is null, empty, or contains non-digit characters
   */
  public static String generateCheckSum(String number) {
    int checkSumDigit = calculateCheckSumDigit(number);
    return number + checkSumDigit;
  }

  /**
   * Appends the calculated checksum digit to the given number as an integer.
   *
   * @param number the input number as an integer
   * @return the original number with the checksum digit appended
   */
  public static int generateCheckSum(int number) {
    int checkSumDigit = calculateCheckSumDigit(number);
    return (number * 10) + checkSumDigit;
  }

  /**
   * Appends the calculated checksum digit to the given number as a long.
   *
   * @param number the input number as a long
   * @return the original number with the checksum digit appended
   */
  public static long generateCheckSum(long number) {
    int checkSumNumber = calculateCheckSumDigit(number);
    return (number * 10) + checkSumNumber;
  }

  /**
   * Validates the given number by checking if the checksum digit is correct.
   *
   * @param number the input number as a string
   * @return {@code true} if the number is valid, {@code false} otherwise
   * @throws IllegalArgumentException if the input is null, empty, or contains non-digit characters
   */
  public static boolean validate(String number) {
    return calculateCheckSumDigit(number) == 0;
  }

  /**
   * Validates the given number by checking if the checksum digit is correct.
   *
   * @param number the input number as an integer
   * @return {@code true} if the number is valid, {@code false} otherwise
   */
  public static boolean validate(int number) {
    return calculateCheckSumDigit(number) == 0;
  }

  /**
   * Validates the given number by checking if the checksum digit is correct.
   *
   * @param number the input number as a long
   * @return {@code true} if the number is valid, {@code false} otherwise
   */
  public static boolean validate(long number) {
    return calculateCheckSumDigit(number) == 0;
  }
}
</code></pre>
<h3 id="insertionsortsnippet"><a class="header" href="#insertionsortsnippet">InsertionSortSnippet</a></h3>
<pre><code class="language-java">package algorithm;

/**
 * InsertionSortSnippet.
 */
public class InsertionSortSnippet {

  /**
   * Sort an array with insertionSort algorithm.
   *
   * @param arr array to sort
   */
  public static void insertionSort(int[] arr) {
    for (var i = 1; i &lt; arr.length; i++) {
      var tmp = arr[i];
      var j = i - 1;

      while (j &gt;= 0 &amp;&amp; arr[j] &gt; tmp) {
        arr[j + 1] = arr[j];
        j--;
      }
      arr[j + 1] = tmp;
    }
  }
}
</code></pre>
<h3 id="linearsearchin2darraysnippet"><a class="header" href="#linearsearchin2darraysnippet">LinearSearchIn2dArraySnippet</a></h3>
<pre><code class="language-java">package algorithm;

/**
 * LinearSearchIn2dArraySnippet.
 */
public class LinearSearchIn2dArraySnippet {

  /**
   * Search an item with linearSearch algorithm.
   *
   * @param arr    array to search
   * @param target an item to search
   * @return if location of target is found,otherwise return {-1,-1}
   */

  public static int[] linearSearch2dArray(int[][] arr, int target) {

    for (int i = 0; i &lt; arr.length; i++) {
      for (int j = 0; j &lt; arr[i].length; j++) {
        if (arr[i][j] == target) {
          return new int[]{i, j};
        }
      }
    }
    return new int[]{-1, -1};
  }
}
</code></pre>
<h3 id="linearsearchsnippet"><a class="header" href="#linearsearchsnippet">LinearSearchSnippet</a></h3>
<pre><code class="language-java">package algorithm;

/**
 * LinearSearchSnippet.
 */
public class LinearSearchSnippet {

  /**
   * Search an item with linearSearch algorithm.
   *
   * @param arr array to search
   * @param item an item to search
   * @return if item is found, return the index position of the array item otherwise return -1
   */
  public static int linearSearch(int[] arr, int item) {
    for (int i = 0; i &lt; arr.length; i++) {
      if (item == arr[i]) {
        return i;
      }
    }
    return -1;
  }
}
</code></pre>
<h3 id="luhnmodnsnippet"><a class="header" href="#luhnmodnsnippet">LuhnModnSnippet</a></h3>
<pre><code class="language-java">package algorithm;

/**
 * LuhnModnSnippet.
 */
public class LuhnModnSnippet {

  private static final String CODE_POINTS = &quot;0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;

  /**
   * Generates a check character using the Luhn mod N algorithm.
   *
   * @param character the input string consisting of valid alphanumeric characters
   * @return the generated check character
   * @throws IllegalArgumentException if the input contains invalid characters
   */
  public static int codePointFromCharacter(char character) {
    if (CODE_POINTS.indexOf(character) == -1) {
      throw new IllegalArgumentException(&quot;Invalid character: &quot; + character);
    }
    return CODE_POINTS.indexOf(character);
  }

  /**
   * Converts a code point to its corresponding character.
   *
   * @param codePoint the code point to be converted
   * @return the character representation of the code point
   * @throws IllegalArgumentException if the code point is out of range.
   */
  public static char characterFromCodePoint(int codePoint) {
    if (codePoint &lt; 0 || codePoint &gt;= CODE_POINTS.length()) {
      throw new IllegalArgumentException(&quot;Invalid code point: &quot; + codePoint);
    }
    return CODE_POINTS.charAt(codePoint);
  }

  public static int numberOfValidInputCharacters() {
    return CODE_POINTS.length();
  }

  /**
   * Helper method to calculate the sum for both check character generation and validation.
   *
   * @param input the input string
   * @param factorStart the initial factor to start with (1 or 2)
   * @return the calculated sum, reminder, and the numberOfValidInputCharacters
   */
  private static int[] calculateSum(String input, int factorStart) {
    if (input == null || input.isEmpty()) {
      throw new IllegalArgumentException(&quot;Input cannot be empty&quot;);
    }

    int factor = factorStart;
    int sum = 0;
    int n = numberOfValidInputCharacters();

    for (int i = input.length() - 1; i &gt;= 0; i--) {
      int codePoint = codePointFromCharacter(input.charAt(i));
      int addend = factor * codePoint;
      factor = (factor == 2) ? 1 : 2;
      addend = (addend / n) + (addend % n);
      sum += addend;
    }
    return new int[]{sum, sum % n, n};
  }

  /**
   * Generates a check character for the given input string using the Luhn mod N algorithm.
   *
   * @param input the input string (non-empty)
   * @return the generated check character
   * @throws IllegalArgumentException if the input is null or empty
   */
  public static char generateCheckCharacter(String input) {
    int[] result = calculateSum(input, 2);
    return characterFromCodePoint((result[2] - result[1]) % result[2]);
  }

  /**
   * Validates a check character by applying the Luhn mod N algorithm.
   *
   * @param input the input string (including the check character)
   * @return true if the input passes validation, false otherwise
   * @throws IllegalArgumentException if the input is null or empty
   */
  public static boolean validateCheckCharacter(String input) {
    int[] result = calculateSum(input, 1);
    return (result[1] == 0);
  }
}
</code></pre>
<h3 id="mergesortsnippet"><a class="header" href="#mergesortsnippet">MergeSortSnippet</a></h3>
<pre><code class="language-java">package algorithm;

/**
 * MergeSortSnippet.
 */
public class MergeSortSnippet {  
  /**
     * Sort an array with qmergesort algorithm.
     *
     * @param arr   array to sort
     * @low low index where to begin sort (e.g. 0)
     * @high high index where to end sort (e.g. array length - 1)
     */

  public static void mergeSort(int[] arr, int low, int high) {
    if (low &gt;= high) {
      return;
    }
    var mid = (low + high) / 2;
    mergeSort(arr, low, mid);
    mergeSort(arr, mid + 1, high);
    merge(arr, low, high, mid);
  }

  private static void merge(int[] arr, int low, int high, int mid) {
    int[] temp = new int[(high - low + 1)];
    var i = low;
    var j = mid + 1;
    var k = 0;

    while (i &lt;= mid &amp;&amp; j &lt;= high) {
      if (arr[i] &lt; arr[j]) {
        temp[k++] = arr[i];
        i++;
      } else {
        temp[k++] = arr[j];
        j++;
      }
    }

    while (i &lt;= mid) {
      temp[k++] = arr[i];
      i++;
    }

    while (j &lt;= high) {
      temp[k++] = arr[j];
      j++;
    }

    for (int m = 0, n = low; m &lt; temp.length; m++, n++) {
      arr[n] = temp[m];
    }
  }
}
</code></pre>
<h3 id="quicksortsnippet"><a class="header" href="#quicksortsnippet">QuickSortSnippet</a></h3>
<pre><code class="language-java">package algorithm;

/**
 * QuickSortSnippet.
 */
public class QuickSortSnippet {

  /**
   * Sort an array with quicksort algorithm.
   *
   * @param arr   array to sort
   * @param left  left index where to begin sort (e.g. 0)
   * @param right right index where to end sort (e.g. array length - 1)
   */
  public static void quickSort(int[] arr, int left, int right) {
    var pivotIndex = left + (right - left) / 2;
    var pivotValue = arr[pivotIndex];
    var i = left;
    var j = right;
    while (i &lt;= j) {
      while (arr[i] &lt; pivotValue) {
        i++;
      }
      while (arr[j] &gt; pivotValue) {
        j--;
      }
      if (i &lt;= j) {
        var tmp = arr[i];
        arr[i] = arr[j];
        arr[j] = tmp;
        i++;
        j--;
      }
      if (left &lt; i) {
        quickSort(arr, left, j);
      }
      if (right &gt; i) {
        quickSort(arr, i, right);
      }
    }
  }
}
</code></pre>
<h3 id="selectionsortsnippet"><a class="header" href="#selectionsortsnippet">SelectionSortSnippet</a></h3>
<pre><code class="language-java">package algorithm;

/**
 * SelectionSortSnippet.
 */
public class SelectionSortSnippet {

  /**
   * Sort an array with selectionSort algorithm.
   *
   * @param arr array to sort
   */
  public static void selectionSort(int[] arr) {
    var len = arr.length;

    for (var i = 0; i &lt; len - 1; i++) {
      var minIndex = i;

      for (var j = i + 1; j &lt; len; j++) {
        if (arr[j] &lt; arr[minIndex]) {
          minIndex = j;
        }
      }

      var tmp = arr[minIndex];
      arr[minIndex] = arr[i];
      arr[i] = tmp;
    }
  }
}
### SieveOfEratosthenesSnippet

```java
package algorithm;

/**
 * SieveOfEratosthenesSnippet.
 */
public class SieveOfEratosthenesSnippet {
  /**
   * Search an item with binarySearch algorithm.
   *
   * @param n range of number.
   * @return isPrime boolean array where prime number 0 to n are mark true.
   */
  public static boolean[] sieveOfEratosthenes(int n) {
    boolean[] isPrime = new boolean[n + 1];
    for (int i = 0; i &lt; isPrime.length; i++) {
      isPrime[i] = true;
    }

    for (int i = 2; i * i &lt;= n; i++) {
      if (isPrime[i] == true) {
        for (int j = i * i; j &lt;= n; j += i) {
          isPrime[j] = false;
        }
      }
    }

    return isPrime;
  }
}
</code></pre>
<h3 id="verhoeffsnippet"><a class="header" href="#verhoeffsnippet">VerhoeffSnippet</a></h3>
<pre><code class="language-java">package algorithm;

/**
 * VerhoeffSnippet.
 */
public class VerhoeffSnippet {

  private static final int[][] d = {
          {0, 1, 2, 3, 4, 5, 6, 7, 8, 9},
          {1, 0, 3, 2, 5, 4, 7, 6, 9, 8},
          {2, 3, 0, 1, 6, 7, 4, 5, 8, 9},
          {3, 2, 1, 0, 7, 6, 5, 4, 9, 8},
          {4, 5, 6, 7, 0, 1, 2, 3, 8, 9},
          {5, 4, 7, 6, 1, 0, 3, 2, 9, 8},
          {6, 7, 4, 5, 2, 3, 0, 1, 8, 9},
          {7, 6, 5, 4, 3, 2, 1, 0, 9, 8},
          {8, 9, 8, 9, 8, 9, 8, 9, 0, 1},
          {9, 8, 9, 8, 9, 8, 9, 8, 1, 0}
  };

  private static final int[][] p = {
          {0, 1, 2, 3, 4, 5, 6, 7, 8, 9},
          {1, 5, 7, 6, 2, 8, 3, 0, 9, 4},
          {5, 8, 0, 3, 7, 9, 6, 1, 4, 2},
          {8, 9, 1, 6, 0, 4, 3, 5, 2, 7},
          {9, 4, 5, 3, 1, 2, 6, 8, 7, 0},
          {4, 2, 8, 6, 5, 7, 3, 9, 0, 1},
          {2, 7, 9, 3, 8, 0, 6, 4, 1, 5},
          {7, 0, 4, 6, 9, 1, 3, 2, 5, 8}
  };

  private static final int[] inv = {0, 4, 3, 2, 1, 5, 6, 7, 8, 9};

  /**
   * Validates a number using the Verhoeff checksum algorithm.
   *
   * @param num the numeric string to validate
   * @return true if the number is valid according to Verhoeff algorithm, false otherwise
   */
  public static boolean validateVerhoeff(String num) {
    int c = 0;
    int length = num.length();

    // Adjust index for validation of the full number (including check digit)
    for (int i = 0; i &lt; length; i++) {
      int digit = Character.getNumericValue(num.charAt(length - i - 1));
      c = d[c][p[(i + 1) % 8][digit]]; // Correct permutation index
    }

    return c == 0; // Final checksum must be zero
  }

  /**
   * Generates a Verhoeff check digit for a given numeric string.
   *
   * @param num the numeric string for which to generate the check digit
   * @return the generated Verhoeff check digit as a string
   */
  public static String generateVerhoeff(String num) {
    int c = 0;
    int length = num.length();

    for (int i = 0; i &lt; length; i++) {
      int digit = Character.getNumericValue(num.charAt(length - i - 1));
      c = d[c][p[(i % 8)][digit]];
    }

    return Integer.toString(inv[c]);
  }

}

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="array-1"><a class="header" href="#array-1">Array</a></h1>
<h3 id="allequalsnippet"><a class="header" href="#allequalsnippet">AllEqualSnippet</a></h3>
<pre><code class="language-java">package array;

import java.util.Arrays;

/**
 * AllEqualSnippet.
 */
public class AllEqualSnippet {

  /**
   * Returns true if all elements in array are equal.
   *
   * @param arr the array to check (not null)
   * @param &lt;T&gt; the element type
   * @return true if all elements in the array are equal
   */
  public static &lt;T&gt; boolean allEqual(T[] arr) {
    return Arrays.stream(arr).distinct().count() == 1;
  }
}
</code></pre>
<h3 id="arrayconcatsnippet"><a class="header" href="#arrayconcatsnippet">ArrayConcatSnippet</a></h3>
<pre><code class="language-java">package array;

import java.util.Arrays;

/**
 * ArrayConcatSnippet.
 */
public class ArrayConcatSnippet {

  /**
   * Generic 2 array concatenation Credits: Joachim Sauer https://stackoverflow.com/questions/80476/how-can-i-concatenate-two-arrays-in-java
   *
   * @param first  is the first array (not null)
   * @param second is the second array (not null)
   * @param &lt;T&gt;    the element type
   * @return concatenated array
   */
  public static &lt;T&gt; T[] arrayConcat(T[] first, T[] second) {
    var result = Arrays.copyOf(first, first.length + second.length);
    System.arraycopy(second, 0, result, first.length, second.length);
    return result;
  }
}
</code></pre>
<h3 id=""><a class="header" href="#"></a></h3>
<pre><code class="language-java">package array;

import java.util.Arrays;

/**
 * ArrayMeanSnippet.
 */
public class ArrayMeanSnippet {

  /**
   * Returns the mean of the integers in the array.
   *
   * @param arr the array of integers (not null)
   * @return a double representing the mean of the array
   */
  public static double arrayMean(int[] arr) {
    return (double) Arrays.stream(arr).sum() / arr.length;
  }
}
</code></pre>
<h3 id="arraymediansnippet"><a class="header" href="#arraymediansnippet">ArrayMedianSnippet</a></h3>
<pre><code class="language-java">package array;

import java.util.Arrays;

/**
 * ArrayMedianSnippet.
 */
public class ArrayMedianSnippet {

  /**
   * Returns the median of the array.
   *
   * @param arr the array of integers (not null)
   * @return a double representing the median of the array
   */
  public static double arrayMedian(int[] arr) {
    Arrays.sort(arr);
    var mid = arr.length / 2;
    return arr.length % 2 != 0 ? (double) arr[mid] : (double) (arr[mid] + arr[mid - 1]) / 2;
  }
}
</code></pre>
<h3 id="arraymodesnippet"><a class="header" href="#arraymodesnippet">ArrayModeSnippet</a></h3>
<pre><code class="language-java">package array;

import java.util.Arrays;

/**
 * ArrayModeSnippet.
 */
public class ArrayModeInPlaceSnippet {

  /**
  * Returns the mode of the array.
  *
  * @param arr array to find mode in it
  * @return mode of array
  */
  public static int modeArrayInPlace(int[] arr) {
    if (arr.length == 0) {
      return 0;
    }

    Arrays.sort(arr);

    int mode = arr[0];
    int maxcount = 1;
    int count = 1;

    for (int i = 1; i &lt; arr.length; i++) {
      if (arr[i] == arr[i - 1]) {
        count++;
      } else {
        if (count &gt; maxcount) {
          maxcount = count;
          mode = arr[i - 1];
        }
        count = 1;
      }
    }
    if (count &gt; maxcount) {
      mode = arr[arr.length - 1];
    }
    return mode;
  }
}
</code></pre>
<h3 id="arraymodesnippet-1"><a class="header" href="#arraymodesnippet-1">ArrayModeSnippet</a></h3>
<pre><code class="language-java">package array;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
/**
 * ArrayModeSnippet.
 */

public class ArrayModeSnippet {

  /**
   * Private constructor to prevent instantiation.
   */
  private ArrayModeSnippet() {
    throw new IllegalStateException(&quot;Utility class&quot;);
  }

  /**
   * Returns the mode(s) of the array.
   * If multiple modes exist, it returns them in a list.
   */
  public static List&lt;Integer&gt; modeArray(int[] arr) {
    int maxCount = 0;
    HashMap&lt;Integer, Integer&gt; frequencyMap = new HashMap&lt;&gt;();
    for (int num : arr) {
      frequencyMap.put(num, frequencyMap.getOrDefault(num, 0) + 1);
      maxCount = Math.max(maxCount, frequencyMap.get(num));
    }
    List&lt;Integer&gt; modes = new ArrayList&lt;&gt;();
    for (Map.Entry&lt;Integer, Integer&gt; entry : frequencyMap.entrySet()) {
      if (entry.getValue() == maxCount) {
        modes.add(entry.getKey());
      }
    }
    return modes;
  }
}
</code></pre>
<h3 id="arraysumsnippet"><a class="header" href="#arraysumsnippet">ArraySumSnippet</a></h3>
<pre><code class="language-java">package array;

import java.util.Arrays;

/**
 * ArraySumSnippet.
 */
public class ArraySumSnippet {

  /**
   * Returns sum of the integers in the array.
   *
   * @param arr the array of integers (not null)
   * @return the sum of the elements from the array
   */
  public static int arraySum(int[] arr) {
    return Arrays.stream(arr).sum();
  }
}
</code></pre>
<h3 id="findmaxsnippet"><a class="header" href="#findmaxsnippet">FindMaxSnippet</a></h3>
<pre><code class="language-java">package array;

import java.util.Arrays;

/**
 * FindMaxSnippet.
 */
public class FindMaxSnippet {

  /**
   * Returns the maximum integer from the array using reduction.
   *
   * @param arr the array of integers (not null)
   * @return the maximum element from the array
   */
  public static int findMax(int[] arr) {
    return Arrays.stream(arr).reduce(Integer.MIN_VALUE, Integer::max);
  }
}
</code></pre>
<h3 id="findminsnippet"><a class="header" href="#findminsnippet">FindMinSnippet</a></h3>
<pre><code class="language-java">package array;

import java.util.Arrays;
 
/**
  * FindMinSnippet.
  */
public class FindMinSnippet {
 
  /**
    * Returns the minimum integer from the array using reduction.
    *
    * @param arr the array of integers (not null)
    * @return the minimum element from the array
    */
  public static int findMin(int[] arr) {
    return Arrays.stream(arr).reduce(Integer.MAX_VALUE, Integer::min);
  }
}
 
### MultiArrayConcatenationSnippet

```java
package array;

import java.util.Arrays;

/**
 * MultiArrayConcatenationSnippet.
 */
public class MultiArrayConcatenationSnippet {

  /**
   * Generic N array concatenation Credits: Joachim Sauer https://stackoverflow.com/questions/80476/how-can-i-concatenate-two-arrays-in-java
   *
   * @param first is the first array (not null)
   * @param rest  the rest of the arrays (optional)
   * @param &lt;T&gt;   the element type
   * @return concatenated array
   */
  public static &lt;T&gt; T[] multiArrayConcat(T[] first, T[]... rest) {
    var totalLength = first.length;
    for (var array : rest) {
      totalLength += array.length;
    }
    var result = Arrays.copyOf(first, totalLength);
    var offset = first.length;
    for (var array : rest) {
      System.arraycopy(array, 0, result, offset, array.length);
      offset += array.length;
    }
    return result;
  }
}
</code></pre>
<h3 id="reversearraysnippet"><a class="header" href="#reversearraysnippet">ReverseArraySnippet</a></h3>
<pre><code class="language-java">package array;

/**
 * ReverseArraySnippet.
 */
public class ReverseArraySnippet {

  /**
   * The function then reverses the elements of the array between the starting and ending
   * indices using a while loop and a temporary variable `temp`. Finally, the function returns
   * the reversed array.
   *
   * @param array a array
   * @param start start index array
   * @param end end index array
   * @return reverses elements in the array
   * @throws IllegalArgumentException if the [start] index is greater
   *         than the [end] index or if the array is null
   **/
  public static &lt;T&gt; T[] reverseArray(T[] array, int start, int end) {
    if (start &gt; end || array == null) {
      throw new
              IllegalArgumentException(&quot;Invalid argument!&quot;);
    }
    int minimumSizeArrayForReversal = 2;
    if (start == end || array.length &lt; minimumSizeArrayForReversal) {
      return array;
    }
    while (start &lt; end) {
      T temp = array[start];
      array[start] = array[end];
      array[end] = temp;
      start++;
      end--;
    }
    return array;
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cls"><a class="header" href="#cls">CLS</a></h1>
<h3 id="creatingobjectsnippet"><a class="header" href="#creatingobjectsnippet">CreatingObjectSnippet</a></h3>
<pre><code class="language-java">package cls;

import java.lang.reflect.InvocationTargetException;

/**
 * CreatingObjectSnippet.
 */
public class CreatingObjectSnippet {

  /**
   * Create object using reflection.
   *
   * @param cls fully qualified name of class includes the package name as String
   * @return object
   * @throws NoSuchMethodException if a method that does not exist at runtime.
   * @throws IllegalAccessException &lt;p&gt;if an currently executing method does not have access to
   *     the definition of the specified class, field, method or constructor&lt;/p&gt;
   * @throws InvocationTargetException &lt;p&gt;InvocationTargetException is a checked exception
   *     that wraps an exception thrown by an invoked method or constructor.&lt;/p&gt;
   * @throws InstantiationException &lt;p&gt;when an method tries to create an instance of a class
   *     using the newInstance method in class Class.&lt;/p&gt;
   * @throws ClassNotFoundException &lt;p&gt;when an application tries to load in a class
   *     through its string name.&lt;/p&gt;
   */
  public static Object createObject(String cls)
          throws NoSuchMethodException,
          IllegalAccessException,
          InvocationTargetException,
          InstantiationException,
          ClassNotFoundException {
    var objectClass = Class.forName(cls);
    var objectConstructor = objectClass.getConstructor();
    return objectConstructor.newInstance();
  }
}
</code></pre>
<h3 id="getallfieldnamessnippet"><a class="header" href="#getallfieldnamessnippet">GetAllFieldNamesSnippet</a></h3>
<pre><code class="language-java">package cls;

import java.lang.reflect.Field;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;
import java.util.stream.Collectors;

/**
 * GetAllFieldNamesSnippet.
 */
public class GetAllFieldNamesSnippet {

  /**
   * Print all declared field names of the class or the interface the class extends.
   *
   * @param clazz Tested class
   * @return list of names of all fields
   */
  public static List&lt;String&gt; getAllFieldNames(final Class&lt;?&gt; clazz) {
    var fields = new ArrayList&lt;String&gt;();
    var currentClazz = clazz;
    while (currentClazz != null) {
      fields.addAll(
          Arrays.stream(currentClazz.getDeclaredFields())
              .filter(field -&gt; !field.isSynthetic())
              .map(Field::getName)
              .collect(Collectors.toList()));
      currentClazz = currentClazz.getSuperclass();
    }
    return fields;
  }
}
</code></pre>
<h3 id="getallmethodssnippet"><a class="header" href="#getallmethodssnippet">GetAllMethodsSnippet</a></h3>
<pre><code class="language-java">package cls;

import java.lang.reflect.Method;
import java.util.Arrays;
import java.util.List;
import java.util.stream.Collectors;

/**
 * GetAllMethodsSnippet.
 */
public class GetAllMethodsSnippet {

  /**
   * Print all declared methods of the class.
   *
   * @param cls Tested class
   * @return list of methods name
   */
  public static List&lt;String&gt; getAllMethods(final Class&lt;?&gt; cls) {
    return Arrays.stream(cls.getDeclaredMethods())
        .map(Method::getName)
        .collect(Collectors.toList());
  }
}
</code></pre>
<h3 id="getallpublicfieldnamessnippet"><a class="header" href="#getallpublicfieldnamessnippet">GetAllPublicFieldNamesSnippet</a></h3>
<pre><code class="language-java">package cls;

import java.lang.reflect.Field;
import java.util.Arrays;
import java.util.List;
import java.util.stream.Collectors;

/**
 * GetAllPublicFieldNamesSnippet.
 */
public class GetAllPublicFieldNamesSnippet {

  /**
   * Print all declared public field names of the class or the interface the class extends.
   *
   * @param clazz Tested class
   * @return list of name of public fields
   */
  public static List&lt;String&gt; getAllPublicFieldNames(final Class&lt;?&gt; clazz) {
    return Arrays.stream(clazz.getFields())
        .map(Field::getName)
        .collect(Collectors.toList());
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="date-1"><a class="header" href="#date-1">Date</a></h1>
<h3 id="adddaystodatesnippet"><a class="header" href="#adddaystodatesnippet">AddDaysToDateSnippet</a></h3>
<pre><code class="language-java">package date;

import java.time.LocalDate;
import java.time.ZoneId;
import java.util.Calendar;
import java.util.Date;

/**
 * AddDaysToDateSnippet.
 */
public class AddDaysToDateSnippet {

  /**
   * Add days to given date.
   *
   * @param date given date
   * @param noOfDays number of days to add
   * @return modified date
   */
  public static Date addDaysToDate(Date date, int noOfDays) {
    if (date != null) {
      Calendar cal = Calendar.getInstance();
      cal.setTime(date);
      cal.add(Calendar.DAY_OF_MONTH, noOfDays);
      return cal.getTime();
    }
    return null;
  }

  /**
   * Add days to local date.
   *
   * @param date given local date
   * @param noOfDays number of days to add
   * @return modified date
   */
  public static LocalDate addDaysToLocalDate(LocalDate date, long noOfDays) {
    return date != null ? date.plusDays(noOfDays) : null;
  }
}
</code></pre>
<h3 id="datedifferencesnippet"><a class="header" href="#datedifferencesnippet">DateDifferenceSnippet</a></h3>
<pre><code class="language-java">package date;

import java.time.LocalDate;
import java.time.temporal.ChronoUnit;

/**
 * DateDifferenceSnippet.
 */

public class DateDifferenceSnippet {

  /**
  * This function calculates the number of years between two LocalDate objects.
  * If the result is negative, it returns the absolute value of the difference.
  *
  * @param firstTime  The first LocalDate object representing the starting date
  * @param secondTime The second LocalDate object representing the ending date
  * @return The number of years between the two LocalDate objects as a long data type
  */
  public static long getYearsDifference(LocalDate firstTime, LocalDate secondTime) {
    var yearsDifference = ChronoUnit.YEARS.between(firstTime, secondTime);
    return Math.abs(yearsDifference);
  }

  /**
   * This function calculates the number of months between two LocalDate objects.
   * If the result is negative, it returns the absolute value of the difference.
   *
   * @param firstTime  The first LocalDate object representing the starting date
   * @param secondTime The second LocalDate object representing the ending date
   * @return The number of months between the two LocalDate objects as a long data type
   */
  public static long getMonthsDifference(LocalDate firstTime, LocalDate secondTime) {
    var monthsDifference = ChronoUnit.MONTHS.between(firstTime, secondTime);
    return Math.abs(monthsDifference);
  }

  /**
   * This function calculates the number of days between two LocalDate objects.
   * If the result is negative, it returns the absolute value of the difference.
   *
   * @param firstTime  The first LocalDate object representing the starting date
   * @param secondTime The second LocalDate object representing the ending date
   * @return The number of days between the two LocalDate objects as a long data type
   */
  public static long getDaysDifference(LocalDate firstTime, LocalDate secondTime) {
    var daysDifference = ChronoUnit.DAYS.between(firstTime, secondTime);
    return Math.abs(daysDifference);
  }
}

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h3 id="base64decodesnippet"><a class="header" href="#base64decodesnippet">Base64DecodeSnippet</a></h3>
<pre><code class="language-java">package encoding;

import java.util.Base64;

/**
 * Base64DecodeSnippet.
 */
public class Base64DecodeSnippet {

  /**
   * Decodes a Base64 encoded string to the actual representation.
   *
   * @param input base64 encoded string
   * @return decoded string
   */
  public static String decodeBase64(String input) {
    return new String(Base64.getDecoder().decode(input.getBytes()));
  }
}
</code></pre>
<h3 id="base64encodesnippet"><a class="header" href="#base64encodesnippet">Base64EncodeSnippet</a></h3>
<pre><code class="language-java">package encoding;

import java.util.Base64;

/**
 * Base64EncodeSnippet.
 */
public class Base64EncodeSnippet {
  /**
   * Encodes the input string to a Base64 encoded string.
   *
   * @param input string to be encoded
   * @return base64 encoded string
   */
  public static String encodeBase64(String input) {
    return Base64.getEncoder().encodeToString(input.getBytes());
  }
}

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h3 id="listallfilessnippet"><a class="header" href="#listallfilessnippet">ListAllFilesSnippet</a></h3>
<pre><code class="language-java">package file;

import java.io.File;
import java.util.ArrayList;
import java.util.List;

/**
 * ListAllFilesSnippet.
 */
public class ListAllFilesSnippet {

  /**
   * Recursively list all the files in directory.
   *
   * @param path the path to start the search from
   * @return list of all files
   */
  public static List&lt;File&gt; listAllFiles(String path) {
    var all = new ArrayList&lt;File&gt;();
    var list = new File(path).listFiles();
    if (list != null) {  // In case of access error, list is null
      for (var f : list) {
        if (f.isDirectory()) {
          all.addAll(listAllFiles(f.getAbsolutePath()));
        } else {
          all.add(f.getAbsoluteFile());
        }
      }
    }
    return all;
  }
}
</code></pre>
<h3 id="listdirectoriessnippet"><a class="header" href="#listdirectoriessnippet">ListDirectoriesSnippet</a></h3>
<pre><code class="language-java">package file;

import java.io.File;

/**
 * ListDirectoriesSnippet.
 */
public class ListDirectoriesSnippet {

  /**
   * List directories.
   *
   * @param path the path where to look
   * @return array of File
   */
  public static File[] listDirectories(String path) {
    return new File(path).listFiles(File::isDirectory);
  }
}
</code></pre>
<h3 id="listfilesindirectorysnippet"><a class="header" href="#listfilesindirectorysnippet">ListFilesInDirectorySnippet</a></h3>
<pre><code class="language-java">package file;

import java.io.File;

/**
 * ListFilesInDirectorySnippet.
 */
public class ListFilesInDirectorySnippet {

  /**
   * List files in directory.
   *
   * @param folder the path where to look
   * @return array of File
   */
  public static File[] listFilesInDirectory(String folder) {
    return new File(folder).listFiles(File::isFile);
  }
}
</code></pre>
<h3 id="readlinessnippet"><a class="header" href="#readlinessnippet">ReadLinesSnippet</a></h3>
<pre><code class="language-java">package file;

import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.Paths;
import java.util.List;

/**
 * ReadLinesSnippet.
 */
public class ReadLinesSnippet {

  /**
   * Read file as list of strings.
   *
   * @param filename the filename to read from
   * @return list of strings
   * @throws IOException if an I/O error occurs
   */
  public static List&lt;String&gt; readLines(String filename) throws IOException {
    return Files.readAllLines(Paths.get(filename));
  }
}
</code></pre>
<h3 id="zipdirectorysnippet"><a class="header" href="#zipdirectorysnippet">ZipDirectorySnippet</a></h3>
<pre><code class="language-java">package file;

import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;
import java.util.zip.ZipEntry;
import java.util.zip.ZipOutputStream;

/**
 * ZipDirectorySnippet.
 */
public class ZipDirectorySnippet {

  /**
   * Zip a complete directory.
   *
   * @param srcDirectoryName The path to the directory to be zipped
   * @param zipFileName The location and name of the zipped file.
   * @throws IOException if an I/O error occurs
   * */
  public static void zipDirectory(String srcDirectoryName, String zipFileName) throws IOException {
    var srcDirectory = new File(srcDirectoryName);
    try (
        var fileOut = new FileOutputStream(zipFileName);
        var zipOut = new ZipOutputStream(fileOut)
    ) {
      zipFile(srcDirectory, srcDirectory.getName(), zipOut);
    }
  }

  /**
   * Utility function which either zips a single file, or recursively calls itself for 
   * a directory to traverse down to the files contained within it.
   *
   * @param fileToZip The file as a resource
   * @param fileName The actual name of the file
   * @param zipOut The output stream to which all data is being written
   * */
  public static void zipFile(File fileToZip, String fileName, ZipOutputStream zipOut) 
      throws IOException {
    if (fileToZip.isHidden()) { // Ignore hidden files as standard
      return;
    }
    if (fileToZip.isDirectory()) {
      if (fileName.endsWith(&quot;/&quot;)) {
        zipOut.putNextEntry(new ZipEntry(fileName)); // To be zipped next
        zipOut.closeEntry();
      } else {
        // Add the &quot;/&quot; mark explicitly to preserve structure while unzipping action is performed
        zipOut.putNextEntry(new ZipEntry(fileName + &quot;/&quot;));
        zipOut.closeEntry();
      }
      var children = fileToZip.listFiles();
      for (var childFile : children) { // Recursively apply function to all children
        zipFile(childFile, fileName + &quot;/&quot; + childFile.getName(), zipOut);
      }
      return;
    }
    try (
        var fis = new FileInputStream(fileToZip) // Start zipping once we know it is a file
    ) {
      var zipEntry = new ZipEntry(fileName);
      zipOut.putNextEntry(zipEntry);
      var bytes = new byte[1024];
      var length = 0;
      while ((length = fis.read(bytes)) &gt;= 0) {
        zipOut.write(bytes, 0, length);
      }
    }
  }
}
</code></pre>
<h3 id="zipfilesnippet"><a class="header" href="#zipfilesnippet">ZipFileSnippet</a></h3>
<pre><code class="language-java">package file;

import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;
import java.util.zip.ZipEntry;
import java.util.zip.ZipOutputStream;

/**
 * ZipFileSnippet.
 */
public class ZipFileSnippet {

  /**
   * Zip single file.
   *
   * @param srcFilename the filename of the source file
   * @param zipFilename the filename of the destination zip file
   * @throws IOException if an I/O error occurs
   */
  public static void zipFile(String srcFilename, String zipFilename) throws IOException {
    var srcFile = new File(srcFilename);
    try (
            var fileOut = new FileOutputStream(zipFilename);
            var zipOut = new ZipOutputStream(fileOut);
            var fileIn = new FileInputStream(srcFile)
    ) {
      var zipEntry = new ZipEntry(srcFile.getName());
      zipOut.putNextEntry(zipEntry);
      final var bytes = new byte[1024];
      int length;
      while ((length = fileIn.read(bytes)) &gt;= 0) {
        zipOut.write(bytes, 0, length);
      }
    }
  }
}
</code></pre>
<h3 id="zipfilessnippet"><a class="header" href="#zipfilessnippet">ZipFilesSnippet</a></h3>
<pre><code class="language-java">package file;

import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;
import java.util.zip.ZipEntry;
import java.util.zip.ZipOutputStream;

/**
 * ZipFilesSnippet.
 */
public class ZipFilesSnippet {

  /**
   * Zip multiples files.
   *
   * @param srcFilenames array of source file names
   * @param zipFilename  the filename of the destination zip file
   * @throws IOException if an I/O error occurs
   */
  public static void zipFiles(String[] srcFilenames, String zipFilename) throws IOException {
    try (
            var fileOut = new FileOutputStream(zipFilename);
            var zipOut = new ZipOutputStream(fileOut)
    ) {
      for (String srcFilename : srcFilenames) {
        var srcFile = new File(srcFilename);
        try (var fileIn = new FileInputStream(srcFile)) {
          var zipEntry = new ZipEntry(srcFile.getName());
          zipOut.putNextEntry(zipEntry);
          final var bytes = new byte[1024];
          int length;
          while ((length = fileIn.read(bytes)) &gt;= 0) {
            zipOut.write(bytes, 0, length);
          }
        }
      }
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="io-1"><a class="header" href="#io-1">IO</a></h1>
<h3 id="inputstreamtostringsnippet"><a class="header" href="#inputstreamtostringsnippet">InputStreamToStringSnippet</a></h3>
<pre><code class="language-java">package io;

import java.io.BufferedReader;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.nio.charset.StandardCharsets;
import java.util.stream.Collectors;

/**
 * InputStreamToStringSnippet.
 */
public class InputStreamToStringSnippet {

  /**
   * Convert InputStream to String.
   *
   * @param inputStream InputStream to convert
   * @return String
   */
  public static String inputStreamToString(InputStream inputStream) {
    return new BufferedReader(new InputStreamReader(inputStream, StandardCharsets.UTF_8))
            .lines().collect(Collectors.joining(System.lineSeparator()));
  }
}
</code></pre>
<h3 id="readfilesnippet"><a class="header" href="#readfilesnippet">ReadFileSnippet</a></h3>
<pre><code class="language-java">package io;

import java.io.BufferedReader;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.util.List;
import java.util.stream.Collectors;
import java.util.stream.Stream;

/**
 * ReadFileSnippet.
 */
public class ReadFileSnippet {

  /**
   * Read file using stream and return list of string lines.
   *
   * @param fileName file to read
   * @throws FileNotFoundException if an I/O error occurs
   */
  public static List&lt;String&gt; readFile(String fileName) throws FileNotFoundException {
    try (Stream&lt;String&gt; stream = new BufferedReader(new FileReader(fileName)).lines()) {
      return stream.collect(Collectors.toList());
    }
  }
}

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h3 id="dicethrow"><a class="header" href="#dicethrow">DiceThrow</a></h3>
<pre><code class="language-java">package math;

import java.util.Random;

/**
 * Sum of Dice throw (Eg. 3d6 - 3 dice having 6 sides).
 */
public class DiceThrow {

  private static Random random = new Random();

  /**
  * Enum for standardized sided dice (4,6,8,10,12 and 20).
  */
  public enum DiceSides {

    FOUR(4), SIX(6), EIGHT(8), TEN(10), TWELVE(12), TWENTY(20);

    private final int diSides;

    DiceSides(int diceSides) {
      this.diSides = diceSides;
    }

    /**
     * Returns the number of sides of a dice.
     *
     * @return int denoting number of sides of a dice
     */
    public int getDiceSides() {
      return this.diSides;
    }

  }

  /**
  * Returns the sum of sides for the given number of sides of each dice.
  *
  * @param noOfDice number of dice
  * @param sides sides of a dice
  * @return int sum of sides for number of dice
  */
  public static int throwDice(int noOfDice, DiceSides sides) {

    int sum = 0;
    for (int i = 0; i &lt; noOfDice; i++) {
      sum = sum + (1 + random.nextInt(sides.getDiceSides()));
    }
    return sum;
  }
}
</code></pre>
<h3 id="eloratingsnippet"><a class="header" href="#eloratingsnippet">EloRatingSnippet</a></h3>
<pre><code class="language-java">package math;

/**
 * EloRatingSnippet.
 */
public class EloRatingSnippet {

  static final int BASE = 400; //Two types are popular - 400 and 480. We will choose 400 here
  static final int RATING_ADJUSTMENT_FACTOR = 32; //32 is the standard for Beginner Games

  /**
   * Elo Rating Snippet to calculate result after a single match.
   *
   * @param firstPlayerRating Rating of the first player.
   * @param secondPlayerRating Rating of the second player.
   * @param result Result of the match, always considered with respect to the first player.
   *               1 indicates a win, 0.5 indicates a draw and 0 indicates a loss.
   * @return Returns the new rating of the first player.
   */
  public static double calculateMatchRating(double firstPlayerRating, double secondPlayerRating,
      double result) {
    double ratingDiff = ((secondPlayerRating - firstPlayerRating) * 1.0) / BASE;
    double logisticDiff = Math.pow(10, ratingDiff);
    double firstPlayerExpectedScore = 1.0 / (1 + logisticDiff);
    double firstPlayerActualScore = result;
    double newRating = firstPlayerRating + RATING_ADJUSTMENT_FACTOR * (firstPlayerActualScore 
                       - firstPlayerExpectedScore);
    return newRating;
  }
}
</code></pre>
<h3 id="evenodd"><a class="header" href="#evenodd">EvenOdd</a></h3>
<pre><code class="language-java">package math;

/**
 * EvenOdd.
 */
public class EvenOdd {

  /**
   * Returns string denoting number is odd or even.
   *
   * @param num To check whether its even or odd
   * @return string denoting its even or odd
   */
  public static String evenodd(int num) {
    if (num % 2 == 0) {
      return &quot;even&quot;;
    } else {
      return &quot;odd&quot;;
    }
  }
}
</code></pre>
<h3 id="factorialsnippet"><a class="header" href="#factorialsnippet">FactorialSnippet</a></h3>
<pre><code class="language-java">package math;

/**
 * FactorialSnippet.
 */
public class FactorialSnippet {

  /**
   * Factorial. Works only for small numbers
   *
   * @param number for which factorial is to be calculated for
   * @return factorial
   */
  public static int factorial(int number) {
    var result = 1;
    for (var factor = 2; factor &lt;= number; factor++) {
      result *= factor;
    }
    return result;
  }

  /**
   * Factorial. Example of what the recursive implementation looks like.
   *
   * @param number for which factorial is to be calculated for
   * @return factorial
   */
  public static int recursiveFactorial(int number) {
    var initial = 0;
    if (number == initial) {
      return initial + 1;
    }
    return number * recursiveFactorial(number - 1);
  }
}
</code></pre>
<h3 id="fibonaccisnippet"><a class="header" href="#fibonaccisnippet">FibonacciSnippet</a></h3>
<pre><code class="language-java">package math;

import java.util.ArrayList;
import java.util.List;

/**
 * FibonacciSnippet.
 */
public class FibonacciSnippet {

  /**
   * Recursive Fibonacci series. Works only for small n and is spectacularly inefficient
   *
   * @param n given number
   * @return fibonacci number for given n
   */
  public static int fibonacci(int n) {
    if (n &lt;= 1) {
      return n;
    } else {
      return fibonacci(n - 1) + fibonacci(n - 2);
    }
  }

  /**
   * Fibonacci series using dynamic programming. Works for larger ns as well.
   *
   * @param n given number
   * @return fibonacci number for given n
   */
  public static int fibonacciBig(int n) {
    int previous = 0;
    int current = 1;
    for (int i = 0; i &lt; n - 1; i++) {
      int t = previous + current;
      previous = current;
      current = t;
    }

    return current;
  }

  /**
   * Example of what an iterative implementation of Fibonacci looks like.
   *
   * @param number given number
   * @return fibonacci number for given n
   */
  public static int iterativeFibonacci(int number) {
    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();
    list.add(0);
    list.add(1);
    for (int i = 2; i &lt; number + 1; i++) {
      list.add(list.get(i - 2) + list.get(i - 1));
    }
    return list.get(number);
  }
}
</code></pre>
<h3 id="greatestcommondivisorsnippet"><a class="header" href="#greatestcommondivisorsnippet">GreatestCommonDivisorSnippet</a></h3>
<pre><code class="language-java">package math;

/**
 * GreatestCommonDivisorSnippet.
 */
public class GreatestCommonDivisorSnippet {

  /**
   * Greatest common divisor calculation.
   *
   * @param a one of the numbers whose gcd is to be computed
   * @param b other number whose gcd is to be computed
   * @return gcd of the two numbers
   */
  public static int gcd(int a, int b) {
    if (b == 0) {
      return a;
    }
    return gcd(b, a % b);
  }
}
</code></pre>
<h3 id="haversineformulasnippet"><a class="header" href="#haversineformulasnippet">HaversineFormulaSnippet</a></h3>
<pre><code class="language-java">package math;

/**
 * HaversineFormulaSnippet.
 */
public class HaversineFormulaSnippet {

  // Radius of sphere on which the points are, in this case Earth.
  private static final double SPHERE_RADIUS_IN_KM = 6372.8;

  /**
   * Haversine formula for calculating distance between two latitude, longitude points.
   *
   * @param latA Latitude of point A
   * @param longA Longitude of point A
   * @param latB Latitude of point B
   * @param longB Longitude of point B
   * @return the distance between the two points.
   */
  public static double findHaversineDistance(double latA, double longA, double latB, double longB) {
    if (!isValidLatitude(latA)
        || !isValidLatitude(latB)
        || !isValidLongitude(longA)
        || !isValidLongitude(longB)) {
      throw new IllegalArgumentException();
    }

    // Calculate the latitude and longitude differences
    var latitudeDiff = Math.toRadians(latB - latA);
    var longitudeDiff = Math.toRadians(longB - longA);

    var latitudeA = Math.toRadians(latA);
    var latitudeB = Math.toRadians(latB);

    // Calculating the distance as per haversine formula
    var a = Math.pow(Math.sin(latitudeDiff / 2), 2)
            + Math.pow(Math.sin(longitudeDiff / 2), 2) * Math.cos(latitudeA) * Math.cos(latitudeB);
    var c = 2 * Math.asin(Math.sqrt(a));
    return SPHERE_RADIUS_IN_KM * c;
  }

  // Check for valid latitude value
  private static boolean isValidLatitude(double latitude) {
    return latitude &gt;= -90 &amp;&amp; latitude &lt;= 90;
  }

  // Check for valid longitude value
  private static boolean isValidLongitude(double longitude) {
    return longitude &gt;= -180 &amp;&amp; longitude &lt;= 180;
  }
}
</code></pre>
<h3 id="leastcommonmultiplesnippet"><a class="header" href="#leastcommonmultiplesnippet">LeastCommonMultipleSnippet</a></h3>
<pre><code class="language-java">package math;

/**
 * LeastCommonMultipleSnippet.
 */
public class LeastCommonMultipleSnippet {
  /**
   * Least common multiple  calculation.
   *
   * @param a one of the numbers whose lcm is to be computed
   * @param b other number whose lcm is to be computed
   * @return lcm of the two numbers
   */
  public static int lcm(int a, int b) {
    int max = a &gt; b ? a : b;
    int min = a &lt; b ? a : b;
    for (int i = 1; i &lt;= min; i += 1) {
      int prod = max * i;
      if (prod % min == 0) {
        return prod;
      }
    }
    return max * min;
  }
}
</code></pre>
<h3 id="luhnsnippet"><a class="header" href="#luhnsnippet">LuhnSnippet</a></h3>
<pre><code class="language-java">package math;

/**
 * LuhnSnippet.
 */
public class LuhnSnippet {

  /**
   * Calculates checksum for a given number with Luhn's algorithm. Works only on non-negative
   * integers not greater than {@link Long#MAX_VALUE} i.e., all numbers with a maximum of 18
   * digits, plus 19-digit-long numbers start with 1..8 (also some with 9, too). For
   * demonstration purposes, algorithm is not optimized for efficiency.
   *
   * @param num number whose checksum is to be calculated
   * @return checksum value for num
   * @see &lt;a href=&quot;https://patents.google.com/patent/US2950048A&quot;&gt;Hans P. LUHN's patent US2950048A&lt;/a&gt;
   * @see &lt;a href=&quot;https://en.wikipedia.org/wiki/Luhn_algorithm&quot;&gt;Luhn algorithm on Wikipedia&lt;/a&gt;
   */
  public static int calculateLuhnChecksum(long num) {
    if (num &lt; 0) {
      throw new IllegalArgumentException(&quot;Non-negative numbers only.&quot;);
    }
    final var numStr = String.valueOf(num);

    var sum = 0;
    var isOddPosition = true;
    // Loop on digits of numStr from right to left.
    for (var i = numStr.length() - 1; i &gt;= 0; i--) {
      final var digit = Integer.parseInt(Character.toString(numStr.charAt(i)));
      final var substituteDigit = (isOddPosition ? 2 : 1) * digit;

      final var tensPlaceDigit = substituteDigit / 10;
      final var onesPlaceDigit = substituteDigit % 10;
      sum += tensPlaceDigit + onesPlaceDigit;

      isOddPosition = !isOddPosition;
    }
    final var checksumDigit = (10 - (sum % 10)) % 10;
    // Outermost modulus handles edge case `num = 0`.
    return checksumDigit;
  }
}
</code></pre>
<h3 id="naturalnumberbinaryconversionsnippet"><a class="header" href="#naturalnumberbinaryconversionsnippet">NaturalNumberBinaryConversionSnippet</a></h3>
<pre><code class="language-java">package math;

import java.util.Stack;
import java.util.stream.Collectors;
import java.util.stream.IntStream;
import java.util.stream.Stream;

/**
 * NaturalNumberBinaryConversionSnippet.
 */
public class NaturalNumberBinaryConversionSnippet {

  /**
   * Convert natural number to binary string. Only supports positive integers.Throws exception
   * for negative integers
   *
   * @param naturalNumber given number
   * @return Binary string representation of naturalNumber
   */
  public static String toBinary(long naturalNumber) {
    if (naturalNumber &lt; 0) {
      throw new NumberFormatException(&quot;Negative Integer, this snippet only accepts &quot;
              + &quot;positive integers&quot;);
    }
    if (naturalNumber == 0) {
      return &quot;0&quot;;
    }
    final Stack&lt;Long&gt; binaryBits =
            Stream.iterate(naturalNumber, n -&gt; n &gt; 0, n -&gt; n / 2).map(n -&gt; n % 2)
                    .collect(Stack::new, Stack::push, Stack::addAll);
    return Stream.generate(binaryBits::pop)
            .limit(binaryBits.size()).map(String::valueOf).collect(Collectors.joining());
  }

  /**
   * Convert binary string representation to Long valued Integer. Throws exception if input
   * string contains characters other than '0' and '1'
   *
   * @param binary given number
   * @return Unsigned Long value for the binary number
   */
  public static Long fromBinary(String binary) {
    binary.chars().filter(c -&gt; c != '0' &amp;&amp; c != '1').findFirst().ifPresent(in -&gt; {
      throw new NumberFormatException(
              &quot;Binary string contains values other than '0' and '1'&quot;);
    });
    return IntStream.range(0, binary.length())
            .filter(in -&gt; binary.charAt(binary.length() - 1 - in) == '1')
            .mapToLong(in -&gt; ((long) 0b1) &lt;&lt; in).sum();
  }
}
</code></pre>
<h3 id="performlotterysnippet"><a class="header" href="#performlotterysnippet">PerformLotterySnippet</a></h3>
<pre><code class="language-java">package math;

import java.util.ArrayList;
import java.util.Collections;

/**
 * PerformLotterySnippet.
 */
public class PerformLotterySnippet {

  /**
   * Generate random lottery numbers.
   *
   * @param numNumbers    how many performLottery numbers are available (e.g. 49)
   * @param numbersToPick how many numbers the player needs to pick (e.g. 6)
   * @return array with the random numbers
   */
  public static Integer[] performLottery(int numNumbers, int numbersToPick) {
    var numbers = new ArrayList&lt;Integer&gt;();
    for (var i = 0; i &lt; numNumbers; i++) {
      numbers.add(i + 1);
    }
    Collections.shuffle(numbers);
    return numbers.subList(0, numbersToPick).toArray(new Integer[numbersToPick]);
  }
}
</code></pre>
<h3 id="primenumbersnippet"><a class="header" href="#primenumbersnippet">PrimeNumberSnippet</a></h3>
<pre><code class="language-java">package math;

/**
 * PrimeNumberSnippet.
 */
public class PrimeNumberSnippet {

  /**
   * Checks if given number is a prime number. Prime number is a number that is greater than 1 and
   * divided by 1 or itself only Credits: https://en.wikipedia.org/wiki/Prime_number
   *
   * @param number number to check prime
   * @return true if prime
   */
  public static boolean isPrime(int number) {
    //if number &lt; 2 its not a prime number
    if (number &lt; 2) {
      return false;
    }
    // 2 and 3 are prime numbers
    if (number &lt; 3) {
      return true;
    }
    // check if n is a multiple of 2
    if (number % 2 == 0) {
      return false;
    }
    // if not, then just check the odds
    for (var i = 3; i * i &lt;= number; i += 2) {
      if (number % i == 0) {
        return false;
      }
    }
    return true;
  }
}
</code></pre>
<h3 id="randomnumber"><a class="header" href="#randomnumber">RandomNumber</a></h3>
<pre><code class="language-java">package math;

import java.util.Random;

/**
 * Random Number between given two values.
 * Supported Data types - Byte, Short, Integer, Long, Float and Double.
 */
public class RandomNumber {

  private RandomNumber() {}

  private static Random random = new Random();

  /**
  * Return a random number between two given numbers.
  *
  * @param start Starting point to find the random number
  * @param end Ending point to find the random number
  * @return Number denoting the random number generated
  */
  public static &lt;T extends Number&gt; Number getRandomNumber(T start, T end) {

    if (start instanceof Byte &amp;&amp; end instanceof Byte) {
      return (byte) (start.byteValue()
              + random.nextInt(end.byteValue() - start.byteValue() + 1));
    } else if (start instanceof Short &amp;&amp; end instanceof Short) {
      return (short) (start.shortValue()
              + random.nextInt(end.shortValue() - start.shortValue() + 1));
    } else if (start instanceof Integer &amp;&amp; end instanceof Integer) {
      return start.intValue()
              + random.nextInt(end.intValue() - start.intValue() + 1);
    } else if (start instanceof Long &amp;&amp; end instanceof Long) {
      return start.longValue()
              + (long) (random.nextDouble() * end.longValue() - start.longValue() + 1);
    } else if (start instanceof Float &amp;&amp; end instanceof Float) {
      return start.floatValue()
              + random.nextFloat() * (end.floatValue() - start.floatValue());
    } else if (start instanceof Double &amp;&amp; end instanceof Double) {
      return start.doubleValue()
              + random.nextDouble() * (end.doubleValue() - start.doubleValue());
    } else {
      throw new IllegalArgumentException(&quot;Invalid Numbers As Arguments &quot;
              + start.getClass() + &quot; and &quot; + end.getClass());
    }
  }
}


### SquareRoot

```java
package math;

/**
 * SquareRoot.
 */
public class SquareRoot {

  /**
   * Returns square root of a number.
   *
   * @param num To find SquareRoot
   * @param p   precision till how many decimal numbers we want accurate ans
   */
  public static double sqrt(int num, int p) {
    int start = 0;
    int end = num;
    double root = 0.0;

    while (start &lt;= end) {
      int mid = start + (end - start) / 2;

      if ((mid * mid) &gt; num) {
        end = mid - 1;
      } else if ((mid * mid) &lt; num) {
        start = mid + 1;
      } else {
        return mid;
      }
    }
    double incr = 0.1;
    for (int i = 0; i &lt; p; i++) {
      while (root * root &lt; num) {
        root = root + incr;
      }
      root = root - incr;
      incr = incr / 10;
    }
    return root;
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="media-1"><a class="header" href="#media-1">Media</a></h1>
<h3 id="capturescreensnippet"><a class="header" href="#capturescreensnippet">CaptureScreenSnippet</a></h3>
<pre><code class="language-java">package media;

import java.awt.AWTException;
import java.awt.Rectangle;
import java.awt.Robot;
import java.awt.Toolkit;
import java.io.File;
import java.io.IOException;
import javax.imageio.ImageIO;

/**
 * CaptureScreenSnippet.
 */
public class CaptureScreenSnippet {

  /**
   * Capture screenshot and save it to PNG file. Credits: https://viralpatel.net/blogs/how-to-take-screen-shots-in-java-taking-screenshots-java/
   *
   * @param filename the name of the file
   * @throws AWTException if the platform configuration does not allow low-level input control
   * @throws IOException  if an I/O error occurs
   */
  public static void captureScreen(String filename) throws AWTException, IOException {
    var screenSize = Toolkit.getDefaultToolkit().getScreenSize();
    var screenRectangle = new Rectangle(screenSize);
    var robot = new Robot();
    var image = robot.createScreenCapture(screenRectangle);
    ImageIO.write(image, &quot;png&quot;, new File(filename));
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h3 id="httpgetsnippet"><a class="header" href="#httpgetsnippet">HttpGetSnippet</a></h3>
<pre><code class="language-java">package network;

import java.net.URI;
import java.net.http.HttpClient;
import java.net.http.HttpRequest;
import java.net.http.HttpResponse;

/**
 * HttpGetSnippet.
 */
public class HttpGetSnippet {

  /**
   * Performs HTTP GET request.
   *
   * @param uri the URI of the connection
   * @return response object
   * @throws Exception i/o error, interruption error, etc
   */
  public static HttpResponse&lt;String&gt; httpGet(String uri) throws Exception {
    var client = HttpClient.newHttpClient();
    var request = HttpRequest.newBuilder()
            .uri(URI.create(uri))
            .build();
    return client.send(request, HttpResponse.BodyHandlers.ofString());
  }
}
</code></pre>
<h3 id="httppostsnippet"><a class="header" href="#httppostsnippet">HttpPostSnippet</a></h3>
<pre><code class="language-java">package network;

import java.io.IOException;
import java.net.URI;
import java.net.URLEncoder;
import java.net.http.HttpClient;
import java.net.http.HttpRequest;
import java.net.http.HttpResponse;
import java.nio.charset.StandardCharsets;
import java.util.HashMap;
import java.util.StringJoiner;

/**
 * HttpPostSnippet.
 */
public class HttpPostSnippet {

  /**
   * Performs HTTP POST request. Credits https://stackoverflow.com/questions/3324717/sending-http-post-request-in-java
   *
   * @param address   the URL of the connection in String format, like &quot;http://www.google.com&quot;
   * @param arguments the body of the POST request, as a HashMap
   * @return response object
   * @throws IOException          if an I/O error occurs
   * @throws InterruptedException if the operation is interrupted
   */
  public static HttpResponse&lt;String&gt; httpPost(String address, HashMap&lt;String, String&gt; arguments)
          throws IOException, InterruptedException {
    var sj = new StringJoiner(&quot;&amp;&quot;);
    for (var entry : arguments.entrySet()) {
      sj.add(URLEncoder.encode(entry.getKey(), StandardCharsets.UTF_8) + &quot;=&quot;
              + URLEncoder.encode(entry.getValue(), StandardCharsets.UTF_8));
    }

    var out = sj.toString().getBytes(StandardCharsets.UTF_8);
    var request = HttpRequest.newBuilder()
            .uri(URI.create(address))
            .headers(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded; charset=UTF-8&quot;)
            .POST(HttpRequest.BodyPublishers.ofByteArray(out))
            .build();

    return HttpClient.newHttpClient().send(request, HttpResponse.BodyHandlers.ofString());
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h3 id="anagramsnippet"><a class="header" href="#anagramsnippet">AnagramSnippet</a></h3>
<pre><code class="language-java">package string;

import java.util.Arrays;

/**
 * AnagramSnippet.
 */
public class AnagramSnippet {

  /**
   * Checks if two words are anagrams (contains same characters with same frequency in any order).
   *
   * @param s1 The first string to be checked
   * @param s2 The second string to be checked
   * @return true if they are anagrams of each other
   */
  public static boolean isAnagram(String s1, String s2) {
    var l1 = s1.length();
    var l2 = s2.length();

    if (l1 != l2) {
      return false;
    }

    var arr1 = new int[256];
    var arr2 = new int[256];
    
    for (var i = 0; i &lt; l1; i++) {
      arr1[s1.charAt(i)]++;
      arr2[s2.charAt(i)]++;
    }
    return Arrays.equals(arr1, arr2);
  }
}
</code></pre>
<h3 id="commonletterssnippet"><a class="header" href="#commonletterssnippet">CommonLettersSnippet</a></h3>
<pre><code class="language-java">package string;

import java.util.HashSet;
import java.util.Set;

/**
 * CommonLettersSnippet.
 */
public class CommonLettersSnippet {

  /**
   * Find Common Characters inside given two strings.
   *
   * @param firstStr  first string
   * @param secondStr second string
   * @return Common Characters.
   */
  public static String getCommonLetters(String firstStr, String secondStr) {
    Set&lt;String&gt; commonLetters = new HashSet&lt;&gt;();
    for (Character currentCharacter : firstStr.toCharArray()) {
      if (isCommonLetter(secondStr, currentCharacter)) {
        commonLetters.add(currentCharacter.toString());
      }
    }
    return String.join(&quot; &quot;, commonLetters);
  }

  private static boolean isCommonLetter(String str, Character character) {
    return str.contains(character.toString()) &amp;&amp; Character.isLetter(character);
  }
}
</code></pre>
<h3 id="compareversionsnippet"><a class="header" href="#compareversionsnippet">CompareVersionSnippet</a></h3>
<pre><code class="language-java">package string;

/**
 * CompareVersionSnippet.
 */
public class CompareVersionSnippet {

  private static final String EXTRACT_VERSION_REGEX = &quot;.*?((?&lt;!\\w)\\d+([.-]\\d+)*).*&quot;;

  /**
   * Compares two version strings.
   * Credits: https://stackoverflow.com/a/6702000/6645088 and https://stackoverflow.com/a/44592696/6645088
   *
   * @param v1 the first version string to compare
   * @param v2 the second version string to compare
   * @return the value {@code 0} if the two strings represent same versions;
   *     a value less than {@code 0} if {@code v1} is greater than {@code v2}; and
   *     a value greater than {@code 0} if {@code v2} is greater than {@code v1}
   */
  public static int compareVersion(String v1, String v2) {
    var components1 = getVersionComponents(v1);
    var components2 = getVersionComponents(v2);
    int length = Math.max(components1.length, components2.length);
    for (int i = 0; i &lt; length; i++) {
      Integer c1 = i &lt; components1.length ? Integer.parseInt(components1[i]) : 0;
      Integer c2 = i &lt; components2.length ? Integer.parseInt(components2[i]) : 0;
      int result = c1.compareTo(c2);
      if (result != 0) {
        return result;
      }
    }
    return 0;
  }

  private static String[] getVersionComponents(String version) {
    return version.replaceAll(EXTRACT_VERSION_REGEX, &quot;$1&quot;).split(&quot;\\.&quot;);
  }
}
</code></pre>
<h3 id="duplicatecharactersnippet"><a class="header" href="#duplicatecharactersnippet">DuplicateCharacterSnippet</a></h3>
<pre><code class="language-java">package string;

import java.util.HashSet;
import java.util.Set;

/**
 * DuplicateCharacterSnippet.
 */
public class DuplicateCharacterSnippet {

  /**
   * Remove Duplicate Characters from a string.
   *
   * @param str The string to be processed
   * @return A string with no duplicate characters
   */

  public static String removeDuplicateCharacters(String str) {
    char[] charsOfStr = str.toCharArray();
    Set&lt;String&gt; uniqueCharacters = new HashSet&lt;&gt;();
    for (char character : charsOfStr) {
      uniqueCharacters.add(String.valueOf(character));
    }
    return String.join(&quot;&quot;, uniqueCharacters);
  }
}
</code></pre>
<h3 id="kmpsubstringsearchsnippet"><a class="header" href="#kmpsubstringsearchsnippet">KmpSubstringSearchSnippet</a></h3>
<pre><code class="language-java">package string;

/**
 * KmpSubstringSearchSnippet.
 */

public class KmpSubstringSearchSnippet {
 
  /**
   * Implements the Knuth-Morris-Pratt (KMP) algorithm to find the of a substring.
   *
   * @param text The text in which the substring is to be searched.
   * @param pattern The substring pattern to search for.
   * @return The index of the first occurrence, or -1 if the pattern is not found.
   */
  public static int kmpSearch(String text, String pattern) {
    if (pattern == null || pattern.length() == 0) {
      return 0; // Trivial case: empty pattern
    }
 
    int[] lps = computeLpsArray(pattern);
    int i = 0; // index for text
    int j = 0; // index for pattern
 
    while (i &lt; text.length()) {
      if (pattern.charAt(j) == text.charAt(i)) {
        i++;
        j++;
      }
 
      if (j == pattern.length()) {
        return i - j; // Found pattern at index (i - j)
      } else if (i &lt; text.length() &amp;&amp; pattern.charAt(j) != text.charAt(i)) {
        if (j != 0) {
          j = lps[j - 1]; // Use the LPS array to skip characters
        } else {
          i++; // If no match and j is 0, move to the next character in text
        }
      }
    }
    return -1; // Pattern not found
  }
 
  /**
  * Computes the LPS (Longest Prefix Suffix) array, which indicates the longest proper prefix.
  *
  * @param pattern The pattern for which the LPS array is to be computed.
  * @return The LPS array.
  */
  private static int[] computeLpsArray(String pattern) {
    int length = 0;
    int i = 1;
    int[] lps = new int[pattern.length()];
    lps[0] = 0; // LPS for the first character is always 0
 
    while (i &lt; pattern.length()) {
      if (pattern.charAt(i) == pattern.charAt(length)) {
        length++;
        lps[i] = length;
        i++;
      } else {
        if (length != 0) {
          length = lps[length - 1]; // Fall back to the previous LPS value
        } else {
          lps[i] = 0;
          i++;
        }
      }
    }
    return lps;
  }
} 

### LevenshteinDistanceSnippet

```java
package string;

/**
 * LevenshteinDistanceSnippet.
 */
public class LevenshteinDistanceSnippet {

  /**
   * Find the Levenshtein distance between two words. https://en.wikipedia.org/wiki/Levenshtein_distance
   *
   * @param word1 first word
   * @param word2 second word
   * @return distance
   */
  public static int findLevenshteinDistance(String word1, String word2) {
    // If word2 is empty, removing
    int[][] ans = new int[word1.length() + 1][word2.length() + 1];
    for (int i = 0; i &lt;= word1.length(); i++) {
      ans[i][0] = i;
    }
    // if word1 is empty, adding
    for (int i = 0; i &lt;= word2.length(); i++) {
      ans[0][i] = i;
    }
    // None is empty
    for (int i = 1; i &lt;= word1.length(); i++) {
      for (int j = 1; j &lt;= word2.length(); j++) {
        int min = Math.min(Math.min(ans[i][j - 1], ans[i - 1][j]), ans[i - 1][j - 1]);
        ans[i][j] = word1.charAt(i - 1) == word2.charAt(j - 1) ? ans[i - 1][j - 1] : min + 1;
      }
    }
    return ans[word1.length()][word2.length()];
  }
}
</code></pre>
<h3 id="lsystemsnippet"><a class="header" href="#lsystemsnippet">LSystemSnippet</a></h3>
<pre><code class="language-java">package string;

import java.util.Map;

/**
 * LSystemSnippet.
 */
public class LindenmayerSystemSnippet {
  /**
   * Generates an L-system string based on axiom, production rules, and a number of iterations.
   *
   * @param axiom           initial string to begin the L-system
   * @param productionRules map of character rules where each symbol can be replaced with a string
   * @param iterations      number of iterations to apply the production rules
   * @return the generated string after all iterations
   */
  public static String generateLindenmayerSystem(
          String axiom,
          Map&lt;Character, String&gt; productionRules,
          int iterations
  ) {
    String current = axiom;

    for (int i = 0; i &lt; iterations; i++) {
      StringBuilder nextIteration = new StringBuilder(current.length() * 2);

      // Replace each symbol with the corresponding production rule or the symbol itself
      current.chars()
          .mapToObj(c -&gt; (char) c)
          .forEach(symbol -&gt;
                  nextIteration.append(
                          productionRules.getOrDefault(symbol, String.valueOf(symbol))
                  )
          );

      current = nextIteration.toString();
    }
    return current;
  }
}
</code></pre>
<h3 id="maxcharactercountsnippet"><a class="header" href="#maxcharactercountsnippet">MaxCharacterCountSnippet</a></h3>
<pre><code class="language-java">package string;

/**
 * MaxCharacterCountSnippet.
 */
public class MaxCharacterCountSnippet {

  /**
   * The maximum count of times a specific character appears in a string.
   *
   * @param str ŸéA specific string
   * @param character A specific character
   * @return the maximum count of one character
   */

  public static int getMaxCharacterCount(String str, char character) {
    int characterCount = 0;
    int maxCharacterCount = 0;
    for (int i = 0; i &lt; str.length(); i++) {
      if ((str.charAt(i)) == character) {
        characterCount++;
        maxCharacterCount = Math.max(maxCharacterCount, characterCount);
      } else {
        characterCount = 0;
      }
    }
    return maxCharacterCount;
  }
}
</code></pre>
<h3 id="palindromchecksnippet"><a class="header" href="#palindromchecksnippet">PalindromCheckSnippet</a></h3>
<pre><code class="language-java">package string;

/**
 * PalindromCheckSnippet.
 */
public class PalindromCheckSnippet {

  /**
   * Checks if given string is palindrome (same forward and backward). Skips non-letter characters
   * Credits: https://github.com/kousen/java_8_recipes
   *
   * @param s string to check
   * @return true if palindrome
   */
  public static boolean isPalindrome(String s) {
    for (int i = 0, j = s.length() - 1; i &lt; j; i++, j--) {
      while (i &lt; j &amp;&amp; !Character.isLetter(s.charAt(i))) {
        i++;
      }
      while (i &lt; j &amp;&amp; !Character.isLetter(s.charAt(j))) {
        j--;
      }

      if (Character.toLowerCase(s.charAt(i)) != Character.toLowerCase(s.charAt(j))) {
        return false;
      }
    }

    return true;
  }
}
</code></pre>
<h3 id="reversstringsnippet"><a class="header" href="#reversstringsnippet">ReversStringSnippet</a></h3>
<pre><code class="language-java">package string;

/**
 * ReversStringSnippet.
 */
public class ReverseStringSnippet {

  /**
   * Reverse string.
   *
   * @param s the string to reverse
   * @return reversed string
   */
  public static String reverseString(String s) {
    return new StringBuilder(s).reverse().toString();
  }
}
</code></pre>
<h3 id="stringtodatesnippet"><a class="header" href="#stringtodatesnippet">StringToDateSnippet</a></h3>
<pre><code class="language-java">package string;

import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Date;

/**
 * StringToDateSnippet.
 */
public class StringToDateSnippet {

  /**
   * Convert string to date.
   *
   * @param date   the date string
   * @param format expected date format
   * @return Date
   * @throws ParseException in case of an unparseable date string
   */
  public static Date stringToDate(String date, String format) throws ParseException {
    var simpleDateFormat = new SimpleDateFormat(format);
    return simpleDateFormat.parse(date);
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h3 id="threadpool"><a class="header" href="#threadpool">ThreadPool</a></h3>
<pre><code class="language-java">package thread;

import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;

/**
 * ThreadPool.
 */
public class ThreadPool {

  /**
   * &lt;p&gt;Creates pool of threads. Where the pool is the size of the number of processors
   * available to the Java virtual machine.&lt;/p&gt;
   *
   * @return the newly created thread pool
   */
  public static ExecutorService createFixedThreadPool() {
    return Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors());
  }
}
</code></pre>
<h3 id="threadsnippet"><a class="header" href="#threadsnippet">ThreadSnippet</a></h3>
<pre><code class="language-java">package thread;

/**
 * ThreadSnippet.
 */
public class ThreadSnippet {

  /**
   * Creates and returns a new thread with the task assigned to it
   * (task will be performed parallel to the main thread).
   *
   * @param task the task to be executed by this thread
   * @return new thread with task assigned to it.
   */
  public static Thread createThread(Runnable task) {
    return new Thread(task);
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="h∆∞·ªõng-d·∫´n-spring-boot"><a class="header" href="#h∆∞·ªõng-d·∫´n-spring-boot">H∆∞·ªõng d·∫´n Spring Boot</a></h1>
<p>M√¨nh l∆∞u l·∫°i m·ªôt ph·∫ßn n·ªôi dung trang c·ªßa loda-kun v·ªÅ, do trang ƒë√£ kh√¥ng c√≤n n·ªØa n√™n ƒë√¢y l√† b·∫£n Backup l·∫°i. B·∫°n c√≥ th·ªÉ truy c·∫≠p v√†o <a href="https://github.com/loda-kun">trang Github c·ªßa t√°c gi·∫£ g·ªëc</a>. C√°c b√†i vi·∫øt trong ƒë√¢y ƒë√£ ƒë∆∞·ª£c s·ª≠a l·∫°i v√† t·ªëi ∆∞u v·ªÅ m·∫∑t n·ªôi dung ƒë·ªÉ thu·∫≠n ti·ªán cho vi·ªác s·ª≠ d·ª•ng c√° nh√¢n. B·∫°n c√≥ th·ªÉ ƒë·ªçc to√†n b·ªô n·ªôi dung kh√≥a h·ªçc n√†y tr√™n viblo c·ªßa Nguy·ªÖn Ho√†ng Nam.</p>
<p>M·ªôt framework m·∫°nh m·∫Ω m√† b·∫•t k√¨ Java Developer n√†o c≈©ng ph·∫£i bi·∫øt! B·∫Øt ƒë·∫ßu n√†o! Ph·∫ßn source code c√≥ th·ªÉ ƒë·ªçc tr√™n <a href="https://github.com/loda-kun/spring-boot-learning">loda-kun/spring-boot-learning</a></p>
<h3 id="b√†i-h·ªçc"><a class="header" href="#b√†i-h·ªçc">B√†i h·ªçc</a></h3>
<ul>
<li>ü¶Ω [core] <a href="spring-boot/core1.html">Kh√°i ni·ªám tight-coupling (li√™n k·∫øt r√†ng bu·ªôc) v√† c√°ch loosely coupled</a></li>
<li>üåõ [core] <a href="spring-boot/core2.html">Gi·∫£i th√≠ch Dependency Injection (DI) v√† IoC b·∫±ng Ng·ªçc Trinh</a></li>
<li>üìñ [SB1] <a href="spring-boot/sb1.html">H∆∞·ªõng d·∫´n @Component v√† @Autowired</a></li>
<li>‚òéÔ∏è [SB2] <a href="spring-boot/sb2.html">@Autowired - @Primary - @Qualifier</a></li>
<li>üö§ [SB3] <a href="spring-boot/sb3.html">Spring Bean Life Cycle + @PostConstruct v√† @PreDestroy</a></li>
<li>üåü [SB4] <a href="spring-boot/sb4.html">@Component vs @Service vs @Repository</a></li>
<li>üìÉ [SB5] <a href="spring-boot/sb5.html">Component Scan l√† g√¨?</a></li>
<li>üìπ [SB6] <a href="spring-boot/sb6.html">@Configuration v√† @Bean</a></li>
<li>üöå [SB7] <a href="spring-boot/sb7.html">Spring Boot Application Config v√† @Value</a></li>
<li>üìû [SB8] <a href="spring-boot/sb8.html">T·∫°o Web Helloworld v·ªõi @Controller + Thymeleaf</a></li>
<li>üßµ [SB9] <a href="spring-boot/sb9.html">Gi·∫£i th√≠ch c√°ch Thymeleaf v·∫≠n h√†nh + Expression + Demo Full</a></li>
<li>üé≤ [SB10] <a href="spring-boot/sb10.html">@RequestMapping + @PostMapping + @ModelAttribute + @RequestParam + Web To-Do v·ªõi Thymeleaf</a></li>
<li>üéé [SB11] <a href="spring-boot/sb11.html">H∆∞·ªõng d·∫´n Spring Boot JPA + MySQL</a></li>
<li>üé∫ [SB12] <a href="spring-boot/sb12.html">Spring JPA Method + @Query</a></li>
<li>üì∫ [SB13] <a href="spring-boot/sb13.html">Chi ti·∫øt Spring Boot + Thymeleaf + MySQL + i18n + Web Demo</a></li>
<li>üñäÔ∏è [SB14] <a href="spring-boot/sb14.html">Restful API + @RestController + @PathVariable + @RequestBody</a></li>
<li>üöâ [SB15] <a href="spring-boot/sb15.html">Exception Handling @ExceptionHandler + @RestControllerAdvice / @ControllerAdvice + @ResponseStatus</a></li>
<li>üì∞ [SB16] <a href="spring-boot/sb16.html">H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng @ConfigurationPropertie</a></li>
<li>üåà [SB17] <a href="spring-boot/sb17.html">Ch·∫°y nhi·ªÅu m√¥i tr∆∞·ªùng v·ªõi Spring Profile</a></li>
<li>üó∫Ô∏è [SB18] <a href="spring-boot/sb18.html">H∆∞·ªõng d·∫´n chi ti·∫øt Test Spring Boot</a></li>
<li>üî© [SB19] <a href="spring-boot/sb19.html">H∆∞·ªõng d·∫´n chi ti·∫øt Test Spring Boot (Ph·∫ßn 2)</a></li>
<li>üì† [SB20] <a href="spring-boot/sb20.html">H∆∞·ªõng d·∫´n to√†n t·∫≠p Mockito</a></li>
<li>üé∑ [SB21] <a href="spring-boot/sb21.html">H∆∞·ªõng d·∫´n t·∫°o Bean c√≥ ƒëi·ªÅu ki·ªán v·ªõi @Conditional</a></li>
<li>üéØ [SB22] <a href="spring-boot/sb22.html">H∆∞·ªõng d·∫´n t·ª± t·∫°o custom @Conditional</a></li>
<li>üéóÔ∏è [SB23] <a href="spring-boot/sb23.html">X·ª≠ l√Ω s·ª± ki·ªán v·ªõi @EventListener + @Async</a></li>
<li>üòÖ [SB24] <a href="spring-boot/sb24.html">RESTful API Document T·∫°o v·ªõi Spring Boot + Swagger</a></li>
<li>üõ≥Ô∏è [SB25] <a href="spring-boot/sb25.html">RESTful API Document v·ªõi Spring Boot + OpenApi 3.0</a></li>
<li>‚öîÔ∏è„ÄåJpa„Äç<a href="spring-boot/jpa1.html">Hibernate l√† g√¨?</a></li>
<li>üéä„ÄåJpa„Äç<a href="spring-boot/jpa2.html">H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng Specification (Ph·∫ßn 1)</a></li>
<li>ü™Ç„ÄåJpa„Äç<a href="spring-boot/jpa3.html">H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng @OneToOne</a></li>
<li>üöÖ„ÄåJpa„Äç<a href="spring-boot/jpa4.html">@OneToMany v√† @ManyToOne</a></li>
<li>üõµ„ÄåJpa„Äç<a href="spring-boot/jpa5.html">H∆∞·ªõng d·∫´n @ManyToMany</a></li>
<li>üèÜ„ÄåJpa„Äç<a href="spring-boot/jpa6.html">H∆∞·ªõng d·∫´n Query ph√¢n trang b·∫±ng Pageable (Ph·∫ßn 1)</a></li>
<li>ü™ü„ÄåJpa„Äç<a href="spring-boot/jpa7.html">H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng Criteria API trong Hibernate</a></li>
<li>üìà„ÄåJpa„Äç<a href="spring-boot/jpa8.html">H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng Criteria API trong Hibernate (Ph·∫ßn 2)</a></li>
<li>üß∫„ÄåJpa„Äç<a href="spring-boot/jpa9.html">H∆∞·ªõng d·∫´n t·ª± t·∫°o Validator ƒë·ªÉ ki·ªÉm tra Model &amp; Entity</a></li>
<li>üèüÔ∏è [SS] <a href="spring-boot/ss1.html">H∆∞·ªõng d·∫´n Spring Security c∆° b·∫£n, d·ªÖ hi·ªÉu</a></li>
<li>‚õ≥ [SS] <a href="spring-boot/ss2.html">H∆∞·ªõng d·∫´n Spring Security + Jpa Hibernate</a></li>
<li>üéê [SS] <a href="spring-boot/ss3.html">H∆∞·ªõng d·∫´n Spring Security + JWT (Json Web Token) + Hibernate</a></li>
<li>‚õΩ <a href="spring-boot/redis.html">H∆∞·ªõng d·∫´n Spring Boot + Redis</a></li>
</ul>
<p>Ch√∫c c√°c b·∫°n h·ªçc t·∫≠p hi·ªáu qu·∫£!</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="kh√°i-ni·ªám-tightly-coupled-li√™n-k·∫øt-r√†ng-bu·ªôc-v√†-c√°ch-ƒë·ªÉ-loosely-coupled"><a class="header" href="#kh√°i-ni·ªám-tightly-coupled-li√™n-k·∫øt-r√†ng-bu·ªôc-v√†-c√°ch-ƒë·ªÉ-loosely-coupled">Kh√°i ni·ªám tightly-coupled (li√™n k·∫øt r√†ng bu·ªôc) v√† c√°ch ƒë·ªÉ loosely-coupled</a></h1>
<h3 id="ƒê·ªãnh-nghƒ©a"><a class="header" href="#ƒê·ªãnh-nghƒ©a">ƒê·ªãnh nghƒ©a</a></h3>
<ul>
<li><strong>Tight-coupling</strong> hay &quot;li√™n k·∫øt r√†ng bu·ªôc&quot; l√† m·ªôt kh√°i ni·ªám trong Java √°m ch·ªâ vi·ªác m·ªëi quan h·ªá gi·ªØa c√°c Class qu√° ch·∫∑t ch·∫Ω. Khi y√™u c·∫ßu thay ƒë·ªïi logic hay m·ªôt class b·ªã l·ªói s·∫Ω d·∫´n t·ªõi ·∫£nh h∆∞·ªüng t·ªõi to√†n b·ªô c√°c Class kh√°c.</li>
<li><strong>loosely-coupled</strong> l√† c√°ch √°m ch·ªâ vi·ªác l√†m gi·∫£m b·ªõt s·ª± ph·ª• thu·ªôc gi·ªØa c√°c Class v·ªõi nhau.</li>
</ul>
<h3 id="v√≠-d·ª•-d·ªÖ-hi·ªÉu"><a class="header" href="#v√≠-d·ª•-d·ªÖ-hi·ªÉu"><strong>V√≠ d·ª• d·ªÖ hi·ªÉu</strong></a></h3>
<p>L·∫•y m·ªôt v√≠ d·ª•:</p>
<p>B·∫°n c√≥ m·ªôt Class th·ª±c thi m·ªôt nhi·ªám v·ª• c·ª±c k·ª≥ ph·ª©c t·∫°p, v√† m·ªôt trong s·ªë ƒë√≥ l√† vi·ªác s·∫Øp x·∫øp d·ªØ li·ªáu tr∆∞·ªõc khi x·ª≠ l√Ω.</p>
<h3 id="c√°ch-code-level-1"><a class="header" href="#c√°ch-code-level-1"><strong>C√°ch code level 1:</strong></a></h3>
<pre><code>public class BubbleSortAlgorithm{

    public void sort(int[] array) {
        // TODO: Add your logic here
        System.out.println(&quot;ƒê√£ s·∫Øp x·∫øp b·∫±ng thu·∫≠t to√°n sx n·ªïi b·ªçt&quot;);
    }
}

public class VeryComplexService {
    private BubbleSortAlgorithm bubbleSortAlgorithm = new BubbleSortAlgorithm();
    
    public VeryComplexService(){

    }

    public void complexBusiness(int array[]){
        bubbleSortAlgorithm.sort(array);
        // TODO: more logic here
    }
}
</code></pre>
<p>V·ªõi c√°ch l√†m ·ªü tr√™n, <code>VeryComplexService</code> ƒë√£ ho√†n thi·ªán ƒë∆∞·ª£c nhi·ªám v·ª•, tuy nhi√™n, khi c√≥ y√™u c·∫ßu <strong>thay ƒë·ªïi</strong> thu·∫≠t to√°n s·∫Øp x·∫øp sang <code>QuickSort</code> th√¨ nghe v·∫ª ch√∫ng ta s·∫Ω ph·∫£i s·ª≠a l·∫°i ho√†n to√†n c·∫£ 2 Class tr√™n.</p>
<p>Ngo√†i ra <code>BubbleSortAlgorithm</code> s·∫Ω ch·ªâ t·ªìn t·∫°i n·∫øu <code>VeryComplexService</code> t·ªìn t·∫°i, v√¨ <code>VeryComplexService</code> t·∫°o ƒë·ªëi t∆∞·ª£ng <code>BubbleSortAlgorithm</code> b√™n trong n√≥ (hay n√≥i c√°ch kh√°c l√† s·ª± s·ªëng ch·∫øt c·ªßa <code>BubbleSortAlgorithm</code> s·∫Ω do <code>VeryComplexService</code> quy·∫øt ƒë·ªãnh), theo nh∆∞ c√°ch implement n√†y, n√≥ l√† li√™n k·∫øt r·∫•t ch·∫∑t v·ªõi nhau.</p>
<h3 id="c√°ch-l√†m-level-2"><a class="header" href="#c√°ch-l√†m-level-2"><strong>C√°ch l√†m level 2:</strong></a></h3>
<pre><code>public interface SortAlgorithm {
    /**
     * S·∫Øp x·∫øp m·∫£ng ƒë·∫ßu v√†o
     * @param array
     */
    public void sort(int array[]);
}

public class BubbleSortAlgorithm implements SortAlgorithm{

    @Override
    public void sort(int[] array) {
        // TODO: Add your logic here
        System.out.println(&quot;ƒê√£ s·∫Øp x·∫øp b·∫±ng thu·∫≠t to√°n sx n·ªïi b·ªçt&quot;);
    }
}

public class VeryComplexService {
    private SortAlgorithm sortAlgorithm;
    public VeryComplexService(){
        sortAlgorithm = new BubbleSortAlgorithm();
    }

    public void complexBusiness(int array[]){
        sortAlgorithm.sort(array);
        // TODO: more logic here
    }
}
</code></pre>
<p>V·ªõi c√°ch l√†m n√†y, <code>VeryComplexService</code> s·∫Ω ch·ªâ quan h·ªá v·ªõi m·ªôt interface <code>SortAlgorithm</code>. V·ªõi c√°ch n√†y th√¨ m·ªói quan h·ªá gi·∫£m b·ªõt s·ª± li√™n k·∫øt, nh∆∞ng n√≥ kh√¥ng thay ƒë·ªïi ƒë∆∞·ª£c vi·ªác thu·∫≠t to√°n v·∫´n ƒëang l√† <code>BubbleSortAlgorithm</code>.</p>
<h3 id="c√°ch-l√†m-level-3"><a class="header" href="#c√°ch-l√†m-level-3"><strong>C√°ch l√†m level 3:</strong></a></h3>
<pre><code>public interface SortAlgorithm {
    /**
     * S·∫Øp x·∫øp m·∫£ng ƒë·∫ßu v√†o
     * @param array
     */
    public void sort(int array[]);
}

public class BubbleSortAlgorithm implements SortAlgorithm{

    @Override
    public void sort(int[] array) {
        // TODO: Add your logic here
        System.out.println(&quot;ƒê√£ s·∫Øp x·∫øp b·∫±ng thu·∫≠t to√°n sx n·ªïi b·ªçt&quot;);
    }
}

public class QuicksortAlgorithm implements SortAlgorithm {
    @Override
    public void sort(int[] array) {
        // TODO: Add your logic here
        System.out.println(&quot;ƒê√£ s·∫Øp x·∫øp b·∫±ng thu·∫≠t sx nhanh&quot;);

    }
}

public class VeryComplexService {
    private SortAlgorithm sortAlgorithm;
    public VeryComplexService(SortAlgorithm sortAlgorithm){
        this.sortAlgorithm = sortAlgorithm;
    }

    public void complexBusiness(int array[]){
        sortAlgorithm.sort(array);
        // TODO: more logic here
    }
}

public static void main(String[] args) {
    SortAlgorithm bubbleSortAlgorithm = new BubbleSortAlgorithm();
    SortAlgorithm quickSortAlgorithm = new QuicksortAlgorithm();
    VeryComplexService business1 = new VeryComplexService(bubbleSortAlgorithm);
    VeryComplexService business2 = new VeryComplexService(quickSortAlgorithm);
}
</code></pre>
<p>C√°ch th·ª© ba n√†y c≈©ng l√† c√°ch l√†m ph·ªï bi·ªÉn nh·∫•t. M·ªëi li√™n h·ªá gi·ªØa 2 Class ƒë√£ &quot;l·ªèng l·∫ªo&quot; h∆°n tr∆∞·ªõc r·∫•t nhi·ªÅu. <code>VeryComplexService</code> s·∫Ω kh√¥ng quan t√¢m t·ªõi vi·ªác thu·∫≠t to√°n s·∫Øp x√©p l√† g√¨ n·ªØa, m√† ch·ªâ c·∫ßn t·∫≠p trung v√†o nghi·ªáp v·ª•. C√≤n <code>SortAlgorithm</code> s·∫Ω ƒë∆∞·ª£c ƒë∆∞a v√†o t·ª´ b√™n ngo√†i t√πy theo nhu c·∫ßu s·ª≠ d·ª•ng.</p>
<h3 id="dependency-injection"><a class="header" href="#dependency-injection"><strong>Dependency Injection</strong></a></h3>
<p>Sau khi b·∫°n ƒë√£ n·∫Øm ƒë∆∞·ª£c 2 kh√°i ni·ªám <strong>tight-coupling</strong> v√† <strong>loosely-coupled</strong> th√¨ s·∫Ω c√≥ th·ªÉ hi·ªÉu d·ªÖ d√†ng kh√°i ni·ªám <strong>Dependency Injection</strong>. M·ªôt trong nh·ªØng nh√¢n t·ªë ch√≠nh gi√∫p cu·ªôc ƒë·ªùi l·∫≠p tr√¨nh Java c·ªßa b·∫°n tr·ªü n√™n t∆∞∆°i s√°ng h∆°n.</p>
<h1 id="gi·∫£i-th√≠ch-dependency-injection-di-v√†-ioc"><a class="header" href="#gi·∫£i-th√≠ch-dependency-injection-di-v√†-ioc">Gi·∫£i th√≠ch Dependency Injection (DI) v√† IoC</a></h1>
<p>Nh∆∞ng kh√¥ng ph·∫£i d√πng qu·∫£ minh h·ªça c·ªßa Loda =)).</p>
<h3 id="dependency-injection-di"><a class="header" href="#dependency-injection-di">Dependency Injection (DI)</a></h3>
<p>Trong t√†i li·ªáu c√≥ n√≥i th·∫ø n√†y: <em>Dependency Injection is a design pattern,...</em>. Th·∫ø th√¨ b·∫°n c√≥ th·ªÉ hi·ªÉu n√¥m na n√≥ l√† m·ªôt ph∆∞∆°ng ph√°p l·∫≠p tr√¨nh. D∆∞·ªõi ƒë√¢y l√† v√≠ d·ª• (Khum th√≠ch v√≠ d·ª• c·ªßa Loda n√™n vi·∫øt l·∫°i ch√∫t):</p>
<pre><code>public class BoDoi {
    private AK47 gun; // M·ªói ch√∫ b·ªô ƒë·ªôi s·∫Ω c·∫ßm AK47 khi ƒëi ra ngo√†i ch·∫≥ng h·∫°n
    public BoDoi(){
      gun = new AK47(); // Khi anh b·ªô ƒë·ªôi ra ngo√†i, anh s·∫Ω v√°c theo kh·∫©u AK47
    }
}
</code></pre>
<p>Tr∆∞·ªõc h·∫øt, qua ƒëo·∫°n code n√†y, b·∫°n s·∫Ω th·∫•y l√† khi b·∫°n t·∫°o ra m·ªôt anh <code>BoDoi</code>, b·∫°n s·∫Ω t·∫°o ra th√™m 1 kh·∫©u <code>AK47</code> ƒëi k√®m v·ªõi anh ·∫•y. L√∫c n√†y,<code>AK47</code> t·ªìn t·∫°i mang √Ω nghƒ©a l√† dependency (ph·ª• thu·ªôc) c·ªßa <code>BoDoi</code>.</p>
<p>Khi kh·ªüi t·∫°o thu·ªôc t√≠nh nh∆∞ n√†y, b·∫°n v√¥ t√¨nh t·∫°o ra m·ªôt ƒëi·ªÉm th·∫Øt n√∫t trong ch∆∞∆°ng tr√¨nh c·ªßa m√¨nh, gi·∫£ s·ª≠, <code>BoDoi</code> mu·ªën c·∫ßm M4A1 hay AWP ho·∫∑c c·∫ßn g√¨ c·∫ßm s√∫ng khi ƒëi mua bia c∆° ch·ª©? B·∫°n s·∫Ω ph·∫£i thay class <code>AK47</code> th√†nh <code>M4A1</code> hay <code>TayKh√¥ng</code> ∆∞?</p>
<p>Hay nguy hi·ªÉm h∆°n, kh·∫©u <code>AK47</code> b·ªã h·ªèng? (code l·ªõp <code>AK47</code> kh√¥ng ho·∫°t ƒë·ªông?) n√≥ s·∫Ω ·∫£nh h∆∞·ªüng tr·ª±c ti·∫øp t·ªõi ch√∫ b·ªô ƒë·ªôi <code>BoDoi</code>.</p>
<p>V·∫•n ƒë·ªÅ l√† ·ªü ƒë√≥, nguy√™n t·∫Øc l√†:</p>
<blockquote>
<p>C√°c Class kh√¥ng n√™n ph·ª• thu·ªôc v√†o c√°c k·∫ø th·ª´a c·∫•p th·∫•p, m√† n√™n ph·ª• thu·ªôc v√†o Abstraction (l·ªõp tr·ª´u t∆∞·ª£ng).</p>
</blockquote>
<p>Nghe h∆°i kh√≥ hi·ªÉu. B√¢y gi·ªù m√¨nh thay ƒëo·∫°n code nh∆∞ n√†y:</p>
<pre><code>// M·ªôt interface cho vi·ªác d√πng s√∫ng
public interface EquipGun {
  public void equip();
}

// M·ªôt object c·∫•p th·∫•p, implement c·ªßa EquipGun
public class AK47 implements EquipGun {
  public void equip() {
    System.out.println(&quot;ƒê√£ ƒëeo AK47&quot;);
  }
}

// B√¢y gi·ªù BoDoi ch·ªâ ph·ª• thu·ªôc v√†o EquipGun. n·∫øu mu·ªën thay ƒë·ªïi s√∫ng c·ªßa anh ·∫•y, ch√∫ng ta ch·ªâ c·∫ßn cho EquipGun m·ªôt th·ªÉ hi·ªán m·ªõi.

public class BoDoi {
    private EquipGun equipGun;
    public BoDoi() {
      equipGun = new AK47();
    }
}
</code></pre>
<p>T·ªõi ƒë√¢y, ch√∫ng ta m·ªõi ch·ªâ <code>Abtract</code> h√≥a thu·ªôc t√≠nh c·ªßa <code>BoDoi</code> m√† th√¥i, c√≤n th·ª±c t·∫ø, <code>BoDoi</code> v·∫´n ƒëang b·ªã g·∫Øn v·ªõi m·ªôt kh·∫©u <code>AK47</code> duy nh·∫•t. V·∫≠y mu·ªën thay s√∫ng cho anh ·∫•y, b·∫°n ph·∫£i l√†m nh∆∞ n√†o.</p>
<p>Ph·∫£i s·ª≠a <code>code</code> th√™m ch√∫t n·ªØa:</p>
<pre><code>public class BoDoi{
    private EquipGun gun;
    public BoDoi(EquipGun anything){
      this.gun = anything // T·∫°o ra m·ªôt anh BoDoi, v·ªõi s√∫ng t√πy bi·∫øn
      // Kh√¥ng b·ªã ph·ª• thu·ªôc qu√° nhi·ªÅu v√†o th·ªùi ƒëi·ªÉm kh·ªüi t·∫°o, hay code.
    }
}

public class Main {
  public static void main(String[] args) {
    EquipGun AK47 = new AK47(); // T·∫°o ra ƒë·ªëi t∆∞·ª£ng AK47 ·ªü ngo√†i ƒë·ªëi t∆∞·ª£ng
    BoDoi truongAnhNgoc = new BoDoi(AK47); // Cho anh ƒëeo s√∫ng khi ƒë∆∞·ª£c kh·ªüi t·∫°o
  }
}
</code></pre>
<p>V·ªõi ƒëo·∫°n code ·ªü tr√™n, ch√∫ng ta ƒë√£_g·∫ßn nh∆∞ t√°ch ƒë∆∞·ª£c <code>AK47</code> ra ho√†n to√†n kh·ªèi <code>BoDoi</code>. ƒëi·ªÅu n√†y l√†m gi·∫£m s·ª± ph·ª• thu·ªôc gi·ªØa<code>BoDoi</code>v√†<code>AK47</code>. M√† tƒÉng t√≠nh t√πy bi·∫øn, linh ho·∫°t cho<code>code</code>.</p>
<p>B√¢y gi·ªù <code>BoDoi</code> s·∫Ω ho·∫°t ƒë·ªông v·ªõi <code>EquipGun</code> m√† th√¥i. V√† <code>EquipGun</code> ·ªü ƒë√¢u ra? Ch√∫ng ta t·∫°o ra v√† ƒë∆∞a n√≥ v√†o <code>(Inject)</code> anh <code>BoDoi</code>.</p>
<p>Kh√°i ni·ªám <code>Dependency Injection</code> t·ª´ ƒë√¢y m√† ra~</p>
<blockquote>
<p>Dependency Injection l√† vi·ªác c√°c Object n√™n ph·ª• thu·ªôc v√†o c√°c Abstract Class v√† th·ªÉ hi·ªán chi ti·∫øt c·ªßa n√≥ s·∫Ω ƒë∆∞·ª£c Inject v√†o ƒë·ªëi t∆∞·ª£ng l√∫c runtime.</p>
</blockquote>
<p>B√¢y gi·ªù mu·ªën <code>BoDoi</code> d√πng s√∫ng g√¨ kh√°c, b·∫°n ch·ªâ c·∫ßn t·∫°o m·ªôt Class k·∫ø th·ª´a <code>EquipGun</code> v√† <em>Inject</em> (d·ªãch l√† <em>Ti√™m v√†o</em> c≈©ng ƒë∆∞·ª£c) n√≥ v√†o <code>BoDoi</code> l√† xong!</p>
<p>C√°c c√°ch ƒë·ªÉ <em>Inject dependency</em> v√†o m·ªôt ƒë·ªëi t∆∞·ª£ng c√≥ th·ªÉ k·ªÉ ƒë·∫øn nh∆∞ sau:</p>
<ul>
<li>Constructor Injection: C√°i n√†y ch√≠nh l√† v√≠ d·ª• c·ªßa m√¨nh, ti√™m dependency ngay v√†o<code>Contructor</code> cho ti·ªán.</li>
<li>Setter Injection:  X√†i <code>BoDoi.setEquipGun(new P2000())</code> (Round ƒë·∫ßu ch·ªâ c·∫ßn P2000 th√¥i)</li>
<li>Interface Injection : M·ªói <code>Class</code> mu·ªën inject c√°i g√¨, th√¨ ph·∫£i <em>implement</em> m·ªôt<code>Interface</code> c√≥ ch·ª©a m·ªôt h√†m <code>inject(xx)</code> (G·∫ßn nh∆∞ thay th·∫ø cho setter √Ω b·∫°n). R·ªìi b·∫°n mu·ªën inject g√¨ ƒë√≥ th√¨ g·ªçi c√°i h√†m <code>inject(xx)</code> ra. C√°ch n√†y h∆°i d√†i v√† kh√≥ cho ng∆∞·ªùi m·ªõi.</li>
</ul>
<h3 id="inversion-of-control"><a class="header" href="#inversion-of-control">Inversion of Control</a></h3>
<p><code>Dependency Injection</code> gi√∫p ch√∫ng ta d·ªÖ d√†ng m·ªü r·ªông <code>code</code> v√† gi·∫£m s·ª± ph·ª• thu·ªôc gi·ªØa c√°c dependency v·ªõi nhau. Tuy nhi√™n, l√∫c n√†y, khi code b·∫°n s·∫Ω ph·∫£i ki√™m th√™m nhi·ªám v·ª• <code>Inject dependency (ti√™m s·ª± ph·ª• thu·ªôc)</code>. Th·ª≠ t∆∞·ªüng t∆∞·ª£ng m·ªôt <code>Class</code> c√≥ h√†ng ch·ª•c dependency th√¨ b·∫°n s·∫Ω ph·∫£i t·ª± tay inject t·ª´ng √Ω c√°i. Vi·ªác n√†y l·∫°i d·∫´n t·ªõi kh√≥ khƒÉn trong vi·ªác code, qu·∫£n l√Ω code v√† dependency</p>
<pre><code>public static void main(String[] args) {
    EquipGun AK47 = new AK47();
    AoChongDan gucci = new AoChongDan();
    MuBaoHiem muCoi = new MuBaoHiem();
    BoDoi truongAnhNgoc = new BoDoi(AK47, gucci, muCoi);
}
</code></pre>
<p>B√¢y gi·ªù gi·∫£ s·ª≠, ch√∫ng ta ƒë·ªãnh nghƒ©a tr∆∞·ªõc to√†n b·ªô c√°c <code>dependency</code> c√≥ trong Project, m√¥ t·∫£ n√≥ v√† t·ªëng n√≥ v√†o 1 c√°i <code>kho</code> v√† giao cho m·ªôt th·∫±ng t√™n l√† <code>framework</code> qu·∫£n l√Ω. B·∫•t k·ª≥ c√°c <code>Class</code> n√†o khi kh·ªüi t·∫°o, n√≥ c·∫ßn dependency g√¨, th√¨ c√°i <code>framework</code> n√†y s·∫Ω t·ª± t√¨m trong <code>kho</code> r·ªìi <em>inject</em> v√†o ƒë·ªëi t∆∞·ª£ng thay ch√∫ng ta. s·∫Ω ti·ªán h∆°n ph·∫£i kh√¥ng?</p>
<p>V√†, ƒë√≥ c≈©ng ch√≠nh l√† nguy√™n l√Ω ch√≠nh c·ªßa<code>Inversion of Control (IOC)</code>-<code>ƒê·∫£o chi·ªÅu s·ª± ƒëi·ªÅu khi·ªÉn</code></p>
<p>Nguy√™n vƒÉn Wiki:</p>
<blockquote>
<p>Inversion of Control is a programming principle. flow of control within the application is not controlled by the application itself, but rather by the underlying framework.</p>
</blockquote>
<p>Khi ƒë√≥, code ch√∫ng ta s·∫Ω ch·ªâ c·∫ßn nh∆∞ n√†y, ƒë·ªÉ l·∫•y ra 1 ƒë·ªëi t∆∞·ª£ng:</p>
<pre><code>@Override
public void run(String... args) throws Exception {
    BoDoi BoDoi = context.getBean(BoDoi.class);
}
</code></pre>
<p>ƒê·ªëi v·ªõi <code>Java</code> th√¨ c√≥ m·ªôt s·ªë Framework h·ªó tr·ª£ ch√∫ng ta<code>Inversion of Control (IOC)</code>. Th∆∞·ªùng th√¨ d√πng lu√¥n Spring framework. </p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="component-v√†-autowired"><a class="header" href="#component-v√†-autowired">@Component v√† @Autowired</a></h1>
<p><a href="https://viblo.asia/p/spring-boot-1-huong-dan-atcomponent-va-atautowired-E375zXvJZGW">ƒê∆∞·ªùng d·∫´n b√†i vi·∫øt</a></p>
<p>Th∆∞·ªùng th√¨ gi·ªù ƒë√£ c√≥ <a href="https://start.spring.io/">Spring Initializr</a> r·ªìi n√™n th√™m d·ª± √°n m·ªõi r·∫•t d·ªÖ!</p>
<h3 id="vi·ªác-ch·∫°y-·ª©ng-d·ª•ng-spring-boot"><a class="header" href="#vi·ªác-ch·∫°y-·ª©ng-d·ª•ng-spring-boot">Vi·ªác ch·∫°y ·ª©ng d·ª•ng Spring Boot</a></h3>
<p>Ch∆∞∆°ng tr√¨nh ch·∫°y ·ªü h√†m <code>main()</code> v√† c·∫ßn th√™m annotation <code>@SpringBootApplication</code> tr√™n class ch√≠nh v√† g·ªçi <code>SpringApplication.run(App.class, args);</code> ƒë·ªÉ ch·∫°y project (Cho Spring Boot bi·∫øt <code>main()</code> ·ªü ch·ªó n√†o). <code>SpringApplication.run(App.class, args)</code> ch√≠nh l√† c√¢u l·ªánh ƒë·ªÉ t·∫°o ra <em>container</em>. Sau ƒë√≥ n√≥ t√¨m to√†n b·ªô c√°c <em>dependency</em> trong project c·ªßa b·∫°n v√† ƒë∆∞a v√†o ƒë√≥.</p>
<pre><code class="language-java">import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.ApplicationContext;

@SpringBootApplication
public class App {
    public static void main(String[] args) {
        // ApplicationContext ch·ª©a to√†n b·ªô dependency trong project.
        SpringApplication.run(App.class, args);
    }
}
</code></pre>
<p>Spring ƒë·∫∑t t√™n cho:</p>
<ul>
<li><em>container</em> l√† <code>ApplicationContext</code></li>
<li><em>dependency</em> l√† <code>Bean</code> (ƒê·ªÉ bi·∫øt c√°i n√†o l√† <em>dependency</em> th√¨ d√πng <code>@Component</code>)</li>
</ul>
<h3 id="component"><a class="header" href="#component">@Component</a></h3>
<p>@Component l√† m·ªôt Annotation (ch√∫ th√≠ch) ƒë√°nh d·∫•u tr√™n c√°c Class ƒë·ªÉ gi√∫p Spring bi·∫øt n√≥ l√† m·ªôt Bean. </p>
<p>Trong qu√° tr√¨nh d√≤ c√°c <em>classes</em>, khi g·∫∑p m·ªôt class ƒë∆∞·ª£c ƒë√°nh d·∫•u <code>@Component</code> th√¨ n√≥ s·∫Ω t·∫°o ra m·ªôt instance v√† ƒë∆∞a v√†o <code>ApplicationContext</code> ƒë·ªÉ qu·∫£n l√Ω.</p>
<pre><code class="language-java">// ApplicationContext ch√≠nh l√† container, ch·ª©a to√†n b·ªô c√°c Bean
ApplicationContext context = SpringApplication.run(App.class, args);
// Khi ch·∫°y xong, l√∫c n√†y context s·∫Ω ch·ª©a c√°c Bean c√≥ ƒë√°nh
// d·∫•u @Component.
// L·∫•y Bean ra b·∫±ng c√°ch
Outfit outfit = context.getBean(Outfit.class);
// In ra ƒë·ªÉ xem th·ª≠ n√≥ l√† g√¨
System.out.println(&quot;Instance: &quot; + outfit);
// x√†i h√†m wear()
outfit.wear();
// Output
// [1] Instance: me.loda.spring.helloworld.Bikini@1e1f6d9d
// [2] M·∫∑c bikini
</code></pre>
<p>Danh s√°ch c√°c b∆∞·ªõc ƒë∆°n gi·∫£n l√†:</p>
<ol>
<li>Ch·∫°y <code>SpringApplication.run(App.class, args);</code></li>
<li>D√≤ t√¨m c√°c Classes c√πng c·∫•p.</li>
<li>Th·∫•y Class ƒë∆∞·ª£c ƒë√°nh d·∫•u b·∫±ng <code>@Component</code> th√¨ t·∫°o <code>new Customer()</code> ch·∫≥ng h·∫°n v√† ƒë∆∞a v√†o Context (Hay <code>ApplicationContext</code>)</li>
</ol>
<h3 id="autowired"><a class="header" href="#autowired">@Autowired</a></h3>
<pre><code>@Component
public class TuiXach {

    @Autowired
    Money tien;

    public TuiXach (Money tien) {
        this.tien = tien;
    }
}
</code></pre>
<p>T√¥i ƒë√°nh d·∫•u thu·ªôc t√≠nh <code>Money</code> (Ti·ªÅn) c·ªßa <code>TuiXach</code> (T√∫i x√°ch) b·ªüi Annotation <code>@Autowired</code>. ƒêi·ªÅu n√†y n√≥i v·ªõi Spring Boot h√£y t·ª± <em>inject</em> (ti√™m) m·ªôt instance c·ªßa <code>Money</code> v√†o thu·ªôc t√≠nh n√†y khi kh·ªüi t·∫°o <code>TuiXach</code> (Thu·ªôc t√≠nh ƒë∆∞·ª£c ƒë√°nh d·∫•u l√† <code>@Autowired</code> trong Class ƒë∆∞·ª£c ƒë√°nh d·∫•u l√† <code>Component</code>).</p>
<h3 id="singleton"><a class="header" href="#singleton">Singleton</a></h3>
<p>ƒêi·ªÅu ƒë·∫∑c bi·ªát l√† c√°c <code>Bean</code> ƒë∆∞·ª£c qu·∫£n l√Ω b√™n trong <code>ApplicationContext</code> ƒë·ªÅu l√† singleton.</p>
<p>T·∫•t c·∫£ nh·ªØng <code>Bean</code> ƒë∆∞·ª£c qu·∫£n l√Ω trong <code>ApplicationContext</code> ƒë·ªÅu ch·ªâ ƒë∆∞·ª£c t·∫°o ra m·ªôt l·∫ßn duy nh·∫•t v√† khi c√≥ <code>Class</code> y√™u c·∫ßu <code>@Autowired</code> th√¨ n√≥ s·∫Ω l·∫•y ƒë·ªëi t∆∞·ª£ng c√≥ s·∫µn trong <code>ApplicationContext</code> ƒë·ªÉ <em>inject</em> v√†o.</p>
<p>Trong tr∆∞·ªùng h·ª£p b·∫°n mu·ªën m·ªói l·∫ßn s·ª≠ d·ª•ng l√† m·ªôt instance ho√†n to√†n m·ªõi. Th√¨ h√£y ƒë√°nh d·∫•u <code>@Component</code> ƒë√≥ b·∫±ng <code>@Scope(&quot;prototype&quot;)</code></p>
<h3 id="inject-l√†-c√°i-qu√°i-g√¨-v·∫≠y"><a class="header" href="#inject-l√†-c√°i-qu√°i-g√¨-v·∫≠y">Inject l√† c√°i qu√°i g√¨ v·∫≠y?</a></h3>
<p>ƒê√¢y kh√¥ng ph·∫£i l√† ph·∫ßn h∆∞·ªõng d·∫´n c·ªßa loda, nh∆∞ng m√¨nh v·∫´n ch∆∞a hi·ªÉu <em>inject</em> (v·ªÅ c∆° b·∫£n nghƒ©a l√† ti√™m) l√† g√¨? Th·ª≠ l·∫•y v√≠ d·ª• v·ªÅ truy·ªÅn d·ªãch.</p>
<p><em>Truy·ªÅn n∆∞·ªõc bi·ªÉn c√≤n g·ªçi l√† truy·ªÅn d·ªãch l√† ph∆∞∆°ng ph√°p ƒë∆∞a nh·ªè gi·ªçt mu·ªëi v√† c√°c ch·∫•t ƒëi·ªán gi·∫£i v√†o c∆° th·ªÉ b·∫±ng ƒë∆∞·ªùng tƒ©nh m·∫°ch khi c√≥ ch·ªâ ƒë·ªãnh c·ªßa b√°c sƒ©.</em></p>
<p>Khi ƒë√≥ th√†nh c√°c <em>gi·ªçt mu·ªëi v√† c√°c ch·∫•t ƒëi·ªán gi·∫£i</em> s·∫Ω ƒë∆∞·ª£c <em>inject</em> v√† tr·ªü th√†nh <em>thu·ªôc t√≠nh</em> trong b·∫°n. M·ªói m·ªôt Class trong Java c≈©ng nh∆∞ b·∫°n, l√† m·ªôt <em>ƒë·ªëi t∆∞·ª£ng</em> (dm gi·∫£i th√≠ch ngu qu√° m√† t√≠nh l·∫•y v√≠ d·ª• Peter Park ƒë∆∞·ª£c nh·ªán ch√≠ch v√† th√†nh Spider Man th√¨ c√≥ ph·∫£i hay kh√¥ng???)</p>
<p><em>Dependency Injection</em> cho ph√©p &quot;inject&quot; (ti√™m) nh·ªØng dependencies v√†o m·ªôt ƒë·ªëi t∆∞·ª£ng. Thay v√¨ ƒë·ªëi t∆∞·ª£ng ph·∫£i t·ª± t·∫°o ra nh·ªØng Dependencies c·ªßa ch√≠nh n√≥. ƒêi·ªÅu n√†y s·∫Ω gi√∫p gi·∫£m kh·∫£ nƒÉng ph·ª• thu·ªôc gi·ªØa nh·ªØng th√†nh ph·∫ßn. # @Autowired - @Primary - @Qualifier</p>
<p>Trong b√†i vi·∫øt n√†y ch√∫ng ta s·∫Ω c√πng t√¨m hi·ªÉu c√°ch¬†<code>@Autow·ªâed</code>¬†v·∫≠n h√†nh v√† c√°ch s·ª≠ d·ª•ng 2 Annotation¬†<code>@Primary</code>,¬†<code>@Qualifier</code>.</p>
<h3 id="c√°ch-inject-bean-c·ªßa-spring"><a class="header" href="#c√°ch-inject-bean-c·ªßa-spring">C√°ch inject Bean c·ªßa Spring</a></h3>
<p><code>@Autowired</code>¬†ƒë√°nh d·∫•u cho Spring bi·∫øt r·∫±ng s·∫Ω t·ª± ƒë·ªông inject bean t∆∞∆°ng ·ª©ng v√†o v·ªã tr√≠ ƒë∆∞·ª£c ƒë√°nh d·∫•u.</p>
<pre><code>@Component
public class Girl {
    // ƒê√°nh d·∫•u ƒë·ªÉ Spring inject m·ªôt ƒë·ªëi t∆∞·ª£ng Outfit v√†o ƒë√¢y
    @Autowired
    Outfit outfit;

    // public Girl(Outfit outfit) {
    //     this.outfit = outfit;
    // }

    // GET
    // SET
}
</code></pre>
<p>Sau khi t√¨m th·∫•y m·ªôt class ƒë√°nh d·∫•u¬†<code>@Component</code>. th√¨ qu√° tr√¨nh inject¬†<code>Bean</code>¬†x·∫£y ra theo c√°ch nh∆∞ sau:</p>
<ol>
<li>N·∫øu¬†<code>Class</code>¬†kh√¥ng c√≥ h√†m Constructor hay Setter. Th√¨ s·∫Ω s·ª≠ d·ª•ng¬†Java Reflection¬†ƒë·ªÉ ƒë∆∞a ƒë·ªëi t∆∞·ª£ng v√†o thu·ªôc t√≠nh c√≥ ƒë√°nh d·∫•u¬†<code>@Autowired</code>.</li>
<li>N·∫øu c√≥ h√†m Constructor th√¨ s·∫Ω inject Bean v√†o b·ªüi tham s·ªë c·ªßa h√†m</li>
<li>N·∫øu c√≥ h√†m Setter th√¨ s·∫Ω inject Bean v√†o b·ªüi tham s·ªë c·ªßa h√†m</li>
</ol>
<p>Nh∆∞ v√≠ d·ª• ·ªü tr√™n t√¥i ƒë√£ s·ª≠ d·ª•ng c√°ch Java Reflection ƒë·ªÉ inject¬†<code>Bean</code>¬†v√†o class¬†<code>Girl</code>. </p>
<p>B·∫°n c≈©ng c√≥ th·ªÉ g·∫Øn¬†<code>@Autowired</code>¬†l√™n tr√™n method, thay v√¨ thu·ªôc t√≠nh, ch·ª©c nƒÉng c≈©ng v·∫´n t∆∞∆°ng t·ª±, n√≥ s·∫Ω t√¨m Bean ph√π h·ª£p v·ªõi method ƒë√≥ v√† truy·ªÅn v√†o.</p>
<pre><code class="language-java">@Component
public class Girl {

    // ƒê√°nh d·∫•u ƒë·ªÉ Spring inject m·ªôt ƒë·ªëi t∆∞·ª£ng Outfit v√†o ƒë√¢y
    @Autowired
    Outfit outfit;

    // Spring s·∫Ω inject outfit th√¥ng qua Constructor tr∆∞·ªõc
    public Girl() { }

    // N·∫øu kh√¥ng t√¨m th·∫•y Constructor tho·∫£ m√£n, n√≥ s·∫Ω th√¥ng qua setter
    public void setOutfit(Outfit outfit) {
        this.outfit = outfit;
    }

    @Autowired
    // N·∫øu kh√¥ng t√¨m th·∫•y Constructor tho·∫£ m√£n, n√≥ s·∫Ω th√¥ng qua setter, 
    // n·∫øu v th√¨ ƒë·ª´ng g·∫Øn Autowired ·ªü properties ·ªü tr√™n nha
    public void setOutfit(Outfit outfit) {
        this.outfit = outfit;
    }

    // GET
    // SET
}
</code></pre>
<p>N·∫øu kh√¥ng s·ª≠ d·ª•ng¬†<code>@Autowired</code>¬†th√¨ b·∫°n ph·∫£i c√≥ m·ªôt Constructor thay th·∫ø, ho·∫∑c m·ªôt Setter t∆∞∆°ng ·ª©ng. Kh√° nhi·ªÅu c√°c ƒë·ªìng ch√≠ g·ª£i √Ω kh√¥ng d√πng <code>@Autowired</code> v√† thay th·∫ø b·∫±ng:</p>
<pre><code class="language-java">@Component
public class Calculator {
   private Multiplier multiplier;
   // C√°i l√†y l√† constructor
   public Calculator(Multiplier multiplier) {
      this.multiplier = multiplier;
   }
}
</code></pre>
<h3 id="v·∫•n-ƒë·ªÅ-c·ªßa-autowired"><a class="header" href="#v·∫•n-ƒë·ªÅ-c·ªßa-autowired">V·∫•n ƒë·ªÅ c·ªßa @Autowired</a></h3>
<p>Trong th·ª±c t·∫ø, s·∫Ω c√≥ tr∆∞·ªùng h·ª£p ch√∫ng ta s·ª≠ d·ª•ng¬†<code>@Autowired</code>¬†khi¬†<strong>Spring Boot</strong>¬†c√≥ ch·ª©a 2 Bean c√πng lo·∫°i trong Context. L√∫c n√†y th√¨¬†<strong>Spring</strong>¬†s·∫Ω b·ªëi r·ªëi v√† kh√¥ng bi·∫øt s·ª≠ d·ª•ng Bean n√†o ƒë·ªÉ inject v√†o ƒë·ªëi t∆∞·ª£ng.</p>
<h3 id="primary"><a class="header" href="#primary"><strong>@Primary</strong></a></h3>
<p>C√°ch gi·∫£i quy·∫øt th·ª© nh·∫•t l√† s·ª≠ d·ª•ng Annotation¬†<code>@Primary</code>. <code>@Primary</code>¬†l√† annotation ƒë√°nh d·∫•u tr√™n m·ªôt Bean, gi√∫p n√≥¬†<strong>lu√¥n ƒë∆∞·ª£c ∆∞u ti√™n l·ª±a</strong>¬†ch·ªçn trong tr∆∞·ªùng h·ª£p c√≥ nhi·ªÅu Bean c√πng lo·∫°i trong Context.</p>
<p>Trong v√≠ d·ª• ·ªü tr√™n, n·∫øu ch√∫ng ta ƒë·ªÉ¬†<code>Suit</code>¬†l√† primary. Th√¨ ch∆∞∆°ng tr√¨nh s·∫Ω ch·∫°y b√¨nh th∆∞·ªùng. V√† hi·ªÉn nhi√™n¬†<code>Outfit</code>¬†b√™n trong¬†<code>Girl</code>¬†s·∫Ω l√†¬†<code>Suit</code>.</p>
<p>Ch·∫°y th·ª≠ ch∆∞∆°ng tr√¨nh:</p>
<pre><code class="language-java">// ===========================================================================
@Component
@Primary
public class Suit implements Outfit {
    @Override
    public void wear() {
        System.out.println(&quot;ƒêang m·∫∑c √¢u ph·ª•c&quot;);
    }
}
// ===========================================================================
@SpringBootApplication
public class App {
    public static void main(String[] args) {
        // ApplicationContext ch√≠nh l√† container, ch·ª©a to√†n b·ªô c√°c Bean
        ApplicationContext context = SpringApplication.run(App.class, args);
        // Khi ch·∫°y xong, l√∫c n√†y context s·∫Ω ch·ª©a c√°c Bean c√≥ ƒë√°nh
        // d·∫•u @Component.
        Girl girl = context.getBean(Girl.class);
        System.out.println(&quot;Girl Instance: &quot; + girl);
        System.out.println(&quot;Girl Outfit: &quot; + girl.outfit);
        girl.outfit.wear();
    }
}
// ===========================================================================
// Output:
// Girl Instance: me.loda.spring.helloprimaryqualifier.Girl@eb9a089
// Girl Outfit: me.loda.spring.helloprimaryqualifier.Naked@1688653c
// ƒêang m·∫∑c √¢u ph·ª•c
</code></pre>
<h3 id="qualifier"><a class="header" href="#qualifier"><strong>@Qualifier</strong></a></h3>
<p>C√°ch th·ª© hai, l√† s·ª≠ d·ª•ng Annotation¬†<code>@Qualifier</code>. <code>@Qualifier</code>¬†x√°c ƒë·ªãnh t√™n c·ªßa m·ªôt Bean m√† b·∫°n mu·ªën ch·ªâ ƒë·ªãnh inject.</p>
<p>V√≠ d·ª•:</p>
<pre><code class="language-java">@Component(&quot;suit&quot;)
public class Suit implements Outfit {
    @Override
    public void wear() {
        System.out.println(&quot;M·∫∑c √¢u ph·ª•c&quot;);
    }
}

// ==============================================
@Component
public class Girl {

    Outfit outfit;

    // ƒê√°nh d·∫•u ƒë·ªÉ Spring inject m·ªôt ƒë·ªëi t∆∞·ª£ng Outfit v√†o ƒë√¢y
    public Girl(@Qualifier(&quot;suit&quot;) Outfit outfit) {
        // Spring s·∫Ω inject outfit th√¥ng qua Constructor ƒë·∫ßu ti√™n
        // Ngo√†i ra, n√≥ s·∫Ω t√¨m Bean c√≥ @Qualifier(&quot;naked&quot;) trong context ƒë·ªÉ ·ªãnject
        this.outfit = outfit;
    }
    // GET
    // SET
}
```# Spring Bean Life Cycle + @PostConstruct v√† @PreDestroy

T√¨m hi·ªÉu v·ªÅ v√≤ng ƒë·ªùi c·ªßa Bean

### @PostConstruct

`@PostConstruct`¬†ƒë∆∞·ª£c ƒë√°nh d·∫•u tr√™n m·ªôt method duy nh·∫•t b√™n trong¬†`Bean`.¬†

`IoC Container`¬†ho·∫∑c¬†`ApplicationContext`¬†s·∫Ω g·ªçi h√†m n√†y¬†sau khi¬†m·ªôt¬†`Bean`¬†ƒë∆∞·ª£c t·∫°o ra v√† qu·∫£n l√Ω.

</code></pre>
<p>@Component
public class Girl {</p>
<pre><code>@PostConstruct
public void postConstruct(){
    System.out.println(&quot;\t&gt;&gt; ƒê·ªëi t∆∞·ª£ng Girl sau khi kh·ªüi t·∫°o xong s·∫Ω ch·∫°y h√†m n√†y&quot;);
}
</code></pre>
<p>}</p>
<pre><code>
### @PreDestroy

`@PreDestroy`¬†ƒë∆∞·ª£c ƒë√°nh d·∫•u tr√™n m·ªôt method duy nh·∫•t b√™n trong¬†`Bean`.¬†

`IoC Container`¬†ho·∫∑c¬†`ApplicationContext`¬†s·∫Ω g·ªçi h√†m n√†y¬†tr∆∞·ªõc khi¬†m·ªôt¬†`Bean`¬†b·ªã x√≥a ho·∫∑c kh√¥ng ƒë∆∞·ª£c qu·∫£n l√Ω n·ªØa.

</code></pre>
<p>@Component
public class Girl {</p>
<pre><code>@PreDestroy
public void preDestroy(){
    System.out.println(&quot;\t&gt;&gt; ƒê·ªëi t∆∞·ª£ng Girl tr∆∞·ªõc khi b·ªã destroy th√¨ ch·∫°y h√†m n√†y&quot;);
}
</code></pre>
<p>}</p>
<pre><code>
### Bean Life Cycle

Spring Boot¬†t·ª´ th·ªùi ƒëi·ªÉm ch·∫°y l·∫ßn ƒë·∫ßu t·ªõi khi¬†_shutdown_¬†th√¨ c√°c¬†`Bean`¬†n√≥ qu·∫£n l√Ω s·∫Ω c√≥ m·ªôt v√≤ng ƒë·ªùi ƒë∆∞·ª£c bi·ªÉu di·ªÖn nh∆∞ ·∫£nh d∆∞·ªõi ƒë√¢y.

![](https://images.viblo.asia/2380e7ca-0b97-4be3-9054-27430b29e150.jpg)

Nh√¨n c√≥ v·∫ª lo·∫±ng ngo·∫±ng, trong series cƒÉn b·∫£n n√†y, b·∫°n c√≥ l·∫Ω s·∫Ω ch·ªâ c·∫ßn hi·ªÉu nh∆∞ sau:

1. Khi¬†`IoC Container`¬†(`ApplicationContext`) t√¨m th·∫•y m·ªôt Bean c·∫ßn qu·∫£n l√Ω, n√≥ s·∫Ω kh·ªüi t·∫°o b·∫±ng¬†`Constructor`.
2. inject dependencies v√†o¬†`Bean`¬†b·∫±ng Setter, v√† th·ª±c hi·ªán c√°c qu√° tr√¨nh c√†i ƒë·∫∑t kh√°c v√†o¬†`Bean`¬†nh∆∞¬†`setBeanName`,¬†`setBeanClassLoader`, v.v..
3. H√†m ƒë√°nh d·∫•u¬†`@PostConstruct`¬†ƒë∆∞·ª£c g·ªçi
4. Ti·ªÅn x·ª≠ l√Ω sau khi¬†`@PostConstruct`¬†ƒë∆∞·ª£c g·ªçi.
5. `Bean`¬†s·∫µn s√†ng ƒë·ªÉ ho·∫°t ƒë·ªông
6. N·∫øu¬†`IoC Container`¬†kh√¥ng qu·∫£n l√Ω bean n·ªØa ho·∫∑c b·ªã shutdown n√≥ s·∫Ω g·ªçi h√†m¬†`@PreDestroy`¬†trong¬†`Bean`
7. X√≥a¬†`Bean`.

### V√≠ d·ª•

Ch√∫ng ta t·∫°o ra class¬†`Girl`¬†bao g·ªìm:

```java
import org.springframework.stereotype.Component;
import javax.annotation.PostConstruct;
import javax.annotation.PreDestroy;

@Component
public class Girl {

    @PostConstruct
    public void postConstruct(){
        System.out.println(&quot;\t&gt;&gt; ƒê·ªëi t∆∞·ª£ng Girl sau khi kh·ªüi t·∫°o xong s·∫Ω ch·∫°y h√†m n√†y&quot;);
    }

    @PreDestroy
    public void preDestroy(){
        System.out.println(&quot;\t&gt;&gt; ƒê·ªëi t∆∞·ª£ng Girl tr∆∞·ªõc khi b·ªã destroy th√¨ ch·∫°y h√†m n√†y&quot;);
    }
}
</code></pre>
<p>In ra m√†n h√¨nh qu√° Spring Boot ch·∫°y l·∫ßn ƒë·∫ßu cho t·ªõi khi shutdown:</p>
<pre><code class="language-java">import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.ApplicationContext;
import org.springframework.context.ConfigurableApplicationContext;

@SpringBootApplication
public class App {
    public static void main(String[] args) {
        // ApplicationContext ch√≠nh l√† container, ch·ª©a to√†n b·ªô c√°c Bean
        System.out.println(&quot;&gt; Tr∆∞·ªõc khi IoC Container ƒë∆∞·ª£c kh·ªüi t·∫°o&quot;);
        ApplicationContext context = SpringApplication.run(App.class, args);
        System.out.println(&quot;&gt; Sau khi IoC Container ƒë∆∞·ª£c kh·ªüi t·∫°o&quot;);
        // Khi ch·∫°y xong, l√∫c n√†y context s·∫Ω ch·ª©a c√°c Bean c√≥ ƒë√°nh
        // d·∫•u @Component.
        Girl girl = context.getBean(Girl.class);
        System.out.println(&quot;&gt; Tr∆∞·ªõc khi IoC Container destroy Girl&quot;);
        ((ConfigurableApplicationContext) context).getBeanFactory().destroyBean(girl);
        System.out.println(&quot;&gt; Sau khi IoC Container destroy Girl&quot;);

    }
}
</code></pre>
<p>Output:</p>
<pre><code>&gt; Tr∆∞·ªõc khi IoC Container ƒë∆∞·ª£c kh·ªüi t·∫°o
&gt; Tr∆∞·ªõc khi IoC Container ƒë∆∞·ª£c kh·ªüi t·∫°o
	&gt;&gt; ƒê·ªëi t∆∞·ª£ng Girl sau khi kh·ªüi t·∫°o xong s·∫Ω ch·∫°y h√†m n√†y
&gt; Sau khi IoC Container ƒë∆∞·ª£c kh·ªüi t·∫°o
&gt; Tr∆∞·ªõc khi IoC Container destroy Girl
	&gt;&gt; ƒê·ªëi t∆∞·ª£ng Girl tr∆∞·ªõc khi b·ªã destroy th√¨ ch·∫°y h√†m n√†y
&gt; Sau khi IoC Container destroy Girl
</code></pre>
<p>B·∫°n s·∫Ω th·∫•y d√≤ng¬†<em>&quot;Tr∆∞·ªõc khi IoC Container ƒë∆∞·ª£c kh·ªüi t·∫°o&quot;</em>¬†ƒë∆∞·ª£c ch·∫°y 2 l·∫ßn. ƒêi·ªÅu n√†y x·∫£y ra b·ªüi v√¨ h√†m¬†App.main(args)¬†ƒë∆∞·ª£c ch·∫°y 2 l·∫ßn!</p>
<p>L·∫ßn ƒë·∫ßu l√† do ch√∫ng ta ch·∫°y. L·∫ßn th·ª© hai l√† do¬†Spring Boot¬†ch·∫°y sau khi n√≥ ƒë∆∞·ª£c g·ªçi¬†<code>SpringApplication.run(App.class, args)</code>. ƒê√¢y l√† l√∫c m√†¬†IoC Container¬†(<code>ApplicationContext</code>) ƒë∆∞·ª£c t·∫°o ra v√† ƒëi t√¨m¬†<code>Bean</code>.</p>
<h3 id="√ù-nghƒ©a"><a class="header" href="#√ù-nghƒ©a">√ù nghƒ©a.</a></h3>
<p><code>@PostConstruct</code>¬†v√†¬†<code>@PreDestroy</code>¬†l√† 2 Annotation c·ª±c k·ª≥ √Ω nghƒ©a, n·∫øu b·∫°n n·∫Øm ƒë∆∞·ª£c v√≤ng ƒë·ªùi c·ªßa m·ªôt¬†<code>Bean</code>, b·∫°n c√≥ th·ªÉ t·∫≠n d·ª•ng n√≥ ƒë·ªÉ l√†m c√°c nhi·ªám v·ª• ri√™ng nh∆∞ setting, th√™m gi√° tr·ªã m·∫∑c ƒë·ªãnh trong thu·ªôc t√≠nh sau khi t·∫°o, x√≥a d·ªØ li·ªáu tr∆∞·ªõc khi x√≥a, v.v.. R·∫•t nhi·ªÅu ch·ª©c nƒÉng kh√°c t√πy theo nhu c·∫ßu.# @Component vs @Service vs @Repository</p>
<h3 id="ki·∫øn-tr√∫c-trong-spring-boot"><a class="header" href="#ki·∫øn-tr√∫c-trong-spring-boot">Ki·∫øn tr√∫c trong Spring Boot</a></h3>
<p>Ki·∫øn tr√∫c MVC trong Spring Boot ƒë∆∞·ª£c x√¢y d·ª±ng d·ª±a tr√™n t∆∞ t∆∞·ªüng &quot;ƒë·ªôc l·∫≠p&quot; k·∫øt h·ª£p v·ªõi c√°c nguy√™n l√Ω thi·∫øt k·∫ø h∆∞·ªõng ƒë·ªëi t∆∞·ª£ng (m·ªôt ƒë·∫°i di·ªán ti√™u bi·ªÉu l√† Dependency Inversion). </p>
<p>ƒê·ªôc l·∫≠p ·ªü ƒë√¢y √°m ch·ªâ vi·ªác c√°c layer ph·ª•c v·ª• c√°c m·ª•c ƒë√≠ch nh·∫•t ƒë·ªãnh, khi mu·ªën th·ª±c hi·ªán m·ªôt c√¥ng vi·ªác ngo√†i ph·∫°m vi th√¨ s·∫Ω ƒë∆∞a c√¥ng vi·ªác xu·ªëng c√°c layer th·∫•p h∆°n.</p>
<p>Ki·∫øn tr√∫c Controller - Service - Repository chia project th√†nh 3 l·ªõp:</p>
<ul>
<li>Consumer Layer hay Controller:¬†l√† t·∫ßng giao ti·∫øp v·ªõi b√™n ngo√†i v√† handler c√°c request t·ª´ b√™n ngo√†i t·ªõi h·ªá th·ªëng.</li>
<li>Service Layer:¬†Th·ª±c hi·ªán c√°c nghi·ªáp v·ª• v√† x·ª≠ l√Ω logic</li>
<li>Repository Layer: Ch·ªãu tr√°ch nhi·ªám giao ti·∫øp v·ªõi c√°c DB, thi·∫øt b·ªã l∆∞u tr·ªØ, x·ª≠ l√Ω query v√† tr·∫£ v·ªÅ c√°c ki·ªÉu d·ªØ li·ªáu m√† t·∫ßng Service y√™u c·∫ßu.</li>
</ul>
<h3 id="controller-vs-service-vs-repository"><a class="header" href="#controller-vs-service-vs-repository">@Controller vs @Service vs @Repository</a></h3>
<p>ƒê·ªÉ ph·ª•c v·ª• cho ki·∫øn tr√∫c ·ªü tr√™n,¬†Spring Boot¬†t·∫°o ra 3 Annotation l√†¬†<code>@Controller</code>,¬†<code>@Service</code>, <code>@Repository</code>¬†ƒë·ªÉ ch√∫ng ta c√≥ th·ªÉ ƒë√°nh d·∫•u c√°c t·∫ßng v·ªõi nhau.</p>
<ul>
<li><code>@Service</code>¬†ƒê√°nh d·∫•u m·ªôt Class l√† t·∫ßng Service, ph·ª•c v·ª• c√°c logic nghi·ªáp v·ª•.</li>
<li><code>@Repository</code>¬†ƒê√°nh d·∫•u m·ªôt Class L√† t·∫ßng Repository, ph·ª•c v·ª• truy xu·∫•t d·ªØ li·ªáu.</li>
</ul>
<h3 id="implement"><a class="header" href="#implement">Implement</a></h3>
<p>Ch·∫°y ch∆∞∆°ng tr√¨nh:</p>
<pre><code class="language-java">import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.ApplicationContext;

@SpringBootApplication
public class App {

    public static void main(String[] args) {
        ApplicationContext context = SpringApplication.run(App.class, args);

        // L·∫•y ra bean GirlService
        GirlService girlService = context.getBean(GirlService.class);
        // L·∫•u ra random m·ªôt c√¥ g√°i t·ª´ t·∫ßng service
        Girl girl = girlService.getRandomGirl();
        // In ra m√†n h√¨nh
        System.out.println(girl);

    }
}
</code></pre>
<h3 id="gi·∫£i-th√≠ch"><a class="header" href="#gi·∫£i-th√≠ch">Gi·∫£i th√≠ch</a></h3>
<p>V·ªÅ b·∫£n ch·∫•t¬†<code>@Service</code>¬†v√†¬†<code>@Repository</code>¬†c≈©ng ch√≠nh l√†¬†<code>@Component</code>. Nh∆∞ng ƒë·∫∑t t√™n kh√°c nhau ƒë·ªÉ gi√∫p ch√∫ng ta ph√¢n bi·ªát c√°c t·∫ßng v·ªõi nhau.</p>
<p>C√πng nh√¨n v√†o source code c·ªßa 2 Annotation n√†y:</p>
<p><em>Service.java</em></p>
<pre><code class="language-java">@Target({ElementType.TYPE})
@Retention(RetentionPolicy.RUNTIME)
@Documented
@Component // C≈©ng l√† m·ªôt @Component
public @interface Service {
    @AliasFor(
        annotation = Component.class
    )
    String value() default &quot;&quot;;
}
</code></pre>
<p><em>Repository.java</em></p>
<pre><code class="language-java">@Target({ElementType.TYPE})
@Retention(RetentionPolicy.RUNTIME)
@Documented
@Component
public @interface Repository {
    @AliasFor(
        annotation = Component.class
    )
    String value() default &quot;&quot;;
}
</code></pre>
<p>Trong c√°c b√†i ƒë·∫ßu ti√™n ch√∫ng ta ƒë√£ bi·∫øt¬†<code>@Component</code>¬†ƒë√°nh d·∫•u cho Spring Boot bi·∫øt Class ƒë√≥ l√†¬†<code>Bean</code>. V√† hi·ªÉn nhi√™n¬†<code>@Service</code>¬†v√†¬†<code>@Repository</code>¬†c≈©ng v·∫≠y. V√¨ th·∫ø ·ªü v√≠ d·ª• tr√™n ch√∫ng ta c√≥ th·ªÉ l·∫•y¬†<code>GirlService</code>¬†t·ª´¬†<code>ApplicationContext</code>. V·ªÅ b·∫£n ch·∫•t th√¨ b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng thay th·∫ø 3 Annotation¬†<code>@Component</code>,¬†<code>@Service</code>¬†v√†¬†<code>@Repository</code>¬†cho nhau m√† kh√¥ng ·∫£nh h∆∞·ªüng g√¨ t·ªõi code c·ªßa b·∫°n c·∫£. N√≥ v·∫´n s·∫Ω ho·∫°t ƒë·ªông.</p>
<p>Tuy nhi√™n t·ª´ g√≥c ƒë·ªô thi·∫øt k·∫ø th√¨ ch√∫ng ta c·∫ßn ph√¢n r√µ 3 Annotation n√†y cho c√°c Class ƒë·∫£m nhi·ªám ƒë√∫ng nhi·ªám v·ª• c·ªßa n√≥.</p>
<ul>
<li><code>@Service</code>¬†g·∫Øn cho c√°c¬†<code>Bean</code>¬†ƒë·∫£m nhi·ªám x·ª≠ l√Ω logic</li>
<li><code>@Repository</code>¬†g·∫Øn cho c√°c¬†<code>Bean</code>¬†ƒë·∫£m nhi·ªám giao ti·∫øp v·ªõi DB</li>
<li><code>@Component</code>¬†g·∫Øn cho c√°c¬†<code>Bean</code>¬†kh√°c.</li>
</ul>
<h1 id="component-scan-l√†-g√¨"><a class="header" href="#component-scan-l√†-g√¨">Component Scan l√† g√¨?</a></h1>
<p>Ch√∫ng ta s·∫Ω t√¨m hi·ªÉu th√™m v·ªÅ c√°ch¬†Spring Boot¬†t√¨m ki·∫øm¬†<code>Bean</code>¬†trong project c·ªßa b·∫°n nh∆∞ th·∫ø n√†o.</p>
<h3 id="component-scan"><a class="header" href="#component-scan">Component Scan</a></h3>
<p>Trong¬†b√†i 1¬†t√¥i c√≥ ƒë·ªÅ c·∫≠p m·ªôt l·∫ßn v·ªÅ vi·ªác¬†Spring Boot¬†khi ch·∫°y s·∫Ω d√≤ t√¨m to√†n b·ªô c√°c¬†<em>Class c√πng c·∫•p</em>¬†ho·∫∑c ·ªü trong c√°c¬†<em>package th·∫•p h∆°n</em>¬†v√† t·∫°o ra Bean t·ª´ c√°c Class t√¨m th·∫•y.</p>
<p>Trong tr∆∞·ªùng h·ª£p b·∫°n mu·ªën tu·ª≥ ch·ªânh c·∫•u h√¨nh cho¬†Spring Boot¬†ch·ªâ t√¨m ki·∫øm c√°c bean trong m·ªôt package nh·∫•t ƒë·ªãnh th√¨ c√≥ c√°c c√°ch sau ƒë√¢y:</p>
<ol>
<li>S·ª≠ d·ª•ng¬†<code>@ComponentScan</code></li>
<li>S·ª≠ d·ª•ng¬†<code>scanBasePackages</code>¬†tromg¬†<code>@SpringBootApplication</code>.</li>
</ol>
<p>B·∫°n c√≥ th·ªÉ c·∫•u h√¨nh cho¬†Spring Boot¬†T√¨m ki·∫øm c√°c Bean ·ªü nhi·ªÅu package kh√°c nhau b·∫±ng c√°ch</p>
<h3 id="c√°ch-1componentscan"><a class="header" href="#c√°ch-1componentscan">C√°ch 1:<code>@ComponentScan</code></a></h3>
<pre><code class="language-java">@ComponentScan(&quot;me.loda.spring.componentscan.others&quot;)
// T√¨m nhi·ªÅu package kh√°c nhau
// @ComponentScan({&quot;me.loda.spring.componentscan.others2&quot;,&quot;me.loda.spring.componentscan.others&quot;})

@SpringBootApplication
public class App {
    ...
}
</code></pre>
<h3 id="c√°ch-2scanbasepackages"><a class="header" href="#c√°ch-2scanbasepackages">C√°ch 2:<code>scanBasePackages</code></a></h3>
<pre><code class="language-java">@SpringBootApplication(scanBasePackages = &quot;me.loda.spring.componentscan.others&quot;)
// T√¨m nhi·ªÅu package kh√°c nhau
// @SpringBootApplication(scanBasePackages = {&quot;me.loda.spring.componentscan.others&quot;, &quot;me.loda.spring.componentscan.others2&quot;})
public class App {
  ...
}
</code></pre>
<p>C·∫£ 2 c√°ch ƒë·ªÅu cho k·∫øt qu·∫£ in ra m√†n h√¨nh nh∆∞ sau:</p>
<pre><code>Bean Girl kh√¥ng t·ªìn t·∫°i
Bean: OtherGirl.java
</code></pre>
<p>L√∫c n√†y,¬†Spring Boot¬†ch·ªâ t√¨m ki·∫øm c√°c bean trong package¬†<code>others</code>¬†m√† th√¥i. N√™n khi l·∫•y ra¬†<code>Girl</code>¬†th√¨ n√≥ kh√¥ng t·ªìn t·∫°i trong¬†<code>Context</code>.</p>
<h1 id="configuration-v√†-bean"><a class="header" href="#configuration-v√†-bean">@Configuration v√† @Bean</a></h1>
<h3 id="configuration-v√†-bean-1"><a class="header" href="#configuration-v√†-bean-1">@Configuration v√† @Bean</a></h3>
<p><code>@Configuration</code>¬†l√† m·ªôt Annotation ƒë√°nh d·∫•u tr√™n m·ªôt¬†<code>Class</code>¬†cho ph√©p¬†Spring Boot¬†bi·∫øt ƒë∆∞·ª£c ƒë√¢y l√† n∆°i ƒë·ªãnh nghƒ©a ra c√°c¬†<em>Bean</em>.</p>
<p><code>@Bean</code>¬†l√† m·ªôt Annotation ƒë∆∞·ª£c ƒë√°nh d·∫•u tr√™n c√°c¬†<code>method</code>¬†cho ph√©p¬†Spring Boot¬†bi·∫øt ƒë∆∞·ª£c ƒë√¢y l√†¬†<em>Bean</em>¬†v√† s·∫Ω th·ª±c hi·ªán ƒë∆∞a¬†<em>Bean</em>¬†n√†y v√†o¬†<code>Context</code>.</p>
<p><code>@Bean</code>¬†s·∫Ω n·∫±m trong c√°c class c√≥ ƒë√°nh d·∫•u¬†<code>@Configuration</code>.</p>
<p>V√≠ d·ª•:</p>
<p><em>SimpleBean.java</em></p>
<pre><code class="language-java">// M·ªôt class c∆° b·∫£n, kh√¥ng s·ª≠ d·ª•ng `@Component`

public class SimpleBean {
    private String username;

    public SimpleBean(String username) {
        setUsername(username);
    }

    @Override
    public String toString() {
        return &quot;This is a simple bean, name: &quot; + username;
    }
}
</code></pre>
<p><em>AppConfig.java</em></p>
<pre><code class="language-java">import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

@Configuration
public class AppConfig {
    @Bean
    SimpleBean simpleBeanConfigure(){
        // Kh·ªüi t·∫°o m·ªôt instance c·ªßa SimpleBean v√† tr·∫£ ra ngo√†i
        return new SimpleBean(&quot;loda&quot;);
    }
}
</code></pre>
<p><em>App.java</em></p>
<pre><code class="language-java">import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.ApplicationContext;

@SpringBootApplication
public class App {
    public static void main(String[] args) {
        ApplicationContext context = SpringApplication.run(App.class, args);
        // L·∫•y ra bean SimpleBean trong Context
        SimpleBean simpleBean = context.getBean(SimpleBean.class);
        // In ra m√†n h√¨nh
        System.out.println(&quot;Simple Bean Example: &quot; + simpleBean.toString());
        // OUTPUT: Simple Bean Example: This is a simple bean, name: loda
    }
}
</code></pre>
<p>B·∫°n s·∫Ω th·∫•y l√†¬†<code>SimpleBean</code>¬†l√† m·ªôt object ƒë∆∞·ª£c qu·∫£n l√Ω trong¬†<code>Context</code>¬†c·ªßa¬†Spring Boot, m·∫∑c d√π trong b√†i n√†y, ch√∫ng ta kh√¥ng h·ªÅ s·ª≠ d·ª•ng t·ªõi c√°c kh√°i ni·ªám¬†<code>@Component</code>.</p>
<h3 id="ho·∫°t-ƒë·ªông-n·ªÅn"><a class="header" href="#ho·∫°t-ƒë·ªông-n·ªÅn">Ho·∫°t ƒë·ªông n·ªÅn</a></h3>
<p>ƒê·∫±ng sau ch∆∞∆°ng tr√¨nh,¬†Spring Boot¬†l·∫ßn ƒë·∫ßu kh·ªüi ch·∫°y, ngo√†i vi·ªác ƒëi t√¨m c√°c¬†<code>@Component</code>¬†th√¨ n√≥ c√≤n l√†m m·ªôt nhi·ªám v·ª• n·ªØa l√† t√¨m c√°c class¬†<code>@Configuration</code>.</p>
<ol>
<li>ƒêi t√¨m class c√≥ ƒë√°nh d·∫•u¬†<code>@Configuration</code></li>
<li>T·∫°o ra ƒë·ªëi t∆∞·ª£ng t·ª´ class c√≥ ƒë√°nh d·∫•u¬†<code>@Configuration</code></li>
<li>t√¨m c√°c method c√≥ ƒë√°nh d·∫•u¬†<code>@Bean</code>¬†trong ƒë·ªëi t∆∞·ª£ng v·ª´a t·∫°o</li>
<li>Th·ª±c hi·ªán g·ªçi c√°c method c√≥ ƒë√°nh d·∫•u¬†<code>@Bean</code>¬†ƒë·ªÉ l·∫•y ra c√°c¬†<em>Bean</em>¬†v√† ƒë∆∞a v√†o `Context.</li>
</ol>
<p>Ngo√†i ra, v·ªÅ b·∫£n ch·∫•t,¬†<code>@Configuration</code>¬†c≈©ng l√†¬†<code>@Component</code>. N√≥ ch·ªâ kh√°c ·ªü √Ω nghƒ©a s·ª≠ d·ª•ng. (Gi·ªëng v·ªõi vi·ªác class ƒë∆∞·ª£c ƒë√°nh d·∫•u¬†<code>@Service</code>¬†ch·ªâ n√™n ph·ª•c v·ª• logic v·∫≠y).</p>
<pre><code class="language-java">@Target({ElementType.TYPE})
@Retention(RetentionPolicy.RUNTIME)
@Documented
@Component // N√≥ ƒë∆∞·ª£c ƒë√°nh d·∫•u l√† Component
public @interface Configuration {
    @AliasFor(
        annotation = Component.class
    )
    String value() default &quot;&quot;;
}
</code></pre>
<h3 id="c√≥-√Ω-nghƒ©a-g√¨"><a class="header" href="#c√≥-√Ω-nghƒ©a-g√¨">C√≥ √Ω nghƒ©a g√¨?</a></h3>
<p>Nhi·ªÅu b·∫°n s·∫Ω t·ª± h·ªèi r·∫±ng¬†<code>@Configuration</code>¬†v√†¬†<code>@Bean</code>¬†s·∫Ω c√≥ √Ω nghƒ©a g√¨ khi ch√∫ng ta ƒë√£ c√≥¬†<code>@Component</code>? Sao kh√¥ng ƒë√°nh d·∫•u¬†<code>SimpleBean</code>¬†l√†¬†<code>@Component</code>¬†cho nhanh?</p>
<p>C√°c b·∫°n th·∫Øc m·∫Øc r·∫•t ƒë√∫ng, v√† vi·ªác s·ª≠ d·ª•ng¬†<code>@Component</code>¬†c≈©ng ho√†n to√†n ·ªïn.</p>
<p>Th√¥ng th∆∞·ªùng th√¨ c√°c class ƒë∆∞·ª£c ƒë√°nh d·∫•u¬†<code>@Component</code>¬†ƒë·ªÅu c√≥ th·ªÉ t·∫°o t·ª± ƒë·ªông v√† inject t·ª± ƒë·ªông ƒë∆∞·ª£c.</p>
<p>Tuy nhi√™n trong th·ª±c t·∫ø, n·∫øu m·ªôt¬†<code>Bean</code>¬†c√≥ qu√° nhi·ªÅu logic ƒë·ªÉ kh·ªüi t·∫°o v√† c·∫•u h√¨nh, th√¨ ch√∫ng ta s·∫Ω s·ª≠ d·ª•ng¬†<code>@Configuration</code>¬†v√†¬†<code>@Bean</code>¬†ƒë·ªÉ t·ª± tay t·∫°o ra¬†<code>Bean</code>. Vi·ªác t·ª± tay t·∫°o ra¬†<code>Bean</code>¬†nh∆∞ n√†y c√≥ th·ªÉ hi·ªÉu ph·∫ßn n√†o l√† ch√∫ng ta ƒëang¬†<em>config</em>¬†cho ch∆∞∆°ng tr√¨nh.</p>
<h3 id="v√≠-d·ª•"><a class="header" href="#v√≠-d·ª•">V√≠ d·ª•</a></h3>
<p><a href="https://viblo.asia/p/spring-boot-6-atconfiguration-va-atbean-bJzKmyprK9N#_vi-du-5">ƒê·ªçc trong trang b√†i vi·∫øt</a></p>
<h3 id="bean-c√≥-tham-s·ªë"><a class="header" href="#bean-c√≥-tham-s·ªë">@Bean c√≥ tham s·ªë</a></h3>
<p>N·∫øu method ƒë∆∞·ª£c ƒë√°nh d·∫•u b·ªüi¬†<code>@Bean</code>¬†c√≥ tham s·ªë truy·ªÅn v√†o, th√¨¬†Spring Boot¬†s·∫Ω t·ª± inject c√°c Bean ƒë√£ c√≥ trong¬†<code>Context</code>¬†v√†o l√†m tham s·ªë.</p>
<p>V√≠ d·ª•:</p>
<p><em>AppConfig.java</em></p>
<pre><code class="language-java">@Configuration
public class AppConfig {

    @Bean
    SimpleBean simpleBeanConfigure(){
        // Kh·ªüi t·∫°o m·ªôt instance c·ªßa SimpleBean v√† tr·∫£ ra ngo√†i
        return new SimpleBean(&quot;loda&quot;);
    }

    @Bean(&quot;mysqlConnector&quot;)
    DatabaseConnector mysqlConfigure(SimpleBean simpleBean) { // SimpleBean ƒë∆∞·ª£c t·ª± ƒë·ªông inject v√†o.
        DatabaseConnector mySqlConnector = new MySqlConnector();
        mySqlConnector.setUrl(&quot;jdbc:mysql://host1:33060/&quot; + simpleBean.getUsername());
        // Set username, password, format, v.v...
        return mySqlConnector;
    }
}
</code></pre>
<h3 id="th·ª±c-t·∫ø"><a class="header" href="#th·ª±c-t·∫ø">Th·ª±c t·∫ø</a></h3>
<p>Trong th·ª±c t·∫ø, vi·ªác s·ª≠ d·ª•ng¬†<code>@Configuration</code>¬†l√† h·∫øt s·ª©c c·∫ßn thi·∫øt, v√† n√≥ ƒë√≥ng vai tr√≤ l√† n∆°i c·∫•u h√¨nh cho to√†n b·ªô ·ª©ng d·ª•ng c·ªßa b·∫°n. M·ªôt ·ª®ng d·ª•ng s·∫Ω c√≥ nhi·ªÅu class ch·ª©a¬†<code>@Configuration</code>¬†v√† m·ªói class s·∫Ω ƒë·∫£m nh·∫≠n c·∫•u h√¨nh m·ªôt b·ªô ph·∫≠n g√¨ ƒë√≥ trong ·ª©ng d·ª•ng.</p>
<h1 id="application-config-v√†-value"><a class="header" href="#application-config-v√†-value">Application Config v√† @Value</a></h1>
<p>Trong th·ª±c t·∫ø kh√¥ng ph·∫£i l√∫c n√†o ch√∫ng ta c≈©ng n√™n ƒë·ªÉ m·ªçi th·ª© trong code c·ªßa m√¨nh. C√≥ nh·ªØng th√¥ng s·ªë t·ªët h∆°n h·∫øt n√™n ƒë∆∞·ª£c truy·ªÅn t·ª´ b√™n ngo√†i v√†o ·ª©ng d·ª•ng, ƒë·ªÉ gi√∫p ·ª©ng d·ª•ng c·ªßa b·∫°n d·ªÖ d√†ng thay ƒë·ªïi gi·ªØa c√°c m√¥i tr∆∞·ªùng kh√°c nhau. ƒê·ªÉ ph·ª•c v·ª• ƒëi·ªÅu n√†y, ch√∫ng ta s·∫Ω t√¨m hi·ªÉu v·ªÅ kh√°i ni·ªám config ·ª©ng d·ª•ng¬†Spring Boot¬†v·ªõi¬†<code>application.properties</code></p>
<h3 id="applicationproperties"><a class="header" href="#applicationproperties">application.properties</a></h3>
<p>Trong¬†Spring Boot, c√°c th√¥ng tin c·∫•u h√¨nh m·∫∑c ƒë·ªãnh ƒë∆∞·ª£c l·∫•y t·ª´ file¬†<code>resources/applications.properties</code>. V√≠ d·ª•, b·∫°n mu·ªën¬†Spring Boot¬†ch·∫°y tr√™n port 8081 thay v√¨ 8080 th√¨ <code>server.port = 8081</code></p>
<p>Ho·∫∑c b·∫°n mu·ªën log c·ªßa ch∆∞∆°ng tr√¨nh chi ti·∫øt h∆°n. H√£y chuy·ªÉn n√≥ sang d·∫≠ng Debug b·∫±ng c√°ch config nh∆∞ sau: <code>logging.level.root=DEBUG</code></p>
<h3 id="value"><a class="header" href="#value">@Value</a></h3>
<p>Trong tr∆∞·ªùng h·ª£p, b·∫°n mu·ªën t·ª± config nh·ªØng gi√° tr·ªã c·ªßa ri√™ng m√¨nh, th√¨¬†Spring Boot¬†h·ªó tr·ª£ b·∫°n v·ªõi annotation¬†<code>@Value</code></p>
<p>V√≠ d·ª•, t√¥i mu·ªën c·∫•u h√¨nh cho th√¥ng tin database c·ªßa t√¥i t·ª´ b√™n ngo√†i ·ª©ng d·ª•ng</p>
<p><em>application.properties</em></p>
<pre><code>loda.mysql.url=jdbc:mysql://host1:33060/loda
</code></pre>
<p><code>@Value</code>¬†ƒë∆∞·ª£c s·ª≠ d·ª•ng tr√™n thu·ªôc t√≠nh c·ªßa class, C√≥ nhi·ªám v·ª• l·∫•y th√¥ng tin t·ª´ file properties v√† g√°n v√†o bi·∫øn.</p>
<pre><code>public class AppConfig {
    // L·∫•y gi√° tr·ªã config t·ª´ file application.properties
    @Value(&quot;${loda.mysql.url}&quot;)
    String mysqlUrl;
}
</code></pre>
<p>Th√¥ng tin truy·ªÅn v√†o annottaion¬†<code>@Value</code>¬†ch√≠nh l√† t√™n c·ªßa c·∫•u h√¨nh ƒë·∫∑t trong d·∫•u¬†<code>${name}</code></p>
<h3 id="v√≠-d·ª•-v√†-ƒë·ªçc-th√™m"><a class="header" href="#v√≠-d·ª•-v√†-ƒë·ªçc-th√™m">V√≠ d·ª• v√† ƒë·ªçc th√™m</a></h3>
<p><a href="https://viblo.asia/p/spring-boot-7-spring-boot-application-config-va-atvalue-RQqKLwr657z#_vi-du-4">Ph·∫ßn v√≠ d·ª• ƒë·∫ßy ƒë·ªß cho b√†i vi·∫øt n√†y</a></p>
<p>Sau b√†i n√†y b·∫°n c√≥ th·ªÉ xem th√™m n·ªôi dung sau:</p>
<ol>
<li><a href="https://www.baeldung.com/configuration-properties-in-spring-boot">H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng Spring Properties v·ªõi <code>@ConfigurationProperties</code></a></li>
<li>H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng Spring Profiles# @Controller + Thymeleaf</li>
</ol>
<h3 id="controller"><a class="header" href="#controller"><strong>@Controller</strong></a></h3>
<p>Trong b√†i vi·∫øt s·ªë 4, khi n√≥i v·ªÅ¬†<code>@Service</code>¬†v√†¬†<code>@Repository</code>¬†t√¥i ƒë√£ ƒë·ªÅ c·∫≠p t·ªõi ki·∫øn tr√∫c trong¬†<strong>Spring Boot</strong>.</p>
<p>ƒê·ªÉ x√¢y d·ª±ng m·ªôt trang web v·ªõi¬†<strong>Spring Boot</strong>, b·∫°n s·∫Ω c·∫ßn tu√¢n theo quy tr√¨nh nh∆∞ h√¨nh d∆∞·ªõi ƒë√¢y:</p>
<p><img src="https://images.viblo.asia/95ff7fc2-b915-419a-bb14-38bfdf5bf250.png" alt="" /></p>
<p><code>@Controller</code>¬†l√† n∆°i ti·∫øp nh·∫≠n c√°c th√¥ng tin request t·ª´ ph√≠a ng∆∞·ªùi d√πng. N√≥ c√≥ nhi·ªám v·ª• ƒë√≥n nh·∫≠n c√°c y√™u c·∫ßu (k√®m theo th√¥ng tin request) v√† chuy·ªÉn c√°c y√™u c·∫ßu n√†y xu·ªëng cho t·∫ßng¬†<code>@Serivce</code>¬†x·ª≠ l√Ω logic.</p>
<h3 id="html"><a class="header" href="#html"><strong>HTML</strong></a></h3>
<p>ƒê·ªÉ t·∫°o ra m·ªôt trang Web, b·∫°n s·∫Ω c·∫ßn t·∫°o ra c√°c trang html ƒë·ªÉ tr·∫£ v·ªÅ cho ng∆∞·ªùi d√πng. M·∫∑c ƒë·ªãnh trong¬†<strong>Spring Boot</strong>, c√°c file html n√†y s·∫Ω ƒë∆∞·ª£c l∆∞u tr·ªØ trong th∆∞ m·ª•c¬†<code>resources/templates</code>. <strong>Spring Boot + Thymeleaf</strong>¬†s·∫Ω t√¨m ki·∫øm c√°c file n√†y theo t√™n. V√≠ d·ª• &quot;index&quot; s·∫Ω t∆∞∆°ng ·ª©ng v·ªõi &quot;index.html&quot;.</p>
<h3 id="gi·∫£i-th√≠ch-1"><a class="header" href="#gi·∫£i-th√≠ch-1">Gi·∫£i th√≠ch 1</a></h3>
<p>B·∫£n th√¢n¬†<code>@Controller</code>¬†C≈©ng l√† m·ªôt¬†<code>@Component</code>¬†n√™n n√≥ s·∫Ω ƒë∆∞·ª£c¬†<strong>Spring Boot</strong>¬†qu·∫£n l√Ω.</p>
<pre><code class="language-java">@Target({ElementType.TYPE})
@Retention(RetentionPolicy.RUNTIME)
@Documented
@Component
public @interface Controller {
    @AliasFor(
        annotation = Component.class
    )
    String value() default &quot;&quot;;
}
</code></pre>
<p><strong>Spring Boot</strong>¬†s·∫Ω l·∫Øng nghe c√°c request t·ª´ ph√≠a ng∆∞·ªùi d√πng. v√† t√πy theo ƒë∆∞·ªùng d·∫´n¬†<code>path</code>¬†l√† g√¨, n√≥ s·∫Ω mapping t·ªõi h√†m x·ª≠ l√Ω t∆∞∆°ng ·ª©ng trong¬†<code>@Controller</code>.</p>
<p>Nh∆∞ v√≠ d·ª• tr√™n, t√¥i s·ª≠ d·ª•ng¬†<code>GET</code>¬†v√†o ƒë·ªãa ch·ªâ¬†<code>localhost:8080/</code>¬†( ƒë∆∞·ªùng d·∫´n l√†¬†<code>/</code>).¬†<strong>Spring Boot</strong>¬†s·∫Ω g·ªçi t·ªõi h√†m c√≥ g·∫Øn¬†<code>@GetMapping(&quot;/&quot;)</code>¬†v√† y√™u c·∫ßu h√†m n√†y x·ª≠ l√Ω request n√†y.</p>
<h3 id="gi·∫£i-th√≠ch-2"><a class="header" href="#gi·∫£i-th√≠ch-2">Gi·∫£i th√≠ch 2</a></h3>
<p>T·ªõi ƒë√¢y b·∫°n h√£y tham chi·∫øu ƒë∆∞·ªùng d·∫´n request v·ªõi h√†m x·ª≠ l√Ω n√≥:</p>
<pre><code class="language-java">// http://localhost:8080/hello?name=Loda
    @GetMapping(&quot;/hello&quot;)
    public String hello(
            // Request param &quot;name&quot; s·∫Ω ƒë∆∞·ª£c g√°n gi√° tr·ªã v√†o bi·∫øn String
            @RequestParam(name = &quot;name&quot;, required = false, defaultValue = &quot;&quot;) String name,
            // Model l√† m·ªôt object c·ªßa Spring Boot, ƒë∆∞·ª£c g·∫Øn v√†o trong m·ªçi request.
            Model model
    ) {
        // G·∫Øn v√†o model gi√° tr·ªã name nh·∫≠n ƒë∆∞·ª£c
        model.addAttribute(&quot;name&quot;, name);

        return &quot;hello&quot;; // tr·∫£ v·ªÅ file hello.html c√πng v·ªõi th√¥ng tin trong object Model
    }
</code></pre>
<p>Khi request l√™n, ch√∫ng ta nh·∫≠n ƒë∆∞·ª£c gi√° tr·ªã c·ªßa¬†<code>name</code>¬†v√† ti·∫øp t·ª•c g√°n n√≥ v√†o¬†<code>Model</code>.</p>
<p><img src="https://images.viblo.asia/c1490e7d-3093-430e-b22e-32ab1395c199.png" alt="" /></p>
<p><code>Model</code>¬†·ªü ƒë√¢y l√† m·ªôt object ƒë∆∞·ª£c¬†<strong>Spring Boot</strong>¬†ƒë√≠nh k√©m trong m·ªói response. <code>Model</code>¬†ch·ª©a c√°c th√¥ng tin m√† b·∫°n mu·ªën tr·∫£ v·ªÅ v√†¬†<strong>Template Engine</strong>¬†s·∫Ω tr√≠ch xu·∫•t th√¥ng tin n√†y ra th√†nh html v√† ƒë∆∞a cho ng∆∞·ªùi d√πng. Trong file¬†<code>hello.html</code>¬†t√¥i l·∫•y gi√° tr·ªã c·ªßa¬†<code>name</code>¬†trong¬†<code>Model</code>¬†ra b·∫±ng c√°ch s·ª≠ d·ª•ng c√∫ ph√°p c·ªßa¬†<code>Thymeleaf</code></p>
<pre><code>&lt;h1 th:text=&quot;'Hello, ' + ${name}&quot;&gt;&lt;/h1&gt;
</code></pre>
<h1 id="gi·∫£i-th√≠ch-c√°ch-thymeleaf-v·∫≠n-h√†nh--expression"><a class="header" href="#gi·∫£i-th√≠ch-c√°ch-thymeleaf-v·∫≠n-h√†nh--expression">Gi·∫£i th√≠ch c√°ch Thymeleaf v·∫≠n h√†nh + Expression</a></h1>
<h3 id="thymeleaf"><a class="header" href="#thymeleaf">Thymeleaf</a></h3>
<p>Thymeleaf¬†l√† m·ªôt Java Template Engine. C√≥ nhi·ªám v·ª• x·ª≠ l√Ω v√† generate ra c√°c file HTML, XML, v.v.. C√°c file HMTL do Thymeleaf t·∫°o ra l√† nh·ªù k·∫øt h·ª£p¬†d·ªØ li·ªáu¬†v√†¬†template + quy t·∫Øc¬†ƒë·ªÉ sinh ra m·ªôt file HTML ch·ª©a ƒë·∫ßy ƒë·ªß th√¥ng tin. Vi·ªác c·ªßa b·∫°n l√† cung c·∫•p d·ªØ li·ªáu v√† quy ƒë·ªãnh¬†template¬†nh∆∞ n√†o, c√≤n vi·ªác d√πng c√°c th√¥ng tin ƒë√≥ ƒë·ªÉ render ra HTML s·∫Ω do¬†Thymeleaf¬†gi·∫£i quy·∫øt.</p>
<h3 id="c√∫-ph√°p"><a class="header" href="#c√∫-ph√°p">C√∫ ph√°p</a></h3>
<p>C√∫ ph√°p c·ªßa¬†Thymeleaf¬†s·∫Ω l√† m·ªôt¬†attributes¬†(Thu·ªôc t√≠nh) c·ªßa th·∫ª HTML v√† b·∫Øt ƒë·∫ßu b·∫±ng ch·ªØ¬†<code>th:</code>.</p>
<p>V√≠ d·ª•: ƒê·ªÉ truy·ªÅn d·ªØ li·ªáu t·ª´ bi·∫øn¬†<code>name</code>¬†trong Java v√†o m·ªôt th·∫ª¬†<code>H1</code>¬†c·ªßa HTML.</p>
<pre><code class="language-html">&lt;h1 th:text=&quot;${name}&quot;&gt;&lt;/h1&gt;
</code></pre>
<p>Ch√∫ng ta vi·∫øt th·∫ª h1 nh∆∞ b√¨nh th∆∞·ªùng, nh∆∞ng kh√¥ng ch·ª©a b·∫•t c·ª© text n√†o trong th·∫ª. M√† s·ª≠ d·ª•ng c√∫ ph√°p¬†<code>th:text=&quot;${name}&quot;</code>¬†ƒë·ªÉ¬†Thymeleaf¬†l·∫•y th√¥ng tin t·ª´ bi·∫øn¬†<code>name</code>¬†v√† ƒë∆∞a v√†o th·∫ª¬†<code>H1</code>.</p>
<p>K·∫øt qu·∫£ khi render ra, thu·ªôc t√≠nh¬†<code>th:text</code>¬†bi·∫øn m·∫•t v√† gi√° tr·ªã bi·∫øn¬†<code>name</code>¬†ƒë∆∞·ª£c ƒë∆∞a v√†o trong th·∫ª¬†<code>H1</code>. ƒê√≥ l√† c√°ch¬†Thymeleaf¬†ho·∫°t ƒë·ªông:</p>
<pre><code class="language-java">// Gi·∫£ s·ª≠ String name = &quot;loda&quot;
&lt;h1&gt;Loda&lt;/h1&gt;
</code></pre>
<h3 id="model--view-trong-spring-boot"><a class="header" href="#model--view-trong-spring-boot">Model &amp; View Trong Spring Boot</a></h3>
<p><code>Model</code>¬†l√† ƒë·ªëi t∆∞·ª£ng l∆∞u gi·ªØ th√¥ng tin v√† ƒë∆∞·ª£c s·ª≠ d·ª•ng b·ªüi¬†Template Engine¬†ƒë·ªÉ generate ra webpage. C√≥ th·ªÉ hi·ªÉu n√≥ l√†¬†<code>Context</code>¬†c·ªßa¬†Thymeleaf. <code>Model</code>¬†l∆∞u gi·ªØ th√¥ng tin d∆∞·ªõi d·∫°ng key-value.</p>
<p>Trong template thymeleaf, ƒë·ªÉ l·∫•y c√°c th√¥ng tin trong¬†<code>Model</code>. b·∫°n s·∫Ω s·ª≠ d·ª•ng¬†<code>Thymeleaf Standard Expression</code>.</p>
<ol>
<li><code>${...}</code>: Gi√° tr·ªã c·ªßa m·ªôt bi·∫øn.</li>
<li><code>*{...}</code>: Gi√° tr·ªã c·ªßa m·ªôt bi·∫øn ƒë∆∞·ª£c ch·ªâ ƒë·ªãnh.</li>
</ol>
<p>Ngo√†i ra, ƒë·ªÉ l·∫•y th√¥ng tin ƒë·∫∑c bi·ªát h∆°n:</p>
<ol>
<li><code>#{...}</code>: L·∫•y message</li>
<li><code>@{...}</code>: L·∫•y ƒë∆∞·ªùng d·∫´n URL d·ª±a theo context c·ªßa server</li>
</ol>
<p>N√≥i t·ªõi ƒë√¢y c√≥ l·∫Ω h∆°i kh√≥ hi·ªÉu, ch√∫ng ta s·∫Ω d√πng v√≠ d·ª• ƒë·ªÉ hi·ªÉu r√µ t·ª´ng lo·∫°i Expression.</p>
<h3 id="---variables-expressions"><a class="header" href="#---variables-expressions"><code>${...}</code> - Variables Expressions</a></h3>
<p>Tr√™n Controller b·∫°n ƒë∆∞a v√†o m·ªôt s·ªë gi√° tr·ªã:</p>
<pre><code>model.addAttribute(&quot;today&quot;, &quot;Monday&quot;);
</code></pre>
<p>ƒê·ªÉ l·∫•y gi√° tr·ªã c·ªßa bi·∫øn¬†<code>today</code>, t√¥i s·ª≠ d·ª•ng¬†<code>${...}</code></p>
<pre><code>&lt;p&gt;Today is: &lt;span th:text=&quot;${today}&quot;&gt;&lt;/span&gt;.&lt;/p&gt;
</code></pre>
<h3 id="---variables-expressions-on-selections"><a class="header" href="#---variables-expressions-on-selections"><code>*{...}</code> - Variables Expressions on selections</a></h3>
<p>D·∫•u¬†<code>*</code>¬†c√≤n g·ªçi l√†¬†<code>asterisk syntax</code>. Ch·ª©c nƒÉng c·ªßa n√≥ gi·ªëng v·ªõi¬†<code>${...}</code>¬†l√† l·∫•y gi√° tr·ªã c·ªßa m·ªôt bi·∫øn. ƒêi·ªÉm kh√°c bi·ªát l√† n√≥ s·∫Ω l·∫•y ra gi√° tr·ªã c·ªßa m·ªôt bi·∫øn cho tr∆∞·ªõc b·ªüi¬†<code>th:object</code></p>
<pre><code class="language-html">&lt;div th:object=&quot;${session.user}&quot;&gt;&lt;!-- th:object t·ªìn t·∫°i trong ph·∫°m vi c·ªßa th·∫ª div n√†y --&gt;
    &lt;!-- L·∫•y ra t√™n c·ªßa ƒë·ªëi t∆∞·ª£ng session.user --&gt;
    &lt;p&gt;Name: &lt;spanth:text=&quot;*{firstName}&quot;&gt;&lt;/span&gt;.&lt;/p&gt;&lt;!-- L·∫•y ra lastName c·ªßa ƒë·ªëi t∆∞·ª£ng session.user --&gt;
    &lt;p&gt;Surname: &lt;spanth:text=&quot;*{lastName}&quot;&gt;&lt;/span&gt;.&lt;/p&gt;
&lt;/div&gt;
</code></pre>
<p>V·∫≠y ƒëo·∫°n code ·ªü tr√™n t∆∞∆°ng ƒë∆∞∆°ng v·ªõi:</p>
<pre><code>&lt;div&gt;&lt;p&gt;Name: &lt;spanth:text=&quot;${session.user.firstName}&quot;&gt;&lt;/span&gt;.&lt;/p&gt;&lt;p&gt;Surname: &lt;spanth:text=&quot;${session.user.lastName}&quot;&gt;&lt;/span&gt;.&lt;/p&gt;&lt;/div&gt;
</code></pre>
<p>C√≤n¬†<code>${...}</code>¬†s·∫Ω l·∫•y ra gi√° tr·ªã c·ª•c b·ªô trong¬†<code>Context</code>¬†hay¬†<code>Model</code>.</p>
<h3 id="---message-expression"><a class="header" href="#---message-expression"><code>#{...}</code> - Message Expression</a></h3>
<p>V√≠ d·ª•, trong file config¬†<code>.properties</code>¬†c·ªßa t√¥i c√≥ m·ªôt message ch√†o ng∆∞·ªùi d√πng b·∫±ng nhi·ªÅu ng√¥n ng·ªØ.</p>
<pre><code>home.welcome=¬°Bienvenido a nuestra tienda de comestibles!
</code></pre>
<p>Th√¨ c√°ch l·∫•y n√≥ ra nhanh nh·∫•t l√†:</p>
<pre><code>&lt;p th:utext=&quot;#{home.welcome}&quot;&gt;Xin ch√†o c√°c b·∫°n!&lt;/p&gt;
</code></pre>
<p>ƒêo·∫°n text ti·∫øng vi·ªát b√™n trong th·∫ª¬†<code>p</code>¬†s·∫Ω b·ªã thay th·∫ø b·ªüi thymeleaf khi render¬†<code>#{home.welcome}</code>.</p>
<h3 id="---url-expression"><a class="header" href="#---url-expression"><code>@{...}</code> - URL Expression</a></h3>
<p><code>@{...}</code>¬†x·ª≠ l√Ω v√† tr·∫£ ra gi√° tr·ªã URL theo context c·ªßa m√°y ch·ªß cho ch√∫ng ta.</p>
<p>V√≠ d·ª•:</p>
<pre><code>// &lt;a th:href=&quot;@{/order/list}&quot;&gt;
// If our app is installed at http://localhost:8080/myapp, this URL will output:
// &lt;a href=&quot;/myapp/order/list&quot;&gt;
&lt;a href=&quot;details.html&quot; th:href=&quot;@{/order/details(orderId=${o.id})}&quot;&gt;view&lt;/a&gt;
&lt;ahref=&quot;details.html&quot;th:href=&quot;@{/order/{orderId}/details(orderId=${o.id})}&quot;&gt;view&lt;/a&gt;
</code></pre>
<p>N·∫øu b·∫Øt d·∫ßu b·∫±ng d·∫•u¬†<code>/</code>¬†th√¨ n√≥ s·∫Ω l√† Relative URL v√† s·∫Ω t∆∞∆°ng ·ª©ng theo context c·ªßa m√°y ch·ªß c·ªßa b·∫°n.# @RequestMapping + @PostMapping + @ModelAttribute + @RequestParam</p>
<h3 id="postmapping"><a class="header" href="#postmapping"><strong>@PostMapping</strong></a></h3>
<p><code>@PostMapping</code>¬†c√≥ nhi·ªám v·ª• ƒë√°nh d·∫•u h√†m x·ª≠ l√Ω POST request trong Controller.</p>
<p>V√≠ d·ª•:</p>
<p>T√¥i c√≥ 2 h√†m x·ª≠ l√Ω, m·ªôt cho¬†<code>GET</code>¬†method v√† m·ªôt cho¬†<code>POST</code>.</p>
<p>C·∫£ hai ƒë·ªÅu chung ƒë∆∞·ªùng d·∫´n nh∆∞ng b·∫°n n√™n bi·∫øt r·∫±ng c√πng m·ªôt¬†<code>path</code>¬†nh∆∞ng kh√°c¬†<code>method</code>¬†th√¨ s·∫Ω x·ª≠ l√Ω kh√°c nhau.</p>
<pre><code>@Controller
public class WebController {
    @GetMapping(&quot;/addTodo&quot;)
    public String addTodo(Model model) {
        return &quot;addTodo&quot;;
    }

    @PostMapping(&quot;/addTodo&quot;)
    public String addTodo(Model model) {
        return &quot;success&quot;;
    }
}
</code></pre>
<h3 id="requestmapping"><a class="header" href="#requestmapping"><strong>@RequestMapping</strong></a></h3>
<p>Trong tr∆∞·ªùng h·ª£p b·∫°n mu·ªën t·∫•t c·∫£ c√°c method ƒë·ªÅu d√πng chung m·ªôt c√°ch x·ª≠ l√Ω th√¨ c√≥ th·ªÉ s·ª≠ d·ª•ng Annotation¬†<code>@RequestMapping</code>. @RequestMapping l√† m·ªôt annotation c√≥ √Ω nghƒ©a v√† m·ª•c ƒë√≠ch s·ª≠ d·ª•ng r·ªông h∆°n c√°c lo·∫°i @GetMapping, @PostMapping,v.v.. N·∫øu kh√¥ng ch·ªâ ƒë·ªãnh method cho¬†<code>@RequestMapping</code>¬†th√¨ n√≥ s·∫Ω nh·∫≠n to√†n b·ªô c√°c method.</p>
<pre><code class="language-java">@Controller
@RequestMapping(&quot;api/v1&quot;)
public class WebController {

    // ƒê∆∞·ªùng d·∫´n l√∫c n√†y l√†: /api/v1/addTodo v√† method GET
    @RequestMapping(value = &quot;/addTodo&quot;, method = RequestMethod.GET)
    public String addTodo(Model model) {
        return &quot;addTodo&quot;;
    }

    // ƒê∆∞·ªùng d·∫´n l√∫c n√†y l√†: /api/v1/addTodo v√† method POST
    @RequestMapping(value = &quot;/addTodo&quot;, method = RequestMethod.POST)
    public String addTodo(@ModelAttribute Todo todo) {
        return &quot;success&quot;;
    }
}
</code></pre>
<h3 id="getmapping"><a class="header" href="#getmapping">GetMapping</a></h3>
<p>Khi t√¥i request l√™n server nh∆∞ n√†y <code>http://localhost:8080/listTodo?limit=2</code>.</p>
<pre><code class="language-java">@GetMapping(&quot;/listTodo&quot;)
public String index(Model model, @RequestParam(value = &quot;limit&quot;, required = false) Integer limit) {
    // Tr·∫£ v·ªÅ ƒë·ªëi t∆∞·ª£ng todoList.
    // N·∫øu ng∆∞·ªùi d√πng g·ª≠i l√™n param limit th√¨ tr·∫£ v·ªÅ sublist c·ªßa todoList
    model.addAttribute(&quot;todoList&quot;, limit != null ? todoList.subList(0, limit) : todoList);

    // Tr·∫£ v·ªÅ template &quot;listTodo.html&quot;
    return &quot;listTodo&quot;;
}
```# Spring Boot JPA + MySQL

### **Spring Boot JPA**

**Spring Boot JPA**¬†l√† m·ªôt ph·∫ßn trong h·ªá sinh th√°i Spring Data, n√≥ t·∫°o ra m·ªôt layer ·ªü gi·ªØa t·∫ßng service v√† database, gi√∫p ch√∫ng ta thao t√°c v·ªõi database m·ªôt c√°ch d·ªÖ d√†ng h∆°n, t·ª± ƒë·ªông config v√† gi·∫£m thi·ªÉu code th·ª´a th√£i.

**Spring Boot JPA**¬†ƒë√£ wrapper Hibernate v√† t·∫°o ra m·ªôt interface m·∫°nh m·∫Ω. N·∫øu nh∆∞ b·∫°n g·∫∑p kh√≥ khƒÉn khi l√†m vi·ªác v·ªõi Hibernate th√¨ ƒë·ª´ng lo, b·∫°n h√£y ƒë·ªÉ¬†**Spring JPA**¬†l√†m h·ªô.

### **T·∫°o Table v√† d·ªØ li·ªáu**

Tr∆∞·ªõc khi b·∫Øt ƒë·∫ßu, ch√∫ng ta c·∫ßn t·∫°o ra d·ªØ li·ªáu trong Database. ·ªû ƒë√¢y t√¥i ch·ªçn¬†`MySQL`. D∆∞·ªõi ƒë√¢y l√† SQL Script ƒë·ªÉ t·∫°o DATABASE¬†`micro_db`. Ch·ª©a m·ªôt TABLE duy nh·∫•t l√†¬†`User`.

### **T·∫°o Model User**

Khi ƒë√£ c√≥ d·ªØ li·ªáu trong Database. Ch√∫ng ta s·∫Ω t·∫°o m·ªôt Class trong Java ƒë·ªÉ mapping th√¥ng tin. C·∫ßn bi·∫øt th√™m v·ªÅ Hibernate. ƒê√¢y l√† _User.java_:

```java
@Entity
@Table(name = &quot;user&quot;)
@Data
public class User implements Serializable {
    private static final long serialVersionUID = -297553281792804396L;
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    // Mapping th√¥ng tin bi·∫øn v·ªõi t√™n c·ªôt trong Database
    @Column(name = &quot;hp&quot;)
    private int hp;
    // N·∫øu kh√¥ng ƒë√°nh d·∫•u @Column th√¨ s·∫Ω mapping t·ª± ƒë·ªông theo t√™n bi·∫øn
    private int atk;
}
</code></pre>
<h3 id="v·∫•n-ƒë·ªÅ-c·ªßa-hibernate-truy·ªÅn-th·ªëng"><a class="header" href="#v·∫•n-ƒë·ªÅ-c·ªßa-hibernate-truy·ªÅn-th·ªëng"><strong>V·∫•n ƒë·ªÅ c·ªßa Hibernate truy·ªÅn th·ªëng</strong></a></h3>
<p>Th√¥ng th∆∞·ªùng, khi b·∫°n ƒë√£ ƒë·ªãnh nghƒ©a¬†<code>Entity</code>¬†t∆∞∆°ng ·ª©ng v·ªõi¬†<code>Table</code>¬†trong DB th√¥ng qua Hibernate. Th√¨ nhi·ªám v·ª• ti·∫øp theo s·∫Ω l√† t·∫°o ra c√°c class thao t√°c v·ªõi DB.</p>
<p>V√≠ d·ª• mu·ªën query l·∫•y t·∫•t c·∫£¬†<code>User</code>¬†b·∫±ng Hibernate truy·ªÅn th·ªëng s·∫Ω nh∆∞ sau. N√≥ s·∫Ω r·∫•t d√†i n√™n khi n·∫Øm ƒë∆∞·ª£c v·∫•n ƒë·ªÅ n√†y, Spring Data ƒë√£ wrapper l√™n Hibernate m·ªôt l·ªõp n·ªØa g·ªçi l√† Spring JPA.</p>
<h3 id="jparepository"><a class="header" href="#jparepository"><strong>JpaRepository</strong></a></h3>
<p>ƒê·ªÉ s·ª≠ d·ª•ng¬†<strong>Spring JPA</strong>, b·∫°n c·∫ßn s·ª≠ d·ª•ng interface¬†<code>JpaRepository</code>.</p>
<p>Y√™u c·∫ßu c·ªßa interface n√†y ƒë√≥ l√† b·∫°n ph·∫£i cung c·∫•p 2 th√¥ng tin:</p>
<ol>
<li>Entity (ƒê·ªëi t∆∞·ª£ng t∆∞∆°ng ·ª©ng v·ªõi Table trong DB)</li>
<li>Ki·ªÉu d·ªØ li·ªáu c·ªßa kh√≥a ch√≠nh (PrimaryKey)</li>
</ol>
<p>V√≠ d·ª•: T√¥i mu·ªën l·∫•y th√¥ng tin c·ªßa b·∫£ng¬†<code>User</code>¬†th√¨ l√†m nh∆∞ sau:</p>
<pre><code>import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.stereotype.Repository;

@Repository
public interface UserRepository extends JpaRepository&lt;User, Long&gt; {

}
</code></pre>
<p>V·∫≠y th√¥i,¬†<code>@Repository</code>¬†ƒë√°nh d·∫•u¬†<code>UserRepository</code>¬†l√† m·ªôt Bean v√† ch·ªãu tr√°ch nhi·ªám giao ti·∫øp v·ªõi DB. <strong>Spring Boot</strong>¬†s·∫Ω t·ª± t√¨m th·∫•y v√† kh·ªüi t·∫°o ra ƒë·ªëi t∆∞·ª£ng¬†<code>UserRepository</code>¬†trong Context. Vi·ªác t·∫°o ra¬†<code>UserRepository</code>¬†ho√†n to√†n t·ª± ƒë·ªông v√† t·ª± config, v√¨ ch√∫ng ta ƒë√£ k·∫ø th·ª´a¬†<code>JpaRepository</code>. B√¢y gi·ªù, vi·ªác l·∫•y ra to√†n b·ªô¬†<code>User</code>¬†s·∫Ω nh∆∞ sau:</p>
<pre><code class="language-java">@Autowired
UserRepository userRepository;

userRepository.findAll().forEach(System.out::println);
</code></pre>
<p>N·∫øu b·∫°n t√¨m ki·∫øm th√¨ s·∫Ω th·∫•y¬†<code>UserRepository</code>¬†c√≥ h√†ng ch·ª•c method m√† ch√∫ng ta kh√¥ng c·∫ßn vi·∫øt l·∫°i n·ªØa. V√¨ n√≥ k·∫ø th·ª´a¬†<code>JpaRepository</code>¬†r·ªìi.</p>
<h1 id="spring-jpa-method--query"><a class="header" href="#spring-jpa-method--query">Spring JPA Method + @Query</a></h1>
<h3 id="query-creation"><a class="header" href="#query-creation"><strong>Query Creation</strong></a></h3>
<p>Trong¬†<strong>Spring JPA</strong>, c√≥ m·ªôt c∆° ch·∫ø gi√∫p ch√∫ng ta t·∫°o ra c√°c c√¢u Query m√† kh√¥ng c·∫ßn vi·∫øt th√™m code. C∆° ch·∫ø n√†y x√¢y d·ª±ng Query t·ª´ t√™n c·ªßa method. V√≠ d·ª•: Ch√∫ng ta c√≥ ƒë·ªëi t∆∞·ª£ng¬†<code>User</code>.</p>
<p><em>User.java</em></p>
<pre><code class="language-java">@Entity
@Table(name = &quot;user&quot;)
@Data
public class User implements Serializable {
    private static final long serialVersionUID = -297553281792804396L;

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    // Mapping th√¥ng tin bi·∫øn v·ªõi t√™n c·ªôt trong Database
    @Column(name = &quot;hp&quot;)
    private int hp;
    @Column(name = &quot;stamina&quot;)
    private int stamina;

    // N·∫øu kh√¥ng ƒë√°nh d·∫•u @Column th√¨ s·∫Ω mapping t·ª± ƒë·ªông theo t√™n bi·∫øn
    private int atk;
    private int def;
    private int agi;
}
</code></pre>
<p>Khi ch√∫ng ta ƒë·∫∑t t√™n method l√†:¬†<code>findByAtk(int atk)</code>. Th√¨¬†<strong>Spring JPA</strong>¬†s·∫Ω t·ª± ƒë·ªãnh nghƒ©a c√¢u Query cho method n√†y, b·∫±ng c√°ch x·ª≠ l√Ω t√™n method. V·∫≠y l√† ch√∫ng ta ƒë√£ c√≥ th·ªÉ truy v·∫•n d·ªØ li·ªáu m√† ch·ªâ m·∫•t th√™m 1 d√≤ng code.</p>
<h3 id="quy-t·∫Øc-ƒë·∫∑t-t√™n-method-trong-spring-jpa"><a class="header" href="#quy-t·∫Øc-ƒë·∫∑t-t√™n-method-trong-spring-jpa"><strong>Quy t·∫Øc ƒë·∫∑t t√™n method trong Spring JPA</strong></a></h3>
<p>Trong¬†<strong>Spring JPA</strong>, c∆° ch·∫ø x√¢y d·ª±ng truy v·∫•n th√¥ng qua t√™n c·ªßa method ƒë∆∞·ª£c quy ƒë·ªãnh b·ªüi c√°c ti·ªÅn t·ªë sau:</p>
<p><code>find‚Ä¶By</code>,¬†<code>read‚Ä¶By</code>,¬†<code>query‚Ä¶By</code>,¬†<code>count‚Ä¶By</code>, v√†¬†<code>get‚Ä¶By</code>.</p>
<p>ph·∫ßn c√≤n l·∫°i s·∫Ω ƒë∆∞·ª£c parse theo t√™n c·ªßa thu·ªôc t√≠nh (vi·∫øt hoa ch·ªØ c√°i ƒë·∫ßu). N·∫øu ch√∫ng ta c√≥ nhi·ªÅu ƒëi·ªÅu ki·ªán, th√¨ c√°c thu·ªôc t√≠nh c√≥ th·ªÉ k·∫øt h·ª£p v·ªõi nhau b·∫±ng ch·ªØ¬†<code>And</code>¬†ho·∫∑c¬†<code>Or</code>. B·∫°n c√≥ th·ªÉ ƒë·ªçc th√™m <a href="https://docs.spring.io/spring-data/jpa/reference/jpa/query-methods.html#jpa.query-methods.query-creation">trong Docs c·ªßa Spring: Query Creation</a></p>
<p>V√≠ d·ª•:</p>
<pre><code class="language-java">interface PersonRepository extends JpaRepository&lt;User, Long&gt; {
    // D·ªÖ
    // version r√∫t g·ªçn
    Person findByLastname(String lastname);
    // verson ƒë·∫ßy ƒë·ªß
    Person findPersonByLastname(String lastname);
    Person findAllByLastname(String lastname);
    // Trung b√¨nh
    List&lt;Person&gt; findByEmailAddressAndLastname(EmailAddress emailAddress, String lastname);
    // findDistinct l√† t√¨m ki·∫øm v√† lo·∫°i b·ªè ƒëi c√°c ƒë·ªëi t∆∞·ª£ng tr√πng nhau
    List&lt;Person&gt; findDistinctPeopleByLastnameOrFirstname(String lastname, String firstname);
    List&lt;Person&gt; findPeopleDistinctByLastnameOrFirstname(String lastname, String firstname);
    // IgnoreCase l√† t√¨m ki·∫øm kh√¥ng ph√¢n bi·ªát hoa th∆∞·ªùng, v√≠ d·ª• ·ªü ƒë√¢y t√¨m ki·∫øm lastname
    // lastname s·∫Ω kh√¥ng ph√¢n bi·ªát hoa th∆∞·ªùng
    List&lt;Person&gt; findByLastnameIgnoreCase(String lastname);
    // AllIgnoreCase l√† kh√¥ng ph√¢n bi·ªát hoa th∆∞·ªùng cho t·∫•t c·∫£ thu·ªôc t√≠nh
    List&lt;Person&gt; findByLastnameAndFirstnameAllIgnoreCase(String lastname, String firstname);
    // OrderBy l√† c√°ch s·∫Øp x·∫øp th·ª© t·ª± tr·∫£ v·ªÅ
    // S·∫Øp x·∫øp theo Firstname ASC
    List&lt;Person&gt; findByLastnameOrderByFirstnameAsc(String lastname);
    // S·∫Øp x·∫øp theo Firstname Desc
    List&lt;Person&gt; findByLastnameOrderByFirstnameDesc(String lastname);
}
</code></pre>
<p>C√°c thu·ªôc t√≠nh trong t√™n method ph·∫£i thu·ªôc v·ªÅ Class ƒë√≥, n·∫øu kh√¥ng s·∫Ω g√¢y ra l·ªói. Tuy nhi√™n, trong m·ªôt s·ªë tr∆∞·ªùng h·ª£p b·∫°n c√≥ th·ªÉ query b·∫±ng thu·ªôc t√≠nh con. V√≠ d·ª•: ƒê√≥i t∆∞·ª£ng¬†<code>Person</code>¬†c√≥ thu·ªôc t√≠nh l√†¬†<code>Address</code>¬†v√† trong¬†<code>Address</code>¬†l·∫°i c√≥¬†<code>ZipCode</code></p>
<pre><code class="language-java">// person.address.zipCode
List&lt;Person&gt; findByAddressZipCode(ZipCode zipCode);
</code></pre>
<h3 id="query"><a class="header" href="#query"><strong>@Query</strong></a></h3>
<p>V·ªõi c√°ch s·ª≠ d·ª•ng¬†<code>@Query</code>, b·∫°n s·∫Ω c√≥ th·ªÉ s·ª≠ d·ª•ng c√¢u truy v·∫•n <a href="https://en.wikipedia.org/wiki/Jakarta_Persistence_Query_Language">JPQL</a> (Hibernate) ho·∫∑c SQL thu·∫ßn (raw SQL). V√≠ d·ª•:</p>
<pre><code class="language-java">public interface UserRepository extends JpaRepository&lt;User, Long&gt; {
    // Khi ƒë∆∞·ª£c g·∫Øn @Query, th√¨ t√™n c·ªßa method kh√¥ng c√≤n t√°c d·ª•ng n·ªØa
    // ƒê√¢y l√† JPQL
    @Query(&quot;select u from User u where u.emailAddress = ?1&quot;)
    User myCustomQuery(String emailAddress);
    // ƒê√¢y l√† Native SQL
    @Query(value = &quot;select * from User u where u.email_address = ?1&quot;, nativeQuery = true)
    User myCustomQuery2(String emailAddress);
}
</code></pre>
<p>C√°ch truy·ªÅn tham s·ªë l√† g·ªçi theo th·ª© t·ª± c√°c tham s·ªë c·ªßa method b√™n d∆∞·ªõi¬†<code>?1</code>,¬†<code>?2</code>. N·∫øu b·∫°n kh√¥ng th√≠ch s·ª≠ d·ª•ng¬†<code>?{number}</code>¬†th√¨ c√≥ th·ªÉ ƒë·∫∑t t√™n cho tham s·ªë.</p>
<pre><code class="language-java">public interface UserRepository extends JpaRepository&lt;User, Long&gt; {
    // JPQL
    @Query(&quot;SELECT u FROM User u WHERE u.status = :status and u.name = :name&quot;)
    User findUserByNamedParams(@Param(&quot;status&quot;) Integer status, @Param(&quot;name&quot;) String name);
    // Native SQL
    @Query(value = &quot;SELECT * FROM Users u WHERE u.status = :status and u.name = :name&quot;, nativeQuery = true)
    User findUserByNamedParamsNative(@Param(&quot;status&quot;) Integer status, @Param(&quot;name&quot;) String name);
}
</code></pre>
<h1 id="chi-ti·∫øt-spring-boot--thymeleaf--mysql--i18n"><a class="header" href="#chi-ti·∫øt-spring-boot--thymeleaf--mysql--i18n">Chi ti·∫øt Spring Boot + Thymeleaf + MySQL + i18n</a></h1>
<h3 id="t·∫°o-database"><a class="header" href="#t·∫°o-database">T·∫°o Database</a></h3>
<p><em>script.sql</em></p>
<pre><code class="language-sql">CREATE SCHEMA IF NOT EXISTS `todo_db` DEFAULT CHARACTER SET utf8mb4 ;

CREATE TABLE IF NOT EXISTS `todo_db`.`todo` (
  `id` INT(11) NOT NULL AUTO_INCREMENT,
  `title` VARCHAR(255) NULL DEFAULT NULL,
  `detail` VARCHAR(255) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4;
</code></pre>
<p>Th√™m 1 record v√†o DB</p>
<pre><code class="language-sql">INSERT INTO `todo_db`.`todo` (`title`, `detail`) VALUES ('L√†m b√†i t·∫≠p', 'Ho√†n thi·ªán b√†i vi·∫øt Spring Boot #13');
</code></pre>
<h3 id="c·∫•u-h√¨nh-·ª©ng-d·ª•ng"><a class="header" href="#c·∫•u-h√¨nh-·ª©ng-d·ª•ng">C·∫•u h√¨nh ·ª©ng d·ª•ng</a></h3>
<p>C·∫•u h√¨nh l√† ph·∫ßn c·ª±c k√¨ quan tr·ªçng r·ªìi, ch√∫ng ta ph·∫£i cung c·∫•p cho¬†Spring Boot¬†c√°c th√¥ng tin v·ªÅ Database v√† Thymeleaf. Ngo√†i ra, t√πy ch·ªânh m·ªôt s·ªë th√¥ng tin ƒë·ªÉ gi√∫p ch√∫ng ta l·∫≠p tr√¨nh ƒë∆°n gi·∫£n h∆°n.
(C√≥ th·ªÉ ƒë·ªçc qua v√† tham kh·∫£o m·ªôt s·ªë th√¥ng s·ªë c√≥ th·ªÉ ƒë∆∞·ª£c s·ª≠ d·ª•ng). ƒê√¢y l√† <em>application.properties</em></p>
<pre><code class="language-yaml">#Ch·∫°y ·ª©ng d·ª•ng tr√™n port 8085
server.port=8085
# B·ªè t√≠nh nƒÉng cache c·ªßa thymeleaf ƒë·ªÉ l·∫≠p tr√¨nh cho nhanh
spring.thymeleaf.cache=false
# C√°c message tƒ©nh s·∫Ω ƒë∆∞·ª£c l∆∞u t·∫°i th∆∞ m·ª•c i18n
spring.messages.basename=i18n/messages
# B·ªè properties n√†y ƒëi khi deploy
# N√≥ c√≥ t√°c d·ª•ng c·ªë ƒë·ªãnh ng√¥n ng·ªØ hi·ªán t·∫°i ch·ªâ l√† Ti·∫øng Vi·ªát
spring.mvc.locale-resolver=fixed
# M·∫∑c ƒë·ªãnh ng√¥n ng·ªØ l√† ti·∫øng vi·ªát
spring.mvc.locale=vi_VN
# ƒê·ªïi th√†nh ti·∫øng anh b·∫±ng c√°ch b·ªè comment ·ªü d·ª©oi
#spring.mvc.locale=en_US
spring.datasource.url=jdbc:mysql://localhost:3306/todo_db?useSSL=false
spring.datasource.username=root
spring.datasource.password=root
## Hibernate Properties
# The SQL dialect makes Hibernate generate better SQL for the chosen database
spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect
# Hibernate ddl auto (create, create-drop, validate, update)
spring.jpa.hibernate.ddl-auto = update
</code></pre>
<h3 id="t·∫°o-model"><a class="header" href="#t·∫°o-model">T·∫°o Model</a></h3>
<p>T·∫°o model¬†<code>Todo</code>¬†li√™n k·∫øt t·ªõi b·∫£ng¬†<code>todo</code>¬†trong Database.</p>
<pre><code class="language-java">import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.GenerationType;
import javax.persistence.Id;

import lombok.Data;

@Entity
@Data
public class Todo {

}
</code></pre>
<p>Ngo√†i ra, ch√∫ng ta t·∫°o th√™m m·ªôt ƒë·ªëi t∆∞·ª£ng l√†¬†<code>TodoValidator</code>, c√≥ tr√°ch nhi·ªám ki·ªÉm tra xem m·ªôt object¬†<code>Todo</code>¬†l√† h·ª£p l·ªá hay kh√¥ng.</p>
<pre><code class="language-java">import org.thymeleaf.util.StringUtils;

/*
ƒê·ªëi t∆∞·ª£ng n√†y d√πng ƒë·ªÉ ki·ªÉm tra xem m·ªôt Object Todo c√≥ h·ª£p l·ªá kh√¥ng
 */
public class TodoValidator {

    /
     * Ki·ªÉm tra m·ªôt object Todo c√≥ h·ª£p l·ªá kh√¥ng
     * @param todo
     * @return
     */
    public boolean isValid(Todo todo) {
        return Optional.ofNullable(todo)
                       .filter(t -&gt; !StringUtils.isEmpty(t.getTitle())) // Ki·ªÉm tra title kh√°c r·ªóng
                       .filter(t -&gt; !StringUtils.isEmpty(t.getDetail())) // Ki·ªÉm tra detail kh√°c r·ªóng
                       .isPresent(); // Tr·∫£ v·ªÅ true n·∫øu h·ª£p l·ªá, ng∆∞·ª£c l·∫°i false
    }
}
</code></pre>
<p>V·∫≠y l√† xong ph·∫ßn chu·∫©n b·ªã¬†<code>Model</code>.</p>
<h3 id="todoconfig"><a class="header" href="#todoconfig">TodoConfig</a></h3>
<p>Trong ·ª©ng d·ª•ng c·ªßa m√¨nh, t√¥i mu·ªën t·ª± t·∫°o ra Bean¬†<code>TodoValidator</code>. ƒê√¢y l√† l√∫c s·ª≠ d·ª•ng¬†<code>@Configuration</code>¬†v√†¬†<code>@Bean</code>¬†ƒë√£ h·ªçc t·∫°i b√†i¬†Spring Boot #6</p>
<p><em>config/TodoConfig.java</em></p>
<pre><code class="language-java">@Configuration
public class TodoConfig {
    /
     * T·∫°o ra Bean TodoValidator ƒë·ªÉ s·ª≠ d·ª•ng sau n√†y
     * @return
     */
    @Bean
    public TodoValidator validator() {
        return new TodoValidator();
    }
}
</code></pre>
<h3 id="t·∫ßng-repository"><a class="header" href="#t·∫ßng-repository">T·∫ßng Repository</a></h3>
<p>T·∫ßng Repository, ch·ªãu tr√°ch nhi·ªám giao ti·∫øp v·ªõi Database. Ch√∫ng ta s·ª≠ d·ª•ng¬†Spring JPA. <em>repository/TodoRepository.java</em></p>
<pre><code class="language-java">@Repository
public interface TodoRepository extends JpaRepository&lt;Todo, Long&gt; {
}
</code></pre>
<h3 id="t·∫ßng-service"><a class="header" href="#t·∫ßng-service">T·∫ßng Service</a></h3>
<p>T·∫ßng Service, ch·ªã tr√°ch nhi·ªám th·ª±c hi·ªán c√°c x·ª≠ l√Ω logic, business, h·ªó tr·ª£ cho t·∫ßng Controller. <em>service/TodoService.java</em></p>
<pre><code class="language-java">@Service
public class TodoService {
    @Autowired
    private TodoRepository todoRepository;

    @Autowired
    private TodoValidator validator;

    /
     * L·∫•y ra danh s√°ch List&lt;Todo&gt;
     *
     * @param limit - Gi·ªõi h·∫°n s·ªë l∆∞·ª£ng l·∫•y ra
     *
     * @return Tr·∫£ v·ªÅ danh s√°ch List&lt;Todo&gt; d·ª±a theo limit, n·∫øu limit == null th√¨ tr·∫£ findAll()
     */
    public List&lt;Todo&gt; findAll(Integer limit) {
        return Optional.ofNullable(limit)
                       .map(value -&gt; todoRepository.findAll(PageRequest.of(0, value)).getContent())
                       .orElseGet(() -&gt; todoRepository.findAll());
    }

    /
     * Th√™m m·ªôt Todo m·ªõi v√†o danh s√°ch c√¥ng vi·ªác c·∫ßn l√†m
     *
     * @return Tr·∫£ v·ªÅ ƒë·ªëi t∆∞·ª£ng Todo sau khi l∆∞u v√†o DB, tr·∫£ v·ªÅ null n·∫øu kh√¥ng th√†nh c√¥ng
     */
    public Todo add(Todo todo) {
        if (validator.isValid(todo)) {
            return todoRepository.save(todo);
        }
        return null;
    }
}
</code></pre>
<h3 id="t·∫ßng-controller"><a class="header" href="#t·∫ßng-controller">T·∫ßng Controller</a></h3>
<p>T·∫ßng Controller, n∆°i ƒë√≥n nh·∫≠n c√°c request t·ª´ ph√≠a ng∆∞·ªùi d√πng, v√† chuy·ªÉn ti·∫øp x·ª≠ l√Ω xu·ªëng t·∫ßng Service.</p>
<p><em>controller/TodoController.java</em></p>
<pre><code class="language-java">@Controller
public class TodoController {

    @Autowired
    private TodoService todoService;

    /*
    @RequestParam d√πng ƒë·ªÉ ƒë√°nh d·∫•u m·ªôt bi·∫øn l√† request param trong request g·ª≠i l√™n server.
    N√≥ s·∫Ω g√°n d·ªØ li·ªáu c·ªßa param-name t∆∞∆°ng ·ª©ng v√†o bi·∫øn
     */
    @GetMapping(&quot;/listTodo&quot;)
    public String index(Model model, @RequestParam(value = &quot;limit&quot;, required = false) Integer limit) {
        // Tr·∫£ v·ªÅ ƒë·ªëi t∆∞·ª£ng todoList.
        model.addAttribute(&quot;todoList&quot;, todoService.findAll(limit));
        // Tr·∫£ v·ªÅ template &quot;listTodo.html&quot;
        return &quot;listTodo&quot;;
    }

    @GetMapping(&quot;/addTodo&quot;)
    public String addTodo(Model model) {
        model.addAttribute(&quot;todo&quot;, new Todo());
        return &quot;addTodo&quot;;
    }

    /*
    @ModelAttribute ƒë√°nh d·∫•u ƒë·ªëi t∆∞·ª£ng Todo ƒë∆∞·ª£c g·ª≠i l√™n b·ªüi Form Request
     */
    @PostMapping(&quot;/addTodo&quot;)
    public String addTodo(@ModelAttribute Todo todo) {
        return Optional.ofNullable(todoService.add(todo))
                       .map(t -&gt; &quot;success&quot;) // Tr·∫£ v·ªÅ success n·∫øu save th√†nh c√¥ng
                       .orElse(&quot;failed&quot;); // Tr·∫£ v·ªÅ failed n·∫øu kh√¥ng th√†nh c√¥ng

    }
}
</code></pre>
<h3 id="templates"><a class="header" href="#templates">Templates</a></h3>
<p>T·∫ßng Controller ƒë√£ tr·∫£ v·ªÅ templates, nhi·ªám v·ª• ti·∫øp theo l√† s·ª≠ d·ª•ng Template Engine ƒë·ªÉ x·ª≠ l√Ω c√°c templates n√†y v√† tr·∫£ v·ªÅ webpage cho ng∆∞·ªùi d√πng.</p>
<h3 id="i18n"><a class="header" href="#i18n">i18n</a></h3>
<p>Trong c√°c template, t√¥i c√≥ s·ª≠ d·ª•ng c√°c message tƒ©nh, nh·ªØng message n√†y h·ªó tr·ª£ ƒëa ng√¥n ng·ªØ. Ch√∫ng ta ƒë·ªãnh nghƒ©a c√°c message n√†y t·∫°i th∆∞ m·ª•c¬†<code>i18n</code>.</p>
<p><em>i18n/messages_vi.properties</em></p>
<pre><code>loda.message.hello=Welcome to TodoApp
loda.message.success=Th√™m Todo th√†nh c√¥ng!
loda.message.failed=Th√™m Todo kh√¥ng th√†nh c√¥ng!

loda.value.addTodo=Th√™m c√¥ng vi·ªác
loda.value.viewListTodo=Xem danh s√°ch c√¥ng vi·ªác
loda.value.listTodo=Danh s√°ch c√¥ng vi·ªác
</code></pre>
<p><em>i18n/messages_en.properties</em></p>
<pre><code>loda.message.hello=Welcome to TodoApp
loda.message.success=Add To-do Successfully!
loda.message.failed=Add To-do Failed!

loda.value.addTodo=Add To-do
loda.value.viewListTodo=View To-do list
loda.value.listTodo=To-do list
```# Restful API + @RestController + @PathVariable + @RequestBody

### Restful API

B·∫°n c√≥ th·ªÉ ƒë·ªçc [dwyl/learn-api-design](https://github.com/dwyl/learn-api-design)

### @RestController

Kh√°c v·ªõi¬†`@Controller`¬†l√† s·∫Ω tr·∫£ v·ªÅ m·ªôt template.

`@RestController`¬†tr·∫£ v·ªÅ d·ªØ li·ªáu d∆∞·ªõi d·∫°ng JSON.

</code></pre>
<p>@RestController
@RequestMapping(&quot;/api/v1&quot;)
public class RestApiController{</p>
<pre><code>@GetMapping(&quot;/todo&quot;)
public List&lt;Todo&gt; getTodoList() {
    return todoList;
}
</code></pre>
<p>}</p>
<pre><code>
C√°c ƒë·ªëi t∆∞·ª£ng tr·∫£ v·ªÅ d∆∞·ªõi d·∫°ng Object s·∫Ω ƒë∆∞·ª£c¬†Spring Boot¬†chuy·ªÉn th√†nh JSON. C√°c ƒë·ªëi t∆∞·ª£ng tr·∫£ v·ªÅ r·∫•t ƒëa d·∫°ng, b·∫°n c√≥ th·ªÉ tr·∫£ v·ªÅ¬†`List`,¬†`Map`, v.v..¬†Spring Boot¬†s·∫Ω convert h·∫øt ch√∫ng th√†nh JSON, m·∫∑c ƒë·ªãnh s·∫Ω d√πng Jackson converter ƒë·ªÉ l√†m ƒëi·ªÅu ƒë√≥. N·∫øu b·∫°n mu·ªën API t√πy bi·∫øn ƒë∆∞·ª£c ki·ªÉu d·ªØ li·ªáu tr·∫£ v·ªÅ, b·∫°n c√≥ th·ªÉ tr·∫£ v·ªÅ ƒë·ªëi t∆∞·ª£ng¬†`ResponseEntity`¬†c·ªßa¬†Spring¬†cung c·∫•p. ƒê√¢y l√† ƒë·ªëi t∆∞·ª£ng cha c·ªßa m·ªçi response v√† s·∫Ω wrapper c√°c object tr·∫£ v·ªÅ. C√°i n√†y b·∫°n xem ti·∫øp ph·∫ßn d∆∞·ªõi s·∫Ω r√µ.

### @RequestBody

V√¨ b√¢y gi·ªù ch√∫ng ta x√¢y d·ª±ng API, n√™n c√°c th√¥ng tin t·ª´ ph√≠a¬†Client¬†g·ª≠i l√™n¬†Server¬†s·∫Ω n·∫±m trong¬†`Body`, v√† c≈©ng d∆∞·ªõi d·∫°ng¬†`JSON`¬†lu√¥n.

```java
@RestController
@RequestMapping(&quot;/api/v1&quot;)
public class RestApiController {

    List&lt;Todo&gt; todoList = new CopyOnWriteArrayList&lt;&gt;();

    @PostMapping(&quot;/todo&quot;)
    public ResponseEntity addTodo(@RequestBody Todo todo) {
        todoList.add(todo);
        // Tr·∫£ v·ªÅ response v·ªõi STATUS CODE = 200 (OK)
        // Body s·∫Ω ch·ª©a th√¥ng tin v·ªÅ ƒë·ªëi t∆∞·ª£ng todo v·ª´a ƒë∆∞·ª£c t·∫°o.
        return ResponseEntity.ok().body(todo);
    }
}
</code></pre>
<p>T·∫•t nhi√™n l√†¬†Spring Boot¬†s·∫Ω l√†m gi√∫p ch√∫ng ta c√°c ph·∫ßn n·∫∑ng nh·ªçc, n√≥ chuy·ªÉn chu·ªói JSON trong request th√†nh m·ªôt Object Java. b·∫°n ch·ªâ c·∫ßn cho n√≥ bi·∫øt c·∫ßn chuy·ªÉn JSON th√†nh Object n√†o b·∫±ng Annotation¬†<code>@RequestBody</code></p>
<h3 id="pathvariable"><a class="header" href="#pathvariable">@PathVariable</a></h3>
<p><code>RESTful API</code>¬†l√† m·ªôt ti√™u chu·∫©n d√πng trong vi·ªác th·∫øt k·∫ø c√°c thi·∫øt k·∫ø API cho c√°c ·ª©ng d·ª•ng web ƒë·ªÉ qu·∫£n l√Ω c√°c resource.</p>
<p>V√† v·ªõi c√°ch th·ªëng nh·∫•t n√†y, th√¨ s·∫Ω c√≥ m·ªôt ph·∫ßn th√¥ng tin quan tr·ªçng s·∫Ω n·∫±m ngay trong ch√≠nh URL c·ªßa api.</p>
<p>V√≠ d·ª•:</p>
<ol>
<li>URL t·∫°o To-do:¬†https://loda.me/todo. T∆∞∆°ng ·ª©ng v·ªõi HTTP method l√† POST</li>
<li>URL l·∫•y th√¥ng tin To-do s·ªë 12:¬†https://loda.me/todo/12. T∆∞∆°ng ·ª©ng v·ªõi HTTP method l√† GET</li>
<li>URL s·ª≠a th√¥ng tin To-do s·ªë 12:¬†https://loda.me/todo/12. T∆∞∆°ng ·ª©ng v·ªõi HTTP method l√† PUT</li>
<li>URL xo√° To-do s·ªë 12:¬†https://loda.me/todo/12. T∆∞∆°ng ·ª©ng v·ªõi HTTP method l√† DELETE</li>
</ol>
<p>Ngo√†i th√¥ng tin trong¬†<code>Body</code>¬†c·ªßa request, th√¨ c√°i ch√∫ng ta c·∫ßn ch√≠nh l√† c√°i con s·ªë 12 n·∫±m trong URL. Ph·∫£i l·∫•y ƒë∆∞·ª£c con s·ªë ƒë√≥ th√¨ m·ªõi bi·∫øt ƒë∆∞·ª£c ƒë·ªëi t∆∞·ª£ng To-do c·∫ßn thao t√°c l√† g√¨.</p>
<p><code>@PathVariable</code>¬†tham chi·∫øn.</p>
<pre><code class="language-java">@RestController
@RequestMapping(&quot;/api/v1&quot;)
public class RestApiController {

    /*
    ph·∫ßn path URL b·∫°n mu·ªën l·∫•y th√¥ng tin s·∫Ω ƒë·ªÉ trong ngo·∫∑c k√©p {}
     */
    @GetMapping(&quot;/todo/{todoId}&quot;)
    public Todo getTodo(@PathVariable(name = &quot;todoId&quot;) Integer todoId){
        // @PathVariable l·∫•y ra th√¥ng tin trong URL
        // d·ª±a v√†o t√™n c·ªßa thu·ªôc t√≠nh ƒë√£ ƒë·ªãnh nghƒ©a trong ngo·∫∑c k√©p /todo/{todoId}
        return todoList.get(todoId);
    }
}
```# Exception Handling @ExceptionHandler + @RestControllerAdvice/@ControllerAdvice + @ResponseStatus

### @RestControllerAdvice &amp; @ControllerAdvice + @ExceptionHandler

`@RestControllerAdvice`¬†l√† m·ªôt Annotation g·∫Øn tr√™n Class. C√≥ t√°c d·ª•ng xen v√†o qu√° tr√¨nh x·ª≠ l√Ω c·ªßa c√°c¬†`@RestController`. T∆∞∆°ng t·ª± v·ªõi¬†`@ControllerAdvice`. `@RestControllerAdvice`¬†th∆∞·ªùng ƒë∆∞·ª£c k·∫øt h·ª£p v·ªõi¬†`@ExceptionHandler`¬†ƒë·ªÉ c·∫Øt ngang qu√° tr√¨nh x·ª≠ l√Ω c·ªßa Controller, v√† x·ª≠ l√Ω c√°c ngo·∫°i l·ªá x·∫£y ra.

```java
@RestControllerAdvice
public class ApiExceptionHandler {
    @ExceptionHandler(IndexOutOfBoundsException.class)
    @ResponseStatus(value = HttpStatus.BAD_REQUEST)
    public ErrorMessage TodoException(Exception ex,  WebRequest request) {
        return new ErrorMessage(10100, &quot;ƒê·ªëi t∆∞·ª£ng kh√¥ng t·ªìn t·∫°i&quot;);
    }
}
</code></pre>
<p>Hi·ªÉu ƒë∆°n gi·∫£n l√† Controller ƒëang ho·∫°t ƒë·ªông b√¨nh th∆∞·ªùng, ch·∫≥ng may c√≥ m·ªôt Exception ƒë∆∞·ª£c n√©m ra, th√¨ thay v√¨ b√°o l·ªói h·ªá th·ªëng, th√¨ n√≥ s·∫Ω ƒë∆∞·ª£c th·∫±ng¬†<code>@RestControllerAdvice</code>¬†v√†¬†<code>@ExceptionHandler</code>¬†ƒë√≥n l·∫•y v√† x·ª≠ l√Ω. Sau ƒë√≥ tr·∫£ v·ªÅ cho ng∆∞·ªùi d√πng th√¥ng tin h·ªØu √≠ch h∆°n.</p>
<h3 id="responsestatus"><a class="header" href="#responsestatus">@ResponseStatus</a></h3>
<p><code>@ResponseStatus</code>¬†l√† m·ªôt c√°ch ƒë·ªãnh nghƒ©a HttpStatus tr·∫£ v·ªÅ cho ng∆∞·ªùi d√πng. N·∫øu b·∫°n kh√¥ng mu·ªën s·ª≠ d·ª•ng¬†<code>ResponseEntity</code>¬†th√¨ c√≥ th·ªÉ d√πng¬†<code>@ResponseStatus</code>¬†ƒë√°nh d·∫•u tr√™n¬†<code>Object</code>¬†tr·∫£ v·ªÅ.</p>
<h1 id="h∆∞·ªõng-d·∫´n-s·ª≠-d·ª•ng-configurationproperties"><a class="header" href="#h∆∞·ªõng-d·∫´n-s·ª≠-d·ª•ng-configurationproperties">H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng @ConfigurationProperties</a></h1>
<h3 id="c·∫•u-h√¨nh-ƒë∆°n-gi·∫£n"><a class="header" href="#c·∫•u-h√¨nh-ƒë∆°n-gi·∫£n"><strong>C·∫•u h√¨nh ƒë∆°n gi·∫£n</strong></a></h3>
<p>Gi·∫£ s·ª≠, ·ª©ng d·ª•ng c·ªßa t√¥i s·∫Ω y√™u c·∫ßu c√≥ m·ªôt s·ªë gi√° tr·ªã to√†n c·ª•c, m√† thay v√¨ c·∫•u h√¨nh ·ªü trong code, t√¥i mu·ªën l∆∞u n√≥ ·ªü b√™n ngo√†i, ƒë·ªÉ ti·ªán thay ƒë·ªïi m·ªói khi c·∫ßn.</p>
<p>Th√¨ t√¥i s·∫Ω l√†m nh∆∞ sau, t·∫°o ra m·ªôt class ch·ª©a c√°c th√¥ng tin:</p>
<pre><code class="language-java">@Data // Lombok (T·∫°o Getter, Setter c√°c th·ª©)
@Component // L√† 1 Spring Bean
// ƒê√°nh d·∫•u ƒë·ªÉ l·∫•y config t·ª´ trong file loda.yml
// @PropertySource(&quot;classpath:loda.yml&quot;)
@ConfigurationProperties(prefix = &quot;loda&quot;) // Ch·ªâ l·∫•y c√°c config c√≥ ti·ªÅn t·ªë l√† &quot;loda&quot;
public class LodaAppProperties {
    private String email;
    private String googleAnalyticsId;

    // standard getters and setters
}
</code></pre>
<p>S·ª≠ d·ª•ng¬†<code>@PropertySource</code>¬†ƒë·ªÉ ƒë·ªãnh nghƒ©a t√™n c·ªßa file config. N·∫øu kh√¥ng c√≥ annotation n√†y, Spring s·∫Ω s·ª≠ d·ª•ng file m·∫∑c ƒë·ªãnh (<em>classpath:application.yml</em>¬†trong th∆∞ m·ª•c¬†<em>resources</em>)</p>
<p>Cu·ªëi c√πng l√†¬†<code>@ConfigurationProperties</code>, Annotation n√†y ƒë√°nh d·∫•u class b√™n d∆∞·ªõi n√≥ l√† properties, c√°c thu·ªôc t√≠nh s·∫Ω ƒë∆∞·ª£c t·ª± ƒë·ªông n·∫°p v√†o khi Spring kh·ªüi t·∫°o. L∆∞u √Ω: c√°c thu·ªôc t√≠nh n√†y ƒë∆∞·ª£c x√°c ƒë·ªãnh b·ªüi¬†<code>prefix=loda</code>. C√°i n√†y b·∫°n xem file¬†<em>application.yml</em>¬†·ªü d∆∞·ªõi s·∫Ω hi·ªÉu.</p>
<p>Spring s·∫Ω t·ª± t√¨m c√°c h√†m setter ƒë·ªÉ set gi√° tr·ªã cho c√°c thu·ªôc t√≠nh n√†y, n√™n quan tr·ªçng l√† b·∫°n ph·∫£i t·∫°o ra c√°c setter method. (·ªû ƒë√¢y t√¥i nh∆∞·ªùng vi·ªác ƒë√≥ cho¬†lombok).</p>
<p>Ngo√†i ra, ƒë·ªÉ ch·∫°y ƒë∆∞·ª£c t√≠nh nƒÉng n√†y, b·∫°n c·∫ßn k√≠ch ho·∫°t n√≥ b·∫±ng c√°ch g·∫Øn¬†<code>@EnableConfigurationProperties</code>¬†l√™n m·ªôt Configuration n√†o ƒë√≥. ·ªû ƒë√¢y t√¥i g·∫Øn l√™n h√†m main lu√¥n.</p>
<pre><code class="language-java">@SpringBootApplication
@EnableConfigurationProperties
public class App {
    public static void main(String[] args) {
        SpringApplication.run(App.class, args);
    }
}
</code></pre>
<p>B√¢y gi·ªù, Spring s·∫Ω t·ª± ƒë·ªông bind to√†n b·ªô gi√° tr·ªã t·ª´ trong file application.yml v√†o bean LodaAppProperties cho ch√∫ng ta. T·∫°o ra file¬†<em>application.yml</em>¬†t·∫°i th∆∞ m·ª•c resources. Th√™m c√°c th√¥ng tin ch√∫ng ta c·∫ßn. Ch√∫ng ta ph·∫£i ƒë·∫∑t c√°c thu·ªôc t√≠nh n√†y sau prefix¬†<em>loda</em>:</p>
<pre><code>loda:
  email: loda.namnh@gmail.com
  googleAnalyticsId: U-xxxxx
</code></pre>
<h3 id="ch·∫°y-th·ª≠"><a class="header" href="#ch·∫°y-th·ª≠"><strong>Ch·∫°y th·ª≠</strong></a></h3>
<pre><code class="language-java">@SpringBootApplication
@EnableConfigurationProperties
public class App implements CommandLineRunner {
    public static void main(String[] args) {
        SpringApplication.run(App.class, args);
    }

    @Autowired LodaAppProperties lodaAppProperties;

    @Override
    public void run(String... args) throws Exception {
        System.out.println(&quot;Global variable:&quot;);
        System.out.println(&quot;\t Email: &quot;+lodaAppProperties.getEmail());
        System.out.println(&quot;\t GA ID: &quot;+lodaAppProperties.getGoogleAnalyticsId());
    }
}
</code></pre>
<p>K·∫øt qu·∫£:</p>
<pre><code>Global variable:
	 Email: loda.namnh@gmail.com
	 GA ID: U-xxxxx
</code></pre>
<p>B√¢y gi·ªù, ·ªü b·∫•t k·ª≥ ƒë√¢u trong ch∆∞∆°ng tr√¨nh, khi c·∫ßn l·∫•y c√°c th√¥ng tin config, t√¥i ch·ªâ c·∫ßn:</p>
<pre><code class="language-java">@Autowired LodaAppProperties lodaAppProperties;
</code></pre>
<h3 id="nested-properties"><a class="header" href="#nested-properties"><strong>Nested Properties</strong></a></h3>
<p>Ch√∫ng ta c√≥ th·ªÉ config c√°c thu·ªôc t√≠nh b√™n trong Class k·ªÉ c·∫£ khi n√≥ l√†¬†<code>Lists</code>,¬†<code>Maps</code>¬†hay m·ªôt class kh√°c.</p>
<p>B·ªï sung th√™m thu·ªôc t√≠nh:</p>
<pre><code class="language-java">...
@ConfigurationProperties(prefix = &quot;loda&quot;) // Ch·ªâ l·∫•y c√°c config c√≥ ti·ªÅn t·ªë l√† &quot;loda&quot;
public class LodaAppProperties {
    ...
    private List&lt;String&gt; authors;
    private Map&lt;String, String&gt; exampleMap;
}
</code></pre>
<p>S·ª≠a file¬†<em>application.yml</em>:</p>
<pre><code>loda:
  email: loda.namnh@gmail.com
  googleAnalyticsId: U-xxxxx
  authors:
    - loda
    - atom
  exampleMap:
    key1: hello
    key2: world
</code></pre>
<p>Ch·∫°y l·∫°i ch∆∞∆°ng tr√¨nh:</p>
<pre><code class="language-java">@Override
public void run(String... args) throws Exception {
    System.out.println(&quot;Global variable:&quot;);
    System.out.println(&quot;\t Email: &quot; + lodaAppProperties.getEmail());
    System.out.println(&quot;\t GA ID: &quot; + lodaAppProperties.getGoogleAnalyticsId());
    System.out.println(&quot;\t Authors: &quot; + lodaAppProperties.getAuthors());
    System.out.println(&quot;\t Example Map: &quot; + lodaAppProperties.getExampleMap());
}
</code></pre>
<p>K·∫øt qu·∫£:</p>
<pre><code>Global variable:
	 Email: loda.namnh@gmail.com
	 GA ID: U-xxxxx
	 Authors: [loda, atom]
	 Example Map: {key1=hello, key2=world}
```# Ch·∫°y nhi·ªÅu m√¥i tr∆∞·ªùng v·ªõi Spring Profile

### 1. T·∫°o file config

`Spring Profiles`¬†c√≥ s·∫µn trong Framework r·ªìi n√™n b·∫°n kh√¥ng c·∫ßn th√™m b·∫•t k√¨ th∆∞ vi·ªán n√†o kh√°c. ƒê·ªÉ s·ª≠ d·ª•ng, c√°c b·∫°n t·∫°o file config t·∫°i th∆∞ m·ª•c¬†`resources`¬†trong project. M·∫∑c ƒë·ªãnh Spring s·∫Ω nh·∫≠n c√°c file c√≥ t√™n nh∆∞ sau:

```yaml
application.properties
application.yml
application-{profile-name}.yml // .properties
</code></pre>
<p>v√≠ d·ª• m√¨nh c√≥ 2 m√¥i tr∆∞·ªùng l√†¬†<code>local</code>¬†v√†¬†<code>aws</code>, th√¨ m√¨nh s·∫Ω t·∫°o ra c√°c file nh∆∞ th·∫ø n√†y:</p>
<pre><code class="language-yaml">application.yml
application-local.yml
application-aws.yml
application-common.yml
</code></pre>
<ul>
<li><code>application</code>¬†l√† file config ch√≠nh khai b√°o c√°c enviroment.</li>
<li><code>application-local</code>¬†ch·ªâ s·ª≠ d·ª•ng khi ch·∫°y ch∆∞∆°ng tr√¨nh ·ªü local</li>
<li><code>application-aws</code>¬†ch·ªâ s·ª≠ d·ª•ng khi ch·∫°y ·ªü AWS</li>
<li><code>application-common</code>¬†l√† nh·ªØng config d√πng chung, m√¥i tr∆∞·ªùng n√†o c≈©ng c·∫ßn.</li>
</ul>
<p>B√¢y gi·ªù, m√¨nh s·∫Ω khai b√°o trong t·ª´ng file nh∆∞ sau (X√≥a b·ªõt n·ªôi dung t·ª´ng t·ªáp r√πi cho ng·∫Øn g·ªçn):</p>
<p><em>application.yml</em></p>
<pre><code class="language-yml">#application.yml
---
spring.profiles: local
spring.profiles.include: common, local
---
spring.profiles: aws
spring.profiles.include: common, aws
---
</code></pre>
<p><em>application-aws.yml</em></p>
<pre><code class="language-yml">spring:
  datasource:
    username: xxx
    password: xxx
</code></pre>
<p><em>application-local.yml</em></p>
<pre><code class="language-yml">spring:
  datasource:
    username: root
    password:
    url: jdbc:mysql://localhost:3306/news?useSSL=false&amp;characterEncoding=UTF-8
</code></pre>
<p><em>application-common.yml</em></p>
<pre><code class="language-yml">spring:
  jpa:
    properties:
</code></pre>
<p>Tadaa, xong, m√¨nh gi·∫£i th√≠ch ch√∫t. b·∫°n ƒë·ªÉ √Ω trong file¬†<code>application.yml</code>¬†m√¨nh c√≥ khai b√°o 2 m√¥i tr∆∞·ªùng l√†¬†<code>local</code>¬†v√†¬†<code>aws</code>. T·∫°i m·ªói m√¥i tr∆∞·ªùng s·∫Ω¬†<code>include</code>¬†(bao g·ªìm) c√°c file config nh∆∞ kia. Khi m√¨nh k√≠ch ho·∫°t¬†<code>aws</code>¬†ch·∫≥ng h·∫°n,¬†<em>Spring</em>¬†s·∫Ω load t·∫•t c·∫£ config c√≥ trong¬†<code>application-common.yml</code>¬†v√†¬†<code>application-aws.yml</code>.</p>
<h3 id="2-k√≠ch-ho·∫°t-config"><a class="header" href="#2-k√≠ch-ho·∫°t-config">2. K√≠ch ho·∫°t config</a></h3>
<p>ƒê·ªÉ s·ª≠ d·ª•ng m·ªôt¬†<code>Profiles</code>¬†b·∫°n c√≥ c√°c c√°ch sau:</p>
<h4 id="s·ª≠-d·ª•ng-springprofilesactive-trong-file-applicationproperties-ho·∫∑c-applicationyml"><a class="header" href="#s·ª≠-d·ª•ng-springprofilesactive-trong-file-applicationproperties-ho·∫∑c-applicationyml">S·ª≠ d·ª•ng <code>spring.profiles.active</code> trong file <code>application.properties</code> ho·∫∑c <code>application.yml</code></a></h4>
<pre><code>spring.profiles.active=aws
</code></pre>
<h4 id="3-s·ª≠-d·ª•ng-jvm-system-parameter-n√™n-d√πng"><a class="header" href="#3-s·ª≠-d·ª•ng-jvm-system-parameter-n√™n-d√πng">3: S·ª≠ d·ª•ng JVM System Parameter (n√™n d√πng)</a></h4>
<pre><code>-Dspring.profiles.active=aws
</code></pre>
<h4 id="4-environment-variable-unix-n√™n-d√πng"><a class="header" href="#4-environment-variable-unix-n√™n-d√πng">4: Environment Variable (Unix) (n√™n d√πng)</a></h4>
<pre><code>export SPRING_PROFILES_ACTIVE=aws
</code></pre>
<h3 id="3-c√°ch-s·ª≠-d·ª•ng-profile"><a class="header" href="#3-c√°ch-s·ª≠-d·ª•ng-profile">3. C√°ch s·ª≠ d·ª•ng @Profile</a></h3>
<p>Khi ƒë√£ c√≥¬†<code>Profile</code>¬†r·ªìi, ngo√†i c√°c bi·∫øn to√†n c·ª•c ƒë∆∞·ª£c thay ƒë·ªïi theo m√¥i tr∆∞·ªùng, b·∫°n c≈©ng c√≥ th·ªÉ to√†n quy·ªÅn quy·∫øt ƒë·ªãnh xem trong code r·∫±ng¬†<code>Bean</code>¬†hay¬†<code>Class</code>¬†n√†o s·∫Ω ƒë∆∞·ª£c quy·ªÅn ch·∫°y ·ªü m√¥i tr∆∞·ªùng n√†o. B·∫±ng c√°ch s·ª≠ d·ª•ng annotation¬†<code>@Profile</code></p>
<pre><code class="language-java">// Bean n√†y Spring ch·ªâ kh·ªüi t·∫°o v√† qu·∫£n l√Ω khi m√¥i tr∆∞·ªùng l√† `local`
@Component
@Profile(&quot;local&quot;)
public class LocalDatasourceConfig {}
// Ngo√†i ra b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng to√†n t·ª≠ logic ·ªü ƒë√¢y, v√≠ d·ª•:
@Component
@Profile(&quot;!local&quot;)
public class LocalDatasourceConfig {}
```# H∆∞·ªõng d·∫´n chi ti·∫øt Test Spring Boot

H√¥m nay ch√∫ng ta s·∫Ω t√¨m hi·ªÉu c√°ch ƒë·ªÉ vi·∫øt TestCase trong¬†**Spring Boot**. Y√™u c·∫ßu t·ªëi thi·∫øu ƒë·ªÉ ƒëi ti·∫øp ph·∫ßn n√†y ƒë√≥ l√† b·∫°n ph·∫£i c√≥ n·ªÅn t·∫£ng v·ªõi¬†`JUnit`¬†v√†¬†`Mockito`.

### **V·∫•n ƒë·ªÅ Test + Spring**

**Spring Boot**¬†s·∫Ω ph·∫£i t·∫°o Context v√† t√¨m ki·∫øm c√°c Bean v√† nh√©t v√†o ƒë√≥. Sau t·∫•t c·∫£ c√°c b∆∞·ªõc config v√† kh·ªüi t·∫°o th√¨ ch√∫ng ta s·ª≠ d·ª•ng¬†`@Autowired`¬†ƒë·ªÉ l·∫•y ƒë·ªëi t∆∞·ª£ng ra s·ª≠ d·ª•ng. V·∫•n ƒë·ªÅ ƒë·∫ßu ti√™n b·∫°n nghƒ© t·ªõi khi vi·∫øt Test s·∫Ω l√† l√†m sao¬†`@Autowired`¬†bean v√†o class Test ƒë∆∞·ª£c v√† l√†m sao cho¬†`JUnit`¬†hi·ªÉu¬†`@Autowired`¬†l√† g√¨. H∆∞·ªõng gi·∫£i quy·∫øt l√† t√≠ch h·ª£p¬†`Spring`¬†v√†o v·ªõi¬†`JUnit`.

### **@RunWith(SpringRunner.class)**

**Spring Boot**¬†ƒë√£ thi·∫øt k·∫ø ra l·ªõp¬†`SpringRunner`, s·∫Ω gi√∫p ch√∫ng ta t√≠ch h·ª£p¬†**Spring + JUnit**.

ƒê·ªÉ test trong Spring, trong m·ªçi class Test ch√∫ng ta s·∫Ω th√™m¬†`@RunWith(SpringRunner.class)`¬†l√™n ƒë·∫ßu Class Test ƒë√≥.

</code></pre>
<p>@RunWith(SpringRunner.class)
public class TodoServiceTest {
...
}</p>
<pre><code>
Khi b·∫°n ch·∫°y¬†`TodoServiceTest`¬†n√≥ s·∫Ω t·∫°o ra m·ªôt¬†`Context`¬†ri√™ng ƒë·ªÉ ch·ª©a¬†`bean`¬†trong ƒë√≥, v·∫≠y l√† ch√∫ng ta c√≥ th·ªÉ¬†`@Autowired`¬†tho·∫£i m√°i trong n·ªôi h√†m Class n√†y.

V·∫•n ƒë·ªÅ ti·∫øp theo l√† l√†m sao ƒë∆∞a¬†`Bean`¬†v√†o trong¬†`Context`.

C√≥ 2 c√°ch

1. `@SpringBootTest`
2. `@TestConfiguration`

### **@SpringBootTest**

`@SpringBootTest`¬†s·∫Ω ƒëi t√¨m ki·∫øm class c√≥ g·∫Øn¬†`@SpringBootApplication`¬†v√† t·ª´ ƒë√≥ ƒëi t√¨m to√†n b·ªô¬†`Bean`¬†v√† n·∫°p v√†o¬†`Context`.

C√°i n√†y ch·ªâ n√™n s·ª≠ d·ª•ng trong tr∆∞·ªùng h·ª£p mu·ªën Integration Tests, v√¨ n√≥ s·∫Ω t·∫°o to√†n b·ªô¬†`Bean`, kh√¥ng kh√°c g√¨ b·∫°n ch·∫°y c·∫£ c√°i¬†`SpringApplication.run(App.class, args);`, r·∫•t t·ªën th·ªùi gian m√† r·∫•t nhi·ªÅu¬†`Bean`¬†th·ª´a th√£i, kh√¥ng c·∫ßn d√πng ƒë·∫øn c≈©ng kh·ªüi t·∫°o.

</code></pre>
<p>@RunWith(SpringRunner.class)
@SpringBootTest
public class TodoServiceTest {</p>
<pre><code>/**
 * C√°ch n√†y s·ª≠ d·ª•ng @SpringBootTest
 * N√≥ s·∫Ω load to√†n b·ªô Bean trong app c·ªßa b·∫°n l√™n,
 * Gi·ªëng v·ªõi vi·ªác ch·∫°y App.java v·∫≠y
 */

@Autowired
private TodoService todoService;
</code></pre>
<p>}</p>
<pre><code>
### **@TestConfiguration**

`@TestConfiguration`¬†gi·ªëng v·ªõi¬†`@Configuration`, ch√∫ng ta t·ª± ƒë·ªãnh nghƒ©a ra¬†`Bean`.

C√°c Bean ƒë∆∞·ª£c t·∫°o b·ªüi¬†`@TestConfiguration`¬†ch·ªâ t·ªìn t·∫°i trong m√¥i tr∆∞·ªùng Test. R·∫•t ph·ª• h·ª£p v·ªõi vi·ªác vi·∫øt UnitTest.

Class Test n√†o, c·∫ßn Bean g√¨, th√¨ t·ª± t·∫°o ra trong¬†`@TestConfiguration`

</code></pre>
<p>@RunWith(SpringRunner.class)
public class TodoServiceTest2 {</p>
<pre><code>/**
 * C√°ch n√†y s·ª≠ d·ª•ng @TestConfiguration
 * N√≥ ch·ªâ t·∫°o ra Bean trong Context test n√†y m√† th√¥i
 * Ti·∫øt ki·ªám th·ªùi gian h∆°n khi s·ª≠ d·ª•ng @SpringBootTest (v√¨ ph·∫£i load h·∫øt Bean l√™n m√† kh√¥ng d√πng ƒë·∫øn)
 */
@TestConfiguration
public static class TodoServiceTest2Configuration{

    /*
    T·∫°o ra trong Context m·ªôt Bean TodoService
     */
    @Bean
    TodoService todoService(){
        return new TodoService();
    }
}

@Autowired
private TodoService todoService;
</code></pre>
<pre><code>
### **@MockBean**

**Spring**¬†h·ªó tr·ª£ mock v·ªõi annotation¬†`@MockBean`, ch√∫ng ta c√≥ th·ªÉ mock l·∫•y ra m·ªôt¬†`Bean`¬†&quot;gi·∫£&quot; m√† kh√¥ng th√®m ƒë·ªÉ √Ω t·ªõi th·∫±ng¬†`Bean`¬†&quot;th·∫≠t&quot;. (K·ªÉ c·∫£ th·∫±ng &quot;th·∫≠t&quot; c√≥ ·ªü trong Context ƒëi n·ªØa, c≈©ng kh√¥ng quan t√¢m).

</code></pre>
<p>@RunWith(SpringRunner.class)
public class TodoServiceTest2 {</p>
<pre><code>/**
 * ƒê·ªëi t∆∞·ª£ng TodoRepository s·∫Ω ƒë∆∞·ª£c mock, ch·ª© kh√¥ng ph·∫£i bean trong context
 */
@MockBean
TodoRepository todoRepository;
</code></pre>
<pre><code>
### **Demo 1**

Ch√∫ng ta s·∫Ω h·ªçc c√°ch s·ª≠ d·ª•ng c√°c Annotation ·ªü tr√™n.

### **C√†i ƒë·∫∑t**

_pom.xml_

</code></pre>
<?xml version="1.0" encoding="UTF-8"?>
<p><project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0http://maven.apache.org/xsd/maven-4.0.0.xsd">
<modelVersion>4.0.0</modelVersion>
<packaging>pom</packaging>
<parent>
<groupId>org.springframework.boot</groupId>
<artifactId>spring-boot-starter-parent</artifactId>
<version>2.0.5.RELEASE</version>
<relativePath /> <!-- lookup parent from repository -->
</parent>
<groupId>me.loda.spring</groupId>
<artifactId>spring-boot-learning</artifactId>
<version>0.0.1-SNAPSHOT</version>
<name>spring-boot-learning</name>
<description>Everything about Spring Boot</description></p>
<pre><code>&lt;properties&gt;
    &lt;java.version&gt;1.8&lt;/java.version&gt;
&lt;/properties&gt;

&lt;dependencies&gt;

    &lt;!--spring mvc, rest--&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
    &lt;/dependency&gt;

    &lt;!--for test--&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
        &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;

&lt;build&gt;
    &lt;plugins&gt;
    &lt;plugin&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
    &lt;/plugin&gt;
    &lt;/plugins&gt;
&lt;/build&gt;
</code></pre>
</project>
```
<p>C·∫•u tr√∫c th∆∞ m·ª•c:</p>
<p>!image</p>
<h3 id="t·∫°o-model-service-repository"><a class="header" href="#t·∫°o-model-service-repository"><strong>T·∫°o Model, Service, Repository</strong></a></h3>
<p>Ch√∫ng ta s·ª≠ d·ª•ng¬†Lombok¬†cho ti·ªán nh√©.</p>
<p><em>Todo.java</em></p>
<pre><code>@Data
@AllArgsConstructor
public class Todo {
    private int id;
    private String title;
    private String detail;
}
</code></pre>
<p>V√¨ ph·ª•c v·ª• m·ª•c ƒë√≠ch demo, ch√∫ng ta s·∫Ω kh√¥ng c·∫ßn s·ª≠ d·ª•ng t·ªõi¬†<strong>Spring JPA</strong>¬†m√† s·∫Ω t·ª± vi·∫øt.</p>
<p><em>TodoRepository.java</em></p>
<pre><code>public interface TodoRepository {
    List&lt;Todo&gt; findAll();

    Todo findById(int id);
}
</code></pre>
<p><em>TodoService.java</em></p>
<pre><code>@Service
public class TodoService {
    @Autowired
    private TodoRepository todoRepository;

    public int countTodo(){
        return todoRepository.findAll().size();
    }

    public Todo getTodo(int id){
        return todoRepository.findById(id);
    }

    public List&lt;Todo&gt; getAll(){
        return todoRepository.findAll();
    }
}
</code></pre>
<p><em>App.java</em></p>
<pre><code>@SpringBootApplication
public class App {
    public static void main(String[] args) {
        SpringApplication.run(App.class, args);
    }
}
</code></pre>
<p>R·∫•t ƒë∆°n gi·∫£n.</p>
<h3 id="test-b·∫±ng-springboottest"><a class="header" href="#test-b·∫±ng-springboottest"><strong>Test b·∫±ng @SpringBootTest</strong></a></h3>
<p>Ch√∫ng ta¬†<code>mock TodoRepository</code>¬†v√† gi·∫£ l·∫≠p cho n√≥ tr·∫£ ra m·ªôt¬†<code>List&lt;Todo&gt;</code>¬†g·ªìm 10 ph·∫ßn t·ª≠.</p>
<pre><code>@RunWith(SpringRunner.class)
@SpringBootTest
public class TodoServiceTest {

    /**
     * C√°ch n√†y s·ª≠ d·ª•ng @SpringBootTest
     * N√≥ s·∫Ω load to√†n b·ªô Bean trong app c·ªßa b·∫°n l√™n,
     * Gi·ªëng v·ªõi vi·ªác ch·∫°y App.java v·∫≠y
     */

    /**
     * ƒê·ªëi t∆∞·ª£ng TodoRepository s·∫Ω ƒë∆∞·ª£c mock, ch·ª© kh√¥ng ph·∫£i bean trong context
     */
    @MockBean
    TodoRepository todoRepository;

    @Autowired
    private TodoService todoService;

    @Before
    public void setUp() {
        Mockito.when(todoRepository.findAll())
               .thenReturn(IntStream.range(0, 10)
                                    .mapToObj(i -&gt; new Todo(i, &quot;title-&quot; + i, &quot;detail-&quot; + i))
                                    .collect(Collectors.toList()));

    }

    @Test
    public void testCount() {
        Assert.assertEquals(10, todoService.countTodo());
    }

}
</code></pre>
<p>B·∫°n s·∫Ω th·∫•y Test ch·∫°y th√†nh c√¥ng, nh∆∞ng s·∫Ω m·∫•t th·ªùi gian v√¨ kh·ªüi t·∫°o¬†<code>Context</code>¬†qu√° l√¢u do¬†<code>@SpringBootTest</code>¬†ph·∫£i load h·∫øt t·∫•t c·∫£ bean l√™n.</p>
<h3 id="test-b·∫±ng-testconfiguration"><a class="header" href="#test-b·∫±ng-testconfiguration"><strong>Test b·∫±ng @TestConfiguration</strong></a></h3>
<pre><code>```java
package me.loda.spring.testinginspringboot;
/*******************************************************
 * For Vietnamese readers:
 *    C√°c b·∫°n th√¢n m·∫øn, m√¨nh r·∫•t vui n·∫øu project n√†y gi√∫p
 * √≠ch ƒë∆∞·ª£c cho c√°c b·∫°n trong vi·ªác h·ªçc t·∫≠p v√† c√¥ng vi·ªác. N·∫øu
 * b·∫°n s·ª≠ d·ª•ng l·∫°i to√†n b·ªô ho·∫∑c m·ªôt ph·∫ßn source code xin ƒë·ªÉ
 * l·∫°i d∆∞·ªùng d·∫´n t·ªõi github ho·∫∑c t√™n t√°c gi√°.
 *    Xin c·∫£m ∆°n!
 *******************************************************/

import java.util.stream.Collectors;
import java.util.stream.IntStream;

import org.junit.Assert;
import org.junit.Before;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.mockito.Mockito;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.TestConfiguration;
import org.springframework.boot.test.mock.mockito.MockBean;
import org.springframework.context.annotation.Bean;
import org.springframework.test.context.junit4.SpringRunner;

@RunWith(SpringRunner.class)
public class TodoServiceTest2 {

    /**
     * C√°ch n√†y s·ª≠ d·ª•ng @TestConfiguration
     * N√≥ ch·ªâ t·∫°o ra Bean trong Context test n√†y m√† th√¥i
     * Ti·∫øt ki·ªám th·ªùi gian h∆°n khi s·ª≠ d·ª•ng @SpringBootTest (v√¨ ph·∫£i load h·∫øt Bean l√™n m√† kh√¥ng d√πng ƒë·∫øn)
     */
    @TestConfiguration
    public static class TodoServiceTest2Configuration{

        /*
        T·∫°o ra trong Context m·ªôt Bean TodoService
         */
        @Bean
        TodoService todoService(){
            return new TodoService();
        }
    }

    @MockBean
    TodoRepository todoRepository;

    @Autowired
    private TodoService todoService;

    @Before
    public void setUp() {
        Mockito.when(todoRepository.findAll())
               .thenReturn(IntStream.range(0, 10)
                                    .mapToObj(i -&gt; new Todo(i, &quot;title-&quot; + i, &quot;detail-&quot; + i))
                                    .collect(Collectors.toList()));

    }

    @Test
    public void testCount() {
        Assert.assertEquals(10, todoService.countTodo());
    }

}
</code></pre>
<h3 id="v·∫•n-ƒë·ªÅ-test--spring-boot-2"><a class="header" href="#v·∫•n-ƒë·ªÅ-test--spring-boot-2"><strong>V·∫•n ƒë·ªÅ Test + Spring Boot 2</strong></a></h3>
<p>·ªû tr√™n ch√∫ng ta ƒë√£ x·ª≠ l√Ω xong v·∫•n ƒë·ªÅ dependency injection c·ªßa¬†<strong>JUnit</strong>¬†+¬†<strong>Spring Boot</strong>¬†r·ªìi.</p>
<p>V·∫•n ƒë·ªÅ ti·∫øp theo l√† c√°i¬†<strong>Controller</strong>. ƒê√∫ng v·∫≠y, ch√∫ng ta t·∫°o ra h√†ng ch·ª•c Rest API ƒë√≥n request ng∆∞·ªùi d√πng, v·∫≠y l√†m sao ƒë·ªÉ test n√≥.</p>
<p>N·∫øu¬†<strong>Controller</strong>¬†kh√¥ng ƒë∆∞·ª£c test th√¨ l√† m·ªôt l·ªó h·ªïng c·ª±c l·ªõn, v√¨ n√≥ l√† ƒë·∫ßu ra ch√≠nh c·ªßa ch∆∞∆°ng tr√¨nh, n√≥ sai -&gt; ch∆∞∆°ng tr√¨nh kh√¥ng c√≥ gi√° tr·ªã.</p>
<p>Tuy nhi√™n, ch√∫ng ta kh√¥ng mu·ªën kh·ªüi ƒë·ªông c·∫£ Tomcat Server + Database ƒë·ªÉ test 1 API. N√≥ r·∫•t t·ªën t√†i nguy√™n v√† th·ªùi gian.</p>
<h3 id="webmvctest"><a class="header" href="#webmvctest"><strong>@WebMvcTest</strong></a></h3>
<p><strong>Spring Boot</strong>¬†h·ªó tr·ª£ test¬†<strong>Controller</strong>¬†m√† kh√¥ng c·∫ßn kh·ªüi ƒë·ªông Tomcat Server b·∫±ng annotation¬†<code>@WebMvcTest</code>.</p>
<p>T·∫•t nhi√™n l√† n·∫øu kh√¥ng kh·ªüi ƒë·ªông Server, th√¨ ph·∫£i c√≥ m·ªôt ph∆∞∆°ng th·ª©c kh√°c gi·∫£ l·∫≠p, v√¢ng, l·∫°i l√†¬†<strong>Mock</strong>.</p>
<p>B√¢y gi·ªù, khi mu·ªën test m·ªôt Controller n√†o ƒë√≥, ch√∫ng ta l√†m nh∆∞ sau:</p>
<pre><code>@RunWith(SpringRunner.class)
// B·∫°n c·∫ßn cung c·∫•p l·ªõp Controller cho @WebMvcTest
@WebMvcTest(TodoRestController.class)
public class TodoRestControllerTest {
    /**
     * ƒê·ªëi t∆∞·ª£ng MockMvc do Spring cung c·∫•p
     * C√≥ t√°c d·ª•ng gi·∫£ l·∫≠p request, thay th·∫ø vi·ªác kh·ªüi ƒë·ªông Server
     */
    @Autowired
    private MockMvc mvc;
}
</code></pre>
<h3 id="demo-2"><a class="header" href="#demo-2"><strong>Demo 2</strong></a></h3>
<p>Ch√∫ng ta v·∫´n s·ª≠ d·ª•ng ti·∫øp Project ƒë√£ t·∫°o ·ªü¬†<strong># Demo 1</strong></p>
<h3 id="t·∫°o-controller"><a class="header" href="#t·∫°o-controller"><strong>T·∫°o Controller</strong></a></h3>
<p><em>TodoRestController.java</em></p>
<pre><code>@RestController
@RequestMapping(&quot;/api/v1&quot;)
public class TodoRestController {
    @Autowired
    TodoService todoService;

    @GetMapping(&quot;/todo&quot;)
    public List&lt;Todo&gt; findAll(){
        return todoService.getAll();
    }
}
</code></pre>
<h3 id="t·∫°o-test-controller"><a class="header" href="#t·∫°o-test-controller"><strong>T·∫°o Test Controller</strong></a></h3>
<pre><code>import static org.hamcrest.CoreMatchers.is;
import static org.hamcrest.Matchers.hasSize;
import static org.mockito.BDDMockito.given;
import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;
import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.jsonPath;
import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;

import java.util.List;
import java.util.stream.Collectors;
import java.util.stream.IntStream;

import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;
import org.springframework.boot.test.mock.mockito.MockBean;
import org.springframework.http.MediaType;
import org.springframework.test.context.junit4.SpringRunner;
import org.springframework.test.web.servlet.MockMvc;

@RunWith(SpringRunner.class)
// B·∫°n c·∫ßn cung c·∫•p l·ªõp Controller cho @WebMvcTest
@WebMvcTest(TodoRestController.class)
public class TodoRestControllerTest {
    /**
     * ƒê·ªëi t∆∞·ª£ng MockMvc do Spring cung c·∫•p
     * C√≥ t√°c d·ª•ng gi·∫£ l·∫≠p request, thay th·∫ø vi·ªác kh·ªüi ƒë·ªông Server
     */
    @Autowired
    private MockMvc mvc;

    @MockBean
    private TodoService todoService;

    @Test
    public void testFindAll() throws Exception {
        // T·∫°o ra m·ªôt List&lt;Todo&gt; 10 ph·∫ßn t·ª≠
        List&lt;Todo&gt; allTodos = IntStream.range(0, 10)
                                       .mapToObj(i -&gt; new Todo(i, &quot;title-&quot; + i, &quot;detail-&quot; + i))
                                       .collect(Collectors.toList());

        // gi·∫£ l·∫≠p todoService tr·∫£ v·ªÅ List mong mu·ªën
        given(todoService.getAll()).willReturn(allTodos);

        mvc.perform(get(&quot;/api/v1/todo&quot;).contentType(MediaType.APPLICATION_JSON)) // Th·ª±c hi·ªán GET REQUEST
           .andExpect(status().isOk()) // Mong mu·ªën Server tr·∫£ v·ªÅ status 200
           .andExpect(jsonPath(&quot;$&quot;, hasSize(10))) // Hi v·ªçng server tr·∫£ v·ªÅ List ƒë·ªô d√†i 10
           .andExpect(jsonPath(&quot;$[0].id&quot;, is(0))) // Hi v·ªçng ph·∫ßn t·ª≠ tr·∫£ v·ªÅ ƒë·∫ßu ti√™n c√≥ id = 0
           .andExpect(jsonPath(&quot;$[0].title&quot;, is(&quot;title-0&quot;))) // Hi v·ªçng ph·∫ßn t·ª≠ tr·∫£ v·ªÅ ƒë·∫ßu ti√™n c√≥ title = &quot;title-0&quot;
           .andExpect(jsonPath(&quot;$[0].detail&quot;, is(&quot;detail-0&quot;)));
    }
}
</code></pre>
<p>Ch·∫°y th·ª≠ v√† tr·∫£i nghi·ªám b·∫°n nh√© :3</p>
<h3 id="k·∫øt"><a class="header" href="#k·∫øt"><strong>K·∫øt</strong></a></h3>
<p>Test l√† m·ªôt ph·∫ßn quan tr·ªçng trong h·ªá th·ªëng, hi v·ªçng c√°c ƒë·ªçc kƒ© v√† th·ª±c h√†nh ƒë·ªÉ n·∫Øm ch·∫Øc.</p>
<p>üíÅ¬†N·∫øu c√≥, to√†n b·ªô project / code m·∫´u ƒë∆∞·ª£c l∆∞u tr·ªØ t·∫°i <strong>GitHub</strong></p>
<p>üåü¬†ƒê√¢y l√† m·ªôt b√†i vi·∫øt trong¬†Series <strong>L√†m ch·ªß Spring Boot ‚Äì Zero to Hero</strong></p>
<h1 id="h∆∞·ªõng-d·∫´n-chi-ti·∫øt-test-spring-boot-ph·∫ßn-2"><a class="header" href="#h∆∞·ªõng-d·∫´n-chi-ti·∫øt-test-spring-boot-ph·∫ßn-2">H∆∞·ªõng d·∫´n chi ti·∫øt Test Spring Boot (Ph·∫ßn 2)</a></h1>
<p>Trong b√†i n√†y, t√¥i s·∫Ω t·∫≠p trung v√†o vi·ªác gi·ªõi thi·ªáu v·ªõi c√°c c√°c b·∫°n c√°ch chu·∫©n b·ªã d·ªØ li·ªáu test.</p>
<p>B√†i vi·∫øt c√≥ s·ª≠ d·ª•ng:</p>
<ol>
<li>Hibernate l√† g√¨?</li>
<li>Spring JPA</li>
<li>Lombok</li>
<li>Spring Boot</li>
</ol>
<h3 id="c√†i-ƒë·∫∑t"><a class="header" href="#c√†i-ƒë·∫∑t"><strong>C√†i ƒë·∫∑t</strong></a></h3>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;projectxmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;&lt;parent&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;&lt;version&gt;2.0.5.RELEASE&lt;/version&gt;&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;
	&lt;/parent&gt;&lt;groupId&gt;me.loda.spring&lt;/groupId&gt;&lt;artifactId&gt;example-independent-maven-spring-project&lt;/artifactId&gt;&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;&lt;name&gt;example-independent-maven-spring-project&lt;/name&gt;&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;&lt;properties&gt;&lt;java.version&gt;1.8&lt;/java.version&gt;&lt;/properties&gt;&lt;dependencies&gt;&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;&lt;artifactId&gt;lombok&lt;/artifactId&gt;&lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;&lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;&lt;!--spring jpa--&gt;
		&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;&lt;/dependency&gt;&lt;!--in memory database--&gt;
		&lt;dependency&gt;&lt;groupId&gt;com.h2database&lt;/groupId&gt;&lt;artifactId&gt;h2&lt;/artifactId&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;&lt;/dependencies&gt;&lt;build&gt;&lt;plugins&gt;&lt;plugin&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;&lt;/plugin&gt;&lt;/plugins&gt;&lt;/build&gt;&lt;/project&gt;
</code></pre>
<h3 id="prepare"><a class="header" href="#prepare"><strong>Prepare</strong></a></h3>
<p>Tr∆∞·ªõc h·∫øt, gi·∫£ s·ª≠ ch√∫ng ta c√≥ m·ªôt h·ªá th·ªëng qu·∫£n l√Ω c√¥ng vi·ªác</p>
<p><em>Todo.java</em></p>
<pre><code>@Data
@AllArgsConstructor
@NoArgsConstructor
@Entity
public class Todo {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private int id;
    private String title;
    private String detail;
}
</code></pre>
<p><em>TodoRepository.java</em></p>
<pre><code>public interface TodoRepository extends JpaRepository&lt;Todo, Long&gt; {
    List&lt;Todo&gt; findAll();

    Todo findById(int id);
}
</code></pre>
<p><em>TodoController.java</em></p>
<pre><code>@RestController
@RequestMapping(&quot;/api/v1&quot;)
@RequiredArgsConstructor
public class TodoRestController {
    private final TodoService todoService;

    @GetMapping(&quot;/todo&quot;)
    public List&lt;Todo&gt; findAll() {
        return todoService.getAll();
    }
}
</code></pre>
<h3 id="datajpatest"><a class="header" href="#datajpatest"><strong>@DataJpaTest</strong></a></h3>
<p>V·ªÅ c∆° b·∫£n, ch√∫ng ta kh√¥ng th·ªÉ mock hay l√†m gi·∫£ d·ªØ li·ªáu c·ªßa Database m√£i ƒë∆∞·ª£c, n√≥ s·∫Ω l√† m·ªôt l·ªó h·ªïng l·ªõn trong h·ªá th·ªëng. Ngo√†i ra, b·∫°n c≈©ng s·∫Ω kh√¥ng th·ªÉ test ƒë∆∞·ª£c qu√° tr√¨nh thao t√°c v·ªõi Database c·ªßa d·ª± √°n.</p>
<p>V·∫≠y n√™n sau c√πng, ch√∫ng ta c≈©ng s·∫Ω ph·∫£i test c√°c thao t√°c v·∫≠n h√†nh v·ªõi Database,</p>
<p>Nh∆∞ng ch·ªõ lo, ƒë·ªÉ t·∫≠p trung v√†o vi·ªác test c√°c thao t√°c v·ªõi Database, Spring Boot ƒë√£ h·ªó tr·ª£ ch√∫ng ta b·∫±ng¬†<code>@DataJpaTest</code></p>
<p>K·∫øt h·ª£p gi·ªØa¬†<code>@DataJpaTest</code>¬†v√†¬†<code>h2-database</code>¬†(Memory database) l√† Combo ho√†n h·∫£o.</p>
<pre><code>@RunWith(SpringRunner.class)
/**
 * Khi ƒë√°nh d·∫•u m·ªôt class l√† @DataJpaTest.
 * Spring Boot s·∫Ω load l√™n t·∫•t c·∫£ c√°c Bean c√≥ li√™n quan t·ªõi t·∫ßng Repository
 * Thay v√¨ load h·∫øt t·∫•t c·∫£ Bean nh∆∞ l√† @SpringBootTest
 */
@DataJpaTest
public class DataJpaAnnotationTest {

    @Autowired
    private DataSource dataSource;
    @Autowired
    private JdbcTemplate jdbcTemplate;
    @Autowired
    private EntityManager entityManager;
    @Autowired
    private TodoRepository todoRepository;

    @Test
    public void allComponentAreNotNull() {
        Assertions.assertThat(dataSource).isNotNull();
        Assertions.assertThat(jdbcTemplate).isNotNull();
        Assertions.assertThat(entityManager).isNotNull();
        Assertions.assertThat(todoRepository).isNotNull();
    }

}
</code></pre>
<p><code>@DataJpaTest</code>¬†c√≥ t√°c d·ª•ng kh·ªüi t·∫°o c√°c Bean c·∫ßn thi·∫øt cho t·∫ßng Repository. Ngo√†i ra, n√≥ kh√¥ng kh·ªüi t·∫°o th√™m c√°c Bean th·ª´a th√£i n√†o kh√°c. (Chuy√™n bi·ªát h∆°n¬†<code>@SpringBootTest</code>)</p>
<h3 id="t·∫°o-data"><a class="header" href="#t·∫°o-data"><strong>T·∫°o Data</strong></a></h3>
<p>C√°ch Fake d·ªØ li·ªáu ƒë∆°n gi·∫£n nh·∫•t l√† t·ª± insert b·∫±ng repository</p>
<pre><code>import org.assertj.core.api.Assertions;
import org.junit.After;

    @Test
    public void testTodoRepositoryByCode() {
        todoRepository.save(new Todo(0, &quot;Todo-1&quot;, &quot;Detail-1&quot;));
        todoRepository.save(new Todo(0, &quot;Todo-2&quot;, &quot;Detail-2&quot;));

        Assertions.assertThat(todoRepository.findAll()).hasSize(2);
        Assertions.assertThat(todoRepository.findById(1).getTitle()).isEqualTo(&quot;Todo-1&quot;);
    }

    @After
    public void clean() {
        todoRepository.deleteAll();
    }
</code></pre>
<h3 id="sql"><a class="header" href="#sql"><strong>@Sql</strong></a></h3>
<p>M·ªôt c√°ch l√†m hay h∆°n ƒë·ªÉ chu·∫©n b·ªã d·ªØ li·ªáu cho Test ƒë√≥ l√† s·ª≠ d·ª•ng annotation¬†<code>@Sql</code></p>
<p><code>@Sql</code>¬†c√≥ t√°c d·ª•ng load m·ªôt ho·∫∑c nhi·ªÅu file scripts sql l√™n v√† th·ª±c thi.</p>
<p>v√≠ d·ª•:</p>
<p><em>createToDo.sql</em></p>
<pre><code>INSERT INTO todo (title, detail) VALUES ('Todo-1', 'Do homework');
INSERT INTO todo (title, detail) VALUES ('Todo-2', 'Walking');
</code></pre>
<p>ƒê·ªÉ ch·∫°y scripts n√†y trong class Test, b·∫°n l√†m nh∆∞ sau:</p>
<pre><code>@RunWith(SpringRunner.class)
@DataJpaTest
public class SqlAnnotationTest {
    @Autowired
    private TodoRepository todoRepository;

    @Test
    @Sql(&quot;/createTodo.sql&quot;)
    public void testTodoRepositoryBySqlSchema() {
        Assertions.assertThat(todoRepository.findAll()).hasSize(2);
        Assertions.assertThat(todoRepository.findById(1).getTitle()).isEqualTo(&quot;Todo-1&quot;);
    }

}
</code></pre>
<p>ƒê·ªÉ ch·∫°y nhi·ªÅu file sql c√πng l√∫c, b·∫°n s·ª≠ d·ª•ng¬†<code>@SqlGroup</code></p>
<h3 id="k·∫øt-1"><a class="header" href="#k·∫øt-1"><strong>K·∫øt</strong></a></h3>
<p>üíÅ¬†N·∫øu c√≥, to√†n b·ªô project / code m·∫´u ƒë∆∞·ª£c l∆∞u tr·ªØ t·∫°i <strong>GitHub</strong></p>
<p>üåü¬†ƒê√¢y l√† m·ªôt b√†i vi·∫øt trong¬†Series <strong>L√†m ch·ªß Spring Boot ‚Äì Zero to Hero</strong></p>
<h1 id="sb20-h∆∞·ªõng-d·∫´n-to√†n-t·∫≠p-mockito"><a class="header" href="#sb20-h∆∞·ªõng-d·∫´n-to√†n-t·∫≠p-mockito">[SB20] H∆∞·ªõng d·∫´n to√†n t·∫≠p Mockito</a></h1>
<h3 id="y√™u-c·∫ßu"><a class="header" href="#y√™u-c·∫ßu"><strong>Y√™u c·∫ßu</strong></a></h3>
<p>Tr∆∞·ªõc khi t√¨m hi·ªÉu Mockito, b·∫°n c·∫ßn bi·∫øt JUnit.</p>
<p>Trong b√†i vi·∫øt c√≥ s·ª≠ d·ª•ng¬†Lombok</p>
<h3 id="gi·ªõi-thi·ªáu-4"><a class="header" href="#gi·ªõi-thi·ªáu-4"><strong>Gi·ªõi thi·ªáu</strong></a></h3>
<p>V·ªÅ c∆° b·∫£n, Unit test l√† ph∆∞∆°ng ph√°p ti·∫øp c·∫≠n ƒë·ªôc l·∫≠p, t·ª©c l√† m·ªói m·ªôt ch·ª©c chƒÉng nƒÉng s·∫Ω ƒë∆∞·ª£c ƒëi k√®m v·ªõi m·ªôt ho·∫∑c nhi·ªÅu b√†i test ƒë·ªÉ ch·∫Øc ch·∫Øn r√†ng c√°i ch·ª©c nƒÉng ƒë√≥ ho·∫°t ƒë·ªông ·ªïn. V·∫≠y n√™n Unit Test th∆∞·ªùng l√† ƒë∆°n nh·ªè nh·∫•t v√† test case c≈©ng d·ªÖ d√†ng kh·ªüi t·∫°o</p>
<pre><code>@Test
public void testSum(){
    Assert.assertEquals(3, MathUtil.sum(1,2));
}
</code></pre>
<p>B√†i to√°n m·ªü r·ªông ra h∆°n, Khi ch√∫ng ta ph·∫£i test s·ª± ho·∫°t ƒë·ªông ph·ªëi h·ª£p gi·ªØa nhi·ªÅu ch·ª©c nƒÉng hay th√†nh ph·∫ßn v·ªõi nhau ho·∫∑c mu·ªën test m·ªôt ch·ª©c nƒÉng l·ªõn th√¨ s·∫Ω tr·ªü n√™n ph·ª©c t·∫°p v√† kh√≥ x√¢y d·ª±ng h∆°n r·∫•t nhi·ªÅu.</p>
<p>C√°c k·ªãch b·∫£n sau th∆∞·ªùng di·ªÖn ra:</p>
<ul>
<li>Ch·ª©c nƒÉng A g·ªçi t·ªõi ch·ª©c nƒÉng B. tuy nhi√™n, B ch∆∞a vi·∫øt xong</li>
<li>Ch·ª©c nƒÉng A g·ªçi t·ªõi ch·ª©c nƒÉng B. tuy nhi√™n, B kh·ªüi t·∫°o r·∫•t ph·ª©c t·∫°p (truy xu·∫•t Database, y√™u c·∫ßu nhi·ªÅu params, v.v.)</li>
<li>Mu·ªën test ch·ª©c nƒÉng A, tuy nhi√™n A y√™u c·∫ßu n·ªó l·ª±c l·ªõn c·ªßa c·∫£ h·ªá th·ªëng (Y√™u c·∫ßu c√≥ HTTP-server, authorize, v.v.)</li>
</ul>
<pre><code>// Gi·∫£ s·ª≠ mu·ªën test h√†m n√†y
public int getAllData(){

    // Gi·∫£ s·ª≠ nh∆∞ th·∫±ng driver kh√¥ng ƒë∆∞·ª£c kh·ªüi t·∫°o ho·∫∑c b·ªã l·ªói
    // th√¨ function n√†y coi nh∆∞ h·ªèng

    MySQLdriver.connect() // K·∫øt n·ªëi xu·ªëng Database
    var data = MySQLdriver.get()// L·∫•y d·ªØ li·ªáu

    // Ch√∫ng ta mu·ªën test logic x·ª≠ l√Ω d·ªØ li·ªáu ·ªü d∆∞·ªõi ƒë√¢y,
    // m√† k c·∫ßn k·∫øt n·ªëi databse, ph·∫£i l√†m sao?

    // X·ª≠ l√Ω d·ªØ li·ªáu
    ...
    // tr·∫£ ra d·ªØ li·ªáu
    return data
}
</code></pre>
<p>R·∫•t nhi·ªÅu k·ªãch b·∫£n ph·ª©c t·∫°p x·∫£y ra, m√† tr√™n th·ª±c t·∫ø, ch√∫ng ta ch·ªâ mong mu·ªën confirm r·∫±ng A ·ªïn, ch·ª© th·∫±ng B, C, D g√¨ ƒë√≥ th√¨ h√£y c·ª© t·∫°m coi l√† n√≥ &quot;ƒë√£ ·ªïn&quot; ƒëi.</p>
<p>ƒê·ªÉ ƒë∆°n gi·∫£n ho√° c√°c k·ªãch b·∫£n test nh∆∞ tr√™n, kh√°i ni·ªám¬†<code>Mock</code>¬†ra ƒë·ªùi.</p>
<p>T∆∞ t∆∞·ªüng c·ªßa¬†<code>Mock</code>¬†ƒë∆°n gi·∫£n l√† khi mu·ªën test (A g·ªçi B) th√¨ thay v√¨ t·∫°o ra m·ªôt ƒë·ªëi t∆∞·ª£ng B th·∫≠t s·ª±, b·∫°n t·∫°o ra m·ªôt th·∫±ng B' gi·∫£ m·∫°o, c√≥ ƒë·∫ßy ƒë·ªß ch·ª©c nƒÉng nh∆∞ B th·∫≠t (nh∆∞ng kh√¥ng ph·∫£i th·∫≠t)</p>
<p>B·∫°n s·∫Ω gi·∫£ l·∫≠p cho B' bi·∫øt l√† khi th·∫±ng A g·ªçi t·ªõi n√≥, n√≥ c·∫ßn l√†m g√¨, tr·∫£ l·∫°i c√°i g√¨ (hardcode). Mi·ªÖn l√†m sao cho n√≥ tr·∫£ ra ƒë√∫ng c√°i th·∫±ng A c·∫ßn ƒë·ªÉ ch√∫ng ta c√≥ th·ªÉ test A thu·∫≠n l·ª£i nh·∫•t.</p>
<pre><code>// ƒê·∫°i lo·∫°i nh∆∞ n√†y
// Khi driver.get() ƒë∆∞·ª£c g·ªçi, h√£y tr·∫£ ra m·ªôt List(1,2,3)
Mockito.when(driver.get())
       .thenReturn(Arrays.asList(1, 2, 3));
</code></pre>
<p>·ªû trong Java,¬†<code>Mockito</code>¬†ch√≠nh l√† th∆∞ vi·ªán n·ªïi ti·∫øng nh·∫•t ƒë·ªÉ c√°c b·∫°n l√†m vi·ªác n√†y.</p>
<h3 id="c√†i-ƒë·∫∑t-1"><a class="header" href="#c√†i-ƒë·∫∑t-1"><strong>C√†i ƒë·∫∑t</strong></a></h3>
<p>ƒê·ªÉ s·ª≠ d·ª•ng¬†<code>Mockito</code>¬†b·∫°n c·∫ßn:</p>
<pre><code>&lt;!--https://mvnrepository.com/artifact/org.mockito/mockito-core --&gt;
&lt;dependency&gt;&lt;groupId&gt;org.mockito&lt;/groupId&gt;&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;&lt;version&gt;3.2.4&lt;/version&gt;&lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;
</code></pre>
<p>Ch√∫ng ta ƒëang vi·∫øt test, n√™n ƒë·ª´ng qu√™n¬†<code>JUnit</code>¬†n·ªØa nh√©:</p>
<pre><code>&lt;!--https://mvnrepository.com/artifact/junit/junit --&gt;
&lt;dependency&gt;&lt;groupId&gt;junit&lt;/groupId&gt;&lt;artifactId&gt;junit&lt;/artifactId&gt;&lt;version&gt;4.12&lt;/version&gt;&lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;
</code></pre>
<h3 id="c√°ch-mock"><a class="header" href="#c√°ch-mock"><strong>C√°ch Mock</strong></a></h3>
<p>Kh√°i ni·ªám c∆° b·∫£n ƒë·∫ßu ti√™n, ƒë√≥ l√† l√†m sao ƒë·ªÉ t·∫°o ra m·ªôt ƒë·ªëi t∆∞·ª£ng b·ªã Mock.</p>
<h3 id="c√°ch-1-mockitomock"><a class="header" href="#c√°ch-1-mockitomock"><strong>C√°ch 1: Mockito.mock()</strong></a></h3>
<p>S·ª≠ d·ª•ng¬†<code>Mockito.mock()</code>¬†ƒë·ªÉ t·∫°o ra m·ªôt object c·ªßa¬†<code>Class</code>¬†b·∫°n y√™u c·∫ßu, n√≥ th·∫≠m ch√≠ c√≤n kh√¥ng quan t√¢m h√†m kh·ªüi t·∫°o c·ªßa¬†<code>Class</code>¬†√Ω nh∆∞ n√†o v√† ra sao, v√¨ n√≥ ƒë√¢u c√≥ th·∫≠t :v</p>
<pre><code>@Test
public void testUserMockFunction() {
    List mockList = Mockito.mock(List.class);

    Mockito.when(mockList.size()).thenReturn(2);

    Assert.assertEquals(2, mockList.size());
}
</code></pre>
<h3 id="c√°ch-2-s·ª≠-d·ª•ng-mock"><a class="header" href="#c√°ch-2-s·ª≠-d·ª•ng-mock"><strong>C√°ch 2: S·ª≠ d·ª•ng @Mock</strong></a></h3>
<p>B·∫°n mu·ªën mock c√°i g√¨, th√¨ ƒë√°nh d·∫•u¬†<code>@Mock</code>¬†l√™n √Ω, ƒë∆°n gi·∫£n v√£i :v</p>
<pre><code>@Mock
List&lt;String&gt; mockedList;
</code></pre>
<p>Tuy nhi√™n, g·∫Øn¬†<code>@Mock</code>¬†l√† ch∆∞a ƒë·ªß, b·∫°n c·∫ßn k√≠ch ho·∫°t¬†<code>Mockito</code>¬†ƒë·ªÉ n√≥ mock c√°c object √Ω cho b·∫°n.</p>
<p>Sau khi k√≠ch ho·∫°t, th√¨ t·∫•t c·∫£ c√°c object ƒë∆∞·ª£c g·∫Øn¬†<code>@Mock</code>¬†s·∫Ω tr·ªü th√†nh 1 object gi·∫£ m·∫°o, v√† ƒë√£ ƒë∆∞·ª£c kh·ªüi t·∫°o (t·ª©c l√†¬†<code>!= null</code>)</p>
<p>C√°c c√°ch k√≠ch ho·∫°t nh∆∞ sau:</p>
<ol>
<li>G·∫Øn¬†<code>@RunWith(MockitoJUnitRunner.class)</code>¬†l√™n class test c·ªßa b·∫°n</li>
</ol>
<pre><code>// C√°ch 1
@RunWith(MockitoJUnitRunner.class)
public class MockitoAnnotationTest {
    @Mock
    List&lt;String&gt; mockedList;
}
</code></pre>
<ol>
<li>t·∫°o ra m·ªôt ƒë·ªëi t∆∞·ª£ng¬†<code>MockitoRule</code>¬†b√™n trong class test c·ªßa b·∫°n</li>
</ol>
<pre><code>public class MockitoAnnotationTest {

    // C√°ch 2
    @Rule
    public MockitoRule initRule = MockitoJUnit.rule();

    @Mock
    List&lt;String&gt; mockedList;
}
</code></pre>
<ol>
<li>S·ª≠ d·ª•ng¬†<code>Mockito.init()</code></li>
</ol>
<pre><code>public class MockitoAnnotationTest {

    @Mock
    List&lt;String&gt; mockedList;

    @Before
    public void setUp() throws Exception {
        // C√°ch 3
        // N·∫øu b·∫°n kh√¥ng d√πng c√°ch 1 ho·∫∑c 2 th√¨ ph·∫£i s·ª≠ d·ª•ng
        // d√≤ng code d∆∞·ªõi ƒë√¢y:
        MockitoAnnotations.initMocks(this);
    }
}
</code></pre>
<p>V·∫≠y l√† xong, b·∫°n ƒë√£ t·∫°o ra ƒë∆∞·ª£c m·ªôt Object b·ªã mock.</p>
<h3 id="c√°ch-s·ª≠-d·ª•ng-1"><a class="header" href="#c√°ch-s·ª≠-d·ª•ng-1"><strong>C√°ch s·ª≠ d·ª•ng</strong></a></h3>
<p><code>Mockito</code>¬†cung c·∫•p r·∫•t nhi·ªÅu methods kh√°c nhau ƒë·ªÉ gi√∫p b·∫°n gi·∫£ l·∫≠p ƒë·∫ßy ƒë·ªß c√°c th·ª© b·∫°n c·∫ßn.</p>
<p>Hay s·ª≠ d·ª•ng nh·∫•t l√† h√†m¬†<code>when()</code>.</p>
<pre><code>// Tr·∫£ l√† size 100 khi g·ªçi h√†m size()
Mockito.when(mockedList.size()).thenReturn(100);
// Throw exception khi g·ªçi h√†m size()
Mockito.when(mockedList.size()).thenThrow(NullPointerException.class);
// B·∫°n c√≥ th·ªÉ ƒë·ªïi ng∆∞·ª£c c√°ch vi·∫øt, c√≤n logic v·∫´n v·∫≠y
// N√©m ra exception khi g·ªçi h√†m .get() v·ªõi tham s·ªë truy·ªÅn v√†o b·∫•t k√¨
Mockito.doThrow(NullPointerException.class).when(mockedList.get(Mockito.any()));
</code></pre>
<h3 id="spy"><a class="header" href="#spy"><strong>Spy</strong></a></h3>
<p><code>Spy</code>¬†l√† vi·ªác s·ª≠a m·ªôt ƒë·ªëi t∆∞·ª£ng Th·∫≠t -&gt; Gi·∫£</p>
<pre><code>@RunWith(MockitoJUnitRunner.class)
public class SpyTest {
    @Spy
    List&lt;String&gt; list = new ArrayList&lt;&gt;();

    @Test
    public void testSpy() {
        list.add(&quot;one&quot;);
        list.add(&quot;two&quot;);
        // show the list items
        System.out.println(list);

        Mockito.verify(list).add(&quot;one&quot;);
        Mockito.verify(list).add(&quot;two&quot;);

        // @Spy th·ª±c s·ª± g·ªçi h√†m .add c·ªßa List n√™n n√≥ c√≥ size l√† 2 m√† kh√¥ng c·∫ßn gi·∫£ l·∫≠p
        Assert.assertEquals(2, list.size());

        // V·∫´n c√≥ th·ªÉ l√†m gi·∫£ th√¥ng tin g·ªçi h√†m v·ªõi @Spy
        Mockito.when(list.size()).thenReturn(100);

        Assert.assertEquals(100, list.size());
    }
}
</code></pre>
<h3 id="captor"><a class="header" href="#captor"><strong>Captor</strong></a></h3>
<p><code>Captor</code>¬†c√≥ nhi·ªám v·ª• ghi l·∫°i c√°c tham s·ªë c·ªßa ƒë·ªëi t∆∞·ª£ng</p>
<pre><code>@RunWith(MockitoJUnitRunner.class)
public class CaptorTest {
    @Mock
    List&lt;Object&gt; list;

    @Captor
    ArgumentCaptor&lt;Object&gt; captor;

    @Test
    public void testCaptor1() {
        list.add(1);
        // Capture l·∫ßn g·ªçi add v·ª´a r·ªìi c√≥ gi√° tr·ªã l√† g√¨
        Mockito.verify(list).add(captor.capture());

        System.out.println(captor.getAllValues());

        Assert.assertEquals(1, captor.getValue());
    }
}
</code></pre>
<h3 id="inject-mock"><a class="header" href="#inject-mock"><strong>Inject Mock</strong></a></h3>
<p>Quay l·∫°i v·ªõi v√≠ d·ª• ƒë·∫ßu b√†i vi·∫øt:</p>
<p>T√¥i c√≥ m·ªôt l·ªõp¬†<code>Service</code>¬†ch·ª©a l·ªõp¬†<code>DatabaseDriver</code>¬†nh∆∞ sau:</p>
<pre><code>public interface DatabaseDriver {
    List&lt;Object&gt; get() throws SQLException;
}

@Data
@AllArgsConstructor
public static class SuperService {
    DatabaseDriver driver;

    public List&lt;Object&gt; getObjects() throws SQLException {
        System.out.println(&quot;LOG: Getting objects&quot;);
        List&lt;Object&gt; list = driver.get();

        System.out.println(&quot;LOG: Sorting&quot;);
        Collections.sort(list, Comparator.comparingInt(value -&gt; Integer.valueOf(value.toString())));

        System.out.println(&quot;LOG: Done&quot;);
        return list;
    }
}
</code></pre>
<p>R√µ r√†ng th√¨¬†<code>driver</code>¬†ch√≠nh l√† m·∫Øt x√≠ch trong trong vi·ªác¬†<code>SuperService</code>¬†c√≥ ho·∫°t ƒë·ªông ƒë∆∞·ª£c hay kh√¥ng. V√¨ th·∫ø, mu·ªën test ƒë∆∞·ª£c¬†<code>SuperService</code>, ch√∫ng ta ph·∫£i mock ƒë·ªëi t∆∞·ª£ng¬†<code>driver</code>.</p>
<p>k·ªãch b·∫£n b√¢y gi·ªù s·∫Ω l√† t√¥i mock m·ªôt ƒë·ªëi t∆∞·ª£ng c·ªßa¬†<code>DatabaseDriver</code>¬†r·ªìi truy·ªÅn n√≥ v√†o ƒë·ªëi t∆∞·ª£ng¬†<code>SuperService</code>.</p>
<p>ƒê·ªÉ truy·ªÅn m·ªôt ƒë·ªëi t∆∞·ª£ng mock v√†o m·ªôt ƒë·ªëi t∆∞·ª£ng kh√°c, ch√∫ng ta d√πng¬†<code>@InjectMocks</code>.</p>
<pre><code>@RunWith(MockitoJUnitRunner.class)
public class InjectMockTest {
    @Mock
    DatabaseDriver driver;

    /**
     * Inject driver v√†o superService.
     * M·ªçi ng∆∞·ªùi c√≥ th·ªÉ li√™n t∆∞·ªüng n√≥ gi·ªëng v·ªõi Spring Injection
     */
    @InjectMocks
    SuperService superService;

    @Test(expected = SQLException.class)
    public void testInjectMock() throws SQLException {
        // Gi·∫£ l·∫≠p cho driver lu√¥n tr·∫£ v·ªÅ list (3,2,1) khi ƒë∆∞·ª£c g·ªçi t·ªõi
        Mockito.doReturn(Arrays.asList(3, 2, 1)).when(driver).get();

        Assert.assertEquals(driver, superService.getDriver());

        // Test xem superService tr·∫£ ra ngo√†i c√≥ ƒë√∫ng kh√¥ng?
        Assert.assertEquals(Arrays.asList(1, 2, 3), superService.getObjects());

        // Gi·∫£ l·∫≠p cho driver b·∫Øn exception
        Mockito.when(driver.get()).thenThrow(SQLException.class);
        superService.getObjects();
    }
}
</code></pre>
<h3 id="k·∫øt-2"><a class="header" href="#k·∫øt-2"><strong>K·∫øt</strong></a></h3>
<p>T·ªõi ƒë√¢y, b·∫°n ƒë√£ c√≥ th·ªÉ d√πng¬†<code>Mockito</code>¬†xo√†nh xo·∫°ch r·ªìi.</p>
<p>Ti·∫øp theo, c√≥ th·ªÉ ƒë·ªçc c√°ch s·ª≠ d·ª•ng¬†<code>Mockito</code>¬†v·ªõi¬†<code>Spring Boot</code>t·∫°i ƒë√¢y</p>
<p>üíÅ¬†N·∫øu c√≥, to√†n b·ªô project / code m·∫´u ƒë∆∞·ª£c l∆∞u tr·ªØ t·∫°i <strong>GitHub</strong></p>
<p>üåü¬†ƒê√¢y l√† m·ªôt b√†i vi·∫øt trong¬†Series <strong>L√†m ch·ªß Spring Boot ‚Äì Zero to Hero</strong></p>
<h1 id="sb21-h∆∞·ªõng-d·∫´n-t·∫°o-bean-c√≥-ƒëi·ªÅu-ki·ªán-v·ªõi-conditional"><a class="header" href="#sb21-h∆∞·ªõng-d·∫´n-t·∫°o-bean-c√≥-ƒëi·ªÅu-ki·ªán-v·ªõi-conditional">[SB21] H∆∞·ªõng d·∫´n t·∫°o Bean c√≥ ƒëi·ªÅu ki·ªán v·ªõi @Conditional</a></h1>
<ul>
<li>Gi·ªõi thi·ªáu</li>
<li>C√°ch t·∫°o bean c√≥ ƒëi·ªÅu ki·ªán</li>
<li>@ConditionalOnBean</li>
<li>@ConditionalOnProperty</li>
<li>@ConditionalOnExpression</li>
<li>@ConditionalOnMissingBean</li>
<li>@ConditionalOnResource</li>
<li>@ConditionalOnClass</li>
<li>@ConditionalOnMissingClass</li>
<li>@ConditionalOnJava</li>
<li>M·ªôt s·ªë lo·∫°i kh√°c</li>
<li>Custom Conditional</li>
<li>K·∫øt</li>
</ul>
<h3 id="gi·ªõi-thi·ªáu-5"><a class="header" href="#gi·ªõi-thi·ªáu-5"><strong>Gi·ªõi thi·ªáu</strong></a></h3>
<p>Khi x√¢y d·ª±ng m·ªôt ch∆∞∆°ng tr√¨nh v·ªõi¬†<strong>Spring Boot</strong>¬†ƒë√¥i l√∫c ch√∫ng ta m·ªôt¬†<strong>Bean</strong>¬†ch·ªâ ƒë∆∞·ª£c load l√™n ho·∫∑c kh·ªüi t·∫°o theo m·ªôt ƒëi·ªÅu ki·ªán n√†o ƒë√≥. V√≠ d·ª• nh∆∞ t·∫°o m·ªôt¬†<strong>Bean</strong>¬†trong m√¥i tr∆∞·ªùng Test, c√≤n m√¥i tr∆∞·ªùng th·∫≠t s·∫Ω kh√¥ng c·∫ßn n·ªØa.</p>
<p><strong>Spring Boot</strong>¬†h·ªó tr·ª£ ch√∫ng ta l√†m ƒëi·ªÅu n√†y v·ªõi Annotation¬†<code>@Conditional</code>.</p>
<p>B√†i n√†y y√™u c·∫ßu ki·∫øn th·ª©c c∆° b·∫£n:</p>
<ol>
<li>„ÄåSpring Boot #0„Äç Series l√†m ch·ªß Spring Boot, Zero to Hero</li>
</ol>
<p>To√†n b·ªô v√≠ d·ª• trong b√†i vi·∫øt n√†y¬†ƒë·ªÅu c√≥ t·∫°i Github</p>
<h3 id="c√°ch-t·∫°o-bean-c√≥-ƒëi·ªÅu-ki·ªán"><a class="header" href="#c√°ch-t·∫°o-bean-c√≥-ƒëi·ªÅu-ki·ªán"><strong>C√°ch t·∫°o bean c√≥ ƒëi·ªÅu ki·ªán</strong></a></h3>
<p>Trong¬†<strong>Spring Boot</strong>, c√≥ r·∫•t nhi·ªÅu c√°ch ƒë·ªÉ t·∫°o ra¬†<code>Bean</code>, b·∫°n bi·∫øt c√°ch n√†o?</p>
<p><code>@Component</code>,¬†<code>@Configuration</code>,¬†<code>@Bean</code>,¬†<code>@Service</code>, v.v...</p>
<p>V·ªõi t·∫•t c·∫£ c√°c c√°ch t·∫°o ra¬†<code>Bean</code>, b·∫°n ƒë·ªÅu c√≥ th·ªÉ th√™m¬†<strong>m·ªôt ho·∫∑c nhi·ªÅu ƒëi·ªÅu ki·ªán</strong>¬†ƒë·ªÉ cho vi·ªác t·∫°o ra¬†<code>Bean</code>¬†ƒë√≥ ch·ªâ x·∫£y ra n·∫øu n√≥ th·ªèa m√£n m·ªôt ƒëi·ªÅu ki·ªán cho tr∆∞·ªõc.</p>
<p><strong>SpringBoot</strong>¬†h·ªó tr·ª£ r·∫•t nhi·ªÅu lo·∫°i ƒëi·ªÅu ki·ªán kh√°c nhau, t·∫•t c·∫£ ƒë·ªÅu s·∫Ω b·∫Øt ƒë·∫ßu b·∫±ng ti·ªÅn t·ªë¬†<code>@Conditional...</code>. C√≤n h·∫≠u t·ªë th√¨ ch√∫ng ta s·∫Ω ƒë·ªÅ c·∫≠p sau.</p>
<p>C√°ch th·ª©c ho·∫°t ƒë·ªông c·ªßa t·∫•t c·∫£¬†<code>@Condition</code>¬†nh∆∞ sau:</p>
<pre><code>@Configuration
public class ConditionalOnBeanExample {
    /*
    ABeanWithCondition ch·ªâ ƒë∆∞·ª£c t·∫°o ra khi @Condition th·ªèa m√£n
    */
    @Bean
    @Conditional...
    ABeanWithCondition aBeanWithACondition() {
        return new ABeanWithCondition();
    }
}
</code></pre>
<p>N·∫øu b·∫°n g·∫Øn n√≥ tr√™n m·ªôt¬†<code>@Configuration</code>¬†th√¨ to√†n b·ªô c√°c¬†<code>@Bean</code>¬†b√™n trong s·∫Ω b·ªã ch·ªãu t√°c ƒë·ªông.</p>
<pre><code>@Conditional...
@Configuration
public class ConditionalOnBeanExample {
    /*
    SomeOtherBean ch·ªâ ƒë∆∞·ª£c t·∫°o ra khi @Condition th·ªèa m√£n
    */
    @Bean
    SomeOtherBean someOtherBean() {
        return new SomeOtherBean();
    }
       /*
    SomeOtherBean2 ch·ªâ ƒë∆∞·ª£c t·∫°o ra khi @Condition th·ªèa m√£n
    */
    @Bean
    SomeOtherBean2 someOtherBean2() {
        return new SomeOtherBean2();
    }
}
</code></pre>
<p>T∆∞∆°ng t·ª± cho t·∫•t c·∫£ c√°c annotation kh√°c nh∆∞¬†<code>@Component</code>,¬†<code>@Service</code>,¬†<code>@Repository</code></p>
<pre><code>@Conditional...
@Component
public class ConditionalOnBeanExample {
}
</code></pre>
<p>B√¢y gi·ªù ch√∫ng ta s·∫Ω ƒëi t√¨m hi·ªÉu c√°c lo·∫°i ƒëi·ªÅu ki·ªán trong¬†<strong>Spring Boot</strong>.</p>
<h3 id="conditionalonbean"><a class="header" href="#conditionalonbean"><strong>@ConditionalOnBean</strong></a></h3>
<p><code>@ConditionalOnBean</code>¬†s·ª≠ d·ª•ng khi ch√∫ng ta mu·ªën t·∫°o ra m·ªôt Bean, ch·ªâ khi c√≥ m·ªôt Bean kh√°c ƒëang t·ªìn t·∫°i</p>
<pre><code>@Configuration
public class ConditionalOnBeanExample {
    /*
    ƒê√¢y l√† m·ªôt Bean, b·∫°n h√£y ch·∫°y ·ª©ng d·ª•ng
    khi comment v√† ch·∫°y l·∫°i l·∫ßn n·ªØa nh∆∞ng b·ªè d·∫•u comment ph√≠a
    d∆∞·ªõi ƒë·ªÉ xem k·∫øt qu·∫£.
     */
    // @Bean
    RandomBean randomBean() {
        return new RandomBean();
    }

    /*
    ABeanWithCondition ch·ªâ ƒë∆∞·ª£c t·∫°o ra, khi RandomBean t·ªìn t·∫°i trong Context.
     */
    @Bean
    @ConditionalOnBean(RandomBean.class)
    ABeanWithCondition aBeanWithACondition() {
        return new ABeanWithCondition();
    }
}
</code></pre>
<h3 id="conditionalonproperty"><a class="header" href="#conditionalonproperty"><strong>@ConditionalOnProperty</strong></a></h3>
<p>D√πng¬†<code>@ConditionalOnProperty</code>¬†khi b·∫°n mu·ªën quy·∫øt ƒë·ªãnh s·ª± t·ªìn t·∫°i Bean th√¥ng qua c·∫•u h√¨nh property.</p>
<pre><code>@Configuration
public class ConditionalOnPropertyExample {

    /*
    @ConditionalOnProperty gi√∫p g·∫Øn ƒëi·ªÅu ki·ªán cho @Bean d·ª±a theo
    property trong config
     */
    @Bean
    @ConditionalOnProperty(
            value=&quot;loda.bean2.enabled&quot;,
            havingValue = &quot;true&quot;, // N·∫øu gi√° tr·ªã loda.bean2.enabled  = true th√¨ Bean m·ªõi ƒë∆∞·ª£c kh·ªüi t·∫°o
            matchIfMissing = false) // matchIFMissing l√† gi√° tr·ªã m·∫∑c ƒë·ªãnh n·∫øu kh√¥ng t√¨m th·∫•y property loda.bean2.enabled
    ABeanWithCondition2 aBeanWithCondition2(){
        return new ABeanWithCondition2();
    }
}
</code></pre>
<p><em>application.properties</em></p>
<pre><code>#Thay ƒë·ªïi th√†nh true ƒë·ªÉ t·∫°o bean2
loda.bean2.enabled=true
</code></pre>
<h3 id="conditionalonexpression"><a class="header" href="#conditionalonexpression"><strong>@ConditionalOnExpression</strong></a></h3>
<p>Trong tr∆∞·ªùng h·ª£p b·∫°n mu·ªën th·ªèa m√£n nhi·ªÅu ƒëi·ªÅu ki·ªán trong property, h√£y s·ª≠ d·ª•ng¬†<code>@ConditionalOnExpression</code></p>
<pre><code>@Configuration
@ConditionalOnExpression(
        &quot;${loda.expression1.enabled:true} and ${loda.expression2.enabled:true}&quot;
)
public class ConditionalOnExpressionExample {
}
</code></pre>
<h3 id="conditionalonmissingbean"><a class="header" href="#conditionalonmissingbean"><strong>@ConditionalOnMissingBean</strong></a></h3>
<p>N·∫øu trong¬†<code>Context</code>¬†ch∆∞a t·ªìn t·∫°i b·∫•t k·ª≥ Bean n√†o t∆∞∆°ng t·ª±, th√¨¬†<code>@ConditionalOnMissingBean</code>¬†s·∫Ω th·ªèa m√£n ƒëi·ªÅu ki·ªán v√† t·∫°o ra m·ªôt Bean nh∆∞ th·∫ø.</p>
<pre><code>@Configuration
public class ConditionalOnMissingBeanExample {
    /**
     * N·∫øu trong Context ch∆∞a t·ªìn t·∫°i m·ªôt SomeMissingBean n√†o
     * Th√¨ Bean ·ªü d∆∞·ªõi ƒë√¢y m·ªõi ƒë∆∞·ª£c t·∫°o
     * @return
     */
    @ConditionalOnMissingBean
    DataSource someMissingBean(){
        return new DataSource();
    }
}
</code></pre>
<h3 id="conditionalonresource"><a class="header" href="#conditionalonresource"><strong>@ConditionalOnResource</strong></a></h3>
<p><code>@ConditionalOnResource</code>¬†th·ªèa m√£n khi c√≥ m·ªôt resources n√†o ƒë√≥ do b·∫°n ch·ªâ ƒë·ªãnh t·ªìn t·∫°i</p>
<pre><code>/*
N·∫øu Spring Boot kh√¥ng t√¨m th·∫•y file application.properties th√¨ class n√†y kh√¥ng ƒë∆∞·ª£c t·∫°o
*/
@Configuration
@ConditionalOnResource(resources = &quot;/application.properties&quot;)
public class ConditionalOnResourceExample {
}
</code></pre>
<h3 id="conditionalonclass"><a class="header" href="#conditionalonclass"><strong>@ConditionalOnClass</strong></a></h3>
<p><code>@ConditionalOnClass</code>¬†th·ªèa m√£n khi trong classpath c√≥ t·ªìn t·∫°i class m√† b·∫°n y√™u c·∫ßu</p>
<pre><code>@Configuration
@ConditionalOnClass(name = &quot;loda.me.spring.LodaHandsome&quot;)
class ConditionalOnClassExample {
}
</code></pre>
<h3 id="conditionalonmissingclass"><a class="header" href="#conditionalonmissingclass"><strong>@ConditionalOnMissingClass</strong></a></h3>
<p><code>@ConditionalOnMissingClass</code>¬†ng∆∞·ª£c l·∫°i v·ªõi¬†<code>@ConditionalOnClass</code>. th·ªèa m√£n khi trong classpath¬†<strong>kh√¥ng</strong>¬†t·ªìn t·∫°i class m√† b·∫°n y√™u c·∫ßu</p>
<pre><code>@Configuration
@ConditionalOnMissingClass(name = &quot;loda.me.spring.LodaHandsome&quot;)
class ConditionalOnMissingClassExample {
}
</code></pre>
<h3 id="conditionalonjava"><a class="header" href="#conditionalonjava"><strong>@ConditionalOnJava</strong></a></h3>
<p><code>@ConditionalOnJava</code>¬†th·ªèa m√£n n·∫øu m√¥i tr∆∞·ªùng ch·∫°y version Java ƒë√∫ng v·ªõi ƒëi·ªÅu ki·ªán</p>
<pre><code>@Configuration
@ConditionalOnJava(JavaVersion.EIGHT)
class ConditionalOnJavaExample {
}
</code></pre>
<h3 id="m·ªôt-s·ªë-lo·∫°i-kh√°c"><a class="header" href="#m·ªôt-s·ªë-lo·∫°i-kh√°c"><strong>M·ªôt s·ªë lo·∫°i kh√°c</strong></a></h3>
<p>V·∫´n c√≤n c√°c b·∫°n ·∫°, nh·ªØng m√¨nh th·∫•y n√≥ √≠t khi ƒë∆∞·ª£c s·ª≠ d·ª•ng, n√™n s·∫Ω kh√¥ng ƒë·ªÅ c·∫≠p, tr√°nh lo·∫°n th√¥ng tin.</p>
<h3 id="custom-conditional"><a class="header" href="#custom-conditional"><strong>Custom Conditional</strong></a></h3>
<p>T·∫•t nhi√™n l√† b·∫°n ho√†n to√†n c√≥ th·ªÉ t·ª± t·∫°o ra cho m√¨nh m·ªôt ƒëi·ªÅu ki·ªán. M√¨nh s·∫Ω ƒë·ªÅ c·∫≠p c√°ch l√†m ·ªü b√†i sau.</p>
<h3 id="k·∫øt-3"><a class="header" href="#k·∫øt-3"><strong>K·∫øt</strong></a></h3>
<p>üíÅ¬†N·∫øu c√≥, to√†n b·ªô project / code m·∫´u ƒë∆∞·ª£c l∆∞u tr·ªØ t·∫°i <strong>GitHub</strong></p>
<p>üåü¬†ƒê√¢y l√† m·ªôt b√†i vi·∫øt trong¬†Series <strong>L√†m ch·ªß Spring Boot ‚Äì Zero to Hero</strong></p>
<h1 id="sb22-h∆∞·ªõng-d·∫´n-t·ª±-t·∫°o-custom-conditional"><a class="header" href="#sb22-h∆∞·ªõng-d·∫´n-t·ª±-t·∫°o-custom-conditional">[SB22] H∆∞·ªõng d·∫´n t·ª± t·∫°o custom @Conditional</a></h1>
<ul>
<li>Gi·ªõi thi·ªáu</li>
<li>T·ª± t·∫°o @Conditional</li>
<li>T·ª± t·∫°o Annotation @Conditional</li>
<li>Ch·∫°y th·ª≠</li>
<li>K·∫øt h·ª£p nhi·ªÅu ƒëi·ªÅu ki·ªán v·ªõi OR</li>
<li>K·∫øt h·ª£p nhi·ªÅu ƒëi·ªÅu ki·ªán v·ªõi AND</li>
<li>K·∫øt</li>
</ul>
<h3 id="gi·ªõi-thi·ªáu-6"><a class="header" href="#gi·ªõi-thi·ªáu-6"><strong>Gi·ªõi thi·ªáu</strong></a></h3>
<p>Y√™u c·∫ßu b·∫°n ph·∫£i ƒë·ªçc b√†i vi·∫øt v·ªÅ¬†<code>@Conditional</code>¬†tr∆∞·ªõc:</p>
<ol>
<li>[Spring Boot] H∆∞·ªõng d·∫´n t·∫°o Bean c√≥ ƒëi·ªÅu ki·ªán v·ªõi @Conditional</li>
</ol>
<p>T√¥i ƒë√£ gi·ªõi thi·ªáu v·ªõi c√°c b·∫°n c√°c s·ª≠ d·ª•ng c√°c lo·∫°i¬†<code>@Conditional</code>¬†c√≥ s·∫µn trong Spring Boot. Tuy nhi√™n, tr√™n th·ª±c t·∫ø, s·∫Ω c√≥ nh·ªØng l√∫c y√™u c·∫ßu c√°c lo·∫°i ƒëi·ªÅu ki·ªán n·∫±m ngo√†i ph·∫°m vi c·ªßa Spring Boot cung c·∫•p.</p>
<p>Khi ƒë√≥, ch√∫ng ta ph·∫£i t·ª± t·∫°o¬†<code>@Condinal</code>¬†cho m√¨nh.</p>
<h3 id="t·ª±-t·∫°o-conditional"><a class="header" href="#t·ª±-t·∫°o-conditional"><strong>T·ª± t·∫°o @Conditional</strong></a></h3>
<p>ƒê·ªÉ t·∫°o ra m·ªôt ƒëi·ªÅu ki·ªán cho m√¨nh, b·∫°n c·∫ßn k·∫ø th·ª´a l·ªõp¬†<code>Condition</code>, v√† implement l·∫°i function¬†<code>matches</code></p>
<p><code>matches</code>¬†l√† n∆°i b·∫°n ki·ªÉm tra ƒëi·ªÅu ki·ªán xem c√≥ tho·∫£ m√£n kh√¥ng.</p>
<pre><code>/*
M·ªôt ƒëi·ªÅu ki·ªán, ph·∫£i k·∫ø th·ª´a l·ªõp Condition c·ªßa Spring Boot cung c·∫•p
 */
public class WindowRequired implements Condition{

    @Override
    public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {
        // N·∫øu OS ra window tr·∫£ ra true.
        return System.getProperty(&quot;os.name&quot;).toLowerCase().contains(&quot;win&quot;);
    }
}
</code></pre>
<p>V√† khi ƒë√£ ƒë·ªãnh nghƒ©a ƒë∆∞·ª£c cho m√¨nh m·ªôt ƒëi·ªÅu ki·ªán ri√™ng, b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng nh∆∞ sau:</p>
<pre><code>@Configuration
public class AppConfiguration {
    public static class SomeBean{
    }

    /*
    SomeBean ch·ªâ ƒë∆∞·ª£c t·∫°o ra khi
    th·ªèa m√£n ƒëi·ªÅu ki·ªán
     */
    @Conditional(WindowRequired.class)
    @Bean
    SomeBean someBean(){
        return new SomeBean();
    }
}
</code></pre>
<h3 id="t·ª±-t·∫°o-annotation-conditional"><a class="header" href="#t·ª±-t·∫°o-annotation-conditional"><strong>T·ª± t·∫°o Annotation @Conditional</strong></a></h3>
<p>N·∫øu vi·ªác vi·∫øt¬†<code>@Conditional(WindowRequired.class)</code>¬†ch∆∞a l√†m b·∫°n h√†i l√≤ng, b·∫°n c√≥ th·ªÉ t·ª± t·∫°o ra m·ªôt¬†<code>Annotation</code>¬†gi·ªëng v·ªõi Spring Boot.</p>
<p>V√≠ d·ª• nh∆∞¬†<code>@ConditionalOnClass</code>¬†trong¬†b√†i vi·∫øt tr∆∞·ªõc</p>
<p>Th√¨ h√£y l√†m nh∆∞ sau:</p>
<pre><code>@Target({ ElementType.TYPE, ElementType.METHOD })
@Retention(RetentionPolicy.RUNTIME)
@Documented
// ƒê√°nh d·∫•u annotation n√†y b·ªüi @Conditional(WindowRequired.class)
@Conditional(WindowRequired.class)
public @interface ConditionalOnWindow {
    /*
    Trong tr∆∞·ªùng h·ª£p b·∫°n mu·ªën vi·∫øt ng·∫Øn g·ªçn,
    hay t·∫°o ra 1 Annotation m·ªõi v√† g·∫Øn @Conditional(WindowRequired.class)
    tr√™n n√≥

    Nh∆∞ v·∫≠y khi c·∫ßn s·ª≠ d·ª•ng ch·ªâ c·∫ßn g·ªçi @ConditionalOnWindow l√† ƒë∆∞·ª£c
     */
}
</code></pre>
<p>Khi s·ª≠ d·ª•ng:</p>
<pre><code>@Configuration
public class AppConfiguration {
    public static class SomeBean{
    }

    /*
    SomeBean ch·ªâ ƒë∆∞·ª£c t·∫°o ra khi
    th·ªèa m√£n ƒëi·ªÅu ki·ªán
     */
    @ConditionalOnWindow
    @Bean
    SomeBean someBean(){
        return new SomeBean();
    }
}
</code></pre>
<h3 id="ch·∫°y-th·ª≠-1"><a class="header" href="#ch·∫°y-th·ª≠-1"><strong>Ch·∫°y th·ª≠</strong></a></h3>
<pre><code>@SpringBootApplication
public class App {
    public static void main(String[] args) {
        ApplicationContext context = SpringApplication.run(App.class, args);
        try {
            SomeBean someBean = context.getBean(SomeBean.class);
            System.out.println(&quot;SomeBean t·ªìn t·∫°i!&quot;);
        }catch (Exception e){
            System.out.println(&quot;SomeBean ch·ªâ ƒë∆∞·ª£c t·∫°o n·∫øu ch·∫°y tr√™n Window&quot;);
        }

    }
}
</code></pre>
<p>H√£y b·ªè Annotation¬†<code>@ConditionalOnWindow</code>¬†ƒëi v√† ch·∫°y th·ª≠, sau ƒë√≥ th√™m l·∫°i, xem k·∫øt qu·∫£ c·ªßa 2 l·∫ßn ch·∫°y.</p>
<h3 id="k·∫øt-h·ª£p-nhi·ªÅu-ƒëi·ªÅu-ki·ªán-v·ªõi-or"><a class="header" href="#k·∫øt-h·ª£p-nhi·ªÅu-ƒëi·ªÅu-ki·ªán-v·ªõi-or"><strong>K·∫øt h·ª£p nhi·ªÅu ƒëi·ªÅu ki·ªán v·ªõi OR</strong></a></h3>
<p>B·∫°n c√≥ th·ªÉ k·∫øt h·ª£p nhi·ªÅu ƒëi·ªÅu ki·ªán v·ªõi nhau b·ªüi ph√©p OR.</p>
<p>Spring Boot h·ªó tr·ª£ ƒëi·ªÅu n√†y b·∫±ng c√°ch k·∫ø th·ª´a l·ªõp¬†<code>AnyNestedCondition</code></p>
<pre><code>/**
 * Class k·∫ø th·ª´a AnyNestedCondition s·∫Ω ch·∫•p nh·∫≠n m·ªçi
 * ƒëi·ªÅu ki·ªán @Conditional b√™n trong n√≥
 */
public class WindowOrMacRequired extends AnyNestedCondition{

    public WindowOrMacRequired(){
        super(ConfigurationPhase.REGISTER_BEAN);
    }

    /*
    B·∫°n ph·∫£i ƒë·ªãnh nghƒ©a c√°c ƒêi·ªÅu ki·ªán b√™n trong class
    k·∫ø th·ª´a AnyNestedCondition
     */
    @Conditional(WindowRequired.class)
    public class RunOnWindow{}

    /*
    L√∫c n√†y, c·∫£ 2 ƒëi·ªÅu ki·ªán Window v√† Mac s·∫Ω ƒë∆∞·ª£c k·∫øt h·ª£p vs
    nhau khi ki·ªÉm tra, n·∫øu tho·∫£ m√£n 1 trong 2 l√† ƒëc
     */
    @Conditional(MacRequired.class)
    public class RunOnMac{}
}
</code></pre>
<p>S·ª≠ d·ª•ng</p>
<pre><code>@Configuration
public class AppConfiguration {
    public static class SomeBean{
    }

    /*
    SomeBean ch·ªâ ƒë∆∞·ª£c t·∫°o ra khi
    th·ªèa m√£n ƒëi·ªÅu ki·ªán
     */
    @Conditional(WindowOrMacRequired.class)
    @Bean
    SomeBean someBean(){
        return new SomeBean();
    }
}
</code></pre>
<h3 id="k·∫øt-h·ª£p-nhi·ªÅu-ƒëi·ªÅu-ki·ªán-v·ªõi-and"><a class="header" href="#k·∫øt-h·ª£p-nhi·ªÅu-ƒëi·ªÅu-ki·ªán-v·ªõi-and"><strong>K·∫øt h·ª£p nhi·ªÅu ƒëi·ªÅu ki·ªán v·ªõi AND</strong></a></h3>
<p>B·∫°n c√≥ th·ªÉ k·∫øt h·ª£p c√°c ƒëi·ªÅu ki·ªán b·∫±ng ph√©p AND b·∫±ng c√°ch k·∫ø th·ª´a l·ªõp¬†<code>AllNestedConditions</code>.</p>
<p>C√°ch k·∫ø th·ª´a c·ªßa n√≥ gi·ªëng v·ªõi¬†<code>AnyNestedCondition</code>¬†n√™n t√¥i s·∫Ω kh√¥ng c·∫ßn ƒë·ªÅ c·∫≠p th√™m.</p>
<p>Ngo√†i ra, c√≥ m·ªôt c√°ch kh√°c l√† s·ª≠ d·ª•ng nhi·ªÅu custom¬†<code>@Conditional</code>¬†c√πng m·ªôt l√∫c.</p>
<pre><code>@Bean
@ConditionalOnWindow
@Conditional(MacRequired.class)
SomeBean someBean() {
  return new SomeBean();
}
</code></pre>
<h3 id="k·∫øt-4"><a class="header" href="#k·∫øt-4"><strong>K·∫øt</strong></a></h3>
<p>T·ªõi ƒë√¢y, b·∫°n c√≥ th·ªÉ n·∫Øm v·ªØng ƒë∆∞·ª£c c√°ch t·∫°o ƒëi·ªÅu ki·ªán cho c·∫•u h√¨nh ·ª©ng d·ª•ng c·ªßa m√¨nh, n√≥ s·∫Ω r·∫•t c√≥ √≠ch khi b·∫°n l√†m vi·ªác v√† t√°ch bi·ªát ƒë∆∞·ª£c hai m√¥i tr∆∞·ªùng dev v√† production.</p>
<p>üíÅ¬†N·∫øu c√≥, to√†n b·ªô project / code m·∫´u ƒë∆∞·ª£c l∆∞u tr·ªØ t·∫°i <strong>GitHub</strong></p>
<p>üåü¬†ƒê√¢y l√† m·ªôt b√†i vi·∫øt trong¬†Series <strong>L√†m ch·ªß Spring Boot ‚Äì Zero to Hero</strong></p>
<h1 id="sb23-x·ª≠-l√Ω-s·ª±-ki·ªán-v·ªõi-eventlistener--async"><a class="header" href="#sb23-x·ª≠-l√Ω-s·ª±-ki·ªán-v·ªõi-eventlistener--async">[SB23] X·ª≠ l√Ω s·ª± ki·ªán v·ªõi @EventListener + @Async</a></h1>
<ul>
<li>Gi·ªõi thi·ªáu</li>
<li>C∆° b·∫£n v·ªÅ Event &amp; Listener</li>
<li>√Åp v√†o th·ª±c t·∫ø</li>
<li>Event</li>
<li>Event Publisher</li>
<li>Event Listener</li>
<li>Ch·∫°y th·ª≠ 1</li>
<li>@Async</li>
<li>@Async</li>
<li>Ch·∫°y th·ª≠ l·∫ßn 2</li>
<li>K·∫øt</li>
</ul>
<h3 id="gi·ªõi-thi·ªáu-7"><a class="header" href="#gi·ªõi-thi·ªáu-7"><strong>Gi·ªõi thi·ªáu</strong></a></h3>
<p>H·∫≥n trong¬†<strong>Java</strong>¬†kh√¥ng √≠t th√¨ nhi·ªÅu c√°c b·∫°n ƒë√£ t·ª´ng s·ª≠ d·ª•ng qua¬†<code>Listener Pattern</code>¬†r·ªìi, n√™n t√¥i nghƒ© s·∫Ω kh√¥ng gi·ªõi thi·ªáu v·ªÅ n√≥ n·ªØa.</p>
<p>Trong b√†i vi·∫øt n√†y, ch√∫ng ta t·∫≠p trung v√†o c√°ch l√†m sao ƒë·ªÉ th·ª±c hi·ªán vi·ªác t·∫°o ra¬†<code>Event</code>¬†v√† x·ª≠ l√Ω¬†<code>Event</code>¬†ƒë√≥ m·ªôt c√°ch g·ªçn g√†ng v·ªõi¬†<strong>Spring Boot</strong>.</p>
<p>B√†i n√†y y√™u c·∫ßu ki·∫øn th·ª©c c∆° b·∫£n:</p>
<ol>
<li>„ÄåSpring Boot #0„Äç Series l√†m ch·ªß Spring Boot, Zero to Hero</li>
</ol>
<h3 id="c∆°-b·∫£n-v·ªÅ-event--listener"><a class="header" href="#c∆°-b·∫£n-v·ªÅ-event--listener"><strong>C∆° b·∫£n v·ªÅ Event &amp; Listener</strong></a></h3>
<p>!image</p>
<p>C∆° b·∫£n l√† khi ch∆∞∆°ng tr√¨nh c·ªßa b·∫°n ƒëang v·∫≠n h√†nh, v√† c√≥ m·ªôt c√¥ng vi·ªác g√¨ ƒë√≥, b·∫°n kh√¥ng mu·ªën x·ª≠ l√Ω tr·ª±c ti·∫øp t·∫°i Class hi·ªán h√†nh ho·∫∑c mu·ªën th√¥ng b√°o cho c√°c ƒê·ªëi t∆∞·ª£ng kh√°c bi·∫øt b·∫°n v·ª´a l√†m g√¨.</p>
<p>Th√¨ b·∫°n s·∫Ω b·∫Øn ra m·ªôt object g·ªçi l√†¬†<code>Event</code>¬†(s·ª± ki·ªán), c√≥ ho·∫∑c kh√¥ng th√¥ng tin ƒëi k√®m, v√† nhi·ªám v·ª• c·ªßa c√°c th·∫±ng kh√°c l√† ƒë√≥n l·∫•y hay l·∫Øng nghe s·ª± ki·ªán ƒë√≥ ƒë·ªÉ x·ª≠ l√Ω nghi·ªáp v·ª• c·ªßa ri√™ng n√≥, th·∫±ng x·ª≠ l√Ω g·ªçi l√†¬†<code>Listener</code>.</p>
<p>Th·∫±ng g√¢y ra s·ª± ki·ªán g·ªçi l√†¬†<code>Source</code>.</p>
<p>C√≤n th·∫±ng c·∫ßm s·ª± ki·ªán ƒë√≥ n√©m cho¬†<code>Listener</code>¬†g·ªçi l√†¬†<code>Pushlisher</code></p>
<h3 id="√Åp-v√†o-th·ª±c-t·∫ø"><a class="header" href="#√Åp-v√†o-th·ª±c-t·∫ø"><strong>√Åp v√†o th·ª±c t·∫ø</strong></a></h3>
<p>Gi·∫£ s·ª≠ b·∫°n c√≥ m·ªôt c√°i chu√¥ng c·ª≠a, khi c√≥ ng∆∞·ªùi t·ªõi b·∫•m c√°i chu√¥ng n√†y. Chu√¥ng s·∫Ω ph√°t ra ti·∫øng k√™u.</p>
<p>·ªû trong nh√† c√≥ ch√≥, n√≥ nghe th·∫•y ti·∫øng k√™u, n√≥ s·∫Ω s·ªßa l√™n.</p>
<p>Th√¨:</p>
<ul>
<li><code>Source</code>: Ng∆∞·ªùi b·∫•m chu√¥ng c·ª≠a, l√† ng∆∞·ªùi g√¢y ra s·ª± ki·ªán.</li>
<li><code>Event</code>: s·ª± ki·ªán b·∫•m chu√¥ng c·ª≠a</li>
<li><code>Pushlisher</code>: C√°i chu√¥ng ph√°t ra √¢m thanh (s·ª± ki·ªán) ƒë·ªÉ th√¥ng b√°o.</li>
<li><code>Listener</code>: Con ch√≥ l·∫Øng nghe v√† x·ª≠ l√Ω s·ª± ki·ªán</li>
</ul>
<h3 id="event"><a class="header" href="#event"><strong>Event</strong></a></h3>
<p>M·ªôt¬†<code>Event</code>¬†(s·ª± ki·ªán) mu·ªën ƒë∆∞·ª£c¬†<strong>Spring Boot</strong>¬†h·ªó tr·ª£ th√¨ s·∫Ω ph·∫£i k·∫ø th·ª´a l·ªõp¬†<code>ApplicationEvent</code>.</p>
<pre><code>/*
DoorBellEvent ph·∫£i k·∫ø th·ª´a l·ªõp ApplicationEvent c·ªßa Spring
Nh∆∞ v·∫≠y n√≥ m·ªõi ƒë∆∞·ª£c coi l√† m·ªôt s·ª± ki·ªán h·ª£p l·ªá.
 */
public class DoorBellEvent extends ApplicationEvent {
    /*
        M·ªçi Class k·∫ø th·ª´a ApplicationEvent s·∫Ω
        ph·∫£i g·ªçi Constructor t·ªõi l·ªõp cha.
     */
    public DoorBellEvent(Object source, String guestName) {
        // Object source l√† object tham chi·∫øu t·ªõi
        // n∆°i ƒë√£ ph√°t ra event n√†y!
        super(source);
    }
}
</code></pre>
<h3 id="event-publisher"><a class="header" href="#event-publisher"><strong>Event Publisher</strong></a></h3>
<p>Trong¬†<strong>Spring Boot</strong>, ƒë·ªÉ b·∫Øn ra m·ªôt s·ª± ki·ªán ch√∫ng ta s·ª≠ d·ª•ng ƒë·ªëi t∆∞·ª£ng¬†<code>ApplicationEventPublisher</code>. ƒê√¢y l√† m·ªôt¬†<code>Bean</code>¬†c√≥ s·∫µn trong¬†<code>Context</code>¬†do Spring cung c·∫•p, b·∫°n ch·ªâ c·∫ßn l√¥i ra s·ª≠ d·ª•ng th√¥i.</p>
<pre><code>@Component
public class MyHouse {
    @Autowired
    ApplicationEventPublisher applicationEventPublisher;

    /**
     * H√†nh ƒë·ªông b·∫•m chu√¥ng c·ª≠a
     */
    public void rangDoorbellBy(String guestName) {
        // Ph√°t ra m·ªôt s·ª± ki·ªán DoorBellEvent
        // source (Ngu·ªìn ph√°t ra) ch√≠nh l√† class n√†y
        applicationEventPublisher.publishEvent(new DoorBellEvent(this, guestName));
    }
}
</code></pre>
<h3 id="event-listener-1"><a class="header" href="#event-listener-1"><strong>Event Listener</strong></a></h3>
<p>ƒê·ªÉ l·∫Øng nghe c√°c s·ª± ki·ªán do¬†<code>ApplicationEventPublisher</code>¬†b·∫Øn ra, ch√∫ng ta s·ª≠ d·ª•ng¬†<code>@EventListener</code></p>
<pre><code>// T·∫°o ra Bean
@Component
public class MyDog {

    /*
        @EventListener s·∫Ω l·∫Øng nghe m·ªçi s·ª± ki·ªán x·∫£y ra
        N·∫øu c√≥ m·ªôt s·ª± ki·ªán DoorBellEvent ƒë∆∞·ª£c b·∫Øn ra, n√≥ s·∫Ω ƒë√≥n l·∫•y
        v√† ƒë∆∞a v√†o h√†m ƒë·ªÉ x·ª≠ l√Ω
     */
    @EventListener
    public void doorBellEventListener(DoorBellEvent doorBellEvent) throws InterruptedException {
        // Gi·∫£ s·ª≠ con ch√≥ ƒëang ng·ªß, 1 gi√¢y sau m·ªõi d·∫≠y
        Thread.sleep(1000);
        // S·ª± ki·ªán DoorBellEvent ƒë∆∞·ª£c l·∫Øng nghe v√† x·ª≠ l√Ω t·∫°i ƒë√¢y
        System.out.println(Thread.currentThread().getName() + &quot;: Ch√≥ ng·ªß d·∫≠y!!!&quot;);
        System.out.println(String.format(&quot;%s: Go go!! C√≥ ng∆∞·ªùi t√™n l√† %s g√µ c·ª≠a!!!&quot;, Thread.currentThread().getName(), doorBellEvent.getGuestName()));
    }
}
</code></pre>
<p><code>@EventListener</code>¬†g·∫Øn tr√™n m·ªôt method, v·ªõi tham s·ªë ƒë·∫ßu v√†o ch√≠nh l√† s·ª± ki·ªán m√† b·∫°n mu·ªën l·∫Øng nghe.</p>
<p>L∆∞u √Ω: Class ch·ªãu tr√°ch nhi·ªám x·ª≠ l√Ω, c√≥ ch·ª©a method¬†<code>@EventListener</code>¬†c≈©ng ph·∫£i l√† Bean nh√©.</p>
<h3 id="ch·∫°y-th·ª≠-1"><a class="header" href="#ch·∫°y-th·ª≠-1"><strong>Ch·∫°y th·ª≠ 1</strong></a></h3>
<pre><code>@SpringBootApplication
public class App {
    @Autowired
    MyHouse myHouse;

    public static void main(String[] args) {
        SpringApplication.run(App.class, args);
    }

    @Bean
    CommandLineRunner run() {
        return args -&gt; {
            System.out.println(Thread.currentThread().getName() + &quot;: Loda ƒëi t·ªõi c·ª≠a nh√† !!!&quot;);
            System.out.println(Thread.currentThread().getName() + &quot;: =&gt; Loda b·∫•m chu√¥ng v√† khai b√°o h·ªç t√™n!&quot;);
            // g√µ c·ª≠a
            myHouse.rangDoorbellBy(&quot;Loda&quot;);
            System.out.println(Thread.currentThread().getName() +&quot;: Loda quay l∆∞ng b·ªè ƒëi&quot;);
        };
    }

}
</code></pre>
<p>OUTPUT:</p>
<pre><code>restartedMain: Loda ƒëi t·ªõi c·ª≠a nh√† !!!
restartedMain: =&gt; Loda b·∫•m chu√¥ng v√† khai b√°o h·ªç t√™n!
restartedMain: Ch√≥ ng·ªß d·∫≠y!!!
restartedMain: Go go!! C√≥ ng∆∞·ªùi t√™n l√† Loda g√µ c·ª≠a!!!
restartedMain: Loda quay l∆∞ng b·ªè ƒëi
</code></pre>
<p>B·∫°n s·∫Ω th·∫•y qu√° tr√¨nh x·ª≠ l√Ω ·ªü ƒë√¢y x·∫£y ra m·ªôt c√°ch¬†<strong>tu·∫ßn t·ª±</strong>¬†v√† ƒë·ªìng b·ªô (Synchronous).</p>
<p>V·∫≠y l√† ch√∫ng ta c√≥ th·ªÉ hi·ªÉu:</p>
<blockquote>
<p>n·∫øu kh√¥ng c·∫•u h√¨nh g√¨ th√™m,¬†ApplicationEvent¬†v√†¬†@EventListener¬†l√†¬†Synchronous.</p>
</blockquote>
<p>Ch∆∞∆°ng tr√¨nh s·∫Ω ph·∫£i ch·ªù s·ª± ki·ªán x·ª≠ l√Ω xong th√¨ m·ªõi ƒë∆∞·ª£c ch·∫°y ti·∫øp.</p>
<h3 id="async"><a class="header" href="#async"><strong>@Async</strong></a></h3>
<p>ƒêa ph·∫ßn, x·ª≠ l√Ω Synchronous kh√¥ng ph·∫£i ƒëi·ªÅu m√† ch√∫ng ta mong ƒë·ª£i, ch√∫ng ta mu·ªën vi·ªác x·ª≠ l√Ω s·ª± ki·ªán c√≥ th·ªÉ ho·∫°t ƒë·ªông ri√™ng v√† kh√¥ng ·∫£nh h∆∞·ªüng t·ªõi lu·ªìng l√†m vi·ªác ch√≠nh.</p>
<p>N√≥i c√°ch kh√°c, ch√∫ng ta mu·ªën s·ª± ki·ªán ƒë∆∞·ª£c x·ª≠ l√Ω ·ªü m·ªôt Thread kh√°c, ƒë√¢y g·ªçi l√†¬†<strong>b·∫•t ƒë·ªìng b·ªô (Asynchronous)</strong></p>
<p>ƒê·ªÉ l√†m ƒë∆∞·ª£c ƒëi·ªÅu n√†y, ch√∫ng ta c·∫ßn k√≠ch ho·∫°t ch·ª©c nƒÉng x·ª≠ l√Ω b·∫•t ƒë·ªìng b·ªô c·ªßa¬†<strong>Spring Boot</strong>, b·∫±ng c√°ch b·ªï sung annotation¬†<code>@EnableAsync</code>.</p>
<pre><code>@Configuration
@EnableAsync
public class ListenerConfiguration {
    /**
     * T·∫°o ra Executor cho Async
     * @return
     */
    @Bean
    TaskExecutor taskExecutor() {
        return new SimpleAsyncTaskExecutor();
    }
}
</code></pre>
<p><strong>Spring Boot</strong>¬†khi th·∫•y Annotation n√†y, s·∫Ω k√≠ch ho·∫°t cho ph√©p x·ª≠ l√Ω s·ª± ki·ªán d∆∞·ªõi d·∫°ng Async</p>
<p>c√°c¬†<code>Event</code>¬†s·∫Ω ƒë∆∞·ª£c g·ª≠i v√†o m·ªôt¬†<code>Executor</code>¬†(ƒë∆°n gi·∫£n nh·∫•t l√†¬†<code>SimpleAsyncTaskExecutor</code>) v√† ch·ªù ƒë∆∞·ª£c x·ª≠ l√Ω.</p>
<p>N·∫øu ch∆∞a bi·∫øt¬†<code>Executor</code>¬†l√† g√¨, b·∫°n c√≥ th·ªÉ ƒë·ªçc 2 b√†i vi·∫øt sau:</p>
<ol>
<li>Kh√°i ni·ªám ThreadPool v√† Executor trong Java</li>
<li>ThreadPoolExecutor v√† nguy√™n t·∫Øc qu·∫£n l√Ω pool size</li>
</ol>
<h3 id="async-1"><a class="header" href="#async-1"><strong>@Async</strong></a></h3>
<p>Sau khi k√≠ch ho·∫°t t√≠nh nƒÉng¬†<code>Async</code>, b·∫•t k·ª≥ s·ª± ki·ªán n√†o b·∫°n mu·ªën n√≥ x·ª≠ l√Ω Async th√¨ h√£y ƒë√°nh d·∫•u n√≥ b·ªüi¬†<code>@Async</code>.</p>
<pre><code>@Component
public class MyDog {

    /*
        @EventListener s·∫Ω l·∫Øng nghe m·ªçi s·ª± ki·ªán x·∫£y ra
        N·∫øu c√≥ m·ªôt s·ª± ki·ªán DoorBellEvent ƒë∆∞·ª£c b·∫Øn ra, n√≥ s·∫Ω ƒë√≥n l·∫•y
        v√† ƒë∆∞a v√†o h√†m ƒë·ªÉ x·ª≠ l√Ω
     */
    /*
        @Async l√† c√°ch l·∫Øng nghe s·ª± ki·ªán ·ªü m·ªôt Thread kh√°c, kh√¥ng ·∫£nh h∆∞·ªüng t·ªõi
        lu·ªìng ch√≠nh
     */
    @Async
    @EventListener
    public void doorBellEventListener(DoorBellEvent doorBellEvent) throws InterruptedException {
        // Gi·∫£ s·ª≠ con ch√≥ ƒëang ng·ªß, 1 gi√¢y sau m·ªõi d·∫≠y
        Thread.sleep(1000);
        // S·ª± ki·ªán DoorBellEvent ƒë∆∞·ª£c l·∫Øng nghe v√† x·ª≠ l√Ω t·∫°i ƒë√¢y
        System.out.println(&quot;Ch√≥ ng·ªß d·∫≠y!!!&quot;);
        System.out.println(String.format(&quot;Go go!! C√≥ ng∆∞·ªùi t√™n l√† %s g√µ c·ª≠a!!!&quot;, doorBellEvent.getGuestName()));
    }
}
</code></pre>
<h3 id="ch·∫°y-th·ª≠-l·∫ßn-2"><a class="header" href="#ch·∫°y-th·ª≠-l·∫ßn-2"><strong>Ch·∫°y th·ª≠ l·∫ßn 2</strong></a></h3>
<p>OUTPUT:</p>
<pre><code>restartedMain: Loda ƒëi t·ªõi c·ª≠a nh√† !!!
restartedMain: =&gt; Loda b·∫•m chu√¥ng v√† khai b√°o h·ªç t√™n!
restartedMain: Loda quay l∆∞ng b·ªè ƒëi
SimpleAsyncTaskExecutor-1: Ch√≥ ng·ªß d·∫≠y!!!
SimpleAsyncTaskExecutor-1: Go go!! C√≥ ng∆∞·ªùi t√™n l√† Loda g√µ c·ª≠a!!!
</code></pre>
<p>L·∫ßn n√†y qu√° tr√¨nh x·ª≠ l√Ω ƒë√£ di·ªÖn ra ƒë√∫ng nh∆∞ ch√∫ng ta mong ƒë·ª£i, ng∆∞·ªùi b·∫•m c·ª© b·∫•m, m√† ch√≥ k√™u c·ª© k√™u, m·ªói ng∆∞·ªùi m·ªôt vi·ªác, ch·∫£ ai ·∫£nh h∆∞·ªüng t·ªõi ai, ch·ªâ c·∫ßn bi·∫øt c√≥ s·ª± ki·ªán x·∫£y ra th√¨ ph·∫£n ·ª©ng l√† ƒë∆∞·ª£c.</p>
<h3 id="k·∫øt-5"><a class="header" href="#k·∫øt-5"><strong>K·∫øt</strong></a></h3>
<p>üíÅ¬†N·∫øu c√≥, to√†n b·ªô project / code m·∫´u ƒë∆∞·ª£c l∆∞u tr·ªØ t·∫°i <strong>GitHub</strong></p>
<p>üåü¬†ƒê√¢y l√† m·ªôt b√†i vi·∫øt trong¬†Series <strong>L√†m ch·ªß Spring Boot ‚Äì Zero to Hero</strong></p>
<h1 id="sb24-restful-api-document-t·∫°o-v·ªõi-spring-boot--swagger"><a class="header" href="#sb24-restful-api-document-t·∫°o-v·ªõi-spring-boot--swagger">[SB24] RESTful API Document T·∫°o v·ªõi Spring Boot + Swagger</a></h1>
<ul>
<li>Gi·ªõi thi·ªáu</li>
<li>c√†i ƒë·∫∑t</li>
<li>T·ªïng quan Swagger</li>
<li>Prepare</li>
<li>Config Swagger</li>
<li>G√≥c custom</li>
</ul>
<h3 id="gi·ªõi-thi·ªáu-8"><a class="header" href="#gi·ªõi-thi·ªáu-8"><strong>Gi·ªõi thi·ªáu</strong></a></h3>
<p><strong>Spring Boot</strong>¬†h·ªó tr·ª£ ch√∫ng ta t·∫°o ra RESTful API m·ªôt c√°ch nhanh ch√≥ng v√† ti·ªán l·ª£i, gi√∫p s·∫£n ph·∫©m ƒë∆∞·ª£c v·∫≠n h√†nh nhanh nh·∫•t c√≥ th·ªÉ.</p>
<p>Tuy nhi√™n, Vi·ªác deploy nhanh ch√≥ng m·ªôt services kh√¥ng ƒë·ªìng nghƒ©a v·ªõi vi·ªác n√≥ c√≥ th·ªÉ s·ª≠ d·ª•ng ƒë∆∞·ª£c. Th√¥ng th∆∞·ªùng, t·∫•t c·∫£ c√°c API sau khi ƒë∆∞·ª£c ƒë∆∞a l√™n s·∫Ω ph·∫£i ƒëi k√®m v·ªõi document m√¥ t·∫£, ƒë·ªÉ b·∫•t k√¨ ai s·ª≠ d·ª•ng ƒë·∫øn th√¨ c√≥ th·ªÉ tra c·ª©u.</p>
<p>Th·∫≠t kh√¥ng may l√† vi·ªác l√†m document ch∆∞a bao gi·ªù l√† d·ªÖ d√†ng c·∫£ :(( t·ª´ l√≠ do n√†y,¬†<code>Swagger</code>¬†ra ƒë·ªùi ƒë·ªÉ gi√∫p ch√∫ng ta m√¥ t·∫£ t√†i li·ªáu d·ª± √°n m·ªôt c√°ch nhanh ch√≥ng b·∫±ng annotation.</p>
<p>Trong b√†i c√≥ ƒë·ªÅ c·∫≠p c√°c ki·∫øn th·ª©c:</p>
<ol>
<li>Spring Boot</li>
<li>jpa</li>
<li>lombok</li>
</ol>
<h3 id="c√†i-ƒë·∫∑t-2"><a class="header" href="#c√†i-ƒë·∫∑t-2"><strong>c√†i ƒë·∫∑t</strong></a></h3>
<p>Trong b√†i n√†y, t√¥i s·∫Ω h∆∞·ªõng d·∫´n c√°c b·∫°n s·ª≠ d·ª•ng¬†<code>Swagger2</code>¬†v√† tu√¢n theo c√°c quy t·∫Øc c·∫£u¬†<strong>Swagger Specification 2.0</strong>¬†nh√©.</p>
<p>T·∫°i th·ªùi ƒëi·ªÉm vi·∫øt b√†i n√†y, hi·ªán phi√™n b·∫£n m·ªõi nh·∫•t l√† 3, tuy nhi√™n, n√≥ s·∫Ω l√†¬†<strong>OpenAPI 3.0</strong>.</p>
<p><em>pom.xml</em></p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;projectxmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;&lt;parent&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;&lt;version&gt;2.0.5.RELEASE&lt;/version&gt;&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;
	&lt;/parent&gt;&lt;groupId&gt;me.loda.spring&lt;/groupId&gt;&lt;artifactId&gt;example-independent-maven-spring-project&lt;/artifactId&gt;&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;&lt;name&gt;example-independent-maven-spring-project&lt;/name&gt;&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;&lt;properties&gt;&lt;java.version&gt;1.8&lt;/java.version&gt;&lt;/properties&gt;&lt;dependencies&gt;&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;&lt;artifactId&gt;lombok&lt;/artifactId&gt;&lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;&lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;

		&lt;dependency&gt;&lt;groupId&gt;io.springfox&lt;/groupId&gt;&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;&lt;version&gt;2.9.2&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;io.springfox&lt;/groupId&gt;&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;&lt;version&gt;2.9.2&lt;/version&gt;&lt;/dependency&gt;&lt;!--spring jpa--&gt;
		&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;&lt;/dependency&gt;&lt;!--in memory database--&gt;
		&lt;dependency&gt;&lt;groupId&gt;com.h2database&lt;/groupId&gt;&lt;artifactId&gt;h2&lt;/artifactId&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;&lt;/dependencies&gt;&lt;build&gt;&lt;plugins&gt;&lt;plugin&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;&lt;/plugin&gt;&lt;/plugins&gt;&lt;/build&gt;&lt;/project&gt;
</code></pre>
<p><code>springfox</code>¬†l√† m·ªôt th∆∞ vi·ªán java implementation c·ªßa Swagger Specification.</p>
<p><code>springfox-swagger2</code>¬†ch·ª©a core c·ªßa swagger, gi√∫p ch√∫ng ta khai b√°o document cho api.</p>
<p><code>springfox-swagger-ui</code>¬†gi√∫p ch√∫ng ta bi·ªÉu di·ªÖn t√†i li·ªáu d∆∞·ªõi d·∫°ng web view, d·ªÖ nh√¨n v√† test.</p>
<h3 id="t·ªïng-quan-swagger"><a class="header" href="#t·ªïng-quan-swagger"><strong>T·ªïng quan Swagger</strong></a></h3>
<p>ƒê·ªÉ s·ª≠ d·ª•ng c∆° b·∫£n th√¨¬†<code>Swagger</code>¬†cung c·∫•p m·ªôt s·ªë c√°c Annotations h·ªØu √≠ch sau:</p>
<p>Ch√∫ng ta ƒëi v√†o th·ª±c h√†nh th·ª≠ nh√©.</p>
<p>ƒê·∫°i lo·∫°i sau khi l√†m xong, ch√∫ng ta s·∫Ω c√≥ 1 web view document nh∆∞ th·∫ø n√†y:</p>
<p>!image</p>
<h3 id="prepare-1"><a class="header" href="#prepare-1"><strong>Prepare</strong></a></h3>
<p>T·∫°o ra class Model</p>
<p><em>User.java</em></p>
<pre><code>@Data
@Entity
@Table
@NoArgsConstructor
@AllArgsConstructor
public class User {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    private String firstName;
    private String lastName;
    private String email;
}
</code></pre>
<p><em>UserRepository.java</em></p>
<pre><code>@Repository
public interface UserRepository extends JpaRepository&lt;User, Long&gt; {

}
</code></pre>
<p>Khi ƒë√£ c√≥ ƒë∆∞·ª£c Model v√† Repository, ch√∫ng ta s·∫Ω t·∫°o Controller ƒë·ªÉ thao t√°c li√™n quan t·ªõi¬†<code>User</code>¬†nh√©.</p>
<pre><code>@RestController
@RequestMapping(&quot;/api/v1&quot;)
@RequiredArgsConstructor
public class UserController {
    private final UserRepository userRepository;

    @GetMapping(&quot;/users&quot;)
    public List&lt;User&gt; getAllUsers() {
        return userRepository.findAll();
    }

    @GetMapping(&quot;/users/{id}&quot;)
    public User getUser(@PathVariable(&quot;id&quot;) Long id) {
        return userRepository.findById(id).orElse(new User());
    }

    @PostMapping(&quot;/users&quot;)
    public User createUser(@Valid @RequestBody User user) {
        return userRepository.save(user);
    }

    @PutMapping(&quot;/users/{id}&quot;)
    public User updateUser(@PathVariable(&quot;id&quot;) Long id, @Valid @RequestBody User user) {
        user.setId(id);
        return userRepository.save(user);
    }

    @DeleteMapping(&quot;/users/{id}&quot;)
    public void deleteUser(@PathVariable(&quot;id&quot;) Long id) {
        userRepository.deleteById(id);
    }
}
</code></pre>
<p>√Çu kh√™, t·∫°m th·ªùi nh∆∞ th·∫ø ƒë√£ üòÇ</p>
<p>B√¢y gi·ªù v√†o ph·∫ßn ch√≠nh, config¬†<code>Swagger</code>¬†cho d·ª± √°n c·ªßa ch√∫ng ta.</p>
<h3 id="config-swagger"><a class="header" href="#config-swagger"><strong>Config Swagger</strong></a></h3>
<p>Th·∫≠t may m·∫Øn, tr∆∞·ªõc khi ƒëi v√†o c√°c custom ph·ª©c t·∫°p th√¨ Swagger h·ªó tr·ª£ ch√∫ng ta t·ª± ƒë·ªông sinh ra t√†i li·ªáu m·ªôt c√°ch m·∫∑c ƒë·ªãnh m√† ch∆∞a c·∫ßn ph·∫£i khai b√°o b·∫•t k√¨ annotation n√†o ƒë√£ gi·ªõi thi·ªáu ·ªü tr√™n.</p>
<p>Ch·ªâ c·∫ßn t·∫°o ra ƒë·ªëi t∆∞·ª£ng¬†<code>Docket</code>¬†c·ªßa¬†<code>Swagger</code>¬†v√† n√≥ s·∫Ω qu√©t h·∫øt c√°c ƒë·ªãa ch·ªâ API m√† b·∫°n ch·ªâ ƒë·ªãnh, r·ªìi t·ª± ƒë·ªông sinh ra t√†i li·ªáu c∆° b·∫£n cho ch√∫ng ta.</p>
<pre><code>@Configuration
@EnableSwagger2
public class Swagger2Config {
    @Bean
    public Docket api() {
        return new Docket(DocumentationType.SWAGGER_2).select()
                                                      .apis(RequestHandlerSelectors.basePackage(&quot;me.loda.spring.swagger.controller&quot;))
                                                      .paths(PathSelectors.regex(&quot;/.*&quot;))
                                                      .build()
                                                      .apiInfo(apiEndPointsInfo());
    }

    private ApiInfo apiEndPointsInfo() {
        return new ApiInfoBuilder().title(&quot;Spring Boot REST API&quot;)
                                   .description(&quot;Employee Management REST API&quot;)
                                   .contact(new Contact(&quot;loda&quot;, &quot;https://loda.me/&quot;, &quot;loda.namnh@gmail.com&quot;))
                                   .license(&quot;Apache 2.0&quot;)
                                   .licenseUrl(&quot;http://www.apache.org/licenses/LICENSE-2.0.html&quot;)
                                   .version(&quot;1.0.0&quot;)
                                   .build();
    }
}
</code></pre>
<p>C√°c th·ª© c·∫ßn l∆∞u √Ω bao g·ªìm:</p>
<ol>
<li>ƒê·ªÉ¬†<code>Swagger</code>¬†ho·∫°t ƒë·ªông, b·∫°n nh·ªõ k√≠ch ho·∫°t n√≥ b·∫±ng¬†<code>@EnableSwagger2</code>.</li>
<li>B·∫°n c√≥ th·ªÉ ch·ªçn n∆°i ch·ª©a c√°c API b·∫±ng¬†<code>RequestHandlerSelectors</code>. N·∫øu mu·ªën qu√©t h·∫øt c·∫£ project, c√≥ th·ªÉ x√†i¬†<code>RequestHandlerSelectors.any()</code></li>
<li>B·∫°n c√≥ th·ªÉ ch·ªâ ƒë·ªãnh b·ªô l·ªçc cho c√°c api b·∫±ng¬†<code>PathSelectors</code>. N·∫øu mu·ªën qu√©t t·∫•t c·∫£, ch·ªçn¬†<code>PathSelectors.any()</code>.</li>
</ol>
<pre><code>@SpringBootApplication
public class App {
    public static void main(String[] args) {
        SpringApplication.run(App.class, args);
    }
}
</code></pre>
<p>B√¢y gi·ªù, ch·∫°y th·ª≠ v√† v√†o ƒë·ªãa ch·ªâ¬†<code>http://localhost:8080/swagger-ui.html</code>¬†ƒë·ªÉ xem th√†nh qu·∫£ nh√©.</p>
<h3 id="g√≥c-custom"><a class="header" href="#g√≥c-custom"><strong>G√≥c custom</strong></a></h3>
<p>B·∫°n c√≥ th·ªÉ ch·ªâ ƒë·ªãnh r√µ h∆°n c√°c m√¥ t·∫£ c·ªßa t√†i li·ªáu b·∫±ng c√°ch s·ª≠ d·ª•ng c√°c Annotation m√†¬†<code>Swagger</code>¬†cung c·∫•p.</p>
<p><em>User.java</em></p>
<pre><code>@Data
@Entity
@Table
@NoArgsConstructor
@AllArgsConstructor
@ApiModel(value = &quot;User model&quot;)
public class User {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @ApiModelProperty(notes = &quot;The database generated User ID&quot;)
    private Long id;

    private String firstName;
    private String lastName;
    private String email;
}
</code></pre>
<p><em>UserController.java</em></p>
<pre><code>@RestController
@RequestMapping(&quot;/api/v1&quot;)
@RequiredArgsConstructor
@Api(value = &quot;User APIs&quot;)
public class UserController {
    private final UserRepository userRepository;

    @ApiOperation(value = &quot;Xem danh s√°ch User&quot;, response = List.class)
    @ApiResponses(value = {
            @ApiResponse(code = 200, message = &quot;Th√†nh c√¥ng&quot;),
            @ApiResponse(code = 401, message = &quot;Ch∆∞a x√°c th·ª±c&quot;),
            @ApiResponse(code = 403, message = &quot;Truy c·∫≠p b·ªã c·∫•m&quot;),
            @ApiResponse(code = 404, message = &quot;Kh√¥ng t√¨m th·∫•y&quot;)
    })
    @GetMapping(&quot;/users&quot;)
    public List&lt;User&gt; getAllUsers() {
        return userRepository.findAll();
    }

    @GetMapping(&quot;/users/{id}&quot;)
    public User getUser(@PathVariable(&quot;id&quot;) Long id) {
        return userRepository.findById(id).orElse(new User());
    }

    @PostMapping(&quot;/users&quot;)
    public User createUser(
            @ApiParam(value = &quot;ƒê·ªëi t∆∞·ª£ng User c·∫ßn t·∫°o m·ªõi&quot;, required = true) @Valid @RequestBody User user
    ) {
        return userRepository.save(user);
    }

    @PutMapping(&quot;/users/{id}&quot;)
    public User updateUser(@PathVariable(&quot;id&quot;) Long id, @Valid @RequestBody User user) {
        user.setId(id);
        return userRepository.save(user);
    }

    @DeleteMapping(&quot;/users/{id}&quot;)
    public void deleteUser(@PathVariable(&quot;id&quot;) Long id) {
        userRepository.deleteById(id);
    }
}
</code></pre>
<p>T·ªõi ƒë√¢y b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng Swagger tho·∫£i m√°i r·ªìi, t√¥i s·∫Ω l√†m m·ªôt b√†i kh√°c v·ªÅ¬†<strong>OpenAPI 3.0</strong>.</p>
<p>üíÅ¬†N·∫øu c√≥, to√†n b·ªô project / code m·∫´u ƒë∆∞·ª£c l∆∞u tr·ªØ t·∫°i <strong>GitHub</strong></p>
<p>üåü¬†ƒê√¢y l√† m·ªôt b√†i vi·∫øt trong¬†Series <strong>L√†m ch·ªß Spring Boot ‚Äì Zero to Hero</strong></p>
<h1 id="sb25-restful-api-document-v·ªõi-spring-boot--openapi-30"><a class="header" href="#sb25-restful-api-document-v·ªõi-spring-boot--openapi-30">[SB25] RESTful API Document v·ªõi Spring Boot + OpenApi 3.0</a></h1>
<ul>
<li>Gi·ªõi thi·ªáu</li>
<li>c√†i ƒë·∫∑t</li>
<li>T·ªïng quan OpenApi 3.0</li>
<li>Prepare</li>
<li>Config OpenApi 3.0</li>
<li>K·∫øt</li>
</ul>
<h3 id="gi·ªõi-thi·ªáu-9"><a class="header" href="#gi·ªõi-thi·ªáu-9"><strong>Gi·ªõi thi·ªáu</strong></a></h3>
<p>Trong b√†i vi·∫øt tr∆∞·ªõc:</p>
<ol>
<li>RESTful API Document T·∫°o v·ªõi Spring Boot + Swagger</li>
</ol>
<p>T√¥i ƒë√£ gi·ªõi thi·ªáu l√≠ do v√¨ sao c·∫ßn Document, v√† c√°ch t·∫°o ra n√≥ nhanh ch√≥ng v·ªõi¬†<code>Swagger 2</code>.</p>
<p>Trong b√†i n√†y, t√¥i s·∫Ω gi·ªõi thi·ªáu th√™m phi√™n b·∫£n ti·∫øp theo, m·ªôt ti√™u chu·∫©n m·ªõi nh·∫•t v·ªÅ RESTful document ƒë√≥ l√† OpenApi 3.0.</p>
<p>T·∫°i sao k ƒë·∫∑t t√™n l√†¬†<code>Swagger 3</code>? c√¢u chuy·ªán ƒë·∫±ng sau n√≥ l√† vi·ªác SmartBear mua l·∫°i Swagger, v√† ƒë·ªïi t√™n Swagger Specification th√†nh OpenApi Specification, b·∫Øt ƒë·∫ßu t·∫°o ra c√°c ti√™u chu·∫©n m·ªõi cho x√¢y d·ª±ng Document, tuy nhi√™n v·∫´n x√¢y d·ª±ng tr√™n Swagger core.</p>
<p><code>OpenApi 3.0</code>¬†l√† b·∫£n m·ªõi nh·∫•t ƒë∆∞·ª£c ra m·∫Øt t·∫°i th·ªùi ƒëi·ªÉm vi·∫øt b√†i n√†y.</p>
<p>Trong b√†i c√≥ ƒë·ªÅ c·∫≠p c√°c ki·∫øn th·ª©c:</p>
<ol>
<li>Spring Boot</li>
<li>jpa</li>
<li>lombok</li>
</ol>
<h3 id="c√†i-ƒë·∫∑t-3"><a class="header" href="#c√†i-ƒë·∫∑t-3"><strong>c√†i ƒë·∫∑t</strong></a></h3>
<p><em>pom.xml</em></p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;projectxmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;&lt;parent&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;&lt;version&gt;2.0.5.RELEASE&lt;/version&gt;&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;
	&lt;/parent&gt;&lt;groupId&gt;me.loda.spring&lt;/groupId&gt;&lt;artifactId&gt;example-independent-maven-spring-project&lt;/artifactId&gt;&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;&lt;name&gt;example-independent-maven-spring-project&lt;/name&gt;&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;&lt;properties&gt;&lt;java.version&gt;1.8&lt;/java.version&gt;&lt;/properties&gt;&lt;dependencies&gt;&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;&lt;artifactId&gt;lombok&lt;/artifactId&gt;&lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;&lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;&lt;!--https://mvnrepository.com/artifact/org.springdoc/springdoc-openapi-core --&gt;
        &lt;dependency&gt;&lt;groupId&gt;org.springdoc&lt;/groupId&gt;&lt;artifactId&gt;springdoc-openapi-core&lt;/artifactId&gt;&lt;version&gt;1.1.49&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.springdoc&lt;/groupId&gt;&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;&lt;version&gt;1.1.49&lt;/version&gt;&lt;/dependency&gt;&lt;!--spring jpa--&gt;
		&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;&lt;/dependency&gt;&lt;!--in memory database--&gt;
		&lt;dependency&gt;&lt;groupId&gt;com.h2database&lt;/groupId&gt;&lt;artifactId&gt;h2&lt;/artifactId&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;&lt;/dependencies&gt;&lt;build&gt;&lt;plugins&gt;&lt;plugin&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;&lt;/plugin&gt;&lt;/plugins&gt;&lt;/build&gt;&lt;/project&gt;
</code></pre>
<p><code>springdoc</code>¬†l√† m·ªôt th∆∞ vi·ªán java implementation c·ªßa OpenApi Specification 3.0.</p>
<p><code>springdoc-openapi-core</code>¬†ch·ª©a core c·ªßa swagger, gi√∫p ch√∫ng ta khai b√°o document cho api.</p>
<p><code>springdoc-openapi-ui</code>¬†gi√∫p ch√∫ng ta bi·ªÉu di·ªÖn t√†i li·ªáu d∆∞·ªõi d·∫°ng web view, d·ªÖ nh√¨n v√† test.</p>
<h3 id="t·ªïng-quan-openapi-30"><a class="header" href="#t·ªïng-quan-openapi-30"><strong>T·ªïng quan OpenApi 3.0</strong></a></h3>
<p><code>OpenApi 3.0</code>¬†k·∫ø th·ª´a v√† ƒë·ªïi m·ªõi kh√° nhi·ªÅu c√°c th√†nh ph·∫ßn c·ªßa¬†<code>Swagger2</code>, khi·∫øn n√≥ t∆∞·ªùng minh v√† d·ªÖ ƒë·ªçc h∆°n.</p>
<p>SWAGGER2OPENAPI 3.0DESCRIPTION@Api</p>
<p>@Tag</p>
<p>ƒê√°nh d·∫•u 1 class l√† n∆°i ch·ª©a c√°c API</p>
<p>@ApiModel</p>
<p>kh√¥ng c√≤n</p>
<p>ƒê√°nh d·∫•u 1 class l√† Swagger Model</p>
<p>@ApiModelProperty</p>
<p>@Schema</p>
<p>B·ªï sung c√°c th√¥ng tin cho</p>
<p>@ApiOperation</p>
<p>@Operation</p>
<p>M√¥ t·∫£ cho m·ªôt API v√† response c·ªßa n√≥</p>
<p>@ApiParam</p>
<p>@Parameter</p>
<p>M√¥ t·∫£ c√°c parameter</p>
<p>@ApiResponse</p>
<p>@ApiResponse</p>
<p>M√¥ t·∫£ status code c·ªßa response</p>
<p>@ApiResponses</p>
<p>@ApiResponses</p>
<p>M√¥ t·∫£ danh s√°ch c√°c status code c·ªßa response</p>
<p>Ch√∫ng ta ƒëi v√†o th·ª±c h√†nh th·ª≠ nh√©.</p>
<p>ƒê·∫°i lo·∫°i sau khi l√†m xong, ch√∫ng ta s·∫Ω c√≥ 1 web view document nh∆∞ th·∫ø n√†y:</p>
<p>!image</p>
<p>Ngo√†i ƒë·∫πp h∆°n, m√¥ t·∫£ chi ti·∫øt v√† d·ªÖ s·ª≠ d·ª•ng h∆°n, th√¨ c√≥ 1 ph·∫ßn r·∫•t hay, ƒë√≥ l√† ch√∫ng ta c√≥ th·ªÉ ch·ªçn Server Url khi test API</p>
<p>!image</p>
<h3 id="prepare-2"><a class="header" href="#prepare-2"><strong>Prepare</strong></a></h3>
<p>T·∫°o ra class Model</p>
<p><em>User.java</em></p>
<pre><code>@Data
@Entity
@Table
@NoArgsConstructor
@AllArgsConstructor
public class User {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Schema(description = &quot;User UUID in  the database&quot;)
    @JsonProperty(&quot;id&quot;)
    private Long id;

    private @NotBlank @Size(min = 0, max = 20) String firstName;
    private String lastName;

    private @NotBlank @Size(min = 0, max = 50) String email;
}
</code></pre>
<p><em>UserRepository.java</em></p>
<pre><code>@Repository
public interface UserRepository extends JpaRepository&lt;User, Long&gt; {

}
</code></pre>
<p>Khi ƒë√£ c√≥ ƒë∆∞·ª£c Model v√† Repository, ch√∫ng ta s·∫Ω t·∫°o Controller ƒë·ªÉ thao t√°c li√™n quan t·ªõi¬†<code>User</code>¬†nh√©.</p>
<p>ƒêi·ªÉm kh√°c bi·ªát l·ªõn nh·∫•t c·ªßa¬†<code>OpenApi3</code>¬†so v·ªõi¬†<code>Swagger2</code>¬†l√† h·ªá th·ªëng Annotation r·∫•t l√† d√†y ƒë·∫∑c, ƒëa ph·∫ßn c√°c gi√° tr·ªã ƒë∆∞·ª£c bi·ªÉu di·ªÖn v√† ƒÉn kh·ªõp v·ªõi nhau b·∫±ng Annotation v√† Class.</p>
<pre><code>@RestController
@RequestMapping(&quot;/api/v1&quot;)
@RequiredArgsConstructor
@Tag(name = &quot;user&quot;)
public class UserController {
    private final UserRepository userRepository;

    @Operation(description = &quot;Xem danh s√°ch User&quot;, responses = {
            @ApiResponse(content = @Content(array = @ArraySchema(schema = @Schema(implementation = User.class))), responseCode = &quot;200&quot;) })
    @ApiResponses(value = {
            @ApiResponse(responseCode  = &quot;200&quot;, description = &quot;Th√†nh c√¥ng&quot;),
            @ApiResponse(responseCode  = &quot;401&quot;, description = &quot;Ch∆∞a x√°c th·ª±c&quot;),
            @ApiResponse(responseCode  = &quot;403&quot;, description = &quot;Truy c·∫≠p b·ªã c·∫•m&quot;),
            @ApiResponse(responseCode  = &quot;404&quot;, description = &quot;Kh√¥ng t√¨m th·∫•y&quot;)
    })
    @GetMapping(&quot;/users&quot;)
    public List&lt;User&gt; getAllUsers() {
        return userRepository.findAll();
    }

    @GetMapping(&quot;/users/{id}&quot;)
    public User getUser(@PathVariable(&quot;id&quot;) Long id) {
        return userRepository.findById(id).orElse(new User());
    }

    @PostMapping(&quot;/users&quot;)
    public User createUser(
            @Valid
            @Parameter(description = &quot;User model to create.&quot;, required = true, schema = @Schema(implementation = User.class))
            @RequestBody User user) {
        return userRepository.save(user);
    }

    @PutMapping(&quot;/users/{id}&quot;)
    public User updateUser(@PathVariable(&quot;id&quot;) Long id, @Valid @RequestBody User user) {
        user.setId(id);
        return userRepository.save(user);
    }

    @DeleteMapping(&quot;/users/{id}&quot;)
    public void deleteUser(@PathVariable(&quot;id&quot;) Long id) {
        userRepository.deleteById(id);
    }
}
</code></pre>
<p>√Çu kh√™, Ch·ªâ c·∫ßn nh∆∞ v·∫≠y l√† ch·∫°y ƒë∆∞·ª£c r·ªìi.</p>
<p>N·∫øu ƒë·∫ßy ƒë·ªß h∆°n, th√¨ b·∫°n n√™n config¬†<code>OpenApi</code>¬†cho d·ª± √°n c·ªßa ch√∫ng ta ƒë·ªÉ b·ªï sung c√°c th√¥ng tin t·ªïng quan.</p>
<h3 id="config-openapi-30"><a class="header" href="#config-openapi-30"><strong>Config OpenApi 3.0</strong></a></h3>
<p>Ch·ªâ c·∫ßn t·∫°o ra ƒë·ªëi t∆∞·ª£ng¬†<code>OpenAPI</code>¬†v√† cung c·∫•p c√°c th√¥ng tin c·∫ßn thi·∫øt.</p>
<pre><code>@Configuration
public class OpenApiConfig {
    @Bean
    public OpenAPI customOpenAPI() {
        return new OpenAPI()
                // Thi·∫øt l·∫≠p c√°c server d√πng ƒë·ªÉ test api
                .servers(Lists.newArrayList(
                        new Server().url(&quot;http://localhost:8080&quot;),
                        new Server().url(&quot;https://user.loda.me&quot;)
                ))
                // info
                .info(new Info().title(&quot;Loda Application API&quot;)
                                .description(&quot;Sample OpenAPI 3.0&quot;)
                                .contact(new Contact()
                                                 .email(&quot;loda.namnh@gmail.com&quot;)
                                                 .name(&quot;loda&quot;)
                                                 .url(&quot;https://loda.me/&quot;))
                                .license(new License()
                                                 .name(&quot;Apache 2.0&quot;)
                                                 .url(&quot;http://www.apache.org/licenses/LICENSE-2.0.html&quot;))
                                .version(&quot;1.0.0&quot;));
    }
}
</code></pre>
<p><code>OpenApi3.0</code>¬†th√¨ b·∫°n kh√¥ng c·∫ßn¬†<code>@Enable</code>¬†m√† ch·ªâ c·∫ßn add¬†<code>springdoc-openapi-core</code>¬†v√†o dependencies th√¥i l√† n√≥ t·ª± ƒë·ªông gen ra t√†i li·ªáu r·ªìi.</p>
<pre><code>@SpringBootApplication
public class App {
    public static void main(String[] args) {
        SpringApplication.run(App.class, args);
    }
}
</code></pre>
<p>B√¢y gi·ªù, ch·∫°y th·ª≠ v√† v√†o ƒë·ªãa ch·ªâ¬†<code>http://localhost:8080/swagger-ui.html</code>¬†ƒë·ªÉ xem th√†nh qu·∫£ nh√©.</p>
<h3 id="k·∫øt-6"><a class="header" href="#k·∫øt-6"><strong>K·∫øt</strong></a></h3>
<p>T·ªõi ƒë√¢y b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng¬†<strong>OpenAPI 3.0</strong>¬†tho·∫£i m√°i r·ªìi.</p>
<p>üíÅ¬†N·∫øu c√≥, to√†n b·ªô project / code m·∫´u ƒë∆∞·ª£c l∆∞u tr·ªØ t·∫°i <strong>GitHub</strong></p>
<p>üåü¬†ƒê√¢y l√† m·ªôt b√†i vi·∫øt trong¬†Series <strong>L√†m ch·ªß Spring Boot ‚Äì Zero to Hero</strong></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="jpahibernate-l√†-g√¨"><a class="header" href="#jpahibernate-l√†-g√¨">„ÄåJpa„ÄçHibernate l√† g√¨?</a></h1>
<ul>
<li>Gi·ªõi thi·ªáu</li>
<li>ƒê·ªãnh nghƒ©a</li>
<li>POJO</li>
<li>Mapping d·ªØ li·ªáu</li>
<li>Session</li>
<li>Hibernate Query Language (HQL)</li>
</ul>
<h3 id="gi·ªõi-thi·ªáu-10"><a class="header" href="#gi·ªõi-thi·ªáu-10"><strong>Gi·ªõi thi·ªáu</strong></a></h3>
<p><code>Hibernate</code>¬†l√† framework ƒë∆∞·ª£c s·ª≠ d·ª•ng nhi·ªÅu nh·∫•t hi·ªán nay ƒë·ªÉ gi√∫p l·∫≠p tr√¨nh vi√™n Java c√≥ th·ªÉ map c√°c class (Pojo) v·ªõi m·ªôt c∆° s·ªü d·ªØ li·ªáu b·∫•t k·ª≥.</p>
<p>Tr∆∞·ªõc khi¬†<code>Hibernate</code>¬†ra ƒë·ªùi, ch√∫ng ta th∆∞·ªùng thao t√°c v·ªõi c∆° s·ªü d·ªØ li·ªáu th√¥ng qua¬†<code>JDBC</code>. Theo th·ªùi gian,¬†<code>JDBC</code>¬†b·ªôc l·ªô nhi·ªÅu ƒëi·ªÉm y·∫øu nh∆∞:</p>
<ul>
<li>C√≥ nhi·ªÅu code th·ª´a m√† ch·ªâ ph·ª•c v·ª• m·ª•c ƒë√≠ch l√† l·∫•y d·ªØ li·ªáu.</li>
<li>M·∫•t nhi·ªÅu th·ªùi gian map d·ªØ li·ªáu v√†o object Java.</li>
<li>S·∫Ω t·ªën nhi·ªÅu c√¥ng s·ª©c khi h·ªá th·ªëng thay ƒë·ªïi CSDL (y√™u c·∫ßu¬†<code>jdbc</code>¬†m·ªõi, code m·ªõi)</li>
<li>Giao ti·∫øp gi·ªØa c√°c b·∫£ng th∆∞·ªùng kh√≥, thi·∫øu t√≠nh OOP trong ƒë√≥.</li>
</ul>
<p>T·ª´ ƒë√¢y, ƒë·ªÉ gi·∫£m t·∫£i g√°nh n·∫∑ng cho dev khi thao t√°c v·ªõi database.¬†<code>Hibernate</code>¬†ra ƒë·ªùi!</p>
<h3 id="ƒê·ªãnh-nghƒ©a-1"><a class="header" href="#ƒê·ªãnh-nghƒ©a-1"><strong>ƒê·ªãnh nghƒ©a</strong></a></h3>
<p><code>Hibernate</code>¬†l√† m·ªôt th∆∞ vi·ªán¬†<code>ORM (Object Relational Mapping)</code>¬†m√£ ngu·ªìn m·ªü gi√∫p l·∫≠p tr√¨nh vi√™n vi·∫øt ·ª©ng d·ª•ng Java c√≥ th·ªÉ map c√°c objects (pojo) v·ªõi h·ªá qu·∫£n tr·ªã c∆° s·ªü d·ªØ li·ªáu quan h·ªá, v√† h·ªó tr·ª£ th·ª±c hi·ªán c√°c kh√°i ni·ªám l·∫≠p tr√¨nh h∆∞·ªõng ƒë·ªëi t∆∞·ª£ng v·ªõi c·ªõ d·ªØ li·ªáu quan h·ªá.</p>
<p>Hi·ªÉu ng·∫Øn g·ªçn th√¨¬†<code>Hibernate</code>¬†s·∫Ω l√† m·ªôt layer ƒë·ª©ng trung gian gi·ªØa ·ª©ng d·ª•ng v√† database, v√† ch√∫ng ta s·∫Ω giao ti·∫øp v·ªõi¬†<code>Hibernate</code>¬†thay v√¨ giao ti·∫øp v·ªõi database</p>
<p>!image</p>
<p>ƒê·ªÉ giao ti·∫øp v·ªõi¬†<code>Hibernate</code>, ch√∫ng ta s·∫Ω t·∫°o ra m·ªôt¬†<code>Class</code>¬†ƒë·∫°i di·ªán cho m·ªôt¬†<code>Table</code>. V√† m·ªçi d·ªØ li·ªáu t·ª´¬†<code>Table</code>¬†trong database s·∫Ω ƒë∆∞·ª£c¬†<code>Hibernate</code>¬†bind v√†o¬†<code>Class</code>¬†ƒë√≥ cho ch√∫ng ta.</p>
<h3 id="pojo"><a class="header" href="#pojo"><strong>POJO</strong></a></h3>
<p><code>Pojo (plain old Java object)</code>¬†l√† class ƒë·∫°i di·ªán cho m·ªôt¬†<code>Table</code>, thu·∫≠t ng·ªØ n√†y ƒë·ªÉ ƒë·ªãnh nghƒ©a ch√≠nh x√°c th√¨ m√¨nh kh√¥ng d√°m ch·∫Øc, nh∆∞ng v·ªÅ √Ω nghƒ©a th√¨ n√≥ l√† m·ªôt class java thu·∫ßn t√∫y, r·∫•t thu·∫ßn t√∫y:</p>
<ol>
<li>All properties must public setter and getter methods (m·ªçi bi·∫øn ƒë·ªÅu ph·∫£i c√≥ get/set)</li>
<li>All instance variables should be private (m·ªçi bi·∫øn l√† thu·ªôc t√≠nh th√¨ n√™n l√† private)</li>
</ol>
<pre><code>public class MyFirstPojo
{
    private String name;

    public static void main(String [] args)
    {
       for (String arg : args)
       {
          MyFirstPojo pojo = new MyFirstPojo(arg);  // Here's how you create a POJO
          System.out.println(pojo);
       }
    }

    public MyFirstPojo(String name)
    {
        this.name = name;
    }

    public String getName() { return this.name; }

    public String toString() { return this.name; }
}
</code></pre>
<h3 id="mapping-d·ªØ-li·ªáu"><a class="header" href="#mapping-d·ªØ-li·ªáu"><strong>Mapping d·ªØ li·ªáu</strong></a></h3>
<p>Khi ƒë√£ c√≥¬†<code>Class</code>¬†ƒë·∫°i di·ªán cho¬†<code>Table</code>¬†r·ªìi, ch√∫ng ta s·∫Ω ƒë·ªãnh nghƒ©a c√°c tr∆∞·ªùng trong class ƒë√≥ t∆∞∆°ng ·ª©ng v·ªõi column n√†o trong database b·∫±ng t·∫≠p h·ª£p c√°c¬†<code>Annotaion</code>¬†m√†¬†<code>Hibernate</code>¬†cung c·∫•p.</p>
<pre><code>@Entity // ƒê√°nh d·∫•u ƒë√¢y l√† m·ªôt Entity, ch·ªãu s·ª± qu·∫£n l√Ω c·ªßa Hibernate
@Table(name = &quot;USER&quot;) //Entity n√†y ƒë·∫°i di·ªán cho table USER trong db
public class UserModel {
    @Id // ƒê√°nh d·∫•u bi·∫øn ·ªü d∆∞·ªõi l√† primary key c·ªßa table n√†y
    @GeneratedValue(strategy = GenerationType.IDENTITY) // T·ª± ƒë·ªông tƒÉng gi√° tr·ªã khi insert
    private Long id;

    @Column(name = &quot;email&quot;, unique = true) // tr∆∞·ªùng email ·ªü d∆∞·ªõi ƒë·∫°i di·ªán cho c·ªôt email trong database
    private String email;

    @Column(name = &quot;name&quot;)
    private String name;

    public Long getId() {
        return this.id;
    }
    public void setId(Long id) {
        this.id = id;
    }
    public String getEmail() {
        return email;
    }
    public void setEmail(String email) {
        this.email = email;
    }
    public String getName() {
        return this.name;
    }
    public void setName(String name) {
        this.name = name;
    }
}
</code></pre>
<p>B√¢y gi·ªù vi·ªác b·∫°n l·∫•y d·ªØ li·ªáu t·ª´ database s·∫Ω ƒë·∫°i lo·∫°i nh∆∞ n√†y:</p>
<pre><code>public List&lt;User&gt; findAll() {
    return session.createQuery(&quot;SELECT a FROM User a&quot;, User.class).getResultList();
}
</code></pre>
<p>Ch√∫ng ta ti·∫øt ki·ªám ƒë∆∞·ª£c r·∫•t nhi·ªÅu th·ªùi gian cho vi·ªác mapping d·ªØ li·ªáu t·ª´ database sang class java, v√† ƒë·∫∑c bi·ªát l√† khi thay ƒë·ªïi Database th√¨ c≈©ng s·∫Ω kh√¥ng ·∫£nh h∆∞·ªüng g√¨ t·ªõi ƒëo·∫°n code ·ªü tr√™n c·∫£, ch√∫ng ta g·∫ßn nh∆∞ trong su·ªët v·ªõi t·∫ßng database, m√† ch·ªâ c·∫ßn n√≥i chuy·ªán v·ªõi¬†<code>Hibernate</code>¬†l√† ƒë·ªß!</p>
<h3 id="session"><a class="header" href="#session"><strong>Session</strong></a></h3>
<p>ƒê·ªëi t∆∞·ª£ng ch√≠nh c·ªßa vi·ªác truy xu·∫•t hay insert d·ªØ li·ªáu b·∫±ng¬†<code>Hibernate</code>¬†ch√≠nh l√†¬†<code>Session</code>¬†v√† ƒë∆∞·ª£c t·∫°o ra t·ª´¬†<code>Session Factory</code>.</p>
<p><code>Session Factory</code>¬†L√† m·ªôt interface gi√∫p t·∫°o ra session k·∫øt n·ªëi ƒë·∫øn database b·∫±ng c√°ch ƒë·ªçc c√°c c·∫•u h√¨nh trong m·ªôt file xml v√† m·ªói lo·∫°i Database kh√°c nhau s·∫Ω c√≥ m·ªôt c·∫•u h√¨nh kh√°c nhau.</p>
<p>File c·∫•u h√¨nh¬†<code>hibernate.cfg.xml</code>¬†c√≥ d·∫°ng nh∆∞ sau:</p>
<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;
&lt;!DOCTYPE hibernate-configuration PUBLIC
&quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;
&quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;

&lt;hibernate-configuration&gt;&lt;session-factory&gt;&lt;propertyname=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;&lt;propertyname=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://192.168.10.13:3306/loda
&lt;/property&gt;&lt;propertyname=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;&lt;propertyname=&quot;hibernate.connection.password&quot;&gt;root&lt;/property&gt;&lt;propertyname=&quot;hibernate.connection.pool_size&quot;&gt;10&lt;/property&gt;&lt;propertyname=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;&lt;propertyname=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/property&gt;&lt;/session-factory&gt;&lt;/hibernate-configuration&gt;
</code></pre>
<p>Khi ƒë√£ c√≥ file config n√†y r·ªìi, ch√∫ng ta s·ª≠ d·ª•ng n√≥ ƒë·ªÉ t·∫°o ra¬†<code>Session Factory</code>¬†nh∆∞ sau:</p>
<pre><code>public class SessionFactoryProvider {

    private static SessionFactory buildSessionFactory() {
        ServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder()//
                .configure(&quot;hibernate.cfg.xml&quot;).build();

        Metadata metadata = new MetadataSources(serviceRegistry).getMetadataBuilder().build();

        return metadata.getSessionFactoryBuilder().build();
    }
}
</code></pre>
<p>T·ª´ ƒë√≥, m·ªói l·∫ßn c·∫ßn query hay insert d·ªØ li·ªáu, ch√∫ng ta s·∫Ω t·∫°o ra¬†<code>Session</code>¬†v√† s·ª≠ d·ª•ng.</p>
<pre><code>SessionFactory factory = HibernateSessionUtils.getSessionFactory();

Session session = factory.getCurrentSession();

try {
    session.getTransaction().begin();

    List&lt;User&gt; users = session.createQuery(&quot;SELECT a FROM User a&quot;, User.class).getResultList();

    session.getTransaction().commit();
}catch (Exception e) {}
</code></pre>
<h3 id="hibernate-query-language-hql"><a class="header" href="#hibernate-query-language-hql"><strong>Hibernate Query Language (HQL)</strong></a></h3>
<p><code>Hibernate</code>¬†s·ª≠ d·ª•ng ng√¥n ng·ªØ¬†<code>Hibernate Query Language (HQL)</code>¬†ƒë·ªÉ query d·ªØ li·ªáu. N√≥ ch·ªâ kh√°c¬†<code>SQL</code>¬†b√¨nh th∆∞·ªùng ·ªü ch·ªó, ƒë·ªëi t∆∞·ª£ng t√°c ƒë·ªông l√∫c n√†y l√†¬†<code>Entity</code>¬†ch·ª© kh√¥ng c√≤n l√†¬†<code>Table</code>¬†n·ªØa:</p>
<p>v√≠ d·ª•:</p>
<pre><code>-- SQL
-- from table name
Select u.id, u.email from USER u;

-- HQL
-- from class name
Select u.id, u.email from User u;

-- query to√†n b·ªô object
Select u from User u;
</code></pre>
<p>ƒêang vi·∫øt d·ªü Continue...</p>
<ol>
<li><a href="spring-boot/">ü™Ç„ÄåJpa„ÄçH∆∞·ªõng d·∫´n s·ª≠ d·ª•ng @OneToOne</a></li>
<li><a href="spring-boot/">üöÖ„ÄåJpa„ÄçH∆∞·ªõng d·∫´n @OneToMany v√† @ManyToOne</a></li>
<li><a href="spring-boot/">üõµ„ÄåJpa„ÄçH∆∞·ªõng d·∫´n @ManyToMany</a></li>
</ol>
<p>üíÅ¬†N·∫øu c√≥, to√†n b·ªô project / code m·∫´u ƒë∆∞·ª£c l∆∞u tr·ªØ t·∫°i <strong>GitHub</strong></p>
<p>üåü¬†ƒê√¢y l√† m·ªôt b√†i vi·∫øt trong¬†Series <strong>L√†m ch·ªß Spring Boot ‚Äì Zero to Hero</strong></p>
<h1 id="jpa-h∆∞·ªõng-d·∫´n-s·ª≠-d·ª•ng-specification-ph·∫ßn-1"><a class="header" href="#jpa-h∆∞·ªõng-d·∫´n-s·ª≠-d·ª•ng-specification-ph·∫ßn-1">„ÄåJpa„Äç H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng Specification (Ph·∫ßn 1)</a></h1>
<h3 id="gi·ªõi-thi·ªáu-11"><a class="header" href="#gi·ªõi-thi·ªáu-11"><strong>Gi·ªõi thi·ªáu</strong></a></h3>
<p>Trong m·ªôt b√†i vi·∫øt g·∫ßn nh·∫•t v·ªÅ¬†¬†t√¥i ƒë√£ h∆∞·ªõng d·∫´n c√°c b·∫°n c√°ch x√¢y d·ª±ng c√°c c√¢u query xu·ªëng Database b·∫±ng c√°c API do Hibernate cung c·∫•p.</p>
<p>V√† trong m·ªôt b√†i vi·∫øt kh√°c v·ªÅ JPA Repository th√¨ ch√∫ng ta c≈©ng ƒë√£ bi·∫øt c√°ch custom c√°c query b·∫±ng c√°ch ƒë·∫∑t t√™n method:</p>
<ol>
<li>„ÄåSpring Boot #11„Äç HuÃõoÃõÃÅng daÃÇÃÉn Spring Boot JPA + MySQL</li>
<li>„ÄåSpring Boot #12„Äç Spring JPA Method + @Query </li>
</ol>
<p>Tuy nhi√™n, trong c√°c ph∆∞∆°ng ph√°p tr√™n, v·∫´n s·∫Ω c√≤n m·ªôt s·ªë c√°c ƒëi·ªÉm b·∫•t c·∫≠p, v√≠ d·ª• nh∆∞¬†<code>JpaRepository</code>¬†th√¨ b·∫°n s·∫Ω ph·∫£i vi·∫øt qu√° nhi·ªÅu method v√† m·ªói c√°i s·∫Ω ph·ª•c v·ª• cho m·ªôt m·ª•c ƒë√≠ch c·ªë ƒë·ªãnh (kh√¥ng th·ªÉ t√°i s·ª≠ d·ª•ng, reuseable).</p>
<pre><code>public interface UserRepository extends JpaRepository&lt;User, Long&gt; {

  User findByEmailAddress(String emailAddress);

  List&lt;User&gt; findByLastname(String lastname, Sort sort);

  Page&lt;User&gt; findByFirstname(String firstname, Pageable pageable);
}
</code></pre>
<p>ƒê·ªÉ c√≥ th·ªÉ t·ªëi ∆∞u vi·ªác vi·∫øt query m·ªôt c√°ch linh ƒë·ªông h∆°n v√† c√≥ th·ªÉ t√°i s·ª≠ d·ª•ng l·∫°i, Spring mang t·ªõi cho ch√∫ng ta interface¬†<code>Specification</code>.</p>
<p>L√∫c n√†y, c√°ch ti·∫øp c·∫≠n c·ªßa vi·ªác x√¢y d·ª±ng query s·∫Ω ƒë·∫°i lo·∫°i nh∆∞ sau:</p>
<pre><code>userRepository.findAll(Specification.where(hasIdIn(Arrays.asList(1L, 2L, 3L, 4L, 5L)))
                                                .and(hasType(UserType.NORMAL))
                                                .or(hasId(10L)));
</code></pre>
<p>V·ªõi c√°ch ƒë·ªãnh nghƒ©a n√†y, ch√∫ng ta c√≥ th·ªÉ t√°i s·ª≠ d·ª•ng query v√† tu·ª≥ bi·∫øn n√≥ m·ªçi l√∫c ƒë·ªÉ ph√π h·ª£p v·ªõi y√™u c·∫ßu.</p>
<p>Kh√°i ni·ªám¬†<code>Specification</code>¬†ƒë∆∞·ª£c x√¢y d·ª±ng t∆∞∆°ng ƒë∆∞∆°ng v·ªõi¬†<code>Predicate</code>¬†trong Hibernate. B·∫°n h√£y ƒë·ªçc b√†i d∆∞·ªõi tr∆∞·ªõc khi ƒëi ti·∫øp v√†o b√†i n√†y: <strong>HuÃõoÃõÃÅng daÃÇÃÉn suÃõÃâ duÃ£ng Criteria API trong Hibernate (PhaÃÇÃÄn 2)</strong> </p>
<p>Trong b√†i c√≥ s·ª≠ d·ª•ng: Lombok</p>
<h3 id="c√†i-ƒë·∫∑t-4"><a class="header" href="#c√†i-ƒë·∫∑t-4"><strong>C√†i ƒë·∫∑t</strong></a></h3>
<p>Nh·ªõ th√™m¬†<code>spring-boot-starter-data-jpa</code>¬†v√†o dependencies c·ªßa b·∫°n.</p>
<p>Trong ph·∫ßn n√†y, t√¥i x√†i¬†<em>H2 database</em>¬†ƒë·ªÉ demo. (H2 l√† d·∫°ng memory database, n√≥ s·∫Ω l∆∞u trong ram v√† khi t·∫Øt ch∆∞∆°ng tr√¨nh n√≥ s·∫Ω m·∫•t s·∫°ch)</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;projectxmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;&lt;parent&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;&lt;version&gt;2.0.5.RELEASE&lt;/version&gt;&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;
	&lt;/parent&gt;&lt;groupId&gt;me.loda.spring&lt;/groupId&gt;&lt;artifactId&gt;example-independent-maven-spring-project&lt;/artifactId&gt;&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;&lt;name&gt;example-independent-maven-spring-project&lt;/name&gt;&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;&lt;properties&gt;&lt;java.version&gt;1.8&lt;/java.version&gt;&lt;/properties&gt;&lt;dependencies&gt;&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;&lt;artifactId&gt;lombok&lt;/artifactId&gt;&lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;&lt;scope&gt;test&lt;/scope&gt;&lt;!--			&lt;exclusions&gt;--&gt;
			&lt;!--				&lt;exclusion&gt;--&gt;
			&lt;!--					&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;--&gt;
			&lt;!--					&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;--&gt;
			&lt;!--				&lt;/exclusion&gt;--&gt;
			&lt;!--			&lt;/exclusions&gt;--&gt;
		&lt;/dependency&gt;&lt;!--spring jpa--&gt;
		&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;&lt;/dependency&gt;&lt;!--in memory database--&gt;
		&lt;dependency&gt;&lt;groupId&gt;com.h2database&lt;/groupId&gt;&lt;artifactId&gt;h2&lt;/artifactId&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;&lt;!--https://mvnrepository.com/artifact/org.hibernate/hibernate-jpamodelgen --&gt;
		&lt;dependency&gt;&lt;groupId&gt;org.hibernate&lt;/groupId&gt;&lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;&lt;version&gt;5.4.9.Final&lt;/version&gt;&lt;scope&gt;provided&lt;/scope&gt;&lt;/dependency&gt;&lt;/dependencies&gt;&lt;build&gt;&lt;plugins&gt;&lt;plugin&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;&lt;/plugin&gt;&lt;/plugins&gt;&lt;/build&gt;&lt;/project&gt;
</code></pre>
<p>Ch√∫ √Ω, xem kƒ© h∆°n¬†<code>hibernate-jpamodelgen</code>¬†trong b√†i vi·∫øt¬†</p>
<h3 id="specification"><a class="header" href="#specification"><strong>Specification</strong></a></h3>
<p><code>Specification</code>¬†l√† m·ªôt c√°ch ƒë·ªÉ ƒë·ªãnh nghƒ©a c√°c¬†<code>Predicate</code>¬†c√≥ th·ªÉ t√°i s·ª≠ d·ª•ng ƒë∆∞·ª£c.</p>
<p>B·∫£n ch·∫•t¬†<code>Specification</code>¬†l√† m·ªôt funtional interface v·ªõi 1 h√†m duy nh·∫•t nh∆∞ sau:</p>
<pre><code>public interface Specification&lt;T&gt; {
  Predicate toPredicate(Root&lt;T&gt; root, CriteriaQuery query, CriteriaBuilder cb);
}
</code></pre>
<p>Tham s·ªë ƒë·∫ßu v√†o l√† 3 kh√°i ni·ªám t√¥i ƒë√£ gi·ªõi thi·ªáu ·ªü b√†i¬†, bao g·ªìm:</p>
<ol>
<li><code>Root</code></li>
<li><code>CriteriaQuery</code></li>
<li><code>CriteriaBuilder</code></li>
</ol>
<p>t√¥i s·∫Ω demo tr∆∞·ªõc m·ªôt s·ªë implementation c·ªßa¬†<code>Specification</code>¬†v√† ƒë·ªÅ c·∫≠p c√°ch s·ª≠ d·ª•ng n√≥ ·ªü ph√≠a d∆∞·ªõi:</p>
<p><em>User.java</em></p>
<pre><code>@Entity
@Data
@Builder
public class User {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    private UserType type;
    private String name;

    public enum UserType {
        NORMAL, VIP;
    }
}
</code></pre>
<p><em>UserSpecification.java</em></p>
<pre><code>public final class UserSpecification {
    /**
     * L·∫•y ra user c√≥ UserType ch·ªâ ƒë·ªãnh
     * @param type
     * @return
     */
    public static Specification&lt;User&gt; hasType(UserType type) {
        return (root, query, cb) -&gt; cb.equal(root.get(User_.TYPE), type);
    }

    /**
     * L·∫•y ra user c√≥ id ch·ªâ ƒë·ªãnh
     * @param userId
     * @return
     */
    public static Specification&lt;User&gt; hasId(long userId) {
        return (root, query, cb) -&gt; cb.equal(root.get(User_.ID), userId);
    }

    /**
     * L·∫•y ra user n·∫±m trong t·∫≠p ID ch·ªâ ƒë·ªãnh
     * @param userIds
     * @return
     */
    public static Specification&lt;User&gt; hasIdIn(Collection&lt;Long&gt; userIds) {
        return (root, query, cb) -&gt; root.get(User_.ID).in(userIds);
    }
}
</code></pre>
<p>T√¥i ƒë·ªãnh nghƒ©a ra c√°c¬†<code>static method</code>¬†tr·∫£ ra ngo√†i l√† c√°c implement c·ªßa¬†<code>Specification</code>. N√≥ kh√¥ng h·∫≥n l√† ƒëo·∫°n code ƒë·∫πp nh·∫•t ==! nh∆∞ng n√≥ l√† m·ªôt c√°ch l√†m hay ƒë·ªÉ c√≥ th·ªÉ ƒë·ªãnh nghƒ©a m·ªôt t·∫≠p c√°c ƒëi·ªÅu ki·ªán c√≥ th·ªÉ s·ª≠ d·ª•ng l·∫°i ƒë∆∞·ª£c cho¬†<code>User</code>.</p>
<h3 id="jpaspecificationexecutor"><a class="header" href="#jpaspecificationexecutor"><strong>JpaSpecificationExecutor</strong></a></h3>
<p>ƒê·ªÉ c√≥ th·ªÉ s·ª≠ d·ª•ng ƒë∆∞·ª£c¬†<code>Specification</code>, b·∫°n c·∫ßn k·∫ø th·ª´a¬†<code>JpaSpecificationExecutor</code>¬†t·ª´ Spring JPA</p>
<pre><code>public interface UserRepository extends JpaRepository&lt;User, Long&gt;,
                                        JpaSpecificationExecutor&lt;User&gt; {
}
</code></pre>
<p>L√∫c n√†y, ngo√†i c√°c method truy·ªÅn th·ªëng nh∆∞¬†<code>findAll()</code>,¬†<code>findOne()</code>,¬†<code>findBy()</code>¬†th√¨ b·∫°n s·∫Ω th·∫•y xu·∫•t hi·ªán c√°c method m·ªõi c√≥ tham s·ªë ƒë·∫ßu v√†o l√†¬†<code>Specification&lt;T&gt;</code>:</p>
<pre><code>Optional&lt;T&gt; findOne(@Nullable Specification&lt;T&gt; var1);

List&lt;T&gt; findAll(@Nullable Specification&lt;T&gt; var1);

Page&lt;T&gt; findAll(@Nullable Specification&lt;T&gt; var1, Pageable var2);

List&lt;T&gt; findAll(@Nullable Specification&lt;T&gt; var1, Sort var2);

long count(@Nullable Specification&lt;T&gt; var1);
</code></pre>
<h3 id="usage"><a class="header" href="#usage"><strong>Usage</strong></a></h3>
<p>L√∫c n√†y, ƒë·ªÉ s·ª≠ d·ª•ng, b·∫°n g·ªçi¬†<code>Specification.where()</code>¬†ƒë·ªÉ x√¢y d·ª±ng cho m√¨nh t·∫≠p c√°c ƒëi·ªÅu ki·ªán ƒë·ªÉ query</p>
<pre><code>// L·∫•y ra user n·∫±m trong t·∫≠p ID ƒë√£ cho v√† c√≥ type l√† NORMAL
// ho·∫∑c l·∫•y ra user c√≥ ID = 10
Specification conditions = Specification.where(UserSpecification.hasIdIn(Arrays.asList(1L, 2L, 3L, 4L, 5L)))
                                        .and(UserSpecification.hasType(UserType.NORMAL))
                                        .or(UserSpecification.hasId(10L));
// Truy·ªÅn Specification v√†o h√†m findAll()
userRepository.findAll(conditions).forEach(System.out::println);
</code></pre>
<p>OUTPUT:</p>
<pre><code>User(id=1, type=NORMAL, name=name-0)
User(id=2, type=NORMAL, name=name-1)
User(id=5, type=NORMAL, name=name-4)
User(id=10, type=VIP, name=name-9)
</code></pre>
<p>Ngo√†i ra, b·∫°n c√≥ th·ªÉ import tr·ª±c ti·∫øp c√°c h√†m static v√†o ƒë·ªÉ code g·ªçn h∆°n:</p>
<pre><code>import static me.loda.spring.specification.User.UserType.NORMAL;
import static me.loda.spring.specification.UserSpecification.*;

...
// L·∫•y ra user n·∫±m trong t·∫≠p ID ƒë√£ cho v√† c√≥ type l√† NORMAL
// ho·∫∑c l·∫•y ra user c√≥ ID = 10
Specification conditions = Specification.where(hasIdIn(Arrays.asList(1L, 2L, 3L, 4L, 5L)))
                                        .and(hasType(NORMAL))
                                        .or(hasId(10L));
// Truy·ªÅn Specification v√†o h√†m findAll()
userRepository.findAll(conditions).forEach(System.out::println);
</code></pre>
<p>G·ªçn h∆°n th√¨ kh√¥ng n√™n t·∫°o ra 1 bi·∫øn tham chi·∫øu th·ª´a th√£i:</p>
<pre><code>userRepository.findAll(Specification.where(hasIdIn(Arrays.asList(1L, 2L, 3L, 4L, 5L)))
                                    .and(hasType(NORMAL))
                                    .or(hasId(10L)))
              .forEach(System.out::println);
</code></pre>
<h3 id="k·∫øt-7"><a class="header" href="#k·∫øt-7"><strong>K·∫øt</strong></a></h3>
<p>T·ªõi ƒë√¢y b·∫°n ƒë√£ c√≥ th·ªÉ s·ª≠ d·ª•ng¬†<code>Specification</code>¬†ƒë·ªÉ th·ª±c hi·ªán c√°c truy v·∫•n ph·ª©c t·∫°p v√† t√°i s·ª≠ d·ª•ng ƒë∆∞·ª£c trong nhi·ªÅu tr∆∞·ªùng h·ª£p. ƒê√≥n ƒë·ªçc c√°c b√†i sau v·ªÅ c√°c ph·∫ßn n√¢ng cao h∆°n.</p>
<h1 id="jpah∆∞·ªõng-d·∫´n-s·ª≠-d·ª•ng-onetoone"><a class="header" href="#jpah∆∞·ªõng-d·∫´n-s·ª≠-d·ª•ng-onetoone">„ÄåJpa„ÄçH∆∞·ªõng d·∫´n s·ª≠ d·ª•ng @OneToOne</a></h1>
<ul>
<li>Gi·ªõi thi·ªáu</li>
<li>T·∫°o project</li>
<li>T·∫°o Table</li>
<li>Ch·∫°y th·ª≠</li>
<li>Th√™m d·ªØ li·ªáu</li>
</ul>
<h3 id="gi·ªõi-thi·ªáu-12"><a class="header" href="#gi·ªõi-thi·ªáu-12"><strong>Gi·ªõi thi·ªáu</strong></a></h3>
<p>C√°ch bi·ªÉu th·ªã quan h·ªá 1-1 trong c∆° s·ªü d·ªØ li·ªáu l√† r·∫•t ph·ªï bi·∫øn, v√≠ d·ª• m·ªôt ng∆∞·ªùi s·∫Ω c√≥ m·ªôt ƒë·ªãa ch·ªâ duy nh·∫•t (gi·∫£ s·ª≠).</p>
<p>B√¨nh th∆∞·ªùng, khi c√°c b·∫°n t·∫°o table trong csdl ƒë·ªÉ bi·ªÉu th·ªã m·ªëi quan h·ªá n√†y, th√¨ s·∫Ω c√≥ m·ªôt b·∫£ng ch·ª©a kh√≥a ngo·∫°i c·ªßa b·∫£ng c√≤n l·∫°i.</p>
<p>!image</p>
<p>Th·ªÉ hi·ªán m·ªói quan h·ªá n√†y trong¬†<code>code</code>¬†b·∫±ng¬†<code>Hibernate</code>¬†th√¨ ch√∫ng ta s·∫Ω d√πng¬†<code>@OneToOne</code>.</p>
<p>Trong b√†i s·ª≠ d·ª•ng c√°c ki·∫øn th·ª©c:</p>
<ol>
<li>Hibernate l√† g√¨?</li>
<li>C√°ch s·ª≠ d·ª•ng Lombok ƒë·ªÉ ti·∫øt ki·ªám th·ªùi gian code</li>
</ol>
<h3 id="t·∫°o-project"><a class="header" href="#t·∫°o-project"><strong>T·∫°o project</strong></a></h3>
<p>To√†n b·ªô b√†i vi·∫øt ƒë∆∞·ª£c up t·∫°i¬†<code>Github</code>:¬†github.com/loda-kun/java-all</p>
<p>Ch√∫ng ta s·∫Ω s·ª≠ d·ª•ng¬†<code>Gradle</code>¬†ƒë·ªÉ t·∫°o m·ªôt project c√≥ khai b√°o¬†<code>Spring Boot</code>¬†v√†¬†<code>Jpa</code>¬†ƒë·ªÉ h·ªó tr·ª£ cho vi·ªác demo¬†<code>@OneToOne</code>.</p>
<p>C√°c b·∫°n c√≥ th·ªÉ t·ª± t·∫°o 1 project Spring-boot v·ªõi gradle ƒë∆°n gi·∫£n t·∫°i:¬†https://start.spring.io</p>
<pre><code>plugins {
    id 'org.springframework.boot' version '2.1.4.RELEASE'
    id 'java'
}
apply plugin: 'io.spring.dependency-management'

group 'me.loda.java'
version '1.0-SNAPSHOT'

sourceCompatibility = 1.8

configurations {
    compileOnly {
        extendsFrom annotationProcessor
    }
}

repositories {
    mavenCentral()
}

dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
    implementation 'org.springframework.boot:spring-boot-starter-web'
    compileOnly 'org.projectlombok:lombok'
    runtimeOnly 'com.h2database:h2'
    annotationProcessor 'org.projectlombok:lombok'
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
}
</code></pre>
<p>Trong ·ª©ng d·ª•ng tr√™n b·∫°n s·∫Ω th·∫•y c√≥¬†<code>com.h2database:h2</code>. ƒê√¢y l√† m·ªôt¬†<strong>database</strong>, tuy nhi√™n n√≥ ch·ªâ t·ªìn t·∫°i trong b·ªô nh·ªõ. T·ª©c l√†m m·ªói khi ch·∫°y ch∆∞∆°ng tr√¨nh n√†y, n√≥ s·∫Ω t·∫°o database trong¬†<code>RAM</code>, v√† t·∫Øt ch∆∞∆°ng tr√¨nh ƒëi n√≥ s·∫Ω m·∫•t.</p>
<p>Ch√∫ng ta s·∫Ω s·ª≠ d·ª•ng¬†<code>H2</code>¬†thay cho¬†<code>MySql</code>¬†ƒë·ªÉ cho.. ti·ªán!</p>
<p>Khi t·∫°o xong project, s·∫Ω c√≥ th∆∞ m·ª•c nh∆∞ sau:</p>
<p>!image</p>
<h3 id="t·∫°o-table"><a class="header" href="#t·∫°o-table"><strong>T·∫°o Table</strong></a></h3>
<p>ƒê·ªÉ t·∫°o table, ch√∫ng ta t·∫°o ra c√°c¬†<code>Class</code>¬†t∆∞∆°ng ·ª©ng.</p>
<pre><code>import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.Id;
import javax.persistence.JoinColumn;
import javax.persistence.OneToOne;

import lombok.Builder;
import lombok.Data;

@Entity // Hibernate entity
@Data // Lombok
@Builder // Lombok
public class Person { //Table person

    @Id // ƒê√°nh d·∫•u tr∆∞·ªùng n√†y l√† primary key
    @GeneratedValue // T·ª± ƒë·ªông tƒÉng gi√° tr·ªã id
    private Long id;
    private String name;
}
</code></pre>
<pre><code>@Entity
@Data
@Builder
public class Address { // Table address
    @Id
    @GeneratedValue
    private Long id;

    private String city;
    private String province;

    @OneToOne // ƒê√°nh d·∫•u c√≥ m·ªói quan h·ªá 1-1 v·ªõi Person ·ªü ph√≠a d∆∞·ªõi
    @JoinColumn(name = &quot;person_id&quot;) // Li√™n k·∫øt v·ªõi nhau qua kh√≥a ngo·∫°i person_id
    private Person person;
}
</code></pre>
<p>N·∫øu ch√∫ng ta ch∆∞a t·∫°o ra c√°c table trong c∆° s·ªü d·ªØ li·ªáu, th√¨ m·∫∑c ƒë·ªãnh¬†<code>Hibernate</code>¬†s·∫Ω bind d·ªØ li·ªáu t·ª´ class xu·ªëng v√† t·∫°o table cho ch√∫ng ta.</p>
<p>B·∫°n ph·∫£i t·∫°o file config¬†<code>src\main\resources\application.properties</code>¬†nh∆∞ sau ƒë·ªÉ k·∫øt n·ªëi t·ªõi¬†<code>H2</code>¬†database nh√©:</p>
<pre><code>spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
// Kh√¥ng c√≥ password, v√†o th·∫≥ng lu√¥n
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
# Cho ph√©p v√†o xem db th√¥ng qua web
spring.h2.console.enabled=true
</code></pre>
<h3 id="ch·∫°y-th·ª≠-2"><a class="header" href="#ch·∫°y-th·ª≠-2"><strong>Ch·∫°y th·ª≠</strong></a></h3>
<p>B·∫°n t·∫°o file¬†<code>OneToOneExampleApplication</code>¬†v√† c·∫•u h√¨nh¬†<code>Spring Boot</code>¬†v√† kh·ªüi ch·∫°y ch∆∞∆°ng tr√¨nh.</p>
<pre><code>@SpringBootApplication
@RequiredArgsConstructor
public class OneToOneExampleApplication {
    public static void main(String[] args) {
        SpringApplication.run(OneToOneExampleApplication.class, args);
    }
}
</code></pre>
<p>Sau khi ch·∫°y xong, h√£y truy c·∫≠p v√†o¬†<code>http://localhost:8080/h2-console/</code>¬†ƒë·ªÉ v√†o xem database c√≥ g√¨ nh√©.</p>
<p>!image</p>
<p>B·∫°n s·∫Ω th·∫•y n√≥ t·∫°o table gi·ªëng v·ªõi m√¥ t·∫£ ·ªü ƒë·∫ßu b√†i. V·ªõi kh√≥a ngo·∫°i¬†<code>person_id</code>¬†·ªü b·∫£ng¬†<code>address</code>.</p>
<h3 id="th√™m-d·ªØ-li·ªáu"><a class="header" href="#th√™m-d·ªØ-li·ªáu"><strong>Th√™m d·ªØ li·ªáu</strong></a></h3>
<p>ƒê·ªÉ th√™m d·ªØ li·ªáu v√†o database, ch√∫ng ta s·∫Ω d√πng t·ªõi¬†<code>Jpa</code>.</p>
<pre><code>import org.springframework.data.jpa.repository.JpaRepository;

public interface AddressRepository extends JpaRepository&lt;Address,Long&gt; {
}
public interface PersonRepository extends JpaRepository&lt;Person, Long&gt; {
}
</code></pre>
<p>Ch√∫ng ta s·∫Ω t·∫°o m·ªôt ch∆∞∆°ng tr√¨nh¬†<code>Spring Boot</code>¬†ƒë∆°n gi·∫£n b·∫±ng c√°ch s·ª≠ d·ª•ng¬†<code>CommandLineRunner</code>¬†ƒë·ªÉ ch·∫°y code ngay khi kh·ªüi ƒë·ªông.</p>
<pre><code>import javax.transaction.Transactional;

import org.springframework.boot.CommandLineRunner;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

import com.google.common.collect.Lists;

import lombok.RequiredArgsConstructor;

@SpringBootApplication
@RequiredArgsConstructor
public class OneToOneExampleApplication implements CommandLineRunner {
    public static void main(String[] args) {
        SpringApplication.run(OneToOneExampleApplication.class, args);
    }

    // S·ª≠ d·ª•ng @RequiredArgsConstructor v√† final ƒë·ªÉ thay cho @Autowired
    private final PersonRepository personRepository;
    private final AddressRepository addressRepository;

    @Override
    public void run(String... args) throws Exception {
        // T·∫°o ra ƒë·ªëi t∆∞·ª£ng person
        Person person = Person.builder()
                              .name(&quot;loda&quot;)
                              .build();
        // L∆∞u v√†o db
        personRepository.save(person);

        // T·∫°o ra ƒë·ªëi t∆∞·ª£ng Address c√≥ tham chi·∫øu t·ªõi person
        Address address = Address.builder()
                .city(&quot;Hanoi&quot;)
                .person(person)
                .build();

        // L∆∞u v√†o db
        addressRepository.save(address);

        // V√†o:http://localhost:8080/h2-console/ ƒë·ªÉ xem d·ªØ li·ªáu ƒë√£ insert
    }
}
</code></pre>
<p>K·∫øt qu·∫£ trong database l√∫c n√†y:</p>
<p>!image</p>
<p>V·∫≠y l√† th·∫±ng¬†<code>Address</code>¬†ƒë√£ li√™n k·∫øt t·ªõi¬†<code>Person</code>¬†c√≥¬†<code>id=1</code>. ƒê√∫ng nh∆∞ ta mong ƒë·ª£i.</p>
<p>B√†i vi·∫øt c·ªßa m√¨nh kh√¥ng c√≤n g√¨ ƒë·ªÉ ng·∫Øn h∆°n ƒë∆∞·ª£c n·ªØa :((( th·∫≠t h·ªï th·∫πn, m√¨nh c√≥ up code l√™n ƒë√¢y, b·∫°n ch·∫°y code c√°i l√† hi·ªÉu li·ªÅn √†:</p>
<p>Ch√∫c c√°c b·∫°n h·ªçc t·∫≠p t·ªët! ahuu</p>
<ol>
<li><a href="spring-boot/">üöÖ„ÄåJpa„ÄçH∆∞·ªõng d·∫´n @OneToMany v√† @ManyToOne</a></li>
<li><a href="spring-boot/">üõµ„ÄåJpa„ÄçH∆∞·ªõng d·∫´n @ManyToMany</a></li>
</ol>
<p>üíÅ¬†N·∫øu c√≥, to√†n b·ªô project / code m·∫´u ƒë∆∞·ª£c l∆∞u tr·ªØ t·∫°i <strong>GitHub</strong></p>
<p>üåü¬†ƒê√¢y l√† m·ªôt b√†i vi·∫øt trong¬†Series <strong>L√†m ch·ªß Spring Boot ‚Äì Zero to Hero</strong></p>
<h1 id="jpah∆∞·ªõng-d·∫´n-onetomany-v√†-manytoone"><a class="header" href="#jpah∆∞·ªõng-d·∫´n-onetomany-v√†-manytoone">„ÄåJpa„ÄçH∆∞·ªõng d·∫´n @OneToMany v√† @ManyToOne</a></h1>
<ul>
<li>Gi·ªõi thi·ªáu</li>
<li>T·∫°o project</li>
<li>T·∫°o Table</li>
<li>Ch·∫°y th·ª≠</li>
<li>Th√™m d·ªØ li·ªáu</li>
</ul>
<h3 id="gi·ªõi-thi·ªáu-13"><a class="header" href="#gi·ªõi-thi·ªáu-13"><strong>Gi·ªõi thi·ªáu</strong></a></h3>
<p>C√°ch bi·ªÉu th·ªã quan h·ªá 1-n trong c∆° s·ªü d·ªØ li·ªáu l√† r·∫•t ph·ªï bi·∫øn, v√≠ d·ª• m·ªôt ƒë·ªãa ch·ªâ c√≥ th·ªÉ c√≥ nhi·ªÅu ng∆∞·ªùi ·ªü (gia ƒë√¨nh).</p>
<p>B√¨nh th∆∞·ªùng, khi c√°c b·∫°n t·∫°o table trong csdl ƒë·ªÉ bi·ªÉu th·ªã m·ªëi quan h·ªá n√†y, th√¨ b·∫£ng ƒë·∫°i di·ªán ph√≠a nhi·ªÅu (ph√≠a n trong c√¢u 1-n) s·∫Ω ch·ª©a id c·ªßa b·∫£ng tham chi·∫øu (ph√≠a 1 trong c√¢u 1-n)</p>
<p>!image</p>
<p>Th·ªÉ hi·ªán m·ªói quan h·ªá n√†y m·ªôt c√°ch ƒë·∫ßy ƒë·ªß trong¬†<code>code</code>¬†b·∫±ng¬†<code>Hibernate</code>¬†th√¨ ch√∫ng ta s·∫Ω d√πng¬†<code>@OneToMany</code>¬†v√†¬†<code>@ManyToOne</code>.</p>
<p>Trong b√†i s·ª≠ d·ª•ng c√°c ki·∫øn th·ª©c:</p>
<ol>
<li>Hibernate l√† g√¨?</li>
<li>C√°ch s·ª≠ d·ª•ng Lombok ƒë·ªÉ ti·∫øt ki·ªám th·ªùi gian code</li>
</ol>
<h3 id="t·∫°o-project-1"><a class="header" href="#t·∫°o-project-1"><strong>T·∫°o project</strong></a></h3>
<p>To√†n b·ªô b√†i vi·∫øt ƒë∆∞·ª£c up t·∫°i¬†<code>Github</code>:¬†github.com/loda-kun/java-all</p>
<p>Ch√∫ng ta s·∫Ω s·ª≠ d·ª•ng¬†<code>Gradle</code>¬†ƒë·ªÉ t·∫°o m·ªôt project c√≥ khai b√°o¬†<code>Spring Boot</code>¬†v√†¬†<code>Jpa</code>¬†ƒë·ªÉ h·ªó tr·ª£ cho vi·ªác demo¬†<code>@ManyToOne</code>.</p>
<p>C√°c b·∫°n c√≥ th·ªÉ t·ª± t·∫°o 1 project Spring-boot v·ªõi gradle ƒë∆°n gi·∫£n t·∫°i:¬†https://start.spring.io</p>
<pre><code>plugins {
    id 'org.springframework.boot' version '2.1.4.RELEASE'
    id 'java'
}
apply plugin: 'io.spring.dependency-management'

group 'me.loda.java'
version '1.0-SNAPSHOT'

sourceCompatibility = 1.8

configurations {
    compileOnly {
        extendsFrom annotationProcessor
    }
}

repositories {
    mavenCentral()
}

dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
    implementation 'org.springframework.boot:spring-boot-starter-web'
    compileOnly 'org.projectlombok:lombok'
    runtimeOnly 'com.h2database:h2'
    annotationProcessor 'org.projectlombok:lombok'
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
}
</code></pre>
<p>Trong ·ª©ng d·ª•ng tr√™n b·∫°n s·∫Ω th·∫•y c√≥¬†<code>com.h2database:h2</code>. ƒê√¢y l√† m·ªôt¬†<strong>database</strong>, tuy nhi√™n n√≥ ch·ªâ t·ªìn t·∫°i trong b·ªô nh·ªõ. T·ª©c l√†m m·ªói khi ch·∫°y ch∆∞∆°ng tr√¨nh n√†y, n√≥ s·∫Ω t·∫°o database trong¬†<code>RAM</code>, v√† t·∫Øt ch∆∞∆°ng tr√¨nh ƒëi n√≥ s·∫Ω m·∫•t.</p>
<p>Ch√∫ng ta s·∫Ω s·ª≠ d·ª•ng¬†<code>H2</code>¬†thay cho¬†<code>MySql</code>¬†ƒë·ªÉ cho.. ti·ªán!</p>
<p>Khi t·∫°o xong project, s·∫Ω c√≥ th∆∞ m·ª•c nh∆∞ sau:</p>
<p>!image</p>
<h3 id="t·∫°o-table-1"><a class="header" href="#t·∫°o-table-1"><strong>T·∫°o Table</strong></a></h3>
<p>ƒê·ªÉ t·∫°o table, ch√∫ng ta t·∫°o ra c√°c¬†<code>Class</code>¬†t∆∞∆°ng ·ª©ng.</p>
<pre><code>import java.util.Collection;

import javax.persistence.CascadeType;
import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.Id;
import javax.persistence.OneToMany;

import lombok.AllArgsConstructor;
import lombok.Data;
import lombok.EqualsAndHashCode;
import lombok.NoArgsConstructor;
import lombok.ToString;

@Entity // ƒê√°nh d·∫•u ƒë√¢y l√† table trong db
@Data // lombok gi√∫p generate c√°c h√†m constructor, get, set v.v.
@AllArgsConstructor
@NoArgsConstructor
public class Address {

    @Id //ƒê√°nh d·∫•u l√† primary key
    @GeneratedValue // Gi√∫p t·ª± ƒë·ªông tƒÉng
    private Long id;

    private String city;
    private String province;

    @OneToMany(mappedBy = &quot;address&quot;, cascade = CascadeType.ALL) // Quan h·ªá 1-n v·ªõi ƒë·ªëi t∆∞·ª£ng ·ªü d∆∞·ªõi (Person) (1 ƒë·ªãa ƒëi·ªÉm c√≥ nhi·ªÅu ng∆∞·ªùi ·ªü)
    // MapopedBy tr·ªè t·ªõi t√™n bi·∫øn Address ·ªü trong Person.
    @EqualsAndHashCode.Exclude // kh√¥ng s·ª≠ d·ª•ng tr∆∞·ªùng n√†y trong equals v√† hashcode
    @ToString.Exclude // Khoonhg s·ª≠ d·ª•ng trong toString()
    private Collection&lt;Person&gt; persons;
}
</code></pre>
<pre><code>@Entity
@Data
@NoArgsConstructor
@AllArgsConstructor
public class Person {

    @Id
    @GeneratedValue
    private Long id;
    private String name;

    // Many to One C√≥ nhi·ªÅu ng∆∞·ªùi ·ªü 1 ƒë·ªãa ƒëi·ªÉm.
    @ManyToOne
    @JoinColumn(name = &quot;address_id&quot;) // th√¥ng qua kh√≥a ngo·∫°i address_id
    @EqualsAndHashCode.Exclude
    @ToString.Exclude
    private Address address;
}
</code></pre>
<p>N·∫øu ch√∫ng ta ch∆∞a t·∫°o ra c√°c table trong c∆° s·ªü d·ªØ li·ªáu, th√¨ m·∫∑c ƒë·ªãnh¬†<code>Hibernate</code>¬†s·∫Ω bind d·ªØ li·ªáu t·ª´ class xu·ªëng v√† t·∫°o table cho ch√∫ng ta.</p>
<p>B·∫°n ph·∫£i t·∫°o file config¬†<code>src\main\resources\application.properties</code>¬†nh∆∞ sau ƒë·ªÉ k·∫øt n·ªëi t·ªõi¬†<code>H2</code>¬†database nh√©:</p>
<pre><code>spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
// Kh√¥ng c√≥ password, v√†o th·∫≥ng lu√¥n
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
# Cho ph√©p v√†o xem db th√¥ng qua web
spring.h2.console.enabled=true
</code></pre>
<h3 id="ch·∫°y-th·ª≠-3"><a class="header" href="#ch·∫°y-th·ª≠-3"><strong>Ch·∫°y th·ª≠</strong></a></h3>
<p>B·∫°n t·∫°o file¬†<code>OneToManyExampleApplication</code>¬†v√† c·∫•u h√¨nh¬†<code>Spring Boot</code>¬†v√† kh·ªüi ch·∫°y ch∆∞∆°ng tr√¨nh.</p>
<pre><code>@SpringBootApplication
@RequiredArgsConstructor
public class OneToManyExampleApplication {
    public static void main(String[] args) {
        SpringApplication.run(OneToManyExampleApplication.class, args);
    }
}
</code></pre>
<p>Sau khi ch·∫°y xong, h√£y truy c·∫≠p v√†o¬†<code>http://localhost:8080/h2-console/</code>¬†ƒë·ªÉ v√†o xem database c√≥ g√¨ nh√©.</p>
<p>!image</p>
<p>B·∫°n s·∫Ω th·∫•y n√≥ t·∫°o table gi·ªëng v·ªõi m√¥ t·∫£ ·ªü ƒë·∫ßu b√†i. V·ªõi kh√≥a ngo·∫°i¬†<code>address_id</code>¬†·ªü b·∫£ng¬†<code>person</code>.</p>
<h3 id="th√™m-d·ªØ-li·ªáu-1"><a class="header" href="#th√™m-d·ªØ-li·ªáu-1"><strong>Th√™m d·ªØ li·ªáu</strong></a></h3>
<p>ƒê·ªÉ th√™m d·ªØ li·ªáu v√†o database, ch√∫ng ta s·∫Ω d√πng t·ªõi¬†<code>Spring JPA</code>¬†.</p>
<pre><code>import org.springframework.data.jpa.repository.JpaRepository;

public interface AddressRepository extends JpaRepository&lt;Address,Long&gt; {
}
public interface PersonRepository extends JpaRepository&lt;Person, Long&gt; {
}
</code></pre>
<p>Ch√∫ng ta s·∫Ω t·∫°o m·ªôt ch∆∞∆°ng tr√¨nh¬†<code>Spring Boot</code>¬†ƒë∆°n gi·∫£n b·∫±ng c√°ch s·ª≠ d·ª•ng¬†<code>CommandLineRunner</code>¬†ƒë·ªÉ ch·∫°y code ngay khi kh·ªüi ƒë·ªông.</p>
<pre><code>import javax.transaction.Transactional;

import org.springframework.boot.CommandLineRunner;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

import com.google.common.collect.Lists;

import lombok.RequiredArgsConstructor;

@SpringBootApplication
@RequiredArgsConstructor
public class OneToManyExampleApplication implements CommandLineRunner {
    public static void main(String[] args) {
        SpringApplication.run(OneToManyExampleApplication.class, args);
    }

    // S·ª≠ d·ª•ng @RequiredArgsConstructor v√† final ƒë·ªÉ thay cho @Autowired
    private final PersonRepository personRepository;
    private final AddressRepository addressRepository;

    @Override
    public void run(String... args) throws Exception {
        // T·∫°o ra ƒë·ªëi t∆∞·ª£ng Address c√≥ tham chi·∫øu t·ªõi person
        Address address = new Address();
        address.setCity(&quot;Hanoi&quot;);

        // T·∫°o ra ƒë·ªëi t∆∞·ª£ng person
        Person person = new Person();
        person.setName(&quot;loda&quot;);
        person.setAddress(address);

        address.setPersons(Collections.singleton(person));
        // L∆∞u v√†o db
        // Ch√∫ng ta ch·ªâ c·∫ßn l∆∞u address, v√¨ cascade = CascadeType.ALL n√™n n√≥ s·∫Ω l∆∞u lu√¥n Person.
        addressRepository.saveAndFlush(address);

        // V√†o:http://localhost:8080/h2-console/ ƒë·ªÉ xem d·ªØ li·ªáu ƒë√£ insert

        personRepository.findAll().forEach(p -&gt; {
            System.out.println(p.getId());
            System.out.println(p.getName());
            System.out.println(p.getAddress());
        });

    }
}
//output:
// 2
// loda
// Address(id=1, city=Hanoi, province=null)
// Ch√∫ng ta ƒë√£ c√≥ th·ªÉ g·ªçi tr·ª±c ti·∫øp address trong person sau khi query
</code></pre>
<p>K·∫øt qu·∫£ trong database l√∫c n√†y:</p>
<p>!image</p>
<p>B√†i vi·∫øt c·ªßa m√¨nh kh√¥ng c√≤n g√¨ ƒë·ªÉ ng·∫Øn h∆°n ƒë∆∞·ª£c n·ªØa :((( th·∫≠t h·ªï th·∫πn, m√¨nh c√≥ up code l√™n ƒë√¢y, b·∫°n ch·∫°y code c√°i l√† hi·ªÉu li·ªÅn √†:</p>
<p>Ch√∫c c√°c b·∫°n h·ªçc t·∫≠p th·∫≠t t·ªët! ahuu</p>
<ol>
<li><a href="spring-boot/">ü™Ç„ÄåJpa„ÄçH∆∞·ªõng d·∫´n s·ª≠ d·ª•ng @OneToOne</a></li>
<li><a href="spring-boot/">üõµ„ÄåJpa„ÄçH∆∞·ªõng d·∫´n @ManyToMany</a></li>
</ol>
<p>üíÅ¬†N·∫øu c√≥, to√†n b·ªô project / code m·∫´u ƒë∆∞·ª£c l∆∞u tr·ªØ t·∫°i <strong>GitHub</strong></p>
<p>üåü¬†ƒê√¢y l√† m·ªôt b√†i vi·∫øt trong¬†Series <strong>L√†m ch·ªß Spring Boot ‚Äì Zero to Hero</strong></p>
<h1 id="jpah∆∞·ªõng-d·∫´n-manytomany"><a class="header" href="#jpah∆∞·ªõng-d·∫´n-manytomany">„ÄåJpa„ÄçH∆∞·ªõng d·∫´n @ManyToMany</a></h1>
<ul>
<li>Gi·ªõi thi·ªáu</li>
<li>T·∫°o project</li>
<li>T·∫°o Table</li>
<li>Ch·∫°y th·ª≠</li>
<li>Th√™m d·ªØ li·ªáu</li>
</ul>
<h3 id="gi·ªõi-thi·ªáu-14"><a class="header" href="#gi·ªõi-thi·ªáu-14"><strong>Gi·ªõi thi·ªáu</strong></a></h3>
<p>C√°ch bi·ªÉu th·ªã quan h·ªá n-n trong c∆° s·ªü d·ªØ li·ªáu l√† r·∫•t ph·ªï bi·∫øn, v√≠ d·ª• m·ªôt ƒë·ªãa ch·ªâ c√≥ th·ªÉ c√≥ nhi·ªÅu ng∆∞·ªùi ·ªü (gia ƒë√¨nh). v√† m·ªôt ng∆∞·ªùi c√≥ th·ªÉ c√≥ nhi·ªÅu h∆°n m·ªôt ƒë·ªãa ch·ªâ.</p>
<p>B√¨nh th∆∞·ªùng, khi c√°c b·∫°n t·∫°o table trong csdl ƒë·ªÉ bi·ªÉu th·ªã m·ªëi quan h·ªá n√†y, ch√∫ng ta s·∫Ω t·∫°o ra m·ªôt b·∫£ng m·ªõi, tham chi·∫øu t·ªõi c·∫£ b·∫£ng n√†y.</p>
<p>!image</p>
<p>Th·ªÉ hi·ªán m·ªói quan h·ªá n√†y m·ªôt c√°ch ƒë·∫ßy ƒë·ªß trong¬†<code>code</code>¬†b·∫±ng¬†<code>Hibernate</code>¬†th√¨ ch√∫ng ta s·∫Ω d√πng¬†<code>@ManyToMany</code></p>
<p>Trong b√†i s·ª≠ d·ª•ng c√°c ki·∫øn th·ª©c:</p>
<ol>
<li>Hibernate l√† g√¨?</li>
<li>C√°ch s·ª≠ d·ª•ng Lombok ƒë·ªÉ ti·∫øt ki·ªám th·ªùi gian code</li>
</ol>
<h3 id="t·∫°o-project-2"><a class="header" href="#t·∫°o-project-2"><strong>T·∫°o project</strong></a></h3>
<p>To√†n b·ªô b√†i vi·∫øt ƒë∆∞·ª£c up t·∫°i¬†<code>Github</code>:¬†github.com/loda-kun/java-all</p>
<p>Ch√∫ng ta s·∫Ω s·ª≠ d·ª•ng¬†<code>Gradle</code>¬†ƒë·ªÉ t·∫°o m·ªôt project c√≥ khai b√°o¬†<code>Spring Boot</code>¬†v√†¬†<code>Jpa</code>¬†ƒë·ªÉ h·ªó tr·ª£ cho vi·ªác demo¬†<code>@ManyToMany</code>.</p>
<p>C√°c b·∫°n c√≥ th·ªÉ t·ª± t·∫°o 1 project Spring-boot v·ªõi gradle ƒë∆°n gi·∫£n t·∫°i:¬†https://start.spring.io</p>
<pre><code>plugins {
    id 'org.springframework.boot' version '2.1.4.RELEASE'
    id 'java'
}
apply plugin: 'io.spring.dependency-management'

group 'me.loda.java'
version '1.0-SNAPSHOT'

sourceCompatibility = 1.8

configurations {
    compileOnly {
        extendsFrom annotationProcessor
    }
}

repositories {
    mavenCentral()
}

dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
    implementation 'org.springframework.boot:spring-boot-starter-web'
    compileOnly 'org.projectlombok:lombok'
    runtimeOnly 'com.h2database:h2'
    annotationProcessor 'org.projectlombok:lombok'
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
}
</code></pre>
<p>Trong ·ª©ng d·ª•ng tr√™n b·∫°n s·∫Ω th·∫•y c√≥¬†<code>com.h2database:h2</code>. ƒê√¢y l√† m·ªôt¬†<strong>database</strong>, tuy nhi√™n n√≥ ch·ªâ t·ªìn t·∫°i trong b·ªô nh·ªõ. T·ª©c l√†m m·ªói khi ch·∫°y ch∆∞∆°ng tr√¨nh n√†y, n√≥ s·∫Ω t·∫°o database trong¬†<code>RAM</code>, v√† t·∫Øt ch∆∞∆°ng tr√¨nh ƒëi n√≥ s·∫Ω m·∫•t.</p>
<p>Ch√∫ng ta s·∫Ω s·ª≠ d·ª•ng¬†<code>H2</code>¬†thay cho¬†<code>MySql</code>¬†ƒë·ªÉ cho.. ti·ªán!</p>
<p>Khi t·∫°o xong project, s·∫Ω c√≥ th∆∞ m·ª•c nh∆∞ sau:</p>
<p>!image</p>
<h3 id="t·∫°o-table-2"><a class="header" href="#t·∫°o-table-2"><strong>T·∫°o Table</strong></a></h3>
<p>ƒê·ªÉ t·∫°o table, ch√∫ng ta t·∫°o ra c√°c¬†<code>Class</code>¬†t∆∞∆°ng ·ª©ng.</p>
<pre><code>import java.util.Collection;

import javax.persistence.CascadeType;
import javax.persistence.Entity;
import javax.persistence.FetchType;
import javax.persistence.GeneratedValue;
import javax.persistence.Id;
import javax.persistence.JoinColumn;
import javax.persistence.JoinTable;
import javax.persistence.ManyToMany;

import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.Data;
import lombok.EqualsAndHashCode;
import lombok.NoArgsConstructor;
import lombok.ToString;

@Entity // ƒê√°nh d·∫•u ƒë√¢y l√† table trong db
@Data // lombok gi√∫p generate c√°c h√†m constructor, get, set v.v.
@AllArgsConstructor
@NoArgsConstructor
@Builder
public class Address {

    @Id //ƒê√°nh d·∫•u l√† primary key
    @GeneratedValue // Gi√∫p t·ª± ƒë·ªông tƒÉng
    private Long id;

    private String city;
    private String province;

    @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)
    // Quan h·ªá n-n v·ªõi ƒë·ªëi t∆∞·ª£ng ·ªü d∆∞·ªõi (Person) (1 ƒë·ªãa ƒëi·ªÉm c√≥ nhi·ªÅu ng∆∞·ªùi ·ªü)
    @EqualsAndHashCode.Exclude // kh√¥ng s·ª≠ d·ª•ng tr∆∞·ªùng n√†y trong equals v√† hashcode
    @ToString.Exclude // Khoonhg s·ª≠ d·ª•ng trong toString()

    @JoinTable(name = &quot;address_person&quot;, //T·∫°o ra m·ªôt join Table t√™n l√† &quot;address_person&quot;
            joinColumns = @JoinColumn(name = &quot;address_id&quot;),  // TRong ƒë√≥, kh√≥a ngo·∫°i ch√≠nh l√† address_id tr·ªè t·ªõi class hi·ªán t·∫°i (Address)
            inverseJoinColumns = @JoinColumn(name = &quot;person_id&quot;) //Kh√≥a ngo·∫°i th·ª© 2 tr·ªè t·ªõi thu·ªôc t√≠nh ·ªü d∆∞·ªõi (Person)
    )
    private Collection&lt;Person&gt; persons;
}
</code></pre>
<pre><code>@Entity
@Data
@NoArgsConstructor
@AllArgsConstructor
@Builder
public class Person {

    @Id
    @GeneratedValue
    private Long id;
    private String name;

    // mappedBy tr·ªè t·ªõi t√™n bi·∫øn persons ·ªü trong Address.
    @ManyToMany(mappedBy = &quot;persons&quot;)
    // LAZY ƒë·ªÉ tr√°nh vi·ªác truy xu·∫•t d·ªØ li·ªáu kh√¥ng c·∫ßn thi·∫øt. L√∫c n√†o c·∫ßn th√¨ m·ªõi query
    @EqualsAndHashCode.Exclude
    @Exclude
    private Collection&lt;Address&gt; addresses;
}
</code></pre>
<p>N·∫øu ch√∫ng ta ch∆∞a t·∫°o ra c√°c table trong c∆° s·ªü d·ªØ li·ªáu, th√¨ m·∫∑c ƒë·ªãnh¬†<code>Hibernate</code>¬†s·∫Ω bind d·ªØ li·ªáu t·ª´ class xu·ªëng v√† t·∫°o table cho ch√∫ng ta.</p>
<p>B·∫°n ph·∫£i t·∫°o file config¬†<code>src\main\resources\application.properties</code>¬†nh∆∞ sau ƒë·ªÉ k·∫øt n·ªëi t·ªõi¬†<code>H2</code>¬†database nh√©:</p>
<pre><code>spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
// Kh√¥ng c√≥ password, v√†o th·∫≥ng lu√¥n
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
# Cho ph√©p v√†o xem db th√¥ng qua web
spring.h2.console.enabled=true
</code></pre>
<h3 id="ch·∫°y-th·ª≠-4"><a class="header" href="#ch·∫°y-th·ª≠-4"><strong>Ch·∫°y th·ª≠</strong></a></h3>
<p>B·∫°n t·∫°o file¬†<code>ManyToManyExampleApplication</code>¬†v√† c·∫•u h√¨nh¬†<code>Spring Boot</code>¬†v√† kh·ªüi ch·∫°y ch∆∞∆°ng tr√¨nh.</p>
<pre><code>@SpringBootApplication
@RequiredArgsConstructor
public class ManyToManyExampleApplication {
    public static void main(String[] args) {
        SpringApplication.run(ManyToManyExampleApplication.class, args);
    }
}
</code></pre>
<p>Sau khi ch·∫°y xong, h√£y truy c·∫≠p v√†o¬†<code>http://localhost:8080/h2-console/</code>¬†ƒë·ªÉ v√†o xem database c√≥ g√¨ nh√©.</p>
<p>!image</p>
<p>B·∫°n s·∫Ω th·∫•y n√≥ t·∫°o table gi·ªëng v·ªõi m√¥ t·∫£ ·ªü ƒë·∫ßu b√†i. G·ªìm c√≥ hai b·∫£ng ch√≠nh l√†¬†<code>address</code>¬†v√†¬†<code>person</code>. Ngo√†i ra, s·∫Ω t·∫°o ra m·ªôt b·∫£ng trung gian ·ªü gi·ªØa li√™n k·∫øt hai b·∫£ng l√†¬†<code>address_person</code>.</p>
<h3 id="th√™m-d·ªØ-li·ªáu-2"><a class="header" href="#th√™m-d·ªØ-li·ªáu-2"><strong>Th√™m d·ªØ li·ªáu</strong></a></h3>
<p>ƒê·ªÉ th√™m d·ªØ li·ªáu v√†o database, ch√∫ng ta s·∫Ω d√πng t·ªõi¬†<code>Spring JPA</code>¬†.</p>
<pre><code>import org.springframework.data.jpa.repository.JpaRepository;

public interface AddressRepository extends JpaRepository&lt;Address,Long&gt; {
}
public interface PersonRepository extends JpaRepository&lt;Person, Long&gt; {
}
</code></pre>
<p>Ch√∫ng ta s·∫Ω t·∫°o m·ªôt ch∆∞∆°ng tr√¨nh¬†<code>Spring Boot</code>¬†ƒë∆°n gi·∫£n b·∫±ng c√°ch s·ª≠ d·ª•ng¬†<code>CommandLineRunner</code>¬†ƒë·ªÉ ch·∫°y code ngay khi kh·ªüi ƒë·ªông.</p>
<pre><code>import javax.transaction.Transactional;

import org.springframework.boot.CommandLineRunner;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

import com.google.common.collect.Lists;

import lombok.RequiredArgsConstructor;

@SpringBootApplication
@RequiredArgsConstructor
public class ManyToManyExampleApplication implements CommandLineRunner {
    public static void main(String[] args) {
        SpringApplication.run(ManyToManyExampleApplication.class, args);
    }

    // S·ª≠ d·ª•ng @RequiredArgsConstructor v√† final ƒë·ªÉ thay cho @Autowired
    private final PersonRepository personRepository;
    private final AddressRepository addressRepository;

    @Override
    @Transactional
    public void run(String... args) throws Exception {
        // T·∫°o ra ƒë·ªëi t∆∞·ª£ng Address
        Address hanoi = Address.builder()
                                 .city(&quot;hanoi&quot;)
                                 .build();
        Address hatay = Address.builder()
                               .city(&quot;hatay&quot;)
                               .build();

        // T·∫°o ra ƒë·ªëi t∆∞·ª£ng person
        Person person1 = Person.builder()
                              .name(&quot;loda1&quot;)
                              .build();
        Person person2 = Person.builder()
                              .name(&quot;loda2&quot;)
                              .build();

        // set Persons v√†o address
        hanoi.setPersons(Lists.newArrayList(person1, person2));
        hatay.setPersons(Lists.newArrayList(person1));

        // L∆∞u v√†o db
        // Ch√∫ng ta ch·ªâ c·∫ßn l∆∞u address, v√¨ cascade = CascadeType.ALL n√™n n√≥ s·∫Ω l∆∞u lu√¥n Person.
        addressRepository.saveAndFlush(hanoi);
        addressRepository.saveAndFlush(hatay);

        // V√†o:http://localhost:8080/h2-console/ ƒë·ªÉ xem d·ªØ li·ªáu ƒë√£ insert

        Address queryResult = addressRepository.findById(1L).get();
        System.out.println(queryResult.getCity());
        System.out.println(queryResult.getPersons());

    }

}
// Output:
// hanoi
// [Person(id=2, name=loda1), Person(id=3, name=loda2)]
</code></pre>
<p>L∆∞u √Ω ·ªü ƒë√¢y ch√∫ng ta d√πng¬†<code>@Transactional</code>. ƒê√™ khi·∫øn to√†n b·ªô code ch·∫°y trong h√†m ƒë·ªÅu n·∫±m trong¬†<code>Session</code>¬†qu·∫£n l√Ω c·ªßa¬†<code>Hibernate</code>.</p>
<p>N·∫øu kh√¥ng c√≥¬†<code>@Transactional</code>¬†th√¨ vi·ªác b·∫°n g·ªçi¬†<code>address.getPersons()</code>¬†s·∫Ω b·ªã l·ªói, v√¨ n√≥ kh√¥ng th·ªÉ query xu·ªëng database ƒë·ªÉ l·∫•y d·ªØ li·ªáu person l√™n ƒë∆∞·ª£c. B·∫°n ghi nh·ªõ ch·ªó n√†y nh√©.</p>
<p>K·∫øt qu·∫£ trong database l√∫c n√†y:</p>
<p><code>Address</code></p>
<p>!image</p>
<p>!image</p>
<p>!image</p>
<p>B√†i vi·∫øt c·ªßa m√¨nh kh√¥ng c√≤n g√¨ ƒë·ªÉ ng·∫Øn h∆°n ƒë∆∞·ª£c n·ªØa :((( th·∫≠t h·ªï th·∫πn, m√¨nh c√≥ up code l√™n ƒë√¢y, b·∫°n ch·∫°y code c√°i l√† hi·ªÉu li·ªÅn √†:</p>
<p>Ch√∫c c√°c b·∫°n h·ªçc t·∫≠p th·∫≠t t·ªët! ahuu</p>
<ol>
<li><a href="spring-boot/">ü™Ç„ÄåJpa„ÄçH∆∞·ªõng d·∫´n s·ª≠ d·ª•ng @OneToOne</a></li>
<li><a href="spring-boot/">üöÖ„ÄåJpa„ÄçH∆∞·ªõng d·∫´n @OneToMany v√† @ManyToOne</a></li>
</ol>
<p>üíÅ¬†N·∫øu c√≥, to√†n b·ªô project / code m·∫´u ƒë∆∞·ª£c l∆∞u tr·ªØ t·∫°i <strong>GitHub</strong></p>
<p>üåü¬†ƒê√¢y l√† m·ªôt b√†i vi·∫øt trong¬†Series <strong>L√†m ch·ªß Spring Boot ‚Äì Zero to Hero</strong></p>
<h1 id="jpah∆∞·ªõng-d·∫´n-query-ph√¢n-trang-b·∫±ng-pageable-ph·∫ßn-1"><a class="header" href="#jpah∆∞·ªõng-d·∫´n-query-ph√¢n-trang-b·∫±ng-pageable-ph·∫ßn-1">„ÄåJpa„ÄçH∆∞·ªõng d·∫´n Query ph√¢n trang b·∫±ng Pageable (Ph·∫ßn 1)</a></h1>
<ul>
<li>Gi·ªõi thi·ªáu</li>
<li>C√†i ƒë·∫∑t</li>
<li>T·∫°o Model v√† Repository</li>
<li>Pageable</li>
<li>Sorting</li>
<li>Note</li>
<li>V√≠ d·ª• DEMO</li>
<li>K·∫øt</li>
</ul>
<h3 id="gi·ªõi-thi·ªáu-15"><a class="header" href="#gi·ªõi-thi·ªáu-15"><strong>Gi·ªõi thi·ªáu</strong></a></h3>
<p>ƒêi·ªÅu n√†y c√≥ l·∫Ω ai c≈©ng bi·∫øt, ƒë√≥ l√† ƒëa ph·∫ßn ch√∫ng ta kh√¥ng l·∫•y to√†n b·ªô d·ªØ li·ªáu t·ª´ Database l√™n, m√† ch·ªâ l·∫•y m·ªôt s·ªë l∆∞·ª£ng nh·∫•t ƒë·ªãnh, v√† chia n√≥ th√†nh nhi·ªÅu trang.</p>
<p>M√† c√°i blog n√†y c≈©ng l√† v√≠ d·ª• ƒëi·ªÉn h√¨nh:</p>
<p>!image</p>
<p>T√¥i chia d·ªØ li·ªáu th√†nh nhi·ªÅu trang kh√°c nhau, v·ªõi m·ªói trang th√¨ s·∫Ω l·∫•y ra c√°c b√†i vi·∫øt c·∫ßn thi·∫øt.</p>
<p>T·∫°o sao c·∫ßn d√πng ph√¢n trang? v√¨ n√≥ gi√∫p ti·∫øt ki·ªám bƒÉng th√¥ng v√† tƒÉng t·ªëc x·ª≠ l√Ω, ngo√†i ra n√≥ c≈©ng gi·∫£m thi·ªÉu vi·ªác hi·ªÉn th·ªã c√°c th√¥ng tin th·ª´a kh√¥ng c·∫ßn thi·∫øt.</p>
<p>Ch√∫ng ta s·∫Ω t√¨m hi·ªÉu c√°c l√†m vi·ªác n√†y b·∫±ng¬†<code>JPA Pageable</code></p>
<p>N·∫øu ch∆∞a bi·∫øt Spring JPA th√¨ xem t·∫°i ƒë√¢y:</p>
<ol>
<li>Hibernate l√† g√¨?</li>
<li>Spring JPA</li>
</ol>
<h3 id="c√†i-ƒë·∫∑t-5"><a class="header" href="#c√†i-ƒë·∫∑t-5"><strong>C√†i ƒë·∫∑t</strong></a></h3>
<p>Nh·ªõ th√™m¬†<code>spring-boot-starter-data-jpa</code>¬†v√†o dependencies c·ªßa b·∫°n.</p>
<p>Trong ph·∫ßn n√†y, t√¥i x√†i H2 database ƒë·ªÉ demo. (h2 l√† d·∫°ng memory database, n√≥ s·∫Ω l∆∞u trong ram v√† khi t·∫Øt ch∆∞∆°ng tr√¨nh n√≥ s·∫Ω m·∫•t s·∫°ch)</p>
<p><em>pom.xml</em></p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;packaging&gt;pom&lt;/packaging&gt;
    &lt;parent&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
        &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;
        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;
    &lt;/parent&gt;
    &lt;groupId&gt;me.loda.spring&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-learning&lt;/artifactId&gt;
    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
    &lt;name&gt;spring-boot-learning&lt;/name&gt;
    &lt;description&gt;Everything about Spring Boot&lt;/description&gt;

    &lt;properties&gt;
        &lt;java.version&gt;1.8&lt;/java.version&gt;
    &lt;/properties&gt;

    &lt;dependencies&gt;

        &lt;!--spring mvc, rest--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;!--spring jpa--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;!-- h2 database --&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;com.h2database&lt;/groupId&gt;
            &lt;artifactId&gt;h2&lt;/artifactId&gt;
            &lt;scope&gt;runtime&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;

    &lt;build&gt;
        &lt;plugins&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
        &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;

&lt;/project&gt;
</code></pre>
<p>C·∫•u tr√∫c th∆∞ m·ª•c:</p>
<p>!image</p>
<h3 id="t·∫°o-model-v√†-repository"><a class="header" href="#t·∫°o-model-v√†-repository"><strong>T·∫°o Model v√† Repository</strong></a></h3>
<p>T·∫°o ra class¬†<code>User</code>¬†v√† insert s·∫µn 100¬†<code>User</code>¬†v√†o Database.</p>
<p><em>User.java</em></p>
<pre><code>@Entity
@Data
@Builder
public class User {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    private String name;
}
</code></pre>
<p><em>UserRepository.java</em></p>
<pre><code>public interface UserRepository extends JpaRepository&lt;User, Long&gt; {

}
</code></pre>
<p><em>DatasourceConfig.java</em></p>
<pre><code>@Configuration
@RequiredArgsConstructor
public class DatasourceConfig {
    // inject b·ªüi RequiredArgsConstructor
    private final UserRepository userRepository;

    // Ch·ªâ √°p d·ª•ng trong demo :D
    @PostConstruct
    public void initData() {
        // Insert 100 User v√†o H2 Database sau khi
        // DatasourceConfig ƒë∆∞·ª£c kh·ªüi t·∫°o
        userRepository.saveAll(IntStream.range(0, 100)
                                        .mapToObj(i -&gt; User.builder()
                                                           .name(&quot;name-&quot; + i)
                                                           .build())
                                        .collect(Collectors.toList())
        );
    }
}
</code></pre>
<h3 id="pageable"><a class="header" href="#pageable"><strong>Pageable</strong></a></h3>
<p>Ukie, gi·∫£ s·ª≠ b√¢y gi·ªù ch√∫ng ta c√≥ 100 record trong DB r·ªìi.</p>
<p>ƒê·ªÉ c√≥ th·ªÉ query l·∫•y d·ªØ li·ªáu theo d·∫°ng Page,¬†<strong>Spring Data JPA</strong>¬†h·ªó tr·ª£ ch√∫ng ta b·∫±ng ƒë·ªëi t∆∞·ª£ng¬†<code>Pageable</code>.</p>
<p>H√†m¬†<code>findAll(Pageable pageable)</code>¬†l√† c√≥ s·∫µn v√† tr·∫£ v·ªÅ ƒë·ªëi t∆∞·ª£ng¬†<code>Page&lt;T&gt;</code></p>
<pre><code>// L·∫•y ra 5 user ƒë·∫ßu ti√™n
// PageRequest.of(0,5) t∆∞∆°ng ƒë∆∞∆°ng v·ªõi l·∫•y ra page ƒë·∫ßu ti√™n, v√† m·ªói page s·∫Ω c√≥ 5 ph·∫ßn t·ª≠
// PageRequest l√† m·ªôt ƒë·ªëi t∆∞·ª£ng k·∫ø th·ª´a Pageable
Page&lt;User&gt; page = userRepository.findAll(PageRequest.of(0, 5));
</code></pre>
<p>ƒê·ªÉ l·∫•y ra 5¬†<code>User</code>¬†ti·∫øp theo, ch√∫ng ta c√≥ th·ªÉ l√†m theo 2 c√°ch:</p>
<pre><code>// t·∫≠n d·ª•ng ƒë·ªëi t∆∞·ª£ng Page tr∆∞·ªõc ƒë√≥
page.nextPageable()

// S·ª≠ d·ª•ng PageRequest m·ªõi
PageRequest.of(1, 5)
</code></pre>
<h3 id="sorting"><a class="header" href="#sorting"><strong>Sorting</strong></a></h3>
<p>B·∫°n c√≥ th·ªÉ query d·∫°ng¬†<code>Page</code>¬†k√®m theo y√™u c·∫ßu sorting theo m·ªôt tr∆∞·ªùng n√†o ƒë√≥.</p>
<pre><code>Page&lt;User&gt; page = userRepository.findAll(PageRequest.of(1, 5, Sort.by(&quot;name&quot;).descending()));
</code></pre>
<h3 id="note"><a class="header" href="#note"><strong>Note</strong></a></h3>
<p>Ngo√†i ra, b·∫°n ho√†n to√†n c√≥ th·ªÉ t·ª± custom ƒë·ªÉ h√†m tr·∫£ v·ªÅ¬†<code>Page&lt;T&gt;</code>,¬†<code>Slice&lt;T&gt;</code>,¬†<code>List&lt;T&gt;</code>.</p>
<pre><code>public interface UserRepository extends JpaRepository&lt;User, Long&gt; {
    List&lt;User&gt; findAllByNameLike(String name, Pageable pageable);
}
</code></pre>
<h3 id="v√≠-d·ª•-demo"><a class="header" href="#v√≠-d·ª•-demo"><strong>V√≠ d·ª• DEMO</strong></a></h3>
<pre><code>@SpringBootApplication
@RequiredArgsConstructor
public class App {
    public static void main(String[] args) {
        SpringApplication.run(App.class, args);
    }

    private final UserRepository userRepository;

    @Bean
    CommandLineRunner run() {
        return args -&gt; {
            // L·∫•y ra 5 user ƒë·∫ßu ti√™n
            // PageRequest.of(0,5) t∆∞∆°ng ƒë∆∞∆°ng v·ªõi l·∫•y ra page ƒë·∫ßu ti√™n, v√† m·ªói page s·∫Ω c√≥ 5 ph·∫ßn t·ª≠
            Page&lt;User&gt; page = userRepository.findAll(PageRequest.of(0, 5));
            // In ra 5 user ƒë·∫ßu ti√™n
            System.out.println(&quot;In ra 5 user ƒë·∫ßu ti√™n: &quot;);
            page.forEach(System.out::println);
            // L·∫•y ra 5 user ti·∫øp theo
            page = userRepository.findAll(page.nextPageable());

            System.out.println(&quot;In ra 5 user ti·∫øp theo: &quot;);
            page.forEach(System.out::println);

            System.out.println(&quot;In ra s·ªë l∆∞·ª£ng user ·ªü page hi·ªán t·∫°i: &quot; + page.getSize());
            System.out.println(&quot;In ra t·ªïng s·ªë l∆∞·ª£ng user: &quot; + page.getTotalElements());
            System.out.println(&quot;In ra t·ªïng s·ªë page: &quot; + page.getTotalPages());

            // L·∫•y ra 5 user ·ªü page 1, sort theo t√™n
            page = userRepository.findAll(PageRequest.of(1, 5, Sort.by(&quot;name&quot;).descending()));
            System.out.println(&quot;In ra 5 user page 1, s·∫Øp x·∫øp theo name descending:&quot;);
            page.forEach(System.out::println);

            // Custom method
            List&lt;User&gt; list = userRepository.findAllByNameLike(&quot;name-%&quot;, PageRequest.of(0, 5));
            System.out.println(list);
        };
    }

}
</code></pre>
<p>Output:</p>
<pre><code>In ra 5 user ƒë·∫ßu ti√™n:
User(id=1, name=name-0)
User(id=2, name=name-1)
User(id=3, name=name-2)
User(id=4, name=name-3)
User(id=5, name=name-4)

In ra 5 user ti·∫øp theo:
User(id=6, name=name-5)
User(id=7, name=name-6)
User(id=8, name=name-7)
User(id=9, name=name-8)
User(id=10, name=name-9)

In ra s·ªë l∆∞·ª£ng user ·ªü page hi·ªán t·∫°i: 5
In ra t·ªïng s·ªë l∆∞·ª£ng user: 100
In ra t·ªïng s·ªë page: 20

In ra 5 user page 1, s·∫Øp x·∫øp theo name descending:
User(id=95, name=name-94)
User(id=94, name=name-93)
User(id=93, name=name-92)
User(id=92, name=name-91)
User(id=91, name=name-90)

Custom Method
[User(id=1, name=name-0), User(id=2, name=name-1), User(id=3, name=name-2), User(id=4, name=name-3), User(id=5, name=name-4)]
</code></pre>
<h3 id="k·∫øt-8"><a class="header" href="#k·∫øt-8"><strong>K·∫øt</strong></a></h3>
<p><code>Pageable</code>¬†l√† m·ªôt c√°ch ti·∫øp c·∫≠n r·∫•t ti·ªán l·ª£i, tuy nhi√™n b·∫°n c·∫ßn bi·∫øt r·∫±ng c√°c h√†m s·ª≠ d·ª•ng¬†<code>Pageable</code>¬†s·∫Ω th·ª±c hi·ªán query 2 l·∫ßn xu·ªëng DB. M·ªôt l·∫ßn l√† ƒë·ªÉ l·∫•y ra t·ªïng s·ªë l∆∞·ª£ng b·∫£n ghi, m·ªôt l·∫ßn l√† query l·∫•y ra page b·∫°n c·∫ßn. C√°i n√†y t√¥i s·∫Ω n√≥i kƒ© h∆°n ·ªü b√†i sau ƒë·ªÉ ch√∫ng ta t·ªëi ∆∞u hi·ªáu nƒÉng</p>
<p>üíÅ¬†N·∫øu c√≥, to√†n b·ªô project / code m·∫´u ƒë∆∞·ª£c l∆∞u tr·ªØ t·∫°i <strong>GitHub</strong></p>
<p>üåü¬†ƒê√¢y l√† m·ªôt b√†i vi·∫øt trong¬†Series <strong>L√†m ch·ªß Spring Boot ‚Äì Zero to Hero</strong></p>
<h1 id="jpah∆∞·ªõng-d·∫´n-s·ª≠-d·ª•ng-criteria-api-trong-hibernate"><a class="header" href="#jpah∆∞·ªõng-d·∫´n-s·ª≠-d·ª•ng-criteria-api-trong-hibernate">„ÄåJpa„ÄçH∆∞·ªõng d·∫´n s·ª≠ d·ª•ng Criteria API trong Hibernate</a></h1>
<p><code>JPA Criteria API</code>¬†cho ph√©p ta t·∫°o ra c√°c c√¢u truy v·∫•n b·∫±ng Java Object thay v√¨ vi·ªác khai b√°o tr·ª±c ti·∫øp trong¬†<code>String</code>¬†(JPQL) nh∆∞ th·∫ø n√†y:</p>
<p>T∆∞∆°ng ƒë∆∞∆°ng v·ªõi c√¢u l·ªánh tr√™n nh∆∞ng x√¢y d·ª±ng b·∫±ng¬†<code>Criteria API</code>¬†th√¨ s·∫Ω nh∆∞ n√†y:</p>
<pre><code>CriteriaBuilder cb = em.getCriteriaBuilder();

CriteriaQuery&lt;Office&gt; q = cb.createQuery(Office.class);
Root&lt;Office&gt; c = q.from(Office.class);
q.select(c);
</code></pre>
<p>Nh√¨n c√≥ v·∫ª d√†i d√≤ng v√† kh√≥ hi·ªÉu ph·∫£i kh√¥ng &gt;&quot;&lt; Yea, th√¨ ƒë√∫ng l√† nh∆∞ th·∫ø ƒë·∫•y ==!</p>
<p>N·∫øu n√≥ d√†i d√≤ng nh∆∞ v·∫≠y, t·∫°i sao ng∆∞·ªùi ta l·∫°i t·∫°o ra v√† s·ª≠ d·ª•ng n√≥ thay cho c√¢u l·ªánh¬†<code>JPQL</code>¬†b√¨nh th∆∞·ªùng? C√°c b·∫°n ƒë·ªçc ph·∫ßn ti·∫øp theo s·∫Ω r√µ nha.</p>
<h3 id="jpql-vs-criteria-api"><a class="header" href="#jpql-vs-criteria-api"><strong>JPQL vs Criteria API</strong></a></h3>
<p><code>JPQL</code>¬†c√≥ th·ªÉ l√†m ƒë·∫ßy ƒë·ªß ch·ª©c nƒÉng ch√∫ng ta c·∫ßn ch·ªâ v·ªõi 1 c√¢u l·ªánh, tuy nhi√™n, ch√≠nh v√¨ ƒëi·ªÅu ƒë√≥, ch√∫ng ta th∆∞·ªùng kh√≥ t√πy bi·∫øn hay s·ª≠ d·ª•ng l·∫°i n√≥, th·∫≠m ch√≠ kh√≥ ki·ªÉm so√°t l·ªói c·ªßa n√≥ h∆°n. V·ªõi m·ªôt c√¢u l·ªánh ph·ª©c t·∫°p, ch√∫ng ta kh√¥ng bi·∫øt ƒë∆∞·ª£c n√≥ c√≥ l·ªói hay kh√¥ng cho t·ªõi khi ch·∫°y ch∆∞∆°ng tr√¨nh hay debug (M√† ch∆∞∆°ng tr√¨nh ƒë√£ ch·∫°y ƒë∆∞·ª£c r·ªìi th√¨ v·∫´n c√≥ l·ªói ti·ªÅm ·∫©n :v ch·ªùi ƒë·∫≠u).</p>
<p><code>Criteria API</code>¬†th√¨ ng∆∞·ª£c l·∫°i, n√≥ cho ph√©p ch√∫ng ta x√¢y d·ª±ng c√¢u l·ªánh m·ªôt c√°ch¬†<code>Dynamic</code>, r·∫•t linh ƒë·ªông, v√† kh√¥ng b·ªã¬†<code>hardcode</code>¬†trong m·ªôt¬†<code>String</code>¬†v√† c√≥ th·ªÉ¬†<code>t√°i s·ª≠ d·ª•ng</code>¬†l·∫°i ƒë∆∞·ª£c. ƒê·∫∑c bi·ªát, v√¨ l√† Java Object, n√™n ch√∫ng ta s·∫Ω bi·∫øt m·ªôt c√¢u l·ªánh b·ªã l·ªói, kh√¥ng ƒë√∫ng quy t·∫Øc ngay khi bi√™n d·ªãch ch∆∞∆°ng tr√¨nh r·ªìi.</p>
<p>T√∫m v√°y l·∫°i, v·ªõi m·ªôt l·ªánh ƒë∆°n gi·∫£n nh∆∞ v√≠ d·ª• ƒë·∫ßu b√†i, th√¨ c√°c b·∫°n n√™n x√†i¬†<code>JPQL</code>, c√≤n v·ªõi nh·ªØng c√¢u l·ªánh ph·ª©c h·ª£p, thay ƒë·ªïi theo¬†<code>context</code>¬†c·ªßa ch∆∞∆°ng tr√¨nh th√¨ n√™n s·ª≠ d·ª•ng¬†<code>Criteria</code>.</p>
<h3 id="how-to-use"><a class="header" href="#how-to-use"><strong>How to use.</strong></a></h3>
<p>Quay tr·ªü l·∫°i v·ªõi v√≠ d·ª• ban ƒë·∫ßu nh√©:</p>
<pre><code>CriteriaBuilder builder = em.getCriteriaBuilder();

CriteriaQuery&lt;Office&gt; query =  builder.createQuery(Office.class);
Root&lt;Office&gt; root = query.from(Office.class);
query.select(root);
</code></pre>
<p>Ch√∫ng ta c√πng t√¨m hi·ªÉu t·ª´ng d√≤ng l·ªánh:</p>
<ul>
<li>
<p><code>CriteriaBuilder</code>: ƒê·ªÉ x√¢y d·ª±ng m·ªôt c√¢u query, c√°c b·∫°n s·∫Ω c·∫ßn t·ªõi¬†<code>interface``CriteriaBuilder</code>, m·ª•c ƒë√≠ch c·ªßa n√≥ l√† gi√∫p t·∫°o ra ƒë·ªëi t∆∞·ª£ng ch·ª©a c√¢u l·ªánh truy v·∫•n¬†<code>CriteriaQuery</code>¬†v√† cung c·∫•p c∆° s·ªë c√°c ph√©p bi·∫øn ƒë·ªïi, ph√©p logic, ƒëi·ªÅu ki·ªán cho c√¢u l·ªánh (and, or, not, avg, greater than,v.v...)</p>
</li>
<li>
<p><code>CriteriaQuery</code>: ƒê·ªëi t∆∞·ª£ng ch√≠nh c·ªßa ch√∫ng ta ƒë√¢y, n√≥ ƒë∆∞·ª£c t·∫°o ra b·ªüi¬†<code>builder.createQuery(Office.class)</code>. M·ª•c ƒë√≠ch l√† khai b√°o ƒë·ªëi t∆∞·ª£ng b·∫°n mu·ªën l·∫•y ra sau khi th·ª±c hi·ªán query. N√≥ t∆∞∆°ng ƒë∆∞∆°ng v·ªõi ƒëo·∫°n ngo·∫∑c ƒë∆°n ·ªü d∆∞·ªõi ƒë√¢y:</p>
</li>
<li>
<p><code>Root</code>: root l√† khai b√°o ƒë·ªëi t∆∞·ª£ng b·∫°n s·∫Ω s·ª≠ d·ª•ng trong query, t∆∞∆°ng ƒë∆∞∆°ng v·ªõi ƒë·ªëi t∆∞·ª£ng sau m·ªánh ƒë·ªÅ¬†<code>FROM</code></p>
</li>
</ul>
<p>Cu·ªëi c√πng, ƒë·ªÉ ho√†n thi·ªán c√¢u l·ªánh¬†<code>SELECT</code>¬†ch·ªâ ƒë∆°n gi·∫£n l√† l·∫•y ƒë·ªëi t∆∞·ª£ng¬†<code>CriteriaQuery</code>¬†ƒë√£ khai b√°o l√† s·ª≠ d·ª•ng function¬†<code>select</code>. ƒê·ªëi t∆∞·ª£ng truy·ªÅn v√†o ch√≠nh l√† c√°i¬†<code>root</code>¬†(hay c√°i ƒë·ªëi t∆∞·ª£ng c·ªßa¬†<code>FROM</code>) kia.</p>
<p>Tr√¥ng v·∫≠y ch·ª© c≈©ng d·ªÖ d·ªÖ r·ªìi ƒë·∫•y nh·ªâ :)))</p>
<p>Okie, c√≥ ƒëi·ªÅu n√†y kh√¥ng bi·∫øt ƒë√£ b·∫°n n√†o ƒë·ªÉ √Ω ch∆∞a üòÖ ch√∫ng ta m·ªõi t·∫°o ra c√¢u l·ªánh, ch·ª© ch∆∞a h·ªÅ g·ªçi n√≥ xu·ªëng¬†<code>Database</code>¬†üòÖ</p>
<p>ƒê·ªÉ s·ª≠ d·ª•ng c√¢u l·ªánh ƒë√£ t·∫°o, c√°c b·∫°n l√†m gi·ªëng v·ªõi¬†<code>JPQL</code>¬†ƒë√≥ l√† s·ª≠ d·ª•ng ƒë·ªëi t∆∞·ª£ng¬†<code>EntityManager</code></p>
<pre><code>TypedQuery&lt;Office&gt; query = em.createQuery(query);
List&lt;Office&gt; results = query.getResultList();
</code></pre>
<p>Oh right, th·∫ø l√† implement xong v√≠ d·ª• ƒë∆°n gi·∫£n ƒë√¢u ti√™n, kh√¥ng c√≥a g√¨ kh√≥ khƒÉn ü§î (ch√©m). B√¢y gi·ªù th·ª≠ advanced l√™n t√Ω nh·ªâ:</p>
<p>B√¢y gi·ªù m√¨nh mu·ªën l·∫•y t·∫•t c·∫£¬†<code>Office</code>¬†·ªü th√†nh ph·ªë¬†<code>hanoi</code>¬†th√¨ s·∫Ω l√†m nh∆∞ n√†o?</p>
<pre><code>SELECT o FROM Office o WHERE o.city = 'hanoi'
</code></pre>
<p>L√∫c n√†y query c·ªßa ch√∫ng ta s·∫Ω nh∆∞ th·∫ø n√†y:</p>
<pre><code>query.select(root).where(builder.equal(root.get(&quot;city&quot;), &quot;hanoi&quot;));
</code></pre>
<p>C√°c b·∫°n ƒë·ªÉ √Ω ƒëo·∫°n n√†y nh√©. M√¨nh s·ª≠¬†<code>builder</code>¬†ƒë·ªÉ l·∫•y h√†m¬†<code>equal</code>¬†(ph√©p to√°n logic, nh∆∞ m√¨nh ƒë·ªÅ c·∫≠p ·ªü tr√™n, chu·∫©n ch∆∞a n√†o). Ti·∫øp t·ªõi l√† c√°i¬†<code>root.get(&quot;city&quot;)</code>,¬†<code>root</code>¬†ch√≠nh l√† ƒë·ªëi t∆∞·ª£ng ch√∫ng ta ƒë√£ khai b√°o, b√¢y gi·ªù ch√∫ng ta s·∫Ω l·∫•y tr∆∞·ªùng¬†<code>city</code>¬†c·ªßa n√≥ v√† ki·ªÉm tra n√≥ v·ªõi¬†<code>hanoi</code>.</p>
<p>C√≥ th·ªÉ n√≥i¬†<code>Criteria API</code>¬†ƒë√£ hi·ªán th·ª±c h√≥a r·∫•t th√†nh c√¥ng c√¢u l·ªánh JPQL (hay HQL) th√†nh nh·ªØng api java c·ª±c k√¨ d·ªÖ d·ªçc, d·ªÖ hi·ªÉu v√† d·ªÖ s·ª≠ d·ª•ng. Khi ƒë√£ hi·ªÉu ƒë∆∞·ª£c c√¢u l·ªánh g·ªëc, b·∫°n c√≥ th·ªÉ d·ªÖ d√†ng chuy·ªÉn n√≥ th√†nh¬†<code>Criteria</code>¬†v√† ng∆∞·ª£c l·∫°i.</p>
<p>Trong b√†i vi·∫øt t·ªõi ·ªü ch∆∞∆°ng¬†<code>Spring</code>, m√¨nh s·∫Ω h∆∞·ªõng d·∫´n c√°c b·∫°n s·ª≠ d·ª•ng t·ªõi¬†<code>Specifications</code>¬†k·∫øt h·ª£p¬†<code>Criteria API</code>¬†ƒë·ªÉ t·∫°o ra m·ªôt v·ª• n·ªï khi giao ti·∫øp v·ªõi db b·∫±ng¬†<code>Java</code>¬†(v√£i c·∫£ ch√©m üòÇ)</p>
<p>Ch√∫c c√°c b·∫°n s·ª≠ d·ª•ng th√†nh c√¥ng¬†<code>Criteria API</code>¬†v√† ƒë·ª´ng qu√™n like or chia s·∫ª b√†i vi·∫øt cho b·∫°n b√® hihi, c·∫£m ∆°n c√°c b·∫°n ƒë√£ theo d√µi!</p>
<p>üíÅ¬†N·∫øu c√≥, to√†n b·ªô project / code m·∫´u ƒë∆∞·ª£c l∆∞u tr·ªØ t·∫°i <strong>GitHub</strong></p>
<p>üåü¬†ƒê√¢y l√† m·ªôt b√†i vi·∫øt trong¬†Series <strong>L√†m ch·ªß Spring Boot ‚Äì Zero to Hero</strong></p>
<h1 id="jpah∆∞·ªõng-d·∫´n-s·ª≠-d·ª•ng-criteria-api-trong-hibernate-ph·∫ßn-2"><a class="header" href="#jpah∆∞·ªõng-d·∫´n-s·ª≠-d·ª•ng-criteria-api-trong-hibernate-ph·∫ßn-2">„ÄåJpa„ÄçH∆∞·ªõng d·∫´n s·ª≠ d·ª•ng Criteria API trong Hibernate (Ph·∫ßn 2)</a></h1>
<ul>
<li>Gi·ªõi thi·ªáu</li>
<li>C√†i ƒë·∫∑t</li>
<li>JPA Meta Model</li>
<li>Predicate</li>
</ul>
<h3 id="gi·ªõi-thi·ªáu-16"><a class="header" href="#gi·ªõi-thi·ªáu-16"><strong>Gi·ªõi thi·ªáu</strong></a></h3>
<p>Trong b√†i vi·∫øt tr∆∞·ªõc, t√¥i ƒë√£ gi·ªõi thi·ªáu v·ªõi c√°c b·∫°n v·ªÅ¬†<strong>Criteria API</strong>¬†c·ªßa¬†<strong>Hibernate</strong>.</p>
<ol>
<li>Hibernate l√† g√¨?</li>
<li>H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng Criteria API trong Hibernate</li>
</ol>
<p>Trong ph·∫ßn n√†y ch√∫ng ta s·∫Ω t√¨m hi·ªÉu m·ªôt s·ªë c√°c ph·∫ßn c·∫ßn thi·∫øt kh√°c trong¬†<strong>Criteria API</strong>, th·ª© gi√∫p cho b·∫°n x√¢y d·ª±ng query m·ªôt c√°ch ƒë∆°n gi·∫£n h∆°n.</p>
<p>Trong b√†i c√≥ s·ª≠ d·ª•ng:</p>
<ol>
<li>Lombok</li>
</ol>
<h3 id="c√†i-ƒë·∫∑t-6"><a class="header" href="#c√†i-ƒë·∫∑t-6"><strong>C√†i ƒë·∫∑t</strong></a></h3>
<p>Nh·ªõ th√™m¬†<code>spring-boot-starter-data-jpa</code>¬†v√†o dependencies c·ªßa b·∫°n.</p>
<p>Trong ph·∫ßn n√†y, t√¥i x√†i¬†<em>H2 database</em>¬†ƒë·ªÉ demo. (H2 l√† d·∫°ng memory database, n√≥ s·∫Ω l∆∞u trong ram v√† khi t·∫Øt ch∆∞∆°ng tr√¨nh n√≥ s·∫Ω m·∫•t s·∫°ch)</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;projectxmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;&lt;parent&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;&lt;version&gt;2.0.5.RELEASE&lt;/version&gt;&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;
	&lt;/parent&gt;&lt;groupId&gt;me.loda.spring&lt;/groupId&gt;&lt;artifactId&gt;example-independent-maven-spring-project&lt;/artifactId&gt;&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;&lt;name&gt;example-independent-maven-spring-project&lt;/name&gt;&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;&lt;properties&gt;&lt;java.version&gt;1.8&lt;/java.version&gt;&lt;/properties&gt;&lt;dependencies&gt;&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;&lt;artifactId&gt;lombok&lt;/artifactId&gt;&lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;&lt;scope&gt;test&lt;/scope&gt;&lt;!--			&lt;exclusions&gt;--&gt;
			&lt;!--				&lt;exclusion&gt;--&gt;
			&lt;!--					&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;--&gt;
			&lt;!--					&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;--&gt;
			&lt;!--				&lt;/exclusion&gt;--&gt;
			&lt;!--			&lt;/exclusions&gt;--&gt;
		&lt;/dependency&gt;&lt;!--spring jpa--&gt;
		&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;&lt;/dependency&gt;&lt;!--in memory database--&gt;
		&lt;dependency&gt;&lt;groupId&gt;com.h2database&lt;/groupId&gt;&lt;artifactId&gt;h2&lt;/artifactId&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;&lt;!--https://mvnrepository.com/artifact/org.hibernate/hibernate-jpamodelgen --&gt;
		&lt;dependency&gt;&lt;groupId&gt;org.hibernate&lt;/groupId&gt;&lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;&lt;version&gt;5.4.9.Final&lt;/version&gt;&lt;scope&gt;provided&lt;/scope&gt;&lt;/dependency&gt;&lt;/dependencies&gt;&lt;build&gt;&lt;plugins&gt;&lt;plugin&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;&lt;/plugin&gt;&lt;/plugins&gt;&lt;/build&gt;&lt;/project&gt;
</code></pre>
<p>ƒê·∫∑c bi·ªát, ch√∫ √Ω¬†<code>hibernate-jpamodelgen</code>, t√¥i s·∫Ω gi·∫£i th√≠ch t√°c d·ª•ng c·ªßa n√≥ tr∆∞·ªõc.</p>
<h3 id="jpa-meta-model"><a class="header" href="#jpa-meta-model"><strong>JPA Meta Model</strong></a></h3>
<p>trong¬†b√†i tr∆∞·ªõc¬†m·ªçi ng∆∞·ªùi c≈©ng bi·∫øt c√°ch c·∫•u tr√∫c c·ªßa m·ªôt c√¢u query trong Criteria API:</p>
<pre><code>SELECT o FROM Office o WHERE o.city = 'hanoi'
</code></pre>
<p>L√∫c n√†y query c·ªßa ch√∫ng ta s·∫Ω nh∆∞ th·∫ø n√†y:</p>
<pre><code>query.select(root).where(builder.equal(root.get(&quot;city&quot;), &quot;hanoi&quot;));
</code></pre>
<p>ƒê·ªÉ √Ω th√¨ c√≥ th·ªÉ th·∫•y, khi mu·ªën l·∫•y column¬†<code>city</code>¬†ƒë·ªÉ ki·ªÉm tra, ch√∫ng ta ƒëang hardcode b·∫±ng¬†<code>String</code>.</p>
<p>C√≥ m·ªôt s·ªë b·∫•t l·ª£i khi l√†m v·∫≠y, th·ª© nh·∫•t l√† b·∫°n ph·∫£i t·ª± nh·ªõ t√™n c√°c column m·ªói khi g·ªçi, th·ª© hai l√† b·∫°n s·∫Ω ph·∫£i t√¨m ki·∫øm t·∫•t c·∫£ c√°c ch·ªó s·ª≠ d·ª•ng m·ªói s·ª≠a ƒë·ªïi t√™n c·ªôt.</p>
<p>C√°ch gi·∫£i quy·∫øt hay nh·∫•t l√† tham chi·∫øu t√™n c√°c column c·ªßa¬†<strong>Table</strong>¬†v√†o m·ªôt¬†<strong>Object</strong>¬†ƒë·ªÉ ch√∫ng ta c√≥ th·ªÉ g·ªçi t·ªõi m·ªói khi s·ª≠ d·ª•ng. Khi c√≥ s·ª± thay ƒë·ªïi, ch·ªâ c·∫ßn thay ƒë·ªïi trong ƒë·ªëi t∆∞·ª£ng n√†y l√† xong. ƒê·ªëi t∆∞·ª£ng bi·ªÉu di·ªÖn n√†y ƒë∆∞·ª£c g·ªçi l√†¬†<strong>Meta Model</strong>.</p>
<p>V√† r·∫•t may l√† Hibernate h·ªó tr·ª£ ch√∫ng ta t·ª± ƒë·ªông generate ra c√°c Meta Model t·ª´ c√°c class¬†<code>@Entity</code></p>
<p>V√≠ d·ª•:</p>
<p>Ch√∫ng ta c√≥ Class Entity¬†<code>User</code></p>
<p><em>User.java</em></p>
<pre><code>@Entity
@Data
@Builder
public class User {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    private UserType type;
    private String name;

    public enum UserType {
        NORMAL, VIP;
    }
}
</code></pre>
<p>Th√¨ class Meta Model c·ªßa¬†<code>User</code>¬†s·∫Ω t√™n l√†¬†<code>User_</code>¬†v√† c√≥ c·∫•u tr√∫c nh∆∞ sau:</p>
<pre><code>@Generated(value = &quot;org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor&quot;)
@StaticMetamodel(User.class)
public abstract class User_ {

	public static volatile SingularAttribute&lt;User, String&gt; name;
	public static volatile SingularAttribute&lt;User, Long&gt; id;
	public static volatile SingularAttribute&lt;User, UserType&gt; type;

	public static final String NAME = &quot;name&quot;;
	public static final String ID = &quot;id&quot;;
	public static final String TYPE = &quot;type&quot;;

}
</code></pre>
<p>ƒê·ªÉ c√≥ th·ªÉ Generate ra c√°c class Meta Model, b·∫°n s·∫Ω c·∫ßn th√™m dependency¬†<code>hibernate-jpamodelgen</code>¬†v√†o project c·ªßa m√¨nh.</p>
<pre><code>&lt;dependency&gt;&lt;groupId&gt;org.hibernate&lt;/groupId&gt;&lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;&lt;version&gt;CURRENT-VERSION&lt;/version&gt;&lt;/dependency&gt;
</code></pre>
<p>Khi build jar n√≥ s·∫Ω t·ª± ƒë·ªông generate th√™m cho b·∫°n</p>
<p>ƒê·ªÉ c√≥ th·ªÉ s·ª≠ d·ª•ng trong IDE, b·∫°n c√≥ th·ªÉ Config Annotation Processor (Gi·ªëng v·ªõi Lombok), ƒë·ªÉ IDE hi·ªÉu v√† t·ª± ƒë·ªông generate ra gi√∫p b·∫°n l·∫≠p tr√¨nh d·ªÖ h∆°n.</p>
<p>!image</p>
<h3 id="predicate"><a class="header" href="#predicate"><strong>Predicate</strong></a></h3>
<p>ƒê·ªÉ c√≥ th·ªÉ x√¢y d·ª±ng c√¢u truy v·∫•n m·ªôt c√°ch tr·ªçn v·∫πn, b·∫°n c·∫ßn bi·∫øt¬†<code>Predicate</code>.</p>
<p>T·∫°m hi·ªÉu m·ªôt c√°ch ƒë∆°n gi·∫£n th√¨¬†<code>Predicate</code>¬†l√† m·ªôt m·ªánh ƒë·ªÅ ƒëi·ªÅu ki·ªán trong c√¢u l·ªánh truy v·∫•n.</p>
<p>Nh∆∞ v√≠ d·ª• ·ªü d∆∞·ªõi ƒë√¢y:</p>
<pre><code>@Repository
public class CustomUserRepository {

    @PersistenceContext
    private EntityManager em;

    public User getUserById(Long id) {
        CriteriaBuilder builder = em.getCriteriaBuilder();
        CriteriaQuery&lt;User&gt; query = builder.createQuery(User.class);
        Root&lt;User&gt; root = query.from(User.class);

        Predicate condition = builder.equal(root.get(User_.ID), id);

        query.select(root).where(condition);

        return em.createQuery(query).getSingleResult();
    }
}
</code></pre>
<p><code>Predicate</code>¬†c√≥ th·ªÉ li√™n k·∫øt v·ªõi nhau b·∫±ng c√°c ph√©p quan h·ªá¬†<code>and</code>,¬†<code>or</code>,¬†<code>not</code>, v.v..</p>
<p>V√≠ d·ª•:</p>
<pre><code>    public Collection&lt;User&gt; getUserByComplexConditions(String name, UserType type) {
        CriteriaBuilder builder = em.getCriteriaBuilder();
        CriteriaQuery&lt;User&gt; query = builder.createQuery(User.class);
        Root&lt;User&gt; root = query.from(User.class);

        Predicate hasNameLike = builder.like(root.get(User_.NAME), name);
        Predicate hasType = builder.equal(root.get(User_.TYPE), type);

        Predicate condition = builder.and(hasNameLike, hasType);

        query.select(root).where(condition);
        return em.createQuery(query).getResultList();
    }
</code></pre>
<p>T·ªõi ƒë√¢y b·∫°n ƒë√£ n·∫Øm ƒë∆∞·ª£c c∆° b·∫£n¬†<strong>Criteria API</strong>¬†v√† ƒë√£ c√≥ th·ªÉ t·ª± s·ª≠ d·ª•ng n√≥ trong ƒëa s·ªë c√°c c√¢u l·ªánh ƒë∆°n gi·∫£n.</p>
<p>Trong b√†i ti·∫øp theo, t√¥i s·∫Ω h∆∞·ªõng d·∫´n n·ªët c√°c join b·∫£ng n·ªØa th√¥i l√† b·∫°n s·∫Ω mas con √¥ng ter.</p>
<p>üíÅ¬†N·∫øu c√≥, to√†n b·ªô project / code m·∫´u ƒë∆∞·ª£c l∆∞u tr·ªØ t·∫°i <strong>GitHub</strong></p>
<p>üåü¬†ƒê√¢y l√† m·ªôt b√†i vi·∫øt trong¬†Series <strong>L√†m ch·ªß Spring Boot ‚Äì Zero to Hero</strong></p>
<h1 id="jpah∆∞·ªõng-d·∫´n-t·ª±-t·∫°o-validator-ƒë·ªÉ-ki·ªÉm-tra-model--entity"><a class="header" href="#jpah∆∞·ªõng-d·∫´n-t·ª±-t·∫°o-validator-ƒë·ªÉ-ki·ªÉm-tra-model--entity">„ÄåJpa„ÄçH∆∞·ªõng d·∫´n t·ª± t·∫°o Validator ƒë·ªÉ ki·ªÉm tra Model &amp; Entity</a></h1>
<ul>
<li>Gi·ªõi thi·ªáu</li>
<li>C√†i ƒë·∫∑t</li>
<li>Prepare</li>
<li>T·∫°o Annotation</li>
<li>T·∫°o Validator</li>
<li>Ch·∫°y th·ª≠</li>
<li>K·∫øt</li>
</ul>
<h3 id="gi·ªõi-thi·ªáu-17"><a class="header" href="#gi·ªõi-thi·ªáu-17"><strong>Gi·ªõi thi·ªáu</strong></a></h3>
<p>B·∫£n th√¢n Hibernate v√† Java ƒë√£ cung c·∫•p cho ch√∫ng ta r·∫•t nhi·ªÅu c√°c Annotation ƒë·ªÉ validate d·ªØ li·ªáu c·ªßa model.</p>
<p>Ch·∫≥ng h·∫°n nh∆∞:¬†<code>@@NotBlank</code>,¬†<code>@Size</code>,¬†<code>@Email</code>, v.v..</p>
<p>Tuy nhi√™n, tr√™n th·ª±c t·∫ø, ch√∫ng ta c√≥ r·∫•t nhi·ªÅu c√°c ƒëi·ªÅu ki·ªán ƒë∆∞·ª£c ƒë·∫∑t ra, tu·ª≥ thu·ªôc v√†o business v√† m√¥ h√¨nh d·ª± √°n.</p>
<p>V√≠ d·ª• nh∆∞ trong d·ª± √°n c·ªßa t√¥i, t√¥i mu·ªën t·∫•t c·∫£¬†<code>User</code>¬†ƒë·ªÅu ph·∫£i c√≥ m·ªôt thu·ªôc t√≠nh l√†¬†<code>lodaId</code>.</p>
<p>M·ªôt¬†<code>lodaId</code>¬†h·ª£p l·ªá l√† chu·ªói String c√≥ ti·ªÅn t·ªë:¬†<code>loda://xxxx</code></p>
<p>L√∫c n√†y, l√†m sao ƒë·ªÉ t√¥i ch·∫Øc ch·∫Øn ƒë∆∞·ª£c r·∫±ng m·ªçi¬†<code>User</code>¬†tr∆∞·ªõc khi t·∫°o ƒë·ªÅu ph·∫£i c√≥¬†<code>lodaId</code>¬†h·ª£p l·ªá?</p>
<p>R√µ r√†ng t√¥i ph·∫£i t·ª± t·∫°o ra m·ªôt b·ªô ki·ªÉm tra cho ri√™ng m√¨nh ƒë·ªÉ ki·ªÉm so√°t t√≠nh h·ª£p l·ªá c·ªßa¬†<code>User</code>.</p>
<p>R·∫•t may,¬†<code>hibernate-validator</code>¬†s·∫Ω gi√∫p t√¥i l√†m ƒëi·ªÅu ƒë√≥.</p>
<p>Trong b√†i c√≥ s·ª≠ d·ª•ng c√°c ki·∫øn th·ª©c:</p>
<ol>
<li>Spring Boot</li>
<li>jpa</li>
<li>lombok</li>
</ol>
<h3 id="c√†i-ƒë·∫∑t-7"><a class="header" href="#c√†i-ƒë·∫∑t-7"><strong>C√†i ƒë·∫∑t</strong></a></h3>
<p><em>pom.xml</em></p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;projectxmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;&lt;parent&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;&lt;version&gt;2.0.5.RELEASE&lt;/version&gt;&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;
	&lt;/parent&gt;&lt;groupId&gt;me.loda.spring&lt;/groupId&gt;&lt;artifactId&gt;example-independent-maven-spring-project&lt;/artifactId&gt;&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;&lt;name&gt;example-independent-maven-spring-project&lt;/name&gt;&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;&lt;properties&gt;&lt;java.version&gt;1.8&lt;/java.version&gt;&lt;/properties&gt;&lt;dependencies&gt;&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;&lt;artifactId&gt;lombok&lt;/artifactId&gt;&lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;&lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;&lt;!--https://mvnrepository.com/artifact/org.hibernate/hibernate-validator --&gt;
        &lt;dependency&gt;&lt;groupId&gt;org.hibernate&lt;/groupId&gt;&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;&lt;version&gt;6.1.0.Final&lt;/version&gt;&lt;/dependency&gt;&lt;/dependencies&gt;&lt;build&gt;&lt;plugins&gt;&lt;plugin&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;&lt;/plugin&gt;&lt;/plugins&gt;&lt;/build&gt;&lt;/project&gt;
</code></pre>
<h3 id="prepare-3"><a class="header" href="#prepare-3"><strong>Prepare</strong></a></h3>
<p>Tr∆∞·ªõc khi t·∫°o ra m·ªôt b·ªô Validator cho ri√™ng m√¨nh, ch√∫ng ta t·∫°o ra c√°c th√†nh ph·∫ßn ch√≠nh.</p>
<p>T·∫°o ra model¬†<code>User</code></p>
<p><em>User.java</em></p>
<pre><code>@Data
public class User {
    private String lodaId;
}
</code></pre>
<p>T·∫°o Controller giao ti·∫øp v·ªõi client.</p>
<p><em>UserController.java</em></p>
<pre><code>@RestController
@RequestMapping(&quot;api/v1/users&quot;)
public class UserController {

    /*
        ƒê√°nh d·∫•u object v·ªõi @Valid ƒë·ªÉ validator t·ª± ƒë·ªông ki·ªÉm tra object ƒë√≥ c√≥ h·ª£p l·ªá hay kh√¥ng
     */
    @PostMapping
    public Object createUser(@Valid @RequestBody User user) {
        return user;
    }

}
</code></pre>
<h3 id="t·∫°o-annotation"><a class="header" href="#t·∫°o-annotation"><strong>T·∫°o Annotation</strong></a></h3>
<p>ƒê·ªÉ t·∫°o ra m·ªôt validator v·ªõi Hibernate-Validator, ch√∫ng ta c·∫ßn khai b√°o m·ªôt annotation m·ªõi.</p>
<p>·ªû ƒë√¢y, t√¥i t·∫°o ra m·ªôt Annotation c·ªßa ch√≠nh m√¨nh nh∆∞ sau:</p>
<pre><code>/**
 * Khai b√°o m·ªôt custom annotation
 */
@Documented
@Constraint(validatedBy = LodaIdValidator.class)
@Target({ElementType.METHOD, ElementType.FIELD})
@Retention(RetentionPolicy.RUNTIME)
public @interface LodaId {
    // tr∆∞·ªùng message l√† b·∫Øt bu·ªôc, khai b√°o n·ªôi dung s·∫Ω tr·∫£ v·ªÅ khi field k h·ª£p l·ªá
    String message() default &quot;LodaId must start with loda://&quot;;
    // C√°i n√†y l√† b·∫Øt bu·ªôc ph·∫£i c√≥ ƒë·ªÉ Hibernate Validator c√≥ th·ªÉ ho·∫°t ƒë·ªông
    Class&lt;?&gt;[] groups() default {};
    // C√°i n√†y l√† b·∫Øt bu·ªôc ph·∫£i c√≥ ƒë·ªÉ Hibernate Validator c√≥ th·ªÉ ho·∫°t ƒë·ªông
    Class&lt;? extends Payload&gt;[] payload() default {};
}
</code></pre>
<p>V·∫≠y l√† xong, gi·ªù ch·ªâ c·∫ßn g·∫Øn¬†<code>@LodaId</code>¬†l√™n tr∆∞·ªùng n√†o c·∫ßn ki·ªÉm tra t√≠nh h·ª£p l·ªá.</p>
<pre><code>@Data
public class User {
    // ƒê√°nh d·∫•u field lodaId s·∫Ω c·∫ßn validate b·ªüi @LodaId
    @LodaId
    private String lodaId;
}
</code></pre>
<h3 id="t·∫°o-validator"><a class="header" href="#t·∫°o-validator"><strong>T·∫°o Validator</strong></a></h3>
<p>Sau khi ƒë√£ t·∫°o ra¬†<code>@LodaId</code>, ch√∫ng ta c·∫ßn t·∫°o ra b·ªô ki·ªÉm tra cho Annotation n√†y.</p>
<p>R·∫•t ƒë∆°n gi·∫£n, b·∫°n ch·ªâ c·∫ßn k·∫ø th·ª´a l·ªõp¬†<code>ConstraintValidator</code>¬†c·ªßa Hibernate Validator</p>
<pre><code>import javax.validation.ConstraintValidator;
import javax.validation.ConstraintValidatorContext;

public class LodaIdValidator implements ConstraintValidator&lt;LodaId, String&gt; {
    private static final String LODA_PREFIX = &quot;loda://&quot;;

    /**
     * Ki·ªÉm tra t√≠nh h·ª£p l·ªá c·ªßa tr∆∞·ªùng ƒë∆∞·ª£c ƒë√°nh d·∫•u b·ªüi @LodaId
     * @param s
     * @param constraintValidatorContext
     * @return
     */
    @Override
    public boolean isValid(String s, ConstraintValidatorContext constraintValidatorContext) {
        if (s == null || s.isEmpty()) return false;

        return s.startsWith(LODA_PREFIX);
    }
}
</code></pre>
<h3 id="ch·∫°y-th·ª≠-5"><a class="header" href="#ch·∫°y-th·ª≠-5"><strong>Ch·∫°y th·ª≠</strong></a></h3>
<p>Request m·ªôt¬†<code>User</code>¬†h·ª£p l·ªá:</p>
<pre><code>{
	&quot;lodaId&quot;: &quot;loda://user_1&quot;
}
</code></pre>
<p>tr·∫£ v·ªÅ th√†nh c√¥ng¬†<code>200</code>.</p>
<p>!image</p>
<p>Request m·ªôt¬†<code>User</code>¬†kh√¥ng h·ª£p l·ªá:</p>
<pre><code>{
	&quot;lodaId&quot;: &quot;Laula://user_1&quot;
}
</code></pre>
<p>Tr·∫£ v·ªÅ th·∫•t b·∫°i, Bad Request¬†<code>400</code>.</p>
<p>!image</p>
<pre><code>{
    &quot;timestamp&quot;: &quot;2019-12-19T10:26:14.554+0000&quot;,
    &quot;status&quot;: 400,
    &quot;error&quot;: &quot;Bad Request&quot;,
    &quot;errors&quot;: [
        {
            &quot;codes&quot;: [
                &quot;LodaId.user.lodaId&quot;,
                &quot;LodaId.lodaId&quot;,
                &quot;LodaId.java.lang.String&quot;,
                &quot;LodaId&quot;
            ],
            &quot;arguments&quot;: [
                {
                    &quot;codes&quot;: [
                        &quot;user.lodaId&quot;,
                        &quot;lodaId&quot;
                    ],
                    &quot;arguments&quot;: null,
                    &quot;defaultMessage&quot;: &quot;lodaId&quot;,
                    &quot;code&quot;: &quot;lodaId&quot;
                }
            ],
            &quot;defaultMessage&quot;: &quot;LodaId must start with loda://&quot;,
            &quot;objectName&quot;: &quot;user&quot;,
            &quot;field&quot;: &quot;lodaId&quot;,
            &quot;rejectedValue&quot;: &quot;Laula://user_1&quot;,
            &quot;bindingFailure&quot;: false,
            &quot;code&quot;: &quot;LodaId&quot;
        }
    ],
    &quot;message&quot;: &quot;Validation failed for object='user'. Error count: 1&quot;,
    &quot;path&quot;: &quot;/api/v1/users&quot;
}
</code></pre>
<h3 id="k·∫øt-9"><a class="header" href="#k·∫øt-9"><strong>K·∫øt</strong></a></h3>
<p>R·∫•t ƒë∆°n gi·∫£n ƒë·ªÉ c√≥ th·ªÉ t·ª± t·∫°o ra cho m√¨nh c√°c Validator v·ªõi¬†<code>Hibernate-Validator</code>. N√≥ s·∫Ω gi√∫p b·∫°n ti·∫øt ki·ªám r·∫•t nhi·ªÅu th·ªùi gian.</p>
<p>üíÅ¬†N·∫øu c√≥, to√†n b·ªô project / code m·∫´u ƒë∆∞·ª£c l∆∞u tr·ªØ t·∫°i <strong>GitHub</strong></p>
<p>üåü¬†ƒê√¢y l√† m·ªôt b√†i vi·∫øt trong¬†Series <strong>L√†m ch·ªß Spring Boot ‚Äì Zero to Hero</strong></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ss-h∆∞·ªõng-d·∫´n-spring-security-c∆°-b·∫£n-d·ªÖ-hi·ªÉu"><a class="header" href="#ss-h∆∞·ªõng-d·∫´n-spring-security-c∆°-b·∫£n-d·ªÖ-hi·ªÉu">[SS] H∆∞·ªõng d·∫´n Spring Security c∆° b·∫£n, d·ªÖ hi·ªÉu</a></h1>
<ul>
<li>Gi·ªõi thi·ªáu</li>
<li>C√†i ƒë·∫∑t</li>
<li>Implement</li>
<li>K√≠ch ho·∫°t t√≠nh nƒÉng WebSecurity</li>
<li>T·∫°o t√†i kho·∫£n user</li>
<li>Ph√¢n quy·ªÅn truy c·∫≠p</li>
<li>Th√™m controller.</li>
<li>Ch·∫°y th·ª≠</li>
<li>K·∫øt</li>
</ul>
<h3 id="gi·ªõi-thi·ªáu-18"><a class="header" href="#gi·ªõi-thi·ªáu-18"><strong>Gi·ªõi thi·ªáu</strong></a></h3>
<p><strong>Spring Security</strong>¬†l√† m·ªôt trong nh·ªØng core feature quan tr·ªçng c·ªßa Spring Framework, n√≥ gi√∫p ch√∫ng ta ph√¢n quy·ªÅn v√† x√°c th·ª±c ng∆∞·ªùi d√πng tr∆∞·ªõc khi cho ph√©p h·ªç truy c·∫≠p v√†o c√°c t√†i nguy√™n c·ªßa ch√∫ng ta.</p>
<p>Trong b√†i h∆∞·ªõng d·∫´n n√†y, t√¥i s·∫Ω h∆∞·ªõng d·∫´n c√°c b·∫°n c√°ch implement¬†<strong>Spring Security</strong>¬†m·ªôt c√°ch c∆° b·∫£n nh·∫•t, ƒë∆°n gi·∫£n nh·∫•t, ch√∫ng ta s·∫Ω n√¢ng cao d·∫ßn ·ªü c√°c b√†i sau.</p>
<h3 id="c√†i-ƒë·∫∑t-8"><a class="header" href="#c√†i-ƒë·∫∑t-8"><strong>C√†i ƒë·∫∑t</strong></a></h3>
<p>Ch√∫ng ta c√†i th∆∞ vi·ªán qua maven, c√°c dependencies bao g·ªìm:</p>
<p><em>pom.xml</em></p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

    &lt;groupId&gt;org.springframework&lt;/groupId&gt;
    &lt;artifactId&gt;spring-security-example&lt;/artifactId&gt;
    &lt;version&gt;0.1.0&lt;/version&gt;

    &lt;parent&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
        &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;
    &lt;/parent&gt;

    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;
            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;

    &lt;properties&gt;
        &lt;java.version&gt;1.8&lt;/java.version&gt;
    &lt;/properties&gt;

    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;

&lt;/project&gt;
</code></pre>
<p>Th∆∞ m·ª•c code g·ªìm c√≥:</p>
<p>!image</p>
<h3 id="implement-1"><a class="header" href="#implement-1"><strong>Implement</strong></a></h3>
<h3 id="k√≠ch-ho·∫°t-t√≠nh-nƒÉng-websecurity"><a class="header" href="#k√≠ch-ho·∫°t-t√≠nh-nƒÉng-websecurity"><strong>K√≠ch ho·∫°t t√≠nh nƒÉng WebSecurity</strong></a></h3>
<p>Tr∆∞·ªõc ti√™n, ƒë·ªÉ k√≠ch ho·∫°t t√≠nh nƒÉng Spring Security tr√™n ·ª©ng d·ª•ng Web c·ªßa m√¨nh, c√°c b·∫°n c·∫ßn g·∫Øn annotation¬†<code>@EnableWebSecurity</code>¬†tr√™n m·ªôt bean b·∫•t k·ª≥ c·ªßa m√¨nh.</p>
<p>·ªû ƒë√¢y, t√¥i t·∫°o ra m·ªôt class¬†<code>WebSecurityConfig</code>¬†ƒë·ªÉ l√† n∆°i t·∫≠p trung c√°c x·ª≠ l√Ω c√°c th√¥ng tin li√™n quan t·ªõi security.</p>
<pre><code>@EnableWebSecurity
public class WebSecurityConfig {
    // ...
}
</code></pre>
<h3 id="t·∫°o-t√†i-kho·∫£n-user"><a class="header" href="#t·∫°o-t√†i-kho·∫£n-user"><strong>T·∫°o t√†i kho·∫£n user</strong></a></h3>
<p>Th√¥ng th∆∞·ªùng, t√†i kho·∫£n user c·ªßa ng∆∞·ªùi d√πng s·∫Ω ƒë∆∞·ª£c l∆∞u trong csdl v√† m√£ h√≥a. Tuy nhi√™n, trong v√≠ d·ª• c·ª±c k√¨ basic n√†y, t√¥i s·∫Ω l∆∞u m·ªôt t√†i kho·∫£n ng∆∞·ªùi d√πng trong ch√≠nh b·ªô nh·ªõ ch∆∞∆°ng tr√¨nh.</p>
<p>C√°ch n√†y ch·ªâ ƒë·ªÉ demo th√¥i nh√©, v√¨ n√≥ d·ªØ li·ªáu s·∫Ω b·ªã m·∫•t khi t·∫Øt ·ª©ng d·ª•ng, ch√∫ng ta s·∫Ω t√¨m hi·ªÉu c√°ch x√°c th·ª±c b·∫±ng csdl ·ªü b√†i sau.</p>
<pre><code>@EnableWebSecurity
public class WebSecurityConfig extends WebSecurityConfigurerAdapter {

    @Bean
    @Override
    public UserDetailsService userDetailsService() {
        // T·∫°o ra user trong b·ªô nh·ªõ
        // l∆∞u √Ω, ch·ªâ s·ª≠ d·ª•ng c√°ch n√†y ƒë·ªÉ minh h·ªça
        // C√≤n th·ª±c t·∫ø ch√∫ng ta s·∫Ω ki·ªÉm tra user trong csdl
        InMemoryUserDetailsManager manager = new InMemoryUserDetailsManager();
        manager.createUser(
                User.withDefaultPasswordEncoder() // S·ª≠ d·ª•ng m√£ h√≥a password ƒë∆°n gi·∫£n
                    .username(&quot;loda&quot;)
                    .password(&quot;loda&quot;)
                    .roles(&quot;USER&quot;) // ph√¢n quy·ªÅn l√† ng∆∞·ªùi d√πng.
                    .build()
        );
        return manager;
    }
}
</code></pre>
<p><code>WebSecurityConfigurerAdapter</code>¬†l√† m·ªôt interface ti·ªán √≠ch c·ªßa Spring Security gi√∫p ch√∫ng ta c√†i ƒë·∫∑t c√°c th√¥ng tin d·ªÖ d√†ng h∆°n.</p>
<p><em>Method</em><code>userDetailsService()</code>¬†c√≥ t√°c d·ª•ng cung c·∫•p th√¥ng tin user cho Spring Security, ch√∫ng ta¬†<em>Override</em>¬†l·∫°i method n√†y v√† cung c·∫•p cho n√≥ m·ªôt¬†<code>User</code>¬†l√†¬†<code>loda</code>.</p>
<h3 id="ph√¢n-quy·ªÅn-truy-c·∫≠p"><a class="header" href="#ph√¢n-quy·ªÅn-truy-c·∫≠p"><strong>Ph√¢n quy·ªÅn truy c·∫≠p</strong></a></h3>
<p>Khi ƒë√£ c√≥¬†<code>User</code>, ch√∫ng ta s·∫Ω c·∫ßn ph√¢n quy·ªÅn xem m·ªôt¬†<code>User</code>¬†s·∫Ω ƒë∆∞·ª£c ph√©p truy c·∫≠p v√†o nh·ªØng t√†i nguy√™n n√†o.</p>
<p>L√∫c n√†y, v·∫´n ·ªü trong¬†<code>WebSecurityConfigurerAdapter</code>, ch√∫ng ta override l·∫°i method¬†<code>protected void configure(HttpSecurity http)</code>¬†ƒë·ªÉ th·ª±c hi·ªán vi·ªác ph√¢n quy·ªÅn.</p>
<pre><code>import org.springframework.context.annotation.Bean;
import org.springframework.security.config.annotation.web.builders.HttpSecurity;
import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;
import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;
import org.springframework.security.core.userdetails.User;
import org.springframework.security.core.userdetails.UserDetailsService;
import org.springframework.security.provisioning.InMemoryUserDetailsManager;

@EnableWebSecurity
public class WebSecurityConfig extends WebSecurityConfigurerAdapter {

    @Bean
    @Override
    public UserDetailsService userDetailsService() {
        // T·∫°o ra user trong b·ªô nh·ªõ
        // l∆∞u √Ω, ch·ªâ s·ª≠ d·ª•ng c√°ch n√†y ƒë·ªÉ minh h·ªça
        // C√≤n th·ª±c t·∫ø ch√∫ng ta s·∫Ω ki·ªÉm tra user trong csdl
        InMemoryUserDetailsManager manager = new InMemoryUserDetailsManager();
        manager.createUser(
                User.withDefaultPasswordEncoder() // S·ª≠ d·ª•ng m√£ h√≥a password ƒë∆°n gi·∫£n
                    .username(&quot;loda&quot;)
                    .password(&quot;loda&quot;)
                    .roles(&quot;USER&quot;) // ph√¢n quy·ªÅn l√† ng∆∞·ªùi d√πng.
                    .build()
        );
        return manager;
    }

    @Override
    protected void configure(HttpSecurity http) throws Exception {
        http
                .authorizeRequests()
                    .antMatchers(&quot;/&quot;, &quot;/home&quot;).permitAll() // Cho ph√©p t·∫•t c·∫£ m·ªçi ng∆∞·ªùi truy c·∫≠p v√†o 2 ƒë·ªãa ch·ªâ n√†y
                    .anyRequest().authenticated() // T·∫•t c·∫£ c√°c request kh√°c ƒë·ªÅu c·∫ßn ph·∫£i x√°c th·ª±c m·ªõi ƒë∆∞·ª£c truy c·∫≠p
                    .and()
                .formLogin() // Cho ph√©p ng∆∞·ªùi d√πng x√°c th·ª±c b·∫±ng form login
                    .defaultSuccessUrl(&quot;/hello&quot;)
                    .permitAll() // T·∫•t c·∫£ ƒë·ªÅu ƒë∆∞·ª£c truy c·∫≠p v√†o ƒë·ªãa ch·ªâ n√†y
                    .and()
                .logout() // Cho ph√©p logout
                    .permitAll();
    }
}
</code></pre>
<p><code>HttpSecurity</code>¬†l√† ƒë·ªëi t∆∞·ª£ng ch√≠nh c·ªßa Spring Security, cho ph√©p ch√∫ng ta c·∫•u h√¨nh m·ªçi th·ª© c·∫ßn b·∫£o m·∫≠t, v√† n√≥ ƒë∆∞·ª£c x√¢y d·ª±ng d∆∞·ªõi design pattern gi·ªëng v·ªõi¬†<code>Builder Pattern</code>, n√™n m·ªçi c√†i ƒë·∫∑t c√≥ th·ªÉ vi·∫øt li√™n t·ª•c th√¥ng qua to√°n t·ª≠¬†<code>.</code></p>
<p>·ªû v√≠ d·ª• tr√™n, nh·ªØng g√¨ ch√∫ng ta mu·ªën cho ph√©p, ch√∫ng ta s·∫Ω x√†i method¬†<code>.permit()</code>, c√≤n nh·ªØng g√¨ c·∫•m ho·∫∑c y√™u c·∫ßu x√°c th·ª±c s·∫Ω d√πng¬†<code>.authenticated()</code></p>
<p>Khi g·ªçi¬†<code>.formLogin()</code>¬†th√¨ ch√∫ng ta c·∫•u h√¨nh cho ph√©p ng∆∞·ªùi d√πng ƒëƒÉng nh·∫≠p, th√¥ng qua ƒë·ªãa ch·ªâ m·∫∑c ƒë·ªãnh¬†<code>/login</code>¬†do Spring Security t·ª± t·∫°o ra (C√°i n√†y c√≥ th·ªÉ custom theo √Ω m√¨nh ƒë∆∞·ª£c, nh∆∞ng ch√∫ng ta s·∫Ω ti·∫øp c·∫≠n ·ªü b√†i sau).</p>
<p>T∆∞∆°ng t·ª±¬†<code>.logout()</code>¬†cho ph√©p ng∆∞·ªùi d√πng logout, N·∫øu kh√¥ng n√≥i g√¨ th√™m, Spring Security s·∫Ω m·∫∑c ƒë·ªãnh t·ª± t·∫°o ra m·ªôt trang logout v·ªõi ƒë·ªãa ch·ªâ¬†<code>/logout</code>.</p>
<h3 id="th√™m-controller"><a class="header" href="#th√™m-controller"><strong>Th√™m controller.</strong></a></h3>
<p>Ch√∫ng ta t·∫°o ra trang web c·ªßa m√¨nh g·ªìm c√≥ trang¬†<code>homepage</code>¬†v√† trang¬†<code>hello</code>.</p>
<ul>
<li>Trang¬†<code>homepage</code>¬†th√¨ ai c≈©ng truy c·∫≠p ƒë∆∞·ª£c.</li>
<li>Trang¬†<code>hello</code>¬†th√¨ ph·∫£i x√°c th·ª±c m·ªõi ƒë∆∞·ª£c truy c·∫≠p.</li>
</ul>
<p>C√°c ƒë·ªãa ch·ªâ¬†<code>/login</code>¬†v√†¬†<code>/logout</code>¬†th√¨ kh√¥ng c·∫ßn t·∫°o, Spring Security ƒë√£ t·∫°o s·∫µn r·ªìi, ch√∫ng ta d√πng l·∫°i lu√¥n.</p>
<pre><code>import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;

@Controller
public class WebController {

    @GetMapping(value = {&quot;/&quot;, &quot;/home&quot;})
    public String homepage() {
        return &quot;home&quot;; // Tr·∫£ v·ªÅ home.html
    }

    @GetMapping(&quot;/hello&quot;)
    public String hello() {
        return &quot;hello&quot;; // Tr·∫£ v·ªÅ hello.html
    }

}
</code></pre>
<p>Ukie, ƒë∆°n gi·∫£n v·∫≠y th√¥i, b√¢y gi·ªù c·∫ßn t·∫°o ra c√°c trang¬†<code>home.html</code>¬†v√†¬†<code>hello.html</code>.</p>
<p>V√¨ ·ªü trong file¬†<em>pom.xml</em>¬†ch√∫ng ta ƒë√£ c√†i th∆∞ vi·ªán¬†<code>thymeleaf</code>. N√™n n√≥ s·∫Ω t·ª± ƒë·ªông mapping t√™n t∆∞∆°ng ·ª©ng trong¬†<code>Controller</code>¬†tr·∫£ v·ªÅ v·ªõi c√°c file ·ªü b√™n trong th∆∞ m·ª•c¬†<code>resources/templates/</code></p>
<pre><code>&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;
&lt;/dependency&gt;
</code></pre>
<p><em>hello.html</em></p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;
&lt;head&gt;
  &lt;title&gt;Hello&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;Ch·ªâ nh·ªØng ai ƒëƒÉng nh·∫≠p m·ªõi truy c·∫≠p ƒë∆∞·ª£c trang n√†y!&lt;/h1&gt;

&lt;form th:action=&quot;@{/logout}&quot; method=&quot;post&quot;&gt;
  &lt;input type=&quot;submit&quot; value=&quot;Sign Out&quot;/&gt;
&lt;/form&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>C√∫ ph√°p¬†<code>th:action=&quot;@{/logout}&quot;</code>¬†l√† c·ªßa thymeleaf, c√≥ t√°c d·ª•ng request t·ªõi ƒë·ªãa ch·ªâ¬†<code>/logout</code></p>
<p><em>home.html</em></p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;
&lt;head&gt;
  &lt;title&gt;Spring Security Example&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;Welcome!&lt;/h1&gt;

&lt;p&gt;&lt;a href=&quot;/login&quot;&gt;login&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Click &lt;a href=&quot;https://loda.me&quot;&gt;here&lt;/a&gt; to see a loda homepage.&lt;/p&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 id="ch·∫°y-th·ª≠-6"><a class="header" href="#ch·∫°y-th·ª≠-6"><strong>Ch·∫°y th·ª≠</strong></a></h3>
<p>Ch·∫°y ·ª©ng d·ª•ng b·∫±ng c√°ch implement¬†<code>@SpringBootApplication</code></p>
<pre><code>import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class App {
    public static void main(String[] args) {
        SpringApplication.run(App.class, args);
    }
}
</code></pre>
<p>Khi ch·∫°y xong, truy c·∫≠p v√†o ƒë∆∞·ªùng d·∫´n¬†<code>http://localhost:8080/home</code>¬†ƒë·ªÉ v√†o trang ch·ªß.</p>
<p>!image</p>
<p>Khi ch∆∞a ƒëƒÉng nh·∫≠p, ch√∫ng ta truy c·∫≠p v√†o ƒë∆∞·ªùng d·∫´n¬†<code>/hello</code>. Th√¨ n√≥ s·∫Ω t·ª± redirect sang trang¬†<code>/login</code>.</p>
<p>!image</p>
<p>Khi ƒë√£ ƒëƒÉng nh·∫≠p th√†nh c√¥ng, ch√∫ng ta s·∫Ω c√≥ th·ªÉ v√†o trang¬†<code>/hello</code>¬†nh∆∞ b√¨nh th∆∞·ªùng.</p>
<p>!image</p>
<p>Khi click v√†o¬†<code>Sign Out</code>¬†th√¨ s·∫Ω ƒëƒÉng xu·∫•t.</p>
<p>!image</p>
<h3 id="k·∫øt-10"><a class="header" href="#k·∫øt-10"><strong>K·∫øt</strong></a></h3>
<p>Trong b√†i n√†y, t√¥i ƒë√£ gi·ªõi thi·ªáu v·ªõi c√°c b·∫°n v·ªÅ¬†<strong>Spring Security</strong>¬†ƒë·ªìng th·ªùi gi·ªõi thi·ªáu c√°c kh√°i ni·ªám c∆° b·∫£n v·ªÅ User v√† ph√¢n quy·ªÅn. ·ªû c√°c b√†i n√¢ng cao sau, t√¥i s·∫Ω gi·ªõi thi·ªáu th√™m v·ªõi c√°c b·∫°n v·ªÅ c√°ch x√°c th·ª±c ng∆∞·ªùi d√πng trong csdl v√† x√°c th·ª±c b·∫±ng¬†<code>OAuth 2.0</code></p>
<p>B√†i vi·∫øt li√™n quan:</p>
<ol>
<li>[‚õ≥SS] H∆∞·ªõng d·∫´n Spring Security + Jpa Hibernate</li>
</ol>
<p>üíÅ¬†N·∫øu c√≥, to√†n b·ªô project / code m·∫´u ƒë∆∞·ª£c l∆∞u tr·ªØ t·∫°i <strong>GitHub</strong></p>
<p>üåü¬†ƒê√¢y l√† m·ªôt b√†i vi·∫øt trong¬†Series <strong>L√†m ch·ªß Spring Boot ‚Äì Zero to Hero</strong></p>
<h1 id="ss-h∆∞·ªõng-d·∫´n-spring-security--jpa-hibernate"><a class="header" href="#ss-h∆∞·ªõng-d·∫´n-spring-security--jpa-hibernate">[SS] H∆∞·ªõng d·∫´n Spring Security + Jpa Hibernate</a></h1>
<ul>
<li>Gi·ªõi thi·ªáu</li>
<li>C√†i ƒë·∫∑t</li>
<li>Implement</li>
<li>T·∫°o User</li>
<li>Tham chi·∫øu User v·ªõi UserDetails</li>
<li>C·∫•u h√¨nh v√† ph√¢n quy·ªÅn</li>
<li>T·∫°o Controller v√† webpage</li>
<li>T·∫°o th√¥ng tin User trong database</li>
<li>#¬†Ch·∫°y th·ª≠</li>
<li>K·∫øt</li>
</ul>
<h3 id="gi·ªõi-thi·ªáu-19"><a class="header" href="#gi·ªõi-thi·ªáu-19"><strong>Gi·ªõi thi·ªáu</strong></a></h3>
<p>Trong¬†b√†i tr∆∞·ªõc, t√¥i ƒë√£ h∆∞·ªõng d·∫´n v·ªõi c√°c b·∫°n v·ªÅ c√°ch ƒë·ªÉ s·ª≠ d·ª•ng¬†<strong>Spring Security</strong>¬†c∆° b·∫£n, c√°ch k√≠ch ho·∫°t, t·∫°o user v√† ph√¢n quy·ªÅn.</p>
<p>Trong b√†i n√†y, ch√∫ng s·∫Ω t√¨m hi·ªÉu c√°ch ƒë·ªÉ ki·ªÉm tra m·ªôt¬†<code>User</code>¬†·ªü b√™n trong csdl.</p>
<p>Trong b√†i vi·∫øt gi·∫£ ƒë·ªãnh b·∫°n ƒë√£ c√≥ c√°c ki·∫øn th·ª©c sau:</p>
<ol>
<li>Hibernate</li>
<li>Lombok</li>
<li>Spring Security C∆° b·∫£n</li>
</ol>
<h3 id="c√†i-ƒë·∫∑t-9"><a class="header" href="#c√†i-ƒë·∫∑t-9"><strong>C√†i ƒë·∫∑t</strong></a></h3>
<p>Ch√∫ng ta s·ª≠ d·ª•ng¬†<strong>Maven</strong>, C√†i ƒë·∫∑t file¬†<em>pom.xml</em>¬†c·ªßa b·∫°n nh∆∞ sau.</p>
<p>Kh√°c v·ªõi project tr∆∞·ªõc ƒë√≥, l·∫ßn n√†y ch√∫ng ta s·ª≠ d·ª•ng th√™m database¬†<code>com.h2database</code>. ƒê√¢y l√† m·ªôt¬†<em>in memory database</em>. ƒê·∫°i kh√°i l√† m·ªçi th·ª© b·∫°n l∆∞u tr√™n database ch·ªâ t·ªìn t·∫°i trong b·ªô nh·ªõ, khi t·∫Øt ·ª©ng d·ª•ng, database s·∫Ω m·∫•t s·∫°ch, th√≠ch h·ª£p cho vi·ªác demo.</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

    &lt;groupId&gt;org.springframework&lt;/groupId&gt;
    &lt;artifactId&gt;spring-security-hibernate&lt;/artifactId&gt;
    &lt;version&gt;0.1.0&lt;/version&gt;

    &lt;parent&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
        &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;
    &lt;/parent&gt;

    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.h2database&lt;/groupId&gt;
            &lt;artifactId&gt;h2&lt;/artifactId&gt;
            &lt;scope&gt;runtime&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;

    &lt;properties&gt;
        &lt;java.version&gt;1.8&lt;/java.version&gt;
    &lt;/properties&gt;

    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;

&lt;/project&gt;
</code></pre>
<p>Th∆∞ m·ª•c code g·ªìm c√≥:</p>
<p>!image</p>
<h3 id="implement-2"><a class="header" href="#implement-2"><strong>Implement</strong></a></h3>
<h3 id="t·∫°o-user"><a class="header" href="#t·∫°o-user"><strong>T·∫°o User</strong></a></h3>
<p>T·∫°o ra class¬†<code>User</code>¬†tham chi·∫øu v·ªõi database.</p>
<pre><code>import javax.persistence.Column;
import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.Id;
import javax.persistence.Table;

import lombok.Data;

@Entity
@Table(name = &quot;user&quot;)
@Data // lombok
public class User {
    @Id
    @GeneratedValue
    private Long id;

    @Column(nullable = false, unique = true)
    private String username;
    private String password;
}
</code></pre>
<p>T·∫°o¬†<code>UserRepository</code>¬†k·∫ø th·ª´a¬†<code>JpaRepository</code>¬†ƒë·ªÉ truy xu·∫•t th√¥ng tin t·ª´ database.</p>
<pre><code>import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.stereotype.Repository;

@Repository
public interface UserRepository extends JpaRepository&lt;User, Long&gt; {
    User findByUsername(String username);
}
</code></pre>
<h3 id="tham-chi·∫øu-user-v·ªõi-userdetails"><a class="header" href="#tham-chi·∫øu-user-v·ªõi-userdetails"><strong>Tham chi·∫øu User v·ªõi UserDetails</strong></a></h3>
<p>M·∫∑c ƒë·ªãnh¬†<strong>Spring Security</strong>¬†s·ª≠ d·ª•ng m·ªôt ƒë·ªëi t∆∞·ª£ng¬†<code>UserDetails</code>¬†ƒë·ªÉ ch·ª©a to√†n b·ªô th√¥ng tin v·ªÅ ng∆∞·ªùi d√πng. V√¨ v·∫≠y, ch√∫ng ta c·∫ßn t·∫°o ra m·ªôt class m·ªõi gi√∫p chuy·ªÉn c√°c th√¥ng tin c·ªßa¬†<code>User</code>¬†th√†nh¬†<code>UserDetails</code></p>
<p><em>CustomUserDetails.java</em></p>
<pre><code>import org.springframework.security.core.GrantedAuthority;
import org.springframework.security.core.authority.SimpleGrantedAuthority;
import org.springframework.security.core.userdetails.UserDetails;

import lombok.AllArgsConstructor;
import lombok.Data;

@Data
@AllArgsConstructor
public class CustomUserDetails implements UserDetails {
    User user;

    @Override
    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {
        // M·∫∑c ƒë·ªãnh m√¨nh s·∫Ω ƒë·ªÉ t·∫•t c·∫£ l√† ROLE_USER. ƒê·ªÉ demo cho ƒë∆°n gi·∫£n.
        return Collections.singleton(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));
    }

    @Override
    public String getPassword() {
        return user.getPassword();
    }

    @Override
    public String getUsername() {
        return user.getUsername();
    }

    @Override
    public boolean isAccountNonExpired() {
        return true;
    }

    @Override
    public boolean isAccountNonLocked() {
        return true;
    }

    @Override
    public boolean isCredentialsNonExpired() {
        return true;
    }

    @Override
    public boolean isEnabled() {
        return true;
    }
}
</code></pre>
<p>Khi ng∆∞·ªùi d√πng ƒëƒÉng nh·∫≠p th√¨¬†<strong>Spring Security</strong>¬†s·∫Ω c·∫ßn l·∫•y c√°c th√¥ng tin¬†<code>UserDetails</code>¬†hi·ªán c√≥ ƒë·ªÉ ki·ªÉm tra. V√¨ v·∫≠y, b·∫°n c·∫ßn t·∫°o ra m·ªôt class k·∫ø th·ª´a l·ªõp¬†<code>UserDetailsService</code>¬†m√†¬†<strong>Spring Security</strong>¬†cung c·∫•p ƒë·ªÉ l√†m nhi·ªám v·ª• n√†y.</p>
<p><em>UserService.java</em></p>
<pre><code>import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.security.core.userdetails.UserDetails;
import org.springframework.security.core.userdetails.UserDetailsService;
import org.springframework.security.core.userdetails.UsernameNotFoundException;
import org.springframework.stereotype.Service;

@Service
public class UserService implements UserDetailsService {

    @Autowired
    private UserRepository userRepository;

    @Override
    public UserDetails loadUserByUsername(String username) {
        // Ki·ªÉm tra xem user c√≥ t·ªìn t·∫°i trong database kh√¥ng?
        User user = userRepository.findByUsername(username);
        if (user == null) {
            throw new UsernameNotFoundException(username);
        }
        return new CustomUserDetails(user);
    }

}
</code></pre>
<h3 id="c·∫•u-h√¨nh-v√†-ph√¢n-quy·ªÅn"><a class="header" href="#c·∫•u-h√¨nh-v√†-ph√¢n-quy·ªÅn"><strong>C·∫•u h√¨nh v√† ph√¢n quy·ªÅn</strong></a></h3>
<p>Gi·ªëng v·ªõi¬†b√†i tr∆∞·ªõc, ch√∫ng ta c·∫ßn k√≠ch ho·∫°t¬†<strong>Spring Security</strong>¬†v√† ph√¢n quy·ªÅn ng∆∞·ªùi d√πng.</p>
<pre><code>import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.context.annotation.Bean;
import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;
import org.springframework.security.config.annotation.web.builders.HttpSecurity;
import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;
import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;
import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;
import org.springframework.security.crypto.password.PasswordEncoder;

import me.loda.spring.springsecurityhibernate.user.UserService;

@EnableWebSecurity
public class WebSecurityConfig extends WebSecurityConfigurerAdapter {

    @Autowired
    UserService userService;

    @Bean
    public PasswordEncoder passwordEncoder() {
        // Password encoder, ƒë·ªÉ Spring Security s·ª≠ d·ª•ng m√£ h√≥a m·∫≠t kh·∫©u ng∆∞·ªùi d√πng
        return new BCryptPasswordEncoder();
    }

    @Override
    protected void configure(AuthenticationManagerBuilder auth)
            throws Exception {
        auth.userDetailsService(userService) // Cung c√°p userservice cho spring security
            .passwordEncoder(passwordEncoder()); // cung c·∫•p password encoder
    }

    @Override
    protected void configure(HttpSecurity http) throws Exception {
        http
                .authorizeRequests()
                .antMatchers(&quot;/&quot;, &quot;/home&quot;).permitAll() // Cho ph√©p t·∫•t c·∫£ m·ªçi ng∆∞·ªùi truy c·∫≠p v√†o 2 ƒë·ªãa ch·ªâ n√†y
                .anyRequest().authenticated() // T·∫•t c·∫£ c√°c request kh√°c ƒë·ªÅu c·∫ßn ph·∫£i x√°c th·ª±c m·ªõi ƒë∆∞·ª£c truy c·∫≠p
                .and()
                .formLogin() // Cho ph√©p ng∆∞·ªùi d√πng x√°c th·ª±c b·∫±ng form login
                .defaultSuccessUrl(&quot;/hello&quot;)
                .permitAll() // T·∫•t c·∫£ ƒë·ªÅu ƒë∆∞·ª£c truy c·∫≠p v√†o ƒë·ªãa ch·ªâ n√†y
                .and()
                .logout() // Cho ph√©p logout
                .permitAll();
    }
}
</code></pre>
<h3 id="t·∫°o-controller-v√†-webpage"><a class="header" href="#t·∫°o-controller-v√†-webpage"><strong>T·∫°o Controller v√† webpage</strong></a></h3>
<p>Ch√∫ng ta t·∫°o ra trang web c·ªßa m√¨nh g·ªìm c√≥ trang¬†<code>homepage</code>¬†v√† trang¬†<code>hello</code>.</p>
<ul>
<li>Trang¬†<code>homepage</code>¬†th√¨ ai c≈©ng truy c·∫≠p ƒë∆∞·ª£c.</li>
<li>Trang¬†<code>hello</code>¬†th√¨ ph·∫£i x√°c th·ª±c m·ªõi ƒë∆∞·ª£c truy c·∫≠p.</li>
</ul>
<p>M·∫∑c ƒë·ªãnh¬†<code>/login</code>¬†v√†¬†<code>/logout</code><strong>Spring Security</strong>¬†ƒë√£ t·∫°o cho ch√∫ng ta r·ªìi.</p>
<pre><code>@Controller
public class WebController {

    @GetMapping(value = {&quot;/&quot;, &quot;/home&quot;})
    public String homepage() {
        return &quot;home&quot;;
    }

    @GetMapping(&quot;/hello&quot;)
    public String hello() {
        return &quot;hello&quot;;
    }

}
</code></pre>
<p><em>hello.html</em></p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;
&lt;head&gt;
  &lt;title&gt;Hello&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;Ch·ªâ nh·ªØng ai ƒëƒÉng nh·∫≠p m·ªõi truy c·∫≠p ƒë∆∞·ª£c trang n√†y!&lt;/h1&gt;

&lt;form th:action=&quot;@{/logout}&quot; method=&quot;post&quot;&gt;
  &lt;input type=&quot;submit&quot; value=&quot;Sign Out&quot;/&gt;
&lt;/form&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>C√∫ ph√°p¬†<code>th:action=&quot;@{/logout}&quot;</code>¬†l√† c·ªßa thymeleaf, c√≥ t√°c d·ª•ng request t·ªõi ƒë·ªãa ch·ªâ¬†<code>/logout</code></p>
<p><em>home.html</em></p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;
&lt;head&gt;
  &lt;title&gt;Spring Security Example&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;Welcome!&lt;/h1&gt;

&lt;p&gt;&lt;a href=&quot;/login&quot;&gt;login&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Click &lt;a href=&quot;https://loda.me&quot;&gt;here&lt;/a&gt; to see a loda homepage.&lt;/p&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 id="t·∫°o-th√¥ng-tin-user-trong-database"><a class="header" href="#t·∫°o-th√¥ng-tin-user-trong-database"><strong>T·∫°o th√¥ng tin User trong database</strong></a></h3>
<p>Tr∆∞·ªõc h·∫øt b·∫°n c·∫ßn c·∫•u h√¨nh cho hibernate k·∫øt t·ªõi t·ªõi h2 database trong file¬†<code>resources/appication.properties</code></p>
<pre><code>spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
# Enabling H2 Console
spring.h2.console.enabled=true
</code></pre>
<p>ƒê·ªÉ ph·ª•c v·ª• demo, m·ªói khi ch·∫°y ch∆∞∆°ng tr√¨nh, ch√∫ng ta c·∫ßn insert m·ªôt¬†<code>User</code>¬†v√†o database.</p>
<p>C√≥ th·ªÉ l√†m vi·ªác n√†y b·∫±ng c√°ch s·ª≠ d·ª•ng¬†<code>CommandLineRunner</code>. M·ªôt interface c·ªßa Spring cung c·∫•p, c√≥ t√°c d·ª•ng th·ª±c hi·ªán m·ªôt nhi·ªám v·ª• khi Spring kh·ªüi ch·∫°y l·∫ßn ƒë·∫ßu.</p>
<pre><code>@SpringBootApplication
public class App implements CommandLineRunner {
    public static void main(String[] args) {
        SpringApplication.run(App.class, args);
    }

    @Autowired
    UserRepository userRepository;
    @Autowired
    PasswordEncoder passwordEncoder;

    @Override
    public void run(String... args) throws Exception {
        // Khi ch∆∞∆°ng tr√¨nh ch·∫°y
        // Insert v√†o csdl m·ªôt user.
        User user = new User();
        user.setUsername(&quot;loda&quot;);
        user.setPassword(passwordEncoder.encode(&quot;loda&quot;));
        userRepository.save(user);
        System.out.println(user);
    }
}
</code></pre>
<h3 id="ch·∫°y-th·ª≠-7"><a class="header" href="#ch·∫°y-th·ª≠-7">**#**<strong>Ch·∫°y th·ª≠</strong></a></h3>
<p>Truy c·∫≠p v√†o ƒë∆∞·ªùng d·∫´n¬†<code>http://localhost:8080/home</code>¬†ƒë·ªÉ v√†o trang ch·ªß.</p>
<p>!image</p>
<p>Khi ch∆∞a ƒëƒÉng nh·∫≠p, ch√∫ng ta truy c·∫≠p v√†o ƒë∆∞·ªùng d·∫´n¬†<code>/hello</code>. Th√¨ n√≥ s·∫Ω t·ª± redirect sang trang¬†<code>/login</code>.</p>
<p>!image</p>
<p>Khi ƒë√£ ƒëƒÉng nh·∫≠p th√†nh c√¥ng, ch√∫ng ta s·∫Ω c√≥ th·ªÉ v√†o trang¬†<code>/hello</code>¬†nh∆∞ b√¨nh th∆∞·ªùng.</p>
<p>!image</p>
<p>Khi click v√†o¬†<code>Sign Out</code>¬†th√¨ s·∫Ω ƒëƒÉng xu·∫•t.</p>
<p>!image</p>
<h3 id="k·∫øt-11"><a class="header" href="#k·∫øt-11"><strong>K·∫øt</strong></a></h3>
<p>Trong b√†i n√†y, ch√∫ng ta ƒë√£ t√¨m hi·ªÉu c√°ch s·ª≠ d·ª•ng Spring Security k·∫øt h·ª£p v·ªõi Hibernate ƒë·ªÉ c√≥ th·ªÉ x√°c th·ª±c ng∆∞·ªùi d√πng trong c∆° s·ªü d·ªØ li·ªáu. Ch√∫ng ta s·∫Ω t√¨m hi·ªÉu c√°c c√°ch x√°c th·ª±c¬†<code>OAuth 2.0</code>¬†·ªü c√°c b√†i sau.</p>
<p>üíÅ¬†N·∫øu c√≥, to√†n b·ªô project / code m·∫´u ƒë∆∞·ª£c l∆∞u tr·ªØ t·∫°i <strong>GitHub</strong></p>
<p>üåü¬†ƒê√¢y l√† m·ªôt b√†i vi·∫øt trong¬†Series <strong>L√†m ch·ªß Spring Boot ‚Äì Zero to Hero</strong></p>
<h1 id="ss-h∆∞·ªõng-d·∫´n-spring-security--jwt-json-web-token--hibernate"><a class="header" href="#ss-h∆∞·ªõng-d·∫´n-spring-security--jwt-json-web-token--hibernate">[SS] H∆∞·ªõng d·∫´n Spring Security + JWT (Json Web Token) + Hibernate</a></h1>
<ul>
<li>Gi·ªõi thi·ªáu</li>
<li>C√†i ƒë·∫∑t</li>
<li>Implement</li>
<li>T·∫°o User</li>
<li>Tham chi·∫øu User v·ªõi UserDetails</li>
<li>JWT</li>
<li>C·∫•u h√¨nh v√† ph√¢n quy·ªÅn</li>
<li>T·∫°o Controller</li>
<li>T·∫°o th√¥ng tin User trong database</li>
<li>Ch·∫°y th·ª≠</li>
<li>K·∫øt</li>
</ul>
<h3 id="gi·ªõi-thi·ªáu-20"><a class="header" href="#gi·ªõi-thi·ªáu-20"><strong>Gi·ªõi thi·ªáu</strong></a></h3>
<p>Xin ch√†o c√°c b·∫°n, Trong hai b√†i tr∆∞·ªõc t√¥i ƒë√£ gi·ªõi thi·ªáu c√°ch s·ª≠ d·ª•ng¬†<strong>Spring Security</strong>¬†v√† k·∫øt n·ªëi v·ªõi database ƒë·ªÉ x√°c th·ª±c ng∆∞·ªùi d√πng.</p>
<ol>
<li>Spring Security C∆° b·∫£n</li>
<li>Spring Security + Hibernate</li>
</ol>
<p>Trong b√†i h√¥m nay ch√∫ng ta s·∫Ω t√¨m hi·ªÉu m·ªôt ph·∫ßn c·ª±c k·ª≥ quan tr·ªçng trong c√°c h·ªá th·ªëng b·∫£o m·∫≠t ng√†y nay, ƒë√≥ l√†¬†<strong>JWT</strong>.</p>
<p><strong>JWT (Json web Token)</strong>¬†l√† m·ªôt chu·ªói m√£ h√≥a ƒë∆∞·ª£c g·ª≠i k√®m trong Header c·ªßa client request c√≥ t√°c d·ª•ng gi√∫p ph√≠a server x√°c th·ª±c request ng∆∞·ªùi d√πng c√≥ h·ª£p l·ªá hay kh√¥ng. ƒê∆∞·ª£c s·ª≠ d·ª•ng ph·ªï bi·∫øn trong c√°c h·ªá th·ªëng API ng√†y nay.</p>
<p>!image</p>
<h3 id="c√†i-ƒë·∫∑t-10"><a class="header" href="#c√†i-ƒë·∫∑t-10"><strong>C√†i ƒë·∫∑t</strong></a></h3>
<p>Ch√∫ng ta s·ª≠ d·ª•ng Maven gi·ªëng b√†i tr∆∞·ªõc, tuy nhi√™n c√≥ update th√™m th∆∞ vi·ªán¬†<code>io.jsonwebtoken.jwtt</code>¬†ƒë·ªÉ gi√∫p ch√∫ng ta m√£ h√≥a th√¥ng tin th√†nh¬†<code>jwt</code></p>
<p><em>pom.xml</em></p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

    &lt;groupId&gt;org.springframework&lt;/groupId&gt;
    &lt;artifactId&gt;spring-security-jwt&lt;/artifactId&gt;
    &lt;version&gt;0.1.0&lt;/version&gt;

    &lt;parent&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
        &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;
    &lt;/parent&gt;

    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.h2database&lt;/groupId&gt;
            &lt;artifactId&gt;h2&lt;/artifactId&gt;
            &lt;scope&gt;runtime&lt;/scope&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;
            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;
            &lt;version&gt;0.9.1&lt;/version&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;

    &lt;properties&gt;
        &lt;java.version&gt;1.8&lt;/java.version&gt;
    &lt;/properties&gt;

    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;

&lt;/project&gt;
</code></pre>
<p>C·∫•u tr√∫c th∆∞ m·ª•c code bao g·ªìm:</p>
<p>!image</p>
<h3 id="implement-3"><a class="header" href="#implement-3"><strong>Implement</strong></a></h3>
<p>Ban ƒë·∫ßu, ch√∫ng ta s·∫Ω t·∫°o ra class¬†<code>User</code>¬†v√†¬†<code>UserDetails</code>¬†ƒë·ªÉ giao ti·∫øp v·ªõi¬†<strong>Spring Security</strong>. Ph·∫ßn n√†y gi·ªëng h·ªát v·ªõi b√†i vi·∫øt¬†Spring Security + Hibernate</p>
<p>Trong b√†i vi·∫øt c√≥ s·ª≠ d·ª•ng¬†Lombok</p>
<h3 id="t·∫°o-user-1"><a class="header" href="#t·∫°o-user-1"><strong>T·∫°o User</strong></a></h3>
<p>T·∫°o ra class¬†<code>User</code>¬†tham chi·∫øu v·ªõi database.</p>
<pre><code>import javax.persistence.Column;
import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.Id;
import javax.persistence.Table;

import lombok.Data;

@Entity
@Table(name = &quot;user&quot;)
@Data // lombok
public class User {
    @Id
    @GeneratedValue
    private Long id;

    @Column(nullable = false, unique = true)
    private String username;
    private String password;
}
</code></pre>
<p>T·∫°o¬†<code>UserRepository</code>¬†k·∫ø th·ª´a¬†<code>JpaRepository</code>¬†ƒë·ªÉ truy xu·∫•t th√¥ng tin t·ª´ database.</p>
<pre><code>import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.stereotype.Repository;

@Repository
public interface UserRepository extends JpaRepository&lt;User, Long&gt; {
    User findByUsername(String username);
}
</code></pre>
<h3 id="tham-chi·∫øu-user-v·ªõi-userdetails-1"><a class="header" href="#tham-chi·∫øu-user-v·ªõi-userdetails-1"><strong>Tham chi·∫øu User v·ªõi UserDetails</strong></a></h3>
<p>M·∫∑c ƒë·ªãnh¬†<strong>Spring Security</strong>¬†s·ª≠ d·ª•ng m·ªôt ƒë·ªëi t∆∞·ª£ng¬†<code>UserDetails</code>¬†ƒë·ªÉ ch·ª©a to√†n b·ªô th√¥ng tin v·ªÅ ng∆∞·ªùi d√πng. V√¨ v·∫≠y, ch√∫ng ta c·∫ßn t·∫°o ra m·ªôt class m·ªõi gi√∫p chuy·ªÉn c√°c th√¥ng tin c·ªßa¬†<code>User</code>¬†th√†nh¬†<code>UserDetails</code></p>
<p><em>CustomUserDetails.java</em></p>
<pre><code>import org.springframework.security.core.GrantedAuthority;
import org.springframework.security.core.authority.SimpleGrantedAuthority;
import org.springframework.security.core.userdetails.UserDetails;

import lombok.AllArgsConstructor;
import lombok.Data;

@Data
@AllArgsConstructor
public class CustomUserDetails implements UserDetails {
    User user;

    @Override
    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {
        // M·∫∑c ƒë·ªãnh m√¨nh s·∫Ω ƒë·ªÉ t·∫•t c·∫£ l√† ROLE_USER. ƒê·ªÉ demo cho ƒë∆°n gi·∫£n.
        return Collections.singleton(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));
    }

    @Override
    public String getPassword() {
        return user.getPassword();
    }

    @Override
    public String getUsername() {
        return user.getUsername();
    }

    @Override
    public boolean isAccountNonExpired() {
        return true;
    }

    @Override
    public boolean isAccountNonLocked() {
        return true;
    }

    @Override
    public boolean isCredentialsNonExpired() {
        return true;
    }

    @Override
    public boolean isEnabled() {
        return true;
    }
}
</code></pre>
<p>Khi ng∆∞·ªùi d√πng ƒëƒÉng nh·∫≠p th√¨¬†<strong>Spring Security</strong>¬†s·∫Ω c·∫ßn l·∫•y c√°c th√¥ng tin¬†<code>UserDetails</code>¬†hi·ªán c√≥ ƒë·ªÉ ki·ªÉm tra. V√¨ v·∫≠y, b·∫°n c·∫ßn t·∫°o ra m·ªôt class k·∫ø th·ª´a l·ªõp¬†<code>UserDetailsService</code>¬†m√†¬†<strong>Spring Security</strong>¬†cung c·∫•p ƒë·ªÉ l√†m nhi·ªám v·ª• n√†y.</p>
<p><em>UserService.java</em></p>
<pre><code>import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.security.core.userdetails.UserDetails;
import org.springframework.security.core.userdetails.UserDetailsService;
import org.springframework.security.core.userdetails.UsernameNotFoundException;
import org.springframework.stereotype.Service;

@Service
public class UserService implements UserDetailsService {

    @Autowired
    private UserRepository userRepository;

    @Override
    public UserDetails loadUserByUsername(String username) {
        // Ki·ªÉm tra xem user c√≥ t·ªìn t·∫°i trong database kh√¥ng?
        User user = userRepository.findByUsername(username);
        if (user == null) {
            throw new UsernameNotFoundException(username);
        }
        return new CustomUserDetails(user);
    }

}
</code></pre>
<h3 id="jwt"><a class="header" href="#jwt"><strong>JWT</strong></a></h3>
<p>Sau khi c√≥ c√°c th√¥ng tin v·ªÅ ng∆∞·ªùi d√πng, ch√∫ng ta c·∫ßn m√£ h√≥a th√¥ng tin ng∆∞·ªùi d√πng th√†nh chu·ªói¬†<code>JWT</code>. T√¥i s·∫Ω t·∫°o ra m·ªôt class¬†<code>JwtTokenProvider</code>¬†ƒë·ªÉ l√†m nhi·ªám v·ª• n√†y.</p>
<pre><code>import org.springframework.stereotype.Component;
import io.jsonwebtoken.*;
import lombok.extern.slf4j.Slf4j;
import me.loda.springsecurityhibernatejwt.user.CustomUserDetails;

@Component
@Slf4j
public class JwtTokenProvider {
    // ƒêo·∫°n JWT_SECRET n√†y l√† b√≠ m·∫≠t, ch·ªâ c√≥ ph√≠a server bi·∫øt
    private final String JWT_SECRET = &quot;lodaaaaaa&quot;;

    //Th·ªùi gian c√≥ hi·ªáu l·ª±c c·ªßa chu·ªói jwt
    private final long JWT_EXPIRATION = 604800000L;

    // T·∫°o ra jwt t·ª´ th√¥ng tin user
    public String generateToken(CustomUserDetails userDetails) {
        Date now = new Date();
        Date expiryDate = new Date(now.getTime() + JWT_EXPIRATION);
        // T·∫°o chu·ªói json web token t·ª´ id c·ªßa user.
        return Jwts.builder()
                   .setSubject(Long.toString(userDetails.getUser().getId()))
                   .setIssuedAt(now)
                   .setExpiration(expiryDate)
                   .signWith(SignatureAlgorithm.HS512, JWT_SECRET)
                   .compact();
    }

    // L·∫•y th√¥ng tin user t·ª´ jwt
    public Long getUserIdFromJWT(String token) {
        Claims claims = Jwts.parser()
                            .setSigningKey(JWT_SECRET)
                            .parseClaimsJws(token)
                            .getBody();

        return Long.parseLong(claims.getSubject());
    }

    public boolean validateToken(String authToken) {
        try {
            Jwts.parser().setSigningKey(JWT_SECRET).parseClaimsJws(authToken);
            return true;
        } catch (MalformedJwtException ex) {
            log.error(&quot;Invalid JWT token&quot;);
        } catch (ExpiredJwtException ex) {
            log.error(&quot;Expired JWT token&quot;);
        } catch (UnsupportedJwtException ex) {
            log.error(&quot;Unsupported JWT token&quot;);
        } catch (IllegalArgumentException ex) {
            log.error(&quot;JWT claims string is empty.&quot;);
        }
        return false;
    }
}
</code></pre>
<h3 id="c·∫•u-h√¨nh-v√†-ph√¢n-quy·ªÅn-1"><a class="header" href="#c·∫•u-h√¨nh-v√†-ph√¢n-quy·ªÅn-1"><strong>C·∫•u h√¨nh v√† ph√¢n quy·ªÅn</strong></a></h3>
<p>B√¢y gi·ªù, ch√∫ng ta b·∫Øt ƒë·∫ßu c·∫•u h√¨nh¬†<strong>Spring Security</strong>¬†bao g·ªìm vi·ªác k√≠ch ho·∫°t b·∫±ng¬†<code>@EnableWebSecurity</code>.</p>
<p>B∆∞·ªõc n√†y gi·ªëng v·ªõi b√†i vi·∫øt¬†Spring + Hibernate¬†n√™n t√¥i s·∫Ω kh√¥ng n√≥i nh·ªØng ph·∫ßn l·∫∑p l·∫°i.</p>
<pre><code>import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.context.annotation.Bean;
import org.springframework.security.authentication.AuthenticationManager;
import org.springframework.security.config.BeanIds;
import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;
import org.springframework.security.config.annotation.web.builders.HttpSecurity;
import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;
import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;
import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;
import org.springframework.security.crypto.password.PasswordEncoder;
import org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;
import me.loda.springsecurityhibernatejwt.jwt.JwtAuthenticationFilter;
import me.loda.springsecurityhibernatejwt.user.UserService;

@EnableWebSecurity
public class WebSecurityConfig extends WebSecurityConfigurerAdapter {

    @Autowired
    UserService userService;

    @Bean
    public JwtAuthenticationFilter jwtAuthenticationFilter() {
        return new JwtAuthenticationFilter();
    }

    @Bean(BeanIds.AUTHENTICATION_MANAGER)
    @Override
    public AuthenticationManager authenticationManagerBean() throws Exception {
        // Get AuthenticationManager bean
        return super.authenticationManagerBean();
    }

    @Bean
    public PasswordEncoder passwordEncoder() {
        // Password encoder, ƒë·ªÉ Spring Security s·ª≠ d·ª•ng m√£ h√≥a m·∫≠t kh·∫©u ng∆∞·ªùi d√πng
        return new BCryptPasswordEncoder();
    }

    @Override
    protected void configure(AuthenticationManagerBuilder auth)
            throws Exception {
        auth.userDetailsService(userService) // Cung c√°p userservice cho spring security
            .passwordEncoder(passwordEncoder()); // cung c·∫•p password encoder
    }

    @Override
    protected void configure(HttpSecurity http) throws Exception {
        http
                .cors() // NgƒÉn ch·∫∑n request t·ª´ m·ªôt domain kh√°c
                    .and()
                .authorizeRequests()
                    .antMatchers(&quot;/api/login&quot;).permitAll() // Cho ph√©p t·∫•t c·∫£ m·ªçi ng∆∞·ªùi truy c·∫≠p v√†o ƒë·ªãa ch·ªâ n√†y
                    .anyRequest().authenticated(); // T·∫•t c·∫£ c√°c request kh√°c ƒë·ªÅu c·∫ßn ph·∫£i x√°c th·ª±c m·ªõi ƒë∆∞·ª£c truy c·∫≠p

        // Th√™m m·ªôt l·ªõp Filter ki·ªÉm tra jwt
        http.addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);
    }
}
</code></pre>
<p>ƒêi·ªÉm kh√°c bi·ªát ·ªü ƒë√¢y l√† s·ª± xu·∫•t hi·ªán c·ªßa¬†<code>JwtAuthenticationFilter</code>. ƒê√¢y l√† m·ªôt l·ªõp¬†<code>Filter</code>¬†do t√¥i t·ª± t·∫°o ra.</p>
<p><code>JwtAuthenticationFilter</code>¬†C√≥ nhi·ªám v·ª• ki·ªÉm tra request c·ªßa ng∆∞·ªùi d√πng tr∆∞·ªõc khi n√≥ t·ªõi ƒë√≠ch. N√≥ s·∫Ω l·∫•y¬†<code>Header Authorization</code>¬†ra v√† ki·ªÉm tra xem chu·ªói JWT ng∆∞·ªùi d√πng g·ª≠i l√™n c√≥ h·ª£p l·ªá kh√¥ng.</p>
<pre><code>@Slf4j
public class JwtAuthenticationFilter extends OncePerRequestFilter {
    @Autowired
    private JwtTokenProvider tokenProvider;

    @Autowired
    private UserService customUserDetailsService;
    @Override
    protected void doFilterInternal(HttpServletRequest request,
                                    HttpServletResponse response, FilterChain filterChain)
            throws ServletException, IOException {
        try {
            // L·∫•y jwt t·ª´ request
            String jwt = getJwtFromRequest(request);

            if (StringUtils.hasText(jwt) &amp;&amp; tokenProvider.validateToken(jwt)) {
                // L·∫•y id user t·ª´ chu·ªói jwt
                Long userId = tokenProvider.getUserIdFromJWT(jwt);
                // L·∫•y th√¥ng tin ng∆∞·ªùi d√πng t·ª´ id
                UserDetails userDetails = customUserDetailsService.loadUserById(userId);
                if(userDetails != null) {
                    // N·∫øu ng∆∞·ªùi d√πng h·ª£p l·ªá, set th√¥ng tin cho Seturity Context
                    UsernamePasswordAuthenticationToken
                            authentication = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());
                    authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));

                    SecurityContextHolder.getContext().setAuthentication(authentication);
                }
            }
        } catch (Exception ex) {
            log.error(&quot;failed on set user authentication&quot;, ex);
        }

        filterChain.doFilter(request, response);
    }

    private String getJwtFromRequest(HttpServletRequest request) {
        String bearerToken = request.getHeader(&quot;Authorization&quot;);
        // Ki·ªÉm tra xem header Authorization c√≥ ch·ª©a th√¥ng tin jwt kh√¥ng
        if (StringUtils.hasText(bearerToken) &amp;&amp; bearerToken.startsWith(&quot;Bearer &quot;)) {
            return bearerToken.substring(7);
        }
        return null;
    }
}
</code></pre>
<h3 id="t·∫°o-controller-1"><a class="header" href="#t·∫°o-controller-1"><strong>T·∫°o Controller</strong></a></h3>
<p>V√¨ ph·∫ßn n√†y ch√∫ng ta l√†m vi·ªác v·ªõi¬†<code>JWT</code>, n√™n c√°c request s·∫Ω d∆∞·ªõi d·∫°ng Rest API.</p>
<p>T√¥i t·∫°o ra 2 api:</p>
<ol>
<li><code>/api/login</code>: Cho ph√©p request m√† kh√¥ng c·∫ßn x√°c th·ª±c.</li>
<li><code>/api/random</code>: L√† m·ªôt api b·∫•t k·ª≥ n√†o ƒë√≥, ph·∫£i x√°c th·ª±c m·ªõi l·∫•y ƒë∆∞·ª£c th√¥ng tin.</li>
</ol>
<pre><code>@RestController
@RequestMapping(&quot;/api&quot;)
public class LodaRestController {

    @Autowired
    AuthenticationManager authenticationManager;

    @Autowired
    private JwtTokenProvider tokenProvider;

    @PostMapping(&quot;/login&quot;)
    public LoginResponse authenticateUser(@Valid @RequestBody LoginRequest loginRequest) {

        // X√°c th·ª±c t·ª´ username v√† password.
        Authentication authentication = authenticationManager.authenticate(
                new UsernamePasswordAuthenticationToken(
                        loginRequest.getUsername(),
                        loginRequest.getPassword()
                )
        );

        // N·∫øu kh√¥ng x·∫£y ra exception t·ª©c l√† th√¥ng tin h·ª£p l·ªá
        // Set th√¥ng tin authentication v√†o Security Context
        SecurityContextHolder.getContext().setAuthentication(authentication);

        // Tr·∫£ v·ªÅ jwt cho ng∆∞·ªùi d√πng.
        String jwt = tokenProvider.generateToken((CustomUserDetails) authentication.getPrincipal());
        return new LoginResponse(jwt);
    }

    // Api /api/random y√™u c·∫ßu ph·∫£i x√°c th·ª±c m·ªõi c√≥ th·ªÉ request
    @GetMapping(&quot;/random&quot;)
    public RandomStuff randomStuff(){
        return new RandomStuff(&quot;JWT H·ª£p l·ªá m·ªõi c√≥ th·ªÉ th·∫•y ƒë∆∞·ª£c message n√†y&quot;);
    }

}
</code></pre>
<h3 id="t·∫°o-th√¥ng-tin-user-trong-database-1"><a class="header" href="#t·∫°o-th√¥ng-tin-user-trong-database-1"><strong>T·∫°o th√¥ng tin User trong database</strong></a></h3>
<p>Tr∆∞·ªõc h·∫øt b·∫°n c·∫ßn c·∫•u h√¨nh cho hibernate k·∫øt t·ªõi t·ªõi h2 database trong file¬†<code>resources/appication.properties</code></p>
<pre><code>spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
# Enabling H2 Console
spring.h2.console.enabled=true
</code></pre>
<p>ƒê·ªÉ ph·ª•c v·ª• demo, m·ªói khi ch·∫°y ch∆∞∆°ng tr√¨nh, ch√∫ng ta c·∫ßn insert m·ªôt¬†<code>User</code>¬†v√†o database.</p>
<p>C√≥ th·ªÉ l√†m vi·ªác n√†y b·∫±ng c√°ch s·ª≠ d·ª•ng¬†<code>CommandLineRunner</code>. M·ªôt interface c·ªßa Spring cung c·∫•p, c√≥ t√°c d·ª•ng th·ª±c hi·ªán m·ªôt nhi·ªám v·ª• khi Spring kh·ªüi ch·∫°y l·∫ßn ƒë·∫ßu.</p>
<pre><code>@SpringBootApplication
public class App implements CommandLineRunner {
    public static void main(String[] args) {
        SpringApplication.run(App.class, args);
    }

    @Autowired
    UserRepository userRepository;
    @Autowired
    PasswordEncoder passwordEncoder;

    @Override
    public void run(String... args) throws Exception {
        // Khi ch∆∞∆°ng tr√¨nh ch·∫°y
        // Insert v√†o csdl m·ªôt user.
        User user = new User();
        user.setUsername(&quot;loda&quot;);
        user.setPassword(passwordEncoder.encode(&quot;loda&quot;));
        userRepository.save(user);
        System.out.println(user);
    }
}
</code></pre>
<h3 id="ch·∫°y-th·ª≠-8"><a class="header" href="#ch·∫°y-th·ª≠-8"><strong>Ch·∫°y th·ª≠</strong></a></h3>
<p>Khi server on, ch√∫ng ta request th·ª≠ t·ªõi ƒë·ªãa ch·ªâ¬†<code>http://localhost:8080/api/random</code>¬†m√† kh√¥ng x√°c th·ª±c.</p>
<p>!image</p>
<p>K·∫øt qu·∫£ tr·∫£ v·ªÅ m√£ l·ªói¬†<code>403</code>¬†k√®m theo message¬†<code>Access Denied</code>.</p>
<p>ƒê·ªÉ c√≥ th·ªÉ request ƒë∆∞·ª£c, ch√∫ng ta ƒëƒÉng nh·∫≠p v√†o h·ªá th·ªëng b·∫±ng¬†<code>api/login</code>¬†ƒë·ªÉ l·∫•y¬†<code>jwt</code>.</p>
<p>!image</p>
<p>Sau ƒë√≥ s·ª≠ d·ª•ng th√¥ng tin¬†<code>jwt</code>¬†server tr·∫£ v·ªÅ ƒë·ªÉ th·ª±c hi·ªán c√°c request kh√°c.</p>
<p>!image</p>
<h3 id="k·∫øt-12"><a class="header" href="#k·∫øt-12"><strong>K·∫øt</strong></a></h3>
<p>Trong b√†i n√†y, ch√∫ng ta ƒë√£ t√¨m hi·ªÉu c√°ch s·ª≠ d·ª•ng¬†<strong>Spring Security</strong>¬†v√†¬†<strong>JWT</strong>¬†ƒë·ªÉ c√≥ th·ªÉ x√°c th·ª±c ng∆∞·ªùi d√πng trong c√°c h·ªá th·ªëng Restful API. Ch√∫ng ta s·∫Ω t√¨m hi·ªÉu c√°c c√°ch x√°c th·ª±c¬†<code>OAuth 2.0</code>¬†·ªü c√°c b√†i sau.</p>
<p>üíÅ¬†N·∫øu c√≥, to√†n b·ªô project / code m·∫´u ƒë∆∞·ª£c l∆∞u tr·ªØ t·∫°i <strong>GitHub</strong></p>
<p>üåü¬†ƒê√¢y l√† m·ªôt b√†i vi·∫øt trong¬†Series <strong>L√†m ch·ªß Spring Boot ‚Äì Zero to Hero</strong></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="h∆∞·ªõng-d·∫´n-spring-boot--redis"><a class="header" href="#h∆∞·ªõng-d·∫´n-spring-boot--redis">H∆∞·ªõng d·∫´n Spring Boot + Redis</a></h1>
<ul>
<li>Gi·ªõi thi·ªáu</li>
<li>C√†i ƒë·∫∑t</li>
<li>Implement</li>
<li>C·∫•u h√¨nh Redis</li>
<li>Ch·∫°y th·ª≠</li>
<li>Redis operations</li>
<li>K·∫øt</li>
</ul>
<h3 id="gi·ªõi-thi·ªáu-21"><a class="header" href="#gi·ªõi-thi·ªáu-21"><strong>Gi·ªõi thi·ªáu</strong></a></h3>
<p><strong>Redis</strong>¬†l√† 1 h·ªá th·ªëng l∆∞u tr·ªØ key-value in-memory r·∫•t m·∫°nh m·∫Ω v√† ph·ªï bi·∫øn hi·ªán nay.</p>
<p><strong>Redis</strong>¬†n·ªïi b·∫≠t b·ªüi vi·ªác h·ªó tr·ª£ nhi·ªÅu c·∫•u tr√∫c d·ªØ li·ªáu kh√°c nhau (hash, list, set, sorted set, string), gi√∫p vi·ªác thao t√°c v·ªõi d·ªØ li·ªáu c·ª±c k√¨ nhanh v√† thu·∫≠n ti·ªán.</p>
<p>C√°c h·ªá th·ªëng ng√†y nay lu√¥n t√¨m c√°ch t·ªëi ∆∞u performance v√†¬†<strong>Redis</strong>¬†g·∫ßn nh∆∞ l√† m·ªôt m·∫£nh gh√©p kh√¥ng th·ªÉ thi·∫øu trong ƒë√≥. H√¥m nay ch√∫ng ta s·∫Ω c√πng t√¨m hi·ªÉu c√°ch k·∫øt n·ªëi ·ª©ng d·ª•ng¬†<strong>Spring Boot</strong>¬†v·ªõi¬†<strong>Redis</strong>.</p>
<h3 id="c√†i-ƒë·∫∑t-11"><a class="header" href="#c√†i-ƒë·∫∑t-11"><strong>C√†i ƒë·∫∑t</strong></a></h3>
<p>Ch√∫ng ta s·ª≠ d·ª•ng Maven, v√† y√™u c·∫ßu c√°c dependencies sau:</p>
<p><em>pom.xml</em></p>
<pre><code>&lt;dependencies&gt;

    &lt;!--spring mvc, rest--&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
      &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;
      &lt;artifactId&gt;spring-data-redis&lt;/artifactId&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
      &lt;groupId&gt;io.lettuce&lt;/groupId&gt;
      &lt;artifactId&gt;lettuce-core&lt;/artifactId&gt;
      &lt;version&gt;5.1.3.RELEASE&lt;/version&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>
<p>Trong ƒë√≥,¬†<code>spring-data-redis</code>¬†l√† th∆∞ vi·ªán c·ªßa Spring gi√∫p ch√∫ng ta thao t√°c v·ªõi¬†<strong>Redis</strong>¬†d·ªÖ d√†ng h∆°n.</p>
<p>C√≤n¬†<code>lettuce-core</code>¬†l√† m·ªôt th∆∞ vi·ªán m√£ ngu·ªìn m·ªü, gi√∫p k·∫øt n·ªëi t·ªõi Redis m·ªôt c√°ch thread-safe b·∫±ng nhi·ªÅu h√¨nh th·ª©c nh∆∞ synchronous, asynchronous and reactive usage.</p>
<p>Trong b√†i n√†y ch√∫ng ta s·∫Ω c·∫•u h√¨nh cho¬†<code>spring-data-redis</code>¬†s·ª≠ d·ª•ng¬†<code>lettuce</code>¬†k·∫øt n·ªëi t·ªõi¬†<strong>Redis</strong>. C√≤n chi ti·∫øt v·ªÅ¬†<code>letture</code>¬†s·∫Ω ƒë∆∞·ª£c ƒë·ªÅ c·∫≠p ·ªü m·ªôt b√†i vi·∫øt kh√°c.</p>
<p>C·∫•u tr√∫c th∆∞ m·ª•c bao g·ªìm:</p>
<p>!image</p>
<h3 id="implement-4"><a class="header" href="#implement-4"><strong>Implement</strong></a></h3>
<h3 id="c·∫•u-h√¨nh-redis"><a class="header" href="#c·∫•u-h√¨nh-redis"><strong>C·∫•u h√¨nh Redis</strong></a></h3>
<p>B√†i vi·∫øt gi·∫£ ƒë·ªãnh b·∫°n ƒë√£¬†c√†i ƒë·∫∑t Redis, ƒë·ªÉ k·∫øt n·ªëi t·ªõi¬†<strong>Redis</strong>, b·∫°n c·∫ßn cung c·∫•p ƒë·ªãa ch·ªâ¬†<code>host</code>¬†v√†¬†<code>port</code>¬†cho¬†<em>lettuce</em>.</p>
<p>C√°ch d·ªÖ nh·∫•t l√† ghi n√≥ ·ªü file¬†<em>application.properties</em>¬†trong th∆∞ m·ª•c resources:</p>
<p><em>application.properties</em></p>
<pre><code>redis.host=localhost
redis.port=6379
</code></pre>
<p>Sau ƒë√≥, T·∫°o file¬†<code>RedisConfig.java</code>¬†ƒë·ªÉ c·∫•u h√¨nh m·ªçi th·ª© li√™n quan t·ªõi Redis.</p>
<pre><code>import org.springframework.beans.factory.annotation.Value;
import org.springframework.boot.context.properties.EnableConfigurationProperties;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.context.annotation.Primary;
import org.springframework.data.redis.connection.RedisConnectionFactory;
import org.springframework.data.redis.connection.RedisStandaloneConfiguration;
import org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory;
import org.springframework.data.redis.core.RedisTemplate;

@Configuration
public class RedisConfig {
    @Value(&quot;${redis.host}&quot;)
    private String redisHost;

    @Value(&quot;${redis.port}&quot;)
    private int redisPort;

    @Bean
    public LettuceConnectionFactory redisConnectionFactory() {
        // T·∫°o Standalone Connection t·ªõi Redis
        return new LettuceConnectionFactory(new RedisStandaloneConfiguration(redisHost, redisPort));
    }

    @Bean
    @Primary
    public RedisTemplate&lt;Object, Object&gt; redisTemplate(RedisConnectionFactory redisConnectionFactory) {
        // t·∫°o ra m·ªôt RedisTemplate
        // V·ªõi Key l√† Object
        // Value l√† Object
        // RedisTemplate gi√∫p ch√∫ng ta thao t√°c v·ªõi Redis
        RedisTemplate&lt;Object, Object&gt; template = new RedisTemplate&lt;&gt;();
        template.setConnectionFactory(redisConnectionFactory);
        return template;
    }
}
</code></pre>
<p>Ch√∫ng ta c·∫ßn s·ª≠ d·ª•ng¬†<code>lettuce</code>¬†ƒë·ªÉ k·∫øt n·ªëi t·ªõi Redis, n√™n t√¥i t·∫°o ra bean¬†<code>LettuceConnectionFactory</code>¬†v√† Spring Data s·∫Ω t·ª± ƒë·ªông nh·∫≠n v√†o c·∫•u h√¨nh c·ªßa m√¨nh.</p>
<p>Trong v√≠ d·ª• n√†y, ch√∫ng ta l√†m vi·ªác v·ªõi Redis Standalone¬†<code>RedisStandaloneConfiguration</code>. C√≤n n·∫øu b·∫°n mu·ªën c·∫•u h√¨nh v·ªõi Redis Cluster th√¨ c≈©ng t∆∞∆°ng t·ª± b·∫±ng class¬†<code>RedisClusterConfiguration</code>.</p>
<blockquote>
<p>ƒê·ªëi t∆∞·ª£ng ƒë·ªÉ thao t√°c v·ªõi Redis ch√≠nh l√†¬†RedisTemplate.</p>
</blockquote>
<p>·ªû ƒë√¢y t√¥i c·∫•u h√¨nh cho¬†<code>RedisTemplate</code>¬†nh·∫≠n key l√†¬†<code>Object</code>¬†v√† value c≈©ng l√†¬†<code>Object</code>¬†lu√¥n. ƒê·ªÉ ch√∫ng ta c√≥ th·ªÉ l∆∞u b·∫•t k·ª≥ key-value n√†o xu·ªëng Redis.</p>
<h3 id="ch·∫°y-th·ª≠-9"><a class="header" href="#ch·∫°y-th·ª≠-9"><strong>Ch·∫°y th·ª≠</strong></a></h3>
<p>Ch√∫ng ta t·∫°o ra m·ªôt class¬†<code>RedisExample</code>¬†implements¬†<code>CommandLineRunner</code>¬†ƒë·ªÉ ch·∫°y m·ªôt v√≠ d·ª•:</p>
<pre><code>import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.CommandLineRunner;
import org.springframework.data.redis.core.RedisTemplate;
import org.springframework.stereotype.Component;

@Component
public class RedisExample implements CommandLineRunner {
    @Autowired
    private RedisTemplate template;

    @Override
    public void run(String... args) throws Exception {
        // Set gi√° tr·ªã c·ªßa key &quot;loda&quot; l√† &quot;hello redis&quot;
        template.opsForValue().set(&quot;loda&quot;,&quot;hello world&quot;);

        // In ra m√†n h√¨nh Gi√° tr·ªã c·ªßa key &quot;loda&quot; trong Redis
        System.out.println(&quot;Value of key loda: &quot;+template.opsForValue().get(&quot;loda&quot;));
    }
}
</code></pre>
<p>Ch·∫°y Spring App:</p>
<pre><code>import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class App {
    public static void main(String[] args) {
        SpringApplication.run(App.class, args);
    }
}
</code></pre>
<p>Khi ch·∫°y th·ª≠, m√†n h√¨nh s·∫Ω in ra k·∫øt qu·∫£.</p>
<pre><code>Value of key loda: hello world
</code></pre>
<p>V·∫≠y l√† ch√∫ng ta ƒë√£ k·∫øt n·ªëi th√†nh c√¥ng t·ªõi Redis v√† l∆∞u m·ªôt c·∫∑p key-value v√†o trong ƒë√≥.</p>
<h3 id="redis-operations"><a class="header" href="#redis-operations"><strong>Redis operations</strong></a></h3>
<p>Quay tr·ªü l·∫°i v√≠ d·ª• ·ªü tr√™n:</p>
<pre><code>template.opsForValue().set(&quot;loda&quot;,&quot;hello world&quot;);
</code></pre>
<p><code>.opsForValue()</code>¬†ƒë∆∞·ª£c g·ªçi l√†¬†<strong>Redis Operations</strong>.</p>
<p><strong>Spring Data</strong>¬†h·ªó tr·ª£ ch√∫ng ta thao t√°c v·ªõi Redis th√¥ng qua c√°c Operations nh∆∞ sau:</p>
<ol>
<li><code>opsForValue()</code>: Ki·ªÉu Key-Value th√¥ng th∆∞·ªùng. V·ªõi Value l√† 1 gi√° tr·ªã String t√πy √Ω.</li>
<li><code>opsForHash()</code>: T∆∞∆°ng ·ª©ng v·ªõi c·∫•u tr√∫c Hash trong Redis. Value l√† m·ªôt Object c√≥ c·∫•u tr√∫c</li>
<li><code>opsForList()</code>: T∆∞∆°ng ·ª©ng v·ªõi c·∫•u tr√∫c List trong Redis. Value l√† m·ªôt list.</li>
<li><code>opsForSet()</code>: T∆∞∆°ng ·ª©ng v·ªõi c·∫•u tr√∫c Set trong Redis.</li>
<li><code>opsForZSet()</code>: T∆∞∆°ng ·ª©ng v·ªõi c·∫•u tr√∫c ZSet trong Redis.</li>
</ol>
<p>V√≠ d·ª• v·ªõi¬†<code>List</code>:</p>
<pre><code>@Component
public class RedisExample implements CommandLineRunner {
    @Autowired
    private RedisTemplate template;

    @Override
    public void run(String... args) throws Exception {
        listExample();
    }

    public void valueExample(){
        // Set gi√° tr·ªã c·ªßa key &quot;loda&quot; l√† &quot;hello redis&quot;
        template.opsForValue().set(&quot;loda&quot;,&quot;hello world&quot;);

        // In ra m√†n h√¨nh Gi√° tr·ªã c·ªßa key &quot;loda&quot; trong Redis
        System.out.println(&quot;Value of key loda: &quot;+template.opsForValue().get(&quot;loda&quot;));
    }

    public void listExample(){
        // T·∫°o ra m·ªôt list g·ªìm 2 ph·∫ßn t·ª≠
        List&lt;String&gt; list = new ArrayList&lt;&gt;();
        list.add(&quot;Hello&quot;);
        list.add(&quot;redis&quot;);

        // Set gia tr·ªã c√≥ key loda_list
        template.opsForList().rightPushAll(&quot;loda_list&quot;, list);
//        template.opsForList().rightPushAll(&quot;loda_list&quot;, &quot;hello&quot;, &quot;world&quot;);

        System.out.println(&quot;Size of key loda: &quot;+template.opsForList().size(&quot;loda_list&quot;));
    }
}
</code></pre>
<p>K·∫øt qu·∫£ in ra m√†n h√¨nh khi ch·∫°y:</p>
<h3 id="k·∫øt-13"><a class="header" href="#k·∫øt-13"><strong>K·∫øt</strong></a></h3>
<p>T·ªõi ƒë√¢y c√°c b·∫°n c√≥ th·ªÉ d·ªÖ d√†ng thao t√°c v·ªõi c√°c ki·ªÉu c·∫•u tr√∫c trong Redis th√¥ng qua¬†<code>RedisTemplate</code>.</p>
<p>üíÅ¬†N·∫øu c√≥, to√†n b·ªô project / code m·∫´u ƒë∆∞·ª£c l∆∞u tr·ªØ t·∫°i <strong>GitHub</strong></p>
<p>üåü¬†ƒê√¢y l√† m·ªôt b√†i vi·∫øt trong¬†Series <strong>L√†m ch·ªß Spring Boot ‚Äì Zero to Hero</strong></p>
<div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><h1 id="thu·∫≠t-to√°n"><a class="header" href="#thu·∫≠t-to√°n">Thu·∫≠t to√°n</a></h1>
<p>Ch∆∞a c√≥, nh∆∞ng s·∫Ω t·ªïng h·ª£p thu·∫≠t to√°n sau</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="command-line"><a class="header" href="#command-line">Command line</a></h1>
<h3 id="kh√¥ng-s·ª≠-d·ª•ng-crate-ngo√†i"><a class="header" href="#kh√¥ng-s·ª≠-d·ª•ng-crate-ngo√†i">Kh√¥ng s·ª≠ d·ª•ng crate ngo√†i</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span>
<span class="boring">fn main() {
</span><span class="boring">}
</span></code></pre></pre>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub struct Config {
    pub query: String,
    pub filename: String,
    pub case_sensitive: bool,
}

impl Config {
    pub fn new(mut args: env::Args) -&gt; Result&lt;Config, &amp;'static str&gt; {
        args.next();

        let query = match args.next() {
            Some(arg) =&gt; arg,
            None =&gt; return Err(&quot;Didn't get a query string&quot;),
        };

        let filename = match args.next() {
            Some(arg) =&gt; arg,
            None =&gt; return Err(&quot;Didn't get a file name&quot;),
        };

        let case_sensitive = env::var(&quot;CASE_INSENSITIVE&quot;).is_err();

        Ok(Config { query, filename, case_sensitive })
    }
}

pub fn run(config: Config) -&gt; Result&lt;(), Box&lt;dyn Error&gt;&gt; {
    let contents = fs::read_to_string(config.filename)?;

    let results = if config.case_sensitive {
        search(&amp;config.query, &amp;contents)
    } else {
        search_case_insensitive(&amp;config.query, &amp;contents)
    };

    for line in results {
        println!(&quot;{}&quot;, line);
    }

    Ok(())
}

<span class="boring">}
</span></code></pre></pre>
<h2 id="parsing-arguments-s·ª≠-d·ª•ng-clap"><a class="header" href="#parsing-arguments-s·ª≠-d·ª•ng-clap">Parsing arguments s·ª≠ d·ª•ng clap</a></h2>
<h3 id="s·ª≠-d·ª•ng-c∆°-b·∫£n"><a class="header" href="#s·ª≠-d·ª•ng-c∆°-b·∫£n">S·ª≠ d·ª•ng c∆° b·∫£n</a></h3>
<p>This application describes the structure of its command-line interface using¬†<code>clap</code>'s builder style. The¬†<a href="https://docs.rs/clap/">documentation</a>¬†gives two other possible ways to instantiate an application.</p>
<p>In the builder style,¬†<code>with_name</code>¬†is the unique identifier that¬†<code>value_of</code>¬†will use to retrieve the value passed. The¬†<code>short</code>¬†and¬†<code>long</code>¬†options control the flag the user will be expected to type; short flags look like¬†<code>-f</code>¬†and long flags look like¬†<code>--file</code>.</p>
<pre><pre class="playground"><code class="language-rust">use clap::{Arg, App};

fn main() {
    let matches = App::new(&quot;My Test Program&quot;)
        .version(&quot;0.1.0&quot;)
        .author(&quot;Hackerman Jones &lt;hckrmnjones@hack.gov&gt;&quot;)
        .about(&quot;Teaches argument parsing&quot;)
        .arg(Arg::with_name(&quot;file&quot;)
                 .short(&quot;f&quot;)
                 .long(&quot;file&quot;)
                 .takes_value(true)
                 .help(&quot;A cool file&quot;))
        .arg(Arg::with_name(&quot;num&quot;)
                 .short(&quot;n&quot;)
                 .long(&quot;number&quot;)
                 .takes_value(true)
                 .help(&quot;Five less than your favorite number&quot;))
        .get_matches();

    let myfile = matches.value_of(&quot;file&quot;).unwrap_or(&quot;input.txt&quot;);
    println!(&quot;The file passed is: {}&quot;, myfile);

    let num_str = matches.value_of(&quot;num&quot;);
    match num_str {
        None =&gt; println!(&quot;No idea what your favorite number is.&quot;),
        Some(s) =&gt; {
            match s.parse::&lt;i32&gt;() {
                Ok(n) =&gt; println!(&quot;Your favorite number must be {}.&quot;, n + 5),
                Err(_) =&gt; println!(&quot;That's not a number! {}&quot;, s),
            }
        }
    }
}
</code></pre></pre>
<p>Usage information is generated by¬†<code>clap</code>. The usage for the example application looks like this.</p>
<pre><code>My Test Program 0.1.0
Hackerman Jones &lt;hckrmnjones@hack.gov&gt;
Teaches argument parsing

USAGE:
    testing [OPTIONS]

FLAGS:
    -h, --help       Prints help information
    -V, --version    Prints version information

OPTIONS:
    -f, --file &lt;file&gt;     A cool file
    -n, --number &lt;num&gt;    Five less than your favorite number
</code></pre>
<p>We can test the application by running a command like the following.</p>
<p><code>$ cargo run -- -f myfile.txt -n 251</code></p>
<p>The output is:</p>
<pre><code>The file passed is: myfile.txt
Your favorite number must be 256.
</code></pre>
<h3 id="n√¢ng-cao"><a class="header" href="#n√¢ng-cao">N√¢ng cao</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use clap::Parser;
use std::path::PathBuf;

#[derive(Parser, Debug, Clone)]
#[clap(
    author,
    version,
    about,
    long_about = &quot;Note: When playing, all the keybindings of mpv can be used, and `q` is reserved for exiting the program&quot;
)]
pub struct Cli {
    /// Option: -u --url &lt;URL&gt;: Specifies an url to be played.
    #[clap(short, long, help = &quot;Specifies an url to be played.&quot;)]
    pub url: Option&lt;String&gt;,

    /// Option: -s --station &lt;station name&gt;: Specifies the name of the station to be played
    #[clap(
        short,
        long,
        conflicts_with = &quot;url&quot;,
        help = &quot;Specifies the name of the station to be played.&quot;
    )]
    pub station: Option&lt;String&gt;,

    /// Flag: --show-video: If *not* present, a flag is passed down to mpv to not show the video and just play the audio.
    #[clap(
        long = &quot;show-video&quot;,
        help = &quot;If *not* present, a flag is passed down to mpv to not show the video and just play the audio.&quot;
    )]
    pub show_video: bool,

    /// Option: -c --config: Specify a config file other than the default.
    #[clap(
        long,
        short,
        help = &quot;Specify a different config file from the default one.&quot;
    )]
    pub config: Option&lt;PathBuf&gt;,

    /// Option: --country-code &lt;CODE&gt;: Specify a country code to filter the search results
    #[clap(
        long = &quot;country-code&quot;,
        help = &quot;Specify a country code to filter the search.&quot;
    )]
    pub country_code: Option&lt;String&gt;,

    /// Flag: --list-countries: List all the available countries and country codes to put in the config.
    #[clap(
        long = &quot;list-countries&quot;,
        help = &quot;List all the available countries and country codes to put in the config.&quot;
    )]
    pub list_countries: bool,

    /// Flag: --no-station-cache: Don't cache the station list loaded from the internet.
    #[clap(
        long = &quot;no-station-cache&quot;,
        help = &quot;Don't cache the station list loaded from the internet.&quot;
    )]
    pub no_station_cache: bool,

    /// Show extra info
    #[clap(flatten)]
    pub verbose: clap_verbosity_flag::Verbosity,

    /// Show debug info
    #[structopt(short, long)]
    pub debug: bool,
}
<span class="boring">}
</span></code></pre></pre>
<h2 id="m·ªôt-s√≥-c√°i-kh√°c-ch∆∞a-s·∫Øp-x·∫øp"><a class="header" href="#m·ªôt-s√≥-c√°i-kh√°c-ch∆∞a-s·∫Øp-x·∫øp">M·ªôt s√≥ c√°i kh√°c ch∆∞a s·∫Øp x·∫øp</a></h2>
<h3 id="ƒê·ªçc-input-t·ª´-ng∆∞·ªùi-d√πng"><a class="header" href="#ƒê·ªçc-input-t·ª´-ng∆∞·ªùi-d√πng">ƒê·ªçc input t·ª´ ng∆∞·ªùi d√πng</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use std::fs::File;
use std::io::{self, Read};

pub fn read_from_stdin() -&gt; String {
    let mut input = String::new();
    loop {
        match io::stdin().read_line(&amp;mut input) {
            Ok(len) =&gt; if len == 0 {
                break;
            }
            Err(error) =&gt; {
                eprintln!(&quot;error: {}&quot;, error);
                break;
            }
        }
    }
    input
}
<span class="boring">}
</span></code></pre></pre>
<p>ƒê√¢y m·ªõi l√† c√°i Reader</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use std::io;

pub trait ReadInput {
    fn read_input(&amp;mut self) -&gt; io::Result&lt;String&gt;;
}

pub struct Reader&lt;R&gt; {
    reader: R,
}

impl&lt;R&gt; Reader&lt;R&gt; {
    pub fn new(reader: R) -&gt; Self {
        Self { reader }
    }
}

impl&lt;R: io::BufRead&gt; ReadInput for Reader&lt;R&gt; {
    fn read_input(&amp;mut self) -&gt; io::Result&lt;String&gt; {
        let mut input = String::new();
        self.reader.read_line(&amp;mut input)?;
        Ok(input.trim().to_string())
    }
}

#[allow(non_snake_case)]
#[cfg(test)]
mod tests {
    use crate::reader::{ReadInput, Reader};

    #[test]
    fn test_reader__read_input__success() {
        let input = b&quot;  my input with whitespace chars  &quot;;
        let mut reader = Reader::new(&amp;input[..]);

        let actual = reader.read_input().unwrap();
        let expected = &quot;my input with whitespace chars&quot;.to_string();

        assert_eq!(actual, expected);
    }
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="t·∫•t-t·∫ßn-t·∫≠t-v·ªÅ-print-trong-giao-di·ªán-d√≤ng-l·ªánh"><a class="header" href="#t·∫•t-t·∫ßn-t·∫≠t-v·ªÅ-print-trong-giao-di·ªán-d√≤ng-l·ªánh">T·∫•t t·∫ßn t·∫≠t v·ªÅ Print trong giao di·ªán d√≤ng l·ªánh</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use std::io;
use std::io::Write;

pub trait Print {
    fn print(&amp;mut self, value: &amp;str) -&gt; io::Result&lt;()&gt;;
    fn println(&amp;mut self, value: &amp;str) -&gt; io::Result&lt;()&gt;;
}

pub trait PrintColor {
    fn fts_banner(&amp;mut self) -&gt; io::Result&lt;()&gt;;
    fn input_header(&amp;mut self, value: &amp;str) -&gt; io::Result&lt;()&gt;;
    fn error(&amp;mut self, value: &amp;str) -&gt; io::Result&lt;()&gt;;
}

pub struct Printer&lt;W&gt; {
    writer: W,
}

#[derive(Clone, Copy)]
pub struct PrintOptions {
    color: termcolor::Color,
    is_bold: bool,
}

impl&lt;W: Write + termcolor::WriteColor&gt; Printer&lt;W&gt; {
    pub fn new(writer: W) -&gt; Self {
        Self { writer }
    }
}

impl&lt;W: Write&gt; Print for Printer&lt;W&gt; {
    fn print(&amp;mut self, value: &amp;str) -&gt; io::Result&lt;()&gt; {
        write!(self.writer, &quot;{}&quot;, value)
    }

    fn println(&amp;mut self, value: &amp;str) -&gt; io::Result&lt;()&gt; {
        writeln!(self.writer, &quot;{}&quot;, value)
    }
}

impl&lt;W: Write + termcolor::WriteColor&gt; PrintColor for Printer&lt;W&gt; {
    fn fts_banner(&amp;mut self) -&gt; io::Result&lt;()&gt; {
        let opts = PrintOptions {
            color: termcolor::Color::Yellow,
            is_bold: false,
        };
        let banner = format!(
            &quot;{}\n{}{}{}{}{}\n{}&quot;,
            &quot;#&quot;.repeat(60),
            &quot;#&quot;.repeat(4),
            &quot; &quot;.repeat(18),
            &quot;First Time Setup&quot;,
            &quot; &quot;.repeat(18),
            &quot;#&quot;.repeat(4),
            &quot;#&quot;.repeat(60)
        );
        let description = r#&quot;
This tool requires you to have a repository with a README.md
in the root folder. The markdown file is where your ideas
will be stored.

Once first time setup has completed, simply run Eureka again
to begin writing down ideas.
        &quot;#;
        self.println_styled(&amp;format!(&quot;{}\n{}&quot;, banner.as_str(), description), opts)
    }

    fn input_header(&amp;mut self, value: &amp;str) -&gt; io::Result&lt;()&gt; {
        let opts = PrintOptions {
            color: termcolor::Color::Green,
            is_bold: true,
        };
        self.println_styled(value, opts)?;
        self.print(&quot;&gt; &quot;)?;
        self.writer.flush()
    }

    fn error(&amp;mut self, value: &amp;str) -&gt; io::Result&lt;()&gt; {
        let opts = PrintOptions {
            color: termcolor::Color::Red,
            is_bold: false,
        };
        self.println_styled(value, opts)?;
        self.writer.flush()
    }
}

impl&lt;W: Write + termcolor::WriteColor&gt; Printer&lt;W&gt; {
    fn println_styled(&amp;mut self, value: &amp;str, opts: PrintOptions) -&gt; io::Result&lt;()&gt; {
        let mut color_spec = termcolor::ColorSpec::new();
        color_spec.set_fg(Some(opts.color)).set_bold(opts.is_bold);
        self.writer.set_color(&amp;color_spec)?;
        writeln!(self.writer, &quot;{}&quot;, value)?;
        self.writer.reset()
    }
}

#[allow(non_snake_case)]
#[cfg(test)]
mod tests {
    use crate::printer::{Print, PrintColor, PrintOptions, Printer};

    #[test]
    fn test_printer__print__success() {
        let mut output = Vec::new();
        let mut printer = Printer {
            writer: &amp;mut output,
        };

        let print_result = printer.print(&quot;this value&quot;);
        assert!(print_result.is_ok());

        let actual = String::from_utf8(output).expect(&quot;Not UTF-8&quot;);
        let expected = &quot;this value&quot;;

        assert_eq!(actual, expected);
    }

    #[test]
    fn test_printer__println__success() {
        let mut output = Vec::new();
        let mut printer = Printer {
            writer: &amp;mut output,
        };

        let print_result = printer.println(&quot;this value&quot;);
        assert!(print_result.is_ok());

        let actual = String::from_utf8(output).expect(&quot;Not UTF-8&quot;);
        let expected = &quot;this value\n&quot;;

        assert_eq!(actual, expected);
    }

    #[test]
    fn test_printer__fts_banner__success() {
        let mut output = termcolor::Ansi::new(vec![]);
        let mut printer = Printer::new(&amp;mut output);

        printer.fts_banner().unwrap();

        let actual = String::from_utf8(output.into_inner()).unwrap();
        let expected = &quot;############################################################
###                  First Time Setup                  ####
###########################################################

This tool requires you to have a repository with a README.md
in the root folder. The markdown file is where your ideas
will be stored.

Once first time setup has completed, simply run Eureka again
to begin writing down ideas.&quot;;

        assert!(actual.starts_with(&quot;\u{1b}[0m\u{1b}[33m&quot;));
        assert!(actual.contains(expected));
        assert!(actual.ends_with(&quot;\n\u{1b}[0m&quot;));
    }

    #[test]
    fn test_printer__input_header__success() {
        let mut output = termcolor::Ansi::new(vec![]);
        let mut printer = Printer::new(&amp;mut output);

        printer.input_header(&quot;some-value&quot;).unwrap();

        let actual = String::from_utf8(output.into_inner()).unwrap();
        let expected = &quot;\u{1b}[0m\u{1b}[1m\u{1b}[32msome-value\n\u{1b}[0m&gt; &quot;;

        assert_eq!(actual, expected);
    }

    #[test]
    fn test_printer__error__success() {
        let mut output = termcolor::Ansi::new(vec![]);
        let mut printer = Printer::new(&amp;mut output);

        printer.error(&quot;some-value&quot;).unwrap();

        let actual = String::from_utf8(output.into_inner()).unwrap();
        let expected = &quot;\u{1b}[0m\u{1b}[31msome-value\n\u{1b}[0m&quot;;

        assert_eq!(actual, expected);
    }

    #[test]
    fn test_printer__println_styled__success() {
        let mut output_1 = termcolor::Ansi::new(vec![]);
        let mut printer = Printer::new(&amp;mut output_1);

        let opts_green_bold = PrintOptions {
            color: termcolor::Color::Green,
            is_bold: true,
        };

        printer
            .println_styled(&quot;some-green-bold-text&quot;, opts_green_bold)
            .unwrap();

        let actual_green_bold = String::from_utf8(output_1.into_inner()).unwrap();
        let expected_green_bold = &quot;\u{1b}[0m\u{1b}[1m\u{1b}[32msome-green-bold-text\n\u{1b}[0m&quot;;

        assert_eq!(actual_green_bold, expected_green_bold);

        let mut output_2 = termcolor::Ansi::new(vec![]);
        printer = Printer::new(&amp;mut output_2);

        let opts_yellow = PrintOptions {
            color: termcolor::Color::Yellow,
            is_bold: false,
        };

        printer
            .println_styled(&quot;some-yellow-text&quot;, opts_yellow)
            .unwrap();

        let actual_yellow = String::from_utf8(output_2.into_inner()).unwrap();
        let expected_yellow = &quot;\u{1b}[0m\u{1b}[33msome-yellow-text\n\u{1b}[0m&quot;;

        assert_eq!(actual_yellow, expected_yellow);
    }
}

<span class="boring">}
</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ch∆°i-ƒë√πa-v·ªõi-system"><a class="header" href="#ch∆°i-ƒë√πa-v·ªõi-system">Ch∆°i ƒë√πa v·ªõi System</a></h1>
<h3 id="m·ªü-url--path-v·ªõi-·ª©ng-d·ª•ng"><a class="header" href="#m·ªü-url--path-v·ªõi-·ª©ng-d·ª•ng">M·ªü URL &amp; Path v·ªõi ·ª©ng d·ª•ng</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>open::that(&quot;https://rust-lang.org&quot;);
open::with(&quot;https://rust-lang.org&quot;, &quot;firefox&quot;);

// Ho·∫∑c c√°c ƒë·ªìng b√†o c√≥ th·ªÉ d√πng Path c·ªßa ·ª©ng d·ª•ng ƒë·ªÉ m·ªü c≈©ng oke, ch∆∞a th·ª≠
<span class="boring">}
</span></code></pre></pre>
<h3 id="ki·ªÉm-tra-ƒëu√¥i-t·ªáp"><a class="header" href="#ki·ªÉm-tra-ƒëu√¥i-t·ªáp">Ki·ªÉm tra ƒëu√¥i t·ªáp</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub fn check_img_format(filename: &amp;PathBuf) -&gt; bool {
    static IMAGE_FORMAT: &amp;[&amp;'static str; 9] = &amp;[&quot;jpg&quot;, &quot;jpeg&quot;, &quot;jpe&quot;, &quot;jfif&quot;, &quot;jfi&quot;, &quot;jif&quot;, &quot;png&quot;, &quot;bmp&quot;, &quot;gif&quot;];
    filename.extension().and_then(OsStr::to_str).is_some_and(|ext| IMAGE_FORMAT.contains(&amp;ext))
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="t·∫°o-t·ªáp"><a class="header" href="#t·∫°o-t·ªáp">T·∫°o t·ªáp</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub fn gen_file(name: &amp;str, book_format: &amp;str) -&gt; Result&lt;File, std::io::Error&gt; {
    OpenOptions::new()
        .write(true)
        .create(true)
        .append(true)
        .open(format!(&quot;{}.{}&quot;, name, book_format))
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="ƒê·ªçc-n·ªôi-dung-t·ª´-t·ªáp"><a class="header" href="#ƒê·ªçc-n·ªôi-dung-t·ª´-t·ªáp">ƒê·ªçc n·ªôi dung t·ª´ t·ªáp</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub fn read_from_file(file: &amp;str) -&gt; String {
    let mut input = String::new();
    let mut f = File::open(file).expect(&quot;File not found!&quot;);
    f.read_to_string(&amp;mut input).expect(&quot;Something went wrong reading the file!&quot;);
    input
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="vi·∫øt-n·ªôi-dung-v√†o-t·ªáp"><a class="header" href="#vi·∫øt-n·ªôi-dung-v√†o-t·ªáp">Vi·∫øt n·ªôi dung v√†o t·ªáp</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub fn write_to_file() -&gt; Result&lt;(), anyhow::Error&gt; {
    let filename = gen_file(&quot;tep&quot;, &quot;txt&quot;);
    let mut f = BufWriter::new(f);
    f.write_all(gen_str(chapter.name, &amp;chapter.content).as_bytes())
        .expect(&quot;Can't write to the file&quot;);
    f.flush().unwrap();
    Ok(())
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="truy-c·∫≠p-v√†o-c√°c-·ª©ng-d·ª•ng-kh√°c"><a class="header" href="#truy-c·∫≠p-v√†o-c√°c-·ª©ng-d·ª•ng-kh√°c">Truy c·∫≠p v√†o c√°c ·ª©ng d·ª•ng kh√°c</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use std::io::ErrorKind;
use std::path::PathBuf;
use std::process::Command;
use std::{env, fs, io};

pub trait ProgramOpener {
    fn open_editor(&amp;self, file_path: &amp;str) -&gt; io::Result&lt;()&gt;;
    fn open_pager(&amp;self, file_path: &amp;str) -&gt; io::Result&lt;()&gt;;
}

#[derive(Default)]
pub struct ProgramAccess;

impl ProgramOpener for ProgramAccess {
    fn open_editor(&amp;self, file_path: &amp;str) -&gt; io::Result&lt;()&gt; {
        self.open_with_fallback(file_path, &quot;EDITOR&quot;, &quot;vi&quot;)
    }

    fn open_pager(&amp;self, file_path: &amp;str) -&gt; io::Result&lt;()&gt; {
        self.open_with_fallback(file_path, &quot;PAGER&quot;, &quot;less&quot;)
    }
}

impl ProgramAccess {
    fn open_with_fallback(&amp;self, file_path: &amp;str, env_var: &amp;str, fallback: &amp;str) -&gt; io::Result&lt;()&gt; {
        let program = env::var(env_var)
            .map(PathBuf::from)
            .or_else(|_| self.get_if_available(fallback))?;

        // Make sure file exists
        fs::metadata(file_path)?;
        Command::new(program).arg(file_path).status().map(|_| ())
    }

    fn get_if_available(&amp;self, program: &amp;str) -&gt; io::Result&lt;PathBuf&gt; {
        which::which(program).map_err(|err| std::io::Error::new(ErrorKind::NotFound, err))
    }
}
<span class="boring">}
</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="internet"><a class="header" href="#internet">Internet</a></h1>
<p>M·∫•y c√°i xung quanh vi·ªác t∆∞∆°ng t√°c v·ªõi Internet s·ª≠ d·ª•ng Rust.</p>
<h3 id="encode-url"><a class="header" href="#encode-url">Encode URL</a></h3>
<p>D√πng c√°i n√†y: <code>open = &quot;5.0.1&quot;</code></p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let encoded_query =
        percent_encoding::utf8_percent_encode(&amp;args.query, NON_ALPHANUMERIC).to_string();

    for site in config.sites {
        let url = site.url.replace(&quot;%s&quot;, &amp;encoded_query);
        println!(&quot;{}:\t{}&quot;, site.name, url);
        // Ph·∫ßn n√†y l√† d√πng &quot;open&quot; r·ªìi, h∆°i ngo√†i l·ªÅ ch√∫t
        open::that(url).context(&quot;could not open the URL&quot;)?;
    }
<span class="boring">}
</span></code></pre></pre>
<h3 id="request"><a class="header" href="#request">Request</a></h3>
<p>S·ª≠ d·ª•ng ureq.</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub fn fetch(url: &amp;str, refer_site: &amp;str) -&gt; Result&lt;Response, ureq::Error&gt; {
    let user_agent = &quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36&quot;;
    
    let ureq_agent: Agent = ureq::AgentBuilder::new()
    .timeout_read(Duration::from_secs(30))
    .build();

    let body = ureq_agent.get(url)
        .set(&quot;User-Agent&quot;, user_agent)
        .set(&quot;Referer&quot;, refer_site)
        .call();
    body
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="l·∫•y-th√¥ng-tin-t·ª´-api"><a class="header" href="#l·∫•y-th√¥ng-tin-t·ª´-api">L·∫•y th√¥ng tin t·ª´ API</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[derive(Debug, Serialize, Deserialize, Default)]
struct Fact {
    id: String,
    text: String,
    source: String,
    source_url: String,
    language: String,
    permalink: String,
}

const FACT_BASE_URL: &amp;str = &quot;https://uselessfacts.jsph.pl&quot;;
const FACT_RANDOM: &amp;str = &quot;/api/v2/facts/random?language=en&quot;;
const FACT_DAILY: &amp;str = &quot;/api/v2/facts/today?language=en&quot;;

fn get_fact(url: &amp;str) -&gt; Result&lt;Fact, Box&lt;dyn std::error::Error&gt;&gt; {
    let resp = reqwest::blocking::get(url)?.json::&lt;Fact&gt;()?;
    Ok(resp)
}

fn get_random_fact() -&gt; Result&lt;Fact, Box&lt;dyn std::error::Error&gt;&gt; {
    let url = format!(&quot;{}{}&quot;, FACT_BASE_URL, FACT_RANDOM);
    get_fact(&amp;url)
}

fn get_daily_fact() -&gt; Result&lt;Fact, Box&lt;dyn std::error::Error&gt;&gt; {
    let url = format!(&quot;{}{}&quot;, FACT_BASE_URL, FACT_DAILY);
    get_fact(&amp;url)
}

fn get_help() -&gt; Result&lt;Fact, Box&lt;dyn std::error::Error&gt;&gt; {
    let mut fact = Fact::default();
    fact.text = String::from(&quot;Usage: fact [t]oday | [r]andom&quot;);
    Ok(fact)
}

fn print_fact(fact: Fact) {
    println!(&quot;Fact: {}&quot;, fact.text);
    println!(&quot;Source: {}&quot;, fact.source_url);
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="m·ªü-tr√¨nh-duy·ªát"><a class="header" href="#m·ªü-tr√¨nh-duy·ªát">M·ªü tr√¨nh duy·ªát</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub fn show_news(new: &amp;NewsLink) -&gt; Result&lt;(), Box&lt;dyn std::error::Error&gt;&gt; {
    let link = &amp;new.link;
    let response = ureq::get(link).call()?;
    let url = response.get_url();

    // if is a video of youtube
    if url.contains(&quot;youtube&quot;) {
        if webbrowser::open(new.link.as_str()).is_ok() {}
        return Ok(());
    }

    let view_select = Select::new(
        &quot;What view do you like to do?&quot;,
        vec![&quot;Web&quot;, &quot;Terminal&quot;, &quot;Ia Draft&quot;],
    )
    .with_help_message(&quot;Enter the view of the new&quot;)
    .prompt()
    .unwrap_or(&quot;Cancel&quot;);

    if view_select == &quot;Cancel&quot; {
        manage_exit(&quot;No view provided&quot;)
    }

    let view = View::from_str(view_select).expect(&quot;failed to parse view&quot;);
    match view {
        View::Terminal =&gt; {
            let html = response.into_string()?;
            let markdown = get_markdown_content(&amp;html);

            if markdown.is_empty() {
                println!(&quot;Content of new cannot be loaded in terminal&quot;);
                println!(&quot;Opening browser instead&quot;);
                if webbrowser::open(new.link.as_str()).is_ok() {}
            } else {
                generate_view(markdown.as_str()).expect(&quot;failed to generate a markdown view&quot;);
            }
        }
        View::Web =&gt; {
            webbrowser::open(new.link.as_str())?;
        }
        View::Ia =&gt; {
            let html = response.into_string()?;
            let markdown = get_markdown_content(&amp;html);
            get_resume(&amp;markdown)?;
        }
    }
<span class="boring">}
</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="epub"><a class="header" href="#epub">EPUB</a></h1>
<h3 id="t·∫°o-epub"><a class="header" href="#t·∫°o-epub">T·∫°o EPUB</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span>
<span class="boring">fn main() {
</span>pub fn gen_epub(
    book: NovelContent,
    book_language: &amp;str,
    is_vertical: &amp;bool,
) -&gt; epub_builder::Result&lt;()&gt; {
    let output = utils::gen_file(&amp;book.title, &quot;epub&quot;).unwrap();

    let epub_mode = css_gen(is_vertical);
    let mut binding = epub_builder::EpubBuilder::new(epub_builder::ZipLibrary::new()?)?;
    let gen_epub = binding
        .metadata(&quot;author&quot;, book.author.trim())?
        .metadata(&quot;title&quot;, &amp;book.title)?
        .epub_direction(epub_mode.epub_direction)
        .metadata(&quot;lang&quot;, book_language)?
        .metadata(&quot;generator&quot;, &quot;Buukuru&quot;)?
        .add_metadata_opf(epub_builder::MetadataOpf {
            name: String::from(&quot;primary-writing-mode&quot;),
            content: epub_mode.p_writing_mode,
        })
        .epub_version(epub_builder::EpubVersion::V30)
        .stylesheet(epub_mode.epub_css.as_bytes())?;

    let generated_content = gen_content(gen_epub, book);
    generated_content
        .inline_toc()
        .generate(output)
        .expect(&quot;Error generating .epub file&quot;);
    Ok(())
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="t·∫°o-xhtml"><a class="header" href="#t·∫°o-xhtml">T·∫°o XHTML</a></h3>
<h3 id="xhtml-generator"><a class="header" href="#xhtml-generator">XHTML Generator</a></h3>
<p>Ph·∫ßn 1:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn to_xhtml(content: &amp;Vec&lt;String&gt;, chap_title: &amp;str) -&gt; String {
    // Start
    let start = format!(
        r##&quot;&lt;?xml version='1.0' encoding='utf-8'?&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; lang=&quot;ja&quot; xml:lang=&quot;ja&quot;&gt;
    &lt;head&gt;
        &lt;title&gt;{}&lt;/title&gt;
        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;/&gt;
        &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;stylesheet.css&quot;/&gt;
    &lt;/head&gt;
    &lt;body&gt;&quot;##,
        chap_title
    );
    let chapter_title = format!(&quot;\n\t&lt;h2&gt;{}&lt;/h2&gt;\n&quot;, chap_title);
    let mut file: String = start.to_string() + chapter_title.as_str();

    for line in content {
        match line.as_str() {
            &quot;&quot; =&gt; {}
            _ =&gt; {
                file += format!(&quot;\t\t&lt;p&gt;{}&lt;/p&gt;\n&quot;, &amp;line.trim()).as_str();
            }
        }
    }
    file += &quot;\n\t&lt;/body&gt;\n&lt;/html&gt;&quot;;
    // End
    file
}
<span class="boring">}
</span></code></pre></pre>
<p>Ph·∫ßn 2:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub fn compress_xhtml(html_input: &amp;str) -&gt; String {
    format!(r##&quot;&lt;?xml version='1.0' encoding='utf-8'?&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; lang=&quot;ja&quot; xml:lang=&quot;ja&quot;&gt;
    &lt;head&gt;
        &lt;title&gt;Untitled&lt;/title&gt;
        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;/&gt;
        &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;stylesheet.css&quot;/&gt;
    &lt;/head&gt;
    &lt;body&gt;{}{}&quot;##, html_input, &quot;\n\t&lt;/body&gt;\n&lt;/html&gt;&quot;)
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="css-for-english-and-japanese"><a class="header" href="#css-for-english-and-japanese">CSS for English and Japanese</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn css_gen(is_vertical: &amp;bool) -&gt; EpubMode {
    let vertical_css = r##&quot;@page {
  margin-bottom: 5pt;
  margin-top: 5pt;
}

html {
  -webkit-writing-mode: vertical-rl;
  -moz-writing-mode: vertical-rl;
  -ms-writing-mode: vertical-rl;
  writing-mode: vertical-rl;
}

p {
  display: block;
  height: auto;
  text-indent: inherit;
  width: auto;
  margin: 0;
  padding: 0;
}&quot;##;
<span class="boring">}
</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="s·ª≠-d·ª•ng-git-v·ªõi-rust"><a class="header" href="#s·ª≠-d·ª•ng-git-v·ªõi-rust">S·ª≠ d·ª•ng Git v·ªõi Rust</a></h1>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use std::path::Path;

pub trait GitManagement {
    fn init(&amp;mut self, repo_path: &amp;str) -&gt; Result&lt;(), git2::Error&gt;;
    fn checkout_branch(&amp;self, branch_name: &amp;str) -&gt; Result&lt;(), git2::Error&gt;;
    fn add(&amp;self) -&gt; Result&lt;(), git2::Error&gt;;
    fn commit(&amp;self, subject: &amp;str) -&gt; Result&lt;git2::Oid, git2::Error&gt;;
    fn push(&amp;self, branch_name: &amp;str) -&gt; Result&lt;(), git2::Error&gt;;
}

#[derive(Default)]
pub struct Git {
    repo: Option&lt;git2::Repository&gt;,
}

impl GitManagement for Git {
    fn init(&amp;mut self, repo_path: &amp;str) -&gt; Result&lt;(), git2::Error&gt; {
        git2::Repository::open(Path::new(&amp;repo_path)).map(|repo| self.repo = Some(repo))
    }

    fn checkout_branch(&amp;self, branch_name: &amp;str) -&gt; Result&lt;(), git2::Error&gt; {
        let repo = self.repo.as_ref().unwrap();

        let commit = repo
            .head()
            .map(|head| head.target())
            .and_then(|oid| repo.find_commit(oid.unwrap()))?;

        // Create new branch if it doesn't exist
        match repo.branch(branch_name, &amp;commit, false) {
            // This command can fail due to an existing reference. This error should be ignored.
            Err(err)
                if !(err.class() == git2::ErrorClass::Reference
                    &amp;&amp; err.code() == git2::ErrorCode::Exists) =&gt;
            {
                return Err(err);
            }
            _ =&gt; {}
        }

        let refname = format!(&quot;refs/heads/{}&quot;, branch_name);
        let obj = repo.revparse_single(refname.as_str())?;

        repo.checkout_tree(&amp;obj, None)?;
        repo.set_head(refname.as_str())
    }

    fn add(&amp;self) -&gt; Result&lt;(), git2::Error&gt; {
        let mut index = self.repo.as_ref().unwrap().index()?;

        index.add_path(Path::new(&quot;README.md&quot;))?;
        index.write()
    }

    fn commit(&amp;self, subject: &amp;str) -&gt; Result&lt;git2::Oid, git2::Error&gt; {
        let repo = self.repo.as_ref().unwrap();
        let mut index = repo.index()?;

        let signature = repo.signature()?; // Use default user.name and user.email

        let oid = index.write_tree()?;
        let parent_commit = find_last_commit(self.repo.as_ref().unwrap())?;
        let tree = repo.find_tree(oid)?;

        repo.commit(
            Some(&quot;HEAD&quot;),      // point HEAD to our new commit
            &amp;signature,        // author
            &amp;signature,        // committer
            subject,           // commit message
            &amp;tree,             // tree
            &amp;[&amp;parent_commit], // parent commit
        )
    }

    fn push(&amp;self, branch_name: &amp;str) -&gt; Result&lt;(), git2::Error&gt; {
        with_credentials(self.repo.as_ref().unwrap(), |cred_callback| {
            let mut remote = self.repo.as_ref().unwrap().find_remote(&quot;origin&quot;)?;

            let mut callbacks = git2::RemoteCallbacks::new();
            let mut options = git2::PushOptions::new();

            callbacks.credentials(cred_callback);
            options.remote_callbacks(callbacks);

            remote.push(
                &amp;[format!(
                    &quot;refs/heads/{}:refs/heads/{}&quot;,
                    branch_name, branch_name
                )],
                Some(&amp;mut options),
            )?;

            Ok(())
        })
    }
}

fn find_last_commit(repo: &amp;git2::Repository) -&gt; Result&lt;git2::Commit, git2::Error&gt; {
    let obj = repo.head()?.resolve()?.peel(git2::ObjectType::Commit)?;
    obj.into_commit()
        .map_err(|_| git2::Error::from_str(&quot;Couldn't find commit&quot;))
}

/// Helper to run git operations that require authentication.
///
/// This is inspired by [the way Cargo handles this][cargo-impl].
///
/// [cargo-impl]: https://github.com/rust-lang/cargo/blob/94bf4781d0bbd266abe966c6fe1512bb1725d368/src/cargo/sources/git/utils.rs#L437
fn with_credentials&lt;F&gt;(repo: &amp;git2::Repository, mut f: F) -&gt; Result&lt;(), git2::Error&gt;
where
    F: FnMut(&amp;mut git2::Credentials) -&gt; Result&lt;(), git2::Error&gt;,
{
    let config = repo.config()?;

    let mut tried_sshkey = false;
    let mut tried_cred_helper = false;
    let mut tried_default = false;

    f(&amp;mut |url, username, allowed| {
        if allowed.contains(git2::CredentialType::USERNAME) {
            return Err(git2::Error::from_str(&quot;No username specified in remote URL&quot;));
        }

        if allowed.contains(git2::CredentialType::SSH_KEY) &amp;&amp; !tried_sshkey {
            tried_sshkey = true;
            let username = username.unwrap();
            return git2::Cred::ssh_key_from_agent(username);
        }

        if allowed.contains(git2::CredentialType::USER_PASS_PLAINTEXT) &amp;&amp; !tried_cred_helper {
            tried_cred_helper = true;
            return git2::Cred::credential_helper(&amp;config, url, username);
        }

        if allowed.contains(git2::CredentialType::DEFAULT) &amp;&amp; !tried_default {
            tried_default = true;
            return git2::Cred::default();
        }

        Err(git2::Error::from_str(&quot;No authentication method succeeded&quot;))
    })
}

#[allow(non_snake_case)]
#[cfg(test)]
mod tests {
    use crate::git::{find_last_commit, Git, GitManagement};
    use git2::{BranchType, Repository, RepositoryInitOptions, Status};
    use tempfile::{NamedTempFile, TempDir};

    #[test]
    fn test_git__init__valid_repo() {
        let mut git = Git::default();
        // Valid repo
        let (dir, _repo, _file) = repo_init();

        let actual = git.init(dir.path().to_str().unwrap());

        assert!(actual.is_ok());
    }

    #[test]
    fn test_git__init__invalid_repo() {
        let mut git = Git::default();
        // Invalid repo
        let dir = TempDir::new().unwrap();

        let actual = git.init(dir.path().to_str().unwrap());

        assert!(actual.is_err());
    }

    #[test]
    fn test_git__checkout_branch__missing_branch() {
        let mut git = Git::default();
        let (dir, repo, _file) = repo_init();
        git.init(dir.path().to_str().unwrap()).unwrap();

        // This will create a new branch
        git.checkout_branch(&quot;new-branch-name&quot;).unwrap();

        let actual = repo.find_branch(&quot;new-branch-name&quot;, BranchType::Local);

        assert!(actual.is_ok());
    }

    #[test]
    fn test_git__checkout_branch__success() {
        let mut git = Git::default();
        let (dir, repo, _file) = repo_init();
        git.init(dir.path().to_str().unwrap()).unwrap();

        let before = repo.head();
        assert_eq!(before.unwrap().name().unwrap(), &quot;refs/heads/main&quot;);

        git.checkout_branch(&quot;new-branch-name&quot;).unwrap();

        let after = repo.head();

        assert!(after.is_ok());
        assert_eq!(after.unwrap().name().unwrap(), &quot;refs/heads/new-branch-name&quot;);
    }

    #[test]
    fn test_git__add__success() {
        let mut git = Git::default();
        let (dir, repo, _file) = repo_init();
        git.init(dir.path().to_str().unwrap()).unwrap();

        let statuses_before = repo.statuses(None).unwrap();
        let before = statuses_before.get(0).unwrap();
        assert_eq!(before.status(), Status::WT_NEW);

        git.add().unwrap();

        let statuses_after = repo.statuses(None).unwrap();
        let after = statuses_after.get(0).unwrap();
        assert_eq!(after.status(), Status::INDEX_NEW);
    }

    #[test]
    fn test_git__commit__success() {
        let mut git = Git::default();
        let (dir, _repo, _file) = repo_init();
        git.init(dir.path().to_str().unwrap()).unwrap();

        // Initial commit
        let before = find_last_commit(git.repo.as_ref().unwrap());
        assert_eq!(before.unwrap().summary().unwrap(), &quot;initial-msg&quot;);

        git.add().unwrap();
        git.commit(&quot;some-subject&quot;).unwrap();

        let after = find_last_commit(git.repo.as_ref().unwrap());
        assert_eq!(after.unwrap().summary().unwrap(), &quot;some-subject&quot;);
    }

    fn repo_init() -&gt; (TempDir, Repository, NamedTempFile) {
        let td = TempDir::new().unwrap();
        let mut opts = RepositoryInitOptions::new();
        opts.initial_head(&quot;main&quot;);
        let repo = Repository::init_opts(td.path(), &amp;opts).unwrap();

        // Create README.md file
        let file = tempfile::Builder::new()
            .prefix(&quot;README&quot;)
            .suffix(&quot;.md&quot;)
            .rand_bytes(0)
            .tempfile_in(td.path())
            .unwrap();
        {
            // Set basic config
            let mut config = repo.config().unwrap();
            config.set_str(&quot;user.name&quot;, &quot;some-name&quot;).unwrap();
            config.set_str(&quot;user.email&quot;, &quot;some-email&quot;).unwrap();

            // Make initial commit
            let mut index = repo.index().unwrap();
            let id = index.write_tree().unwrap();
            let tree = repo.find_tree(id).unwrap();
            let sig = repo.signature().unwrap();
            repo.commit(Some(&quot;HEAD&quot;), &amp;sig, &amp;sig, &quot;initial-msg&quot;, &amp;tree, &amp;[])
                .unwrap();
        }
        // Return file to not drop it and make it disappear
        (td, repo, file)
    }
}
<span class="boring">}
</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="html-1"><a class="header" href="#html-1">HTML</a></h1>
<h3 id="l·∫•y-c√°c-n·ªôi-dung-t·ª´-c√°c-selector"><a class="header" href="#l·∫•y-c√°c-n·ªôi-dung-t·ª´-c√°c-selector">L·∫•y c√°c n·ªôi dung t·ª´ c√°c Selector</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub fn fetcher(
    base_url: String,
    id: &amp;str,
    list_selector: &amp;str,
    item_selector: &amp;str,
    element: &amp;str
) -&gt; Vec&lt;String&gt; {
    let given_url = base_url + id;
    let body = http::get_body_from_url(&amp;given_url).unwrap();
    let document = Html::parse_document(&amp;body);
    // Logging
    println!(&quot;ƒêang t·∫£i ch∆∞∆°ng truy·ªán v·ªõi URL l√†: {}&quot;, &amp;given_url);
    // Selector
    let list = Selector::parse(list_selector).unwrap();
    let item = Selector::parse(item_selector).unwrap();
    let body = Selector::parse(&quot;body&quot;).unwrap();

    let content_matcher = match document.select(&amp;list).next() {
        Some(doc) =&gt; {
            doc.select(&amp;item)
        },
        None =&gt; {
            document.select(&amp;body).next().unwrap().select(&amp;item)
        },
    };

    content_matcher.into_iter()
    .filter_map(|f| f.value().attr(element).map(|elem| elem.to_string())).collect()
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="c√°i-g√¨-ƒë√≥-kh√¥ng-r√µ"><a class="header" href="#c√°i-g√¨-ƒë√≥-kh√¥ng-r√µ">C√°i g√¨ ƒë√≥ kh√¥ng r√µ</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>/// Displays formatted html that fits a CSS selector.
pub fn display_article(
    contents_selector: scraper::Selector,
    title_selector: scraper::Selector,
    request: scraper::Html,
) {
    let mut paragraphs = request
        .select(&amp;contents_selector)
        .map(|x| from_read(x.inner_html().as_bytes(), 190))
        .collect::&lt;Vec&lt;String&gt;&gt;()
        .join(&quot;\n&quot;);

    paragraphs = filters::remove_references(paragraphs);
    paragraphs = filters::remove_square_brackets(paragraphs);
    paragraphs = filters::remove_links(paragraphs);

    let title = request
        .select(&amp;title_selector)
        .map(|x| from_read(x.inner_html().as_bytes(), 50))
        .collect::&lt;Vec&lt;String&gt;&gt;()
        .join(&quot;&quot;);

    let article = ArticleDisplay {
        title: title,
        contents: paragraphs,
    };

    ui::ArticleDisplay::new(article).unwrap();
}

<span class="boring">}
</span></code></pre></pre>
<h3 id="code-that-cleans-the-article-from-html-leftovers"><a class="header" href="#code-that-cleans-the-article-from-html-leftovers">Code that cleans the article from HTML leftovers.</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use regex::Regex;

pub fn remove_square_brackets(text: String) -&gt; String {
    let square_bracket_regex =
        Regex::new(r&quot;[(?P&lt;link&gt;[a-zA-Z0-9\(\)\-\,[:space:]&amp;=]+)]&quot;).unwrap();
    square_bracket_regex.replace_all(&amp;text, &quot;$link&quot;).to_string()
}

pub fn remove_references(text: String) -&gt; String {
    let reference_regex = Regex::new(r&quot;[+([0-9]+)]+&quot;).unwrap();
    reference_regex.replace_all(&amp;text, &quot;&quot;).to_string()
}

pub fn remove_links(text: String) -&gt; String {
    let link_regex = Regex::new(r&quot;: [/?/[a-zA-Z0-9-%:/(/)_.//&amp;=]+/]+\n&quot;).unwrap();
    let note_regex =
        Regex::new(r&quot;: #cite_note-[0-9-]+\n|: #cite_note-[a-zA-Z_-]+-[0-9-]+\n&quot;).unwrap();

    let mut new_text = link_regex.replace_all(&amp;text, &quot;&quot;).to_string();
    new_text = note_regex.replace_all(&amp;new_text, &quot;&quot;).to_string();

    new_text
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="ch·ªçn-c√°c-elements-trong-html-b·∫±ng-selectrs"><a class="header" href="#ch·ªçn-c√°c-elements-trong-html-b·∫±ng-selectrs">Ch·ªçn c√°c elements trong HTML b·∫±ng select.rs</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub fn html_to_dict_term(file_path: &amp;str) -&gt; Vec&lt;DictTerm&gt; {
    let html_content = fs::read_to_string(file_path).expect(&quot;Should have been able to read the file&quot;);
    let document = Document::from(html_content.as_str());

    document.find(Name(&quot;idx:entry&quot;)).map(|element| {
        let dict_term = element.find(Name(&quot;idx:orth&quot;)).next().unwrap().attr(&quot;value&quot;).unwrap();
        DictTerm {
            term: dict_term.to_owned(),
            definition: element.text().replace(&quot;\&quot;&quot;, &quot;-&quot;)
        } 
    }).collect::&lt;Vec&lt;_&gt;&gt;()
    
}
<span class="boring">}
</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><pre><pre class="playground"><code class="language-rust">fn main() {
    let matches = Command::new(&quot;tinpub-rs&quot;)
        .arg(
            Arg::new(&quot;source&quot;)
                .short('i')
                .long(&quot;source&quot;)
                .help(&quot;Which source do you wanna fetch news from&quot;)
                .required(true),
        )
        .get_matches();
        
    let feed = FeedConfig {
        name: String::from(&quot;untitled&quot;),
        url: config_path.clone()
    };

    
}

fn handle_feed(feed: &amp;FeedConfig, client: &amp;Client) -&gt; Vec&lt;FetchedItem&gt; {
    println!(&quot;Fetching {}&quot;, feed.name);

    let rss_result = fetch_rss(&amp;feed.url, client);
    let mut src_items: Vec&lt;FetchedItem&gt; = Vec::new();

    let rss_channel = match rss_result {
        Ok(channel) =&gt; channel,
        Err(_) =&gt; {
            println!(&quot;Failed to load RSS feed&quot;);
            return src_items;
        },
    };

    for item in rss_channel.into_items() {
        let title_result = item.title();
        
        let title = match title_result {
            Some(title) =&gt; title,
            None =&gt; {
                println!(&quot;No title found&quot;);
                return src_items;
            },
        };

        let item_url = item.link().unwrap();
        let item_desc = item.clone().description.unwrap();

        let item_content: String = match item.clone().content {
            Some(content) =&gt; content,
            None =&gt; String::from(&quot;&quot;),
        };

        let fetched_item = FetchedItem {
            name: String::from(title),
            url: String::from(item_url),
            desc: item_desc.to_string(),
            content: item_content.to_string()
        };

        println!(&quot;Fetching post: {}[{:?}]&quot;, title, item_url);

        src_items.push(fetched_item)

        // if download_filter.is_match(title) {}
    }
    src_items
}

fn fetch_rss(url: &amp;str, client: &amp;Client) -&gt; Result&lt;Channel, Box&lt;dyn std::error::Error&gt;&gt; {
    println!(&quot;Fetching URL {}&quot;, url);
    let response = client.get(url).send()?;
    let status = response.status();
    println!(&quot;Response status: {}&quot;, status);
    if status.is_success() {
        let text = response.text()?;

        let rss_result = Channel::read_from(text.as_bytes());
        if let Ok(channel) = rss_result {
            Ok(channel)
        } else {
            let error = rss_result.err().unwrap();
            println!(&quot;Error parsing RSS feed: {:?}&quot;, error);
            Err(Box::new(error))
        }
    } else {
        println!(&quot;Error fetching RSS feed&quot;);
        Err(Box::new(response.error_for_status().err().unwrap()))
    }
}
</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="b·∫Øt-ƒë·∫ßu"><a class="header" href="#b·∫Øt-ƒë·∫ßu">B·∫Øt ƒë·∫ßu</a></h1>
<h2 id="kh·ªüi-t·∫°o-d·ª±-√°n"><a class="header" href="#kh·ªüi-t·∫°o-d·ª±-√°n">Kh·ªüi t·∫°o d·ª± √°n</a></h2>
<p>ƒê·ªçc th√™m trong <a href="https://react.dev/learn/creating-a-react-app">Creating a React App</a></p>
<h3 id="creating-a-react-app"><a class="header" href="#creating-a-react-app">Creating a React App</a></h3>
<pre><code>npx create-react-router@latest
</code></pre>
<p>C√°i n√†y s·∫Ω t·ª± ƒë·ªông setup Framework cho c√°c √¥ng l√†m vi·ªác. T√¥i c≈©ng kh√¥ng hi·ªÉu l·∫Øm v√† v√¨ c≈©ng m·ªõi h·ªçc n√™n t√¥i s·∫Ω ch·ªçn &quot;Build a React app from Scratch&quot;.</p>
<h3 id="build-a-react-app-from-scratch"><a class="header" href="#build-a-react-app-from-scratch">Build a React app from Scratch</a></h3>
<p>ƒê·ªçc th√™m trong <a href="https://react.dev/learn/build-a-react-app-from-scratch">Build a React app from Scratch</a>. Ch·ªçn Vite v√¨ th·∫•y m·∫•y √¥ng dev c≈©ng d√πng v√† kh√¥ng bi·∫øt g√¨ v·ªÅ Parcel v·ªõi Rsbuild.</p>
<pre><code>npm create vite@latest my-app -- --template react
</code></pre>
<h3 id="ch·ªçn-c√°i-n√†o"><a class="header" href="#ch·ªçn-c√°i-n√†o">Ch·ªçn c√°i n√†o</a></h3>
<p>Theo Documentation th√¨: </p>
<blockquote>
<p>If you want to build a new app or website with React, we recommend starting with a framework (Ch√≠nh l√† c√°i <em>Creating a React App</em> ·ªü tr√™n).</p>
</blockquote>
<p>V√† th√™m n·ªØa l√†:</p>
<blockquote>
<p>Starting from scratch is an easy way to get started using React, but a major tradeoff to be aware of is that going this route is often the same as building your own adhoc framework. As your requirements evolve, you may need to solve more framework-like problems that our recommended frameworks already have well developed and supported solutions for.</p>
</blockquote>
<h2 id="m·ªôt-s·ªë-thi·∫øt-l·∫≠p-kh√°c"><a class="header" href="#m·ªôt-s·ªë-thi·∫øt-l·∫≠p-kh√°c">M·ªôt s·ªë thi·∫øt l·∫≠p kh√°c</a></h2>
<h3 id="adding-typescript-to-an-existing-react-project"><a class="header" href="#adding-typescript-to-an-existing-react-project">Adding TypeScript to an existing React project</a></h3>
<pre><code>npm install @types/react @types/react-dom
</code></pre>
<p>The following compiler options need to be set in your <code>tsconfig.json</code>:</p>
<ol>
<li><code>dom</code> must be included in <a href="https://www.typescriptlang.org/tsconfig/#lib"><code>lib</code></a> (Note: If no <code>lib</code> option is specified, <code>dom</code> is included by default).</li>
<li><a href="https://www.typescriptlang.org/tsconfig/#jsx"><code>jsx</code></a> must be set to one of the valid options. <code>preserve</code> should suffice for most applications.</li>
</ol>
<h3 id="-1"><a class="header" href="#-1"></a></h3>
<p>Di·ªÉm kh√°c bi·ªát khi s·ª≠ d·ª•ng th√™m TypeScript th√¨ l√†... c√≥ th·ªÉ th√™m ki·ªÉu d·ªØ li·ªáu v√†o ki·ªÉu nh∆∞ n√†y:</p>
<pre><code class="language-jsx">function MyButton({ title }: { title: string }) {
  return (
    &lt;button&gt;{title}&lt;/button&gt;
  );
}

export default function MyApp() {
  return (
    &lt;div&gt;
      &lt;h1&gt;Welcome to my app&lt;/h1&gt;
      &lt;MyButton title=&quot;I'm a button&quot; /&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<h3 id="usestate"><a class="header" href="#usestate">useState</a></h3>
<pre><code class="language-jsx">// Infer the type as &quot;boolean&quot;
const [enabled, setEnabled] = useState(false);
// Trong tr∆∞·ªùng h·ª£p m√† c·∫ßn ph·∫£i khai b√°o th√™m ki·ªÉu th√¨
type Status = &quot;idle&quot; | &quot;loading&quot; | &quot;success&quot; | &quot;error&quot;;
const [status, setStatus] = useState&lt;Status&gt;(&quot;idle&quot;);
</code></pre>
<h1 id="kh·ªüi-ƒë·ªông-ch√∫t-react"><a class="header" href="#kh·ªüi-ƒë·ªông-ch√∫t-react">Kh·ªüi ƒë·ªông ch√∫t React</a></h1>
<p>Theo nh∆∞ trang h∆∞·ªõng d·∫´n n√≥i th√¨ c√°i trang n√†y s·∫Ω bao g·ªìm kho·∫£ng 80% nh·ªØng g√¨ m√† b·∫°n s·∫Ω d√πng trong React h√†ng ng√†y. G·ªçi b√†i n√†y l√† d·ªãch th√¨ <em>v·ª´a ƒë√∫ng v·ª´a kh√¥ng ƒë√∫ng</em> v√¨ m√¨nh ƒë√£ th√™m b·ªõt kh√° nhi·ªÅu sao cho h·ª£p v·ªõi c√°i hi·ªÉu c·ªßa m√¨nh. Nh∆∞ng c·∫•u tr√∫c t·ª´ng ph·∫ßn v·ªÅ c∆° b·∫£n v·∫´n v·∫≠y.</p>
<p>M√¨nh nghƒ© l√† c√°c nguy√™n l√Ω c∆° b·∫£n s·∫Ω kh√¥ng d·ªÖ b·ªã thay ƒë·ªïi qu√° nhanh cho n√™n l√† ch·∫Øc ƒë·ªÉ v·∫≠y c≈©ng oke.</p>
<h3 id="t·∫°o-v√†-nest-c√°c-components"><a class="header" href="#t·∫°o-v√†-nest-c√°c-components">T·∫°o v√† nest c√°c components</a></h3>
<p>V·ªÅ c∆° b·∫£n th√¨ ·ª©ng d·ª•ng React to√†n l√† <em>components</em> (A component is a piece of the UI (user interface) that has its own logic and appearance. A component can be as small as a button, or as large as an entire page). React components v·ªÅ c∆° b·∫£n l√† JavaScript functions, nh∆∞ng tr·∫£ v·ªÅ Markup:</p>
<pre><code class="language-js">function MyButton() {
  return (&lt;button&gt;I'm a button&lt;/button&gt;);
}
// ƒê√£ khai b√°o `MyButton` r·ªìi n√™n c√≥ th·ªÉ d√πng trong Component kh√°c, ki·ªÉu nh∆∞ n√†y:
export default function MyApp() {
  return (&lt;div&gt;&lt;h1&gt;Welcome to my app&lt;/h1&gt;&lt;MyButton /&gt;&lt;/div&gt;);
}
</code></pre>
<p>Nh·ªõ l√† <code>&lt;MyButton /&gt;</code> b·∫Øt ƒë·∫ßu b·∫±ng ch·ªØ c√°i in hoa ƒë·ªÉ nh·∫≠n di·ªán component, c√≤n in th∆∞·ªùng l√† cho HTML tag. </p>
<h3 id="vi·∫øt-markup-b·∫±ng-jsx"><a class="header" href="#vi·∫øt-markup-b·∫±ng-jsx">Vi·∫øt markup b·∫±ng JSX</a></h3>
<p>C√∫ ph√°p markup ƒë∆∞·ª£c d√πng ·ªü ƒë√¢y l√† <em>JSX</em> (D√π n√≥ l√† <em>optional</em>, nh∆∞ng m·∫•y √¥ng dev b·∫£o ch·∫≥ng ai kh·ªï d√¢m m√† kh√¥ng d√πng <em>JSX</em> c·∫£)</p>
<p>JSX th√¨ c·ª©ng nh·∫Øc h∆°n HTML. V√≠ d·ª• nh∆∞ c·∫ßn ph·∫£i ƒë√≥ng tag <code>&lt;br /&gt;</code>. V√† c≈©ng ch·ªâ ƒë∆∞·ª£c tr·∫£ m·ªôt JSX tag. Ho·∫∑c l√† g√≥i trong m·ªôt <em>shared parent</em>, ki·ªÉu nh∆∞ <code>&lt;div&gt;...&lt;/div&gt;</code> ho·∫∑c <code>&lt;&gt;...&lt;/&gt;</code> </p>
<pre><code>function AboutPage() {return (&lt;&gt;&lt;h1&gt;About&lt;/h1&gt;&lt;p&gt;Hello there.&lt;br /&gt;How do you do?&lt;/p&gt;&lt;/&gt;);}
</code></pre>
<p>If you have a lot of HTML to port to JSX, you can use an <a href="https://transform.tools/html-to-jsx">online converter</a></p>
<h3 id="th√™m-ch√∫t-ki·ªÉu-c√°ch-styles"><a class="header" href="#th√™m-ch√∫t-ki·ªÉu-c√°ch-styles">Th√™m ch√∫t ki·ªÉu c√°ch (styles)</a></h3>
<p>Trong React th√¨ khai b√°o CSS class b·∫±ng <code>className</code>. Ho·∫°t ƒë·ªông t∆∞∆°ng ƒë∆∞∆°ng thu·ªôc t√≠nh <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/class"><code>class</code></a> c·ªßa HTML:</p>
<pre><code class="language-html">&lt;img className=&quot;avatar&quot; /&gt;
</code></pre>
<p>R·ªìi vi·∫øt quy t·∫Øc CSS sang m·ªôt t·ªáp kh√°c</p>
<pre><code class="language-css">/* In your CSS */
.avatar {border-radius: 50%;}
</code></pre>
<p>Th√™m CSS th√¨ t∆∞∆°ng t·ª± nh∆∞ b√¨nh th∆∞·ªùng, c√≥ th·ªÉ l√† th√™m tag <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link"><code>&lt;link&gt;</code></a> v√†o t·ªáp HTML.</p>
<h3 id="hi·ªán-data"><a class="header" href="#hi·ªán-data">Hi·ªán data</a></h3>
<p>S·ª≠ d·ª•ng c·∫∑p ngo·∫∑c nh·ªçn ƒë·ªÉ th√™m ch√∫t JavaScript v√†o <code>{}</code> v√≠ d·ª• nh∆∞ <code>user.name</code>:</p>
<pre><code>return (&lt;h1&gt;{user.name}&lt;/h1&gt;);
</code></pre>
<p>C≈©ng c√≥ th·ªÉ l√†m t∆∞∆°ng t·ª± trong c√°c thu·ªôc t√≠nh c·ªßa &quot;tag&quot; JSX. V√≠ d·ª• nh∆∞ <code>src={user.imageUrl}</code> s·∫Ω ƒë·ªçc bi·∫øn <code>user.imageUrl</code> trong JavaScript, v√† ƒë∆∞a v√†o thu·ªôc t√≠nh <code>src</code>:</p>
<pre><code>return (&lt;imgclassName=&quot;avatar&quot;src={user.imageUrl}/&gt;);
</code></pre>
<!-- In the above example, `style={{}}` is not a special syntax, but a regular `{}` object inside the `style={ }` JSX curly braces. You can use the `style` attribute when your styles depend on JavaScript variables. -->
<h3 id="conditional-rendering"><a class="header" href="#conditional-rendering">Conditional rendering</a></h3>
<p>V·ªÅ c∆° b·∫£n th√¨ d√πng nh∆∞ vi·∫øt JavaScript, nh∆∞ ƒëo·∫°n code d∆∞·ªõi ƒë√¢y:</p>
<pre><code class="language-js">let doAn;
if (duTienMua) {
  doAn = &lt;BanhMi /&gt;;
} else {
  doAn = &lt;LamGiCoGiMaAn /&gt;; 
}
return (
  &lt;div&gt;
    {doAn}
  &lt;/div&gt;
);
</code></pre>
<p>Ho·∫∑c ƒë∆°n gi·∫£n h∆°n th√¨ d√πng Elvis operator</p>
<pre><code>&lt;div&gt;{duTienMua ? (&lt;BanhMi /&gt;) : (&lt;LamGiCoGiMaAn /&gt;)}&lt;/div&gt;
// N·∫øu kh√¥ng c·∫ßn `else` th√¨ g·ªçn n·ªØa
&lt;div&gt;{duTienMua &amp;&amp; &lt;BanhMi /&gt;}&lt;/div&gt;
</code></pre>
<h3 id="rendering-lists"><a class="header" href="#rendering-lists">Rendering lists</a></h3>
<p>D√πng c√°c ch·ª©c nƒÉng c·ªßa b√™n JS <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for"><code>for</code> loop</a> ho·∫∑c <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map">array <code>map()</code> function</a> ƒë·ªÉ render list components.</p>
<pre><code class="language-js">const products = [
  { title: 'Cabbage', id: 1 },
  { title: 'Garlic', id: 2 },
  { title: 'Apple', id: 3 }
];
// Inside your component, use the `map()` function to transform an array of products into an array of `&lt;li&gt;` items:
const listItems = products.map(
  product =&gt;
    &lt;li key={product.id}&gt;{product.title}&lt;/li&gt;
);
return (&lt;ul&gt;{listItems}&lt;/ul&gt;);

</code></pre>
<p>ƒê·ªÉ √Ω l√† <code>&lt;li&gt;</code> c√≥ thu·ªôc t√≠nh <code>key</code> s·ª≠ d·ª•ng ƒë·ªÉ nh·∫≠n di·ªán gi·ªØa c√°c Item v·ªõi nhau.</p>
<h3 id="responding-to-events"><a class="header" href="#responding-to-events">Responding to events</a></h3>
<p>Khai b√°o <em>event handler</em> function trong component:</p>
<pre><code class="language-js">function MyButton() {
  function handleClick() {
    alert('M√†y b·∫•m c√°i n√∫t n√†y xem');
  }

  return (
    &lt;button onClick={handleClick}&gt;
      Click me
    &lt;/button&gt;
  );
}
</code></pre>
<p><code>onClick={handleClick}</code> kh√¥ng s·ª≠ d·ª•ng d·∫•u <code>()</code> nha, kh√¥ng ph·∫£i l√† <code>onClick={handleClick()}</code> v√¨ ch√∫ng ta ƒëang coi <code>handleClick()</code> l√† m·ªôt argument c·ªßa <code>onClick</code> ch·ª© kh√¥ng ph·∫£i ƒë·ªÉ g·ªçi. </p>
<h3 id="c·∫≠p-nh·∫≠t-m√†n-h√¨nh"><a class="header" href="#c·∫≠p-nh·∫≠t-m√†n-h√¨nh">C·∫≠p nh·∫≠t m√†n h√¨nh</a></h3>
<p>Often, you'll want your component to &quot;remember&quot; some information and display it. For example, maybe you want to count the number of times a button is clicked. To do this, add <em>state</em> to your component.</p>
<p>ƒê·∫ßu ti√™n h√£y import <a href="https://react.dev/reference/react/useState"><code>useState</code></a>.</p>
<pre><code>import { useState } from 'react';
</code></pre>
<p>Now you can declare a <em>state variable</em> inside your component:</p>
<pre><code class="language-js">function MyButton() {
  const [count, setCount] = useState(0);
  // ...
</code></pre>
<p>B·∫°n s·∫Ω nh·∫≠n ƒë∆∞·ª£c hai th·ª© t·ª´ <code>useState</code>: state (tr·∫°ng th√°i) hi·ªán t·∫°i (<code>count</code>), v√† function ƒë·ªÉ update c√°i state ƒë·∫•y (<code>setCount</code>). Theo convention (C√°ch m√† m·ªçi ng∆∞·ªùi th∆∞·ªùng l√†m, m√† n√≥ ti·ªán v√† ƒë√∫ng nh√°) <code>[something, setSomething]</code>.</p>
<p>Xem th√™m ph·∫ßn v√≠ d·ª• ch·∫°y ph·∫ßn Code cho ph·∫ßn n√†y trong <a href="https://react.dev/learn#responding-to-events">Quick Start</a></p>
<h3 id="d√πng-hooks"><a class="header" href="#d√πng-hooks">D√πng Hooks</a></h3>
<p>Functions b·∫Øt ƒë·∫ßu b·∫±ng <code>use</code> ƒë∆∞·ª£c g·ªçi <em>Hooks</em>, v√≠ d·ª• nh∆∞ <code>useState</code>. ƒê·ªçc danh s√°ch c√°c ƒë·ªì ƒë√£ c√≥ s·∫µn<a href="https://react.dev/reference/react">API reference.</a>, ho·∫∑c t·ª± t·∫°o c≈©ng ƒë∆∞·ª£c.</p>
<p>Hooks are more restrictive than other functions. You can only call Hooks <em>at the top</em> of your components (or other Hooks). If you want to use <code>useState</code> in a condition or a loop, extract a new component and put it there.</p>
<p>S·∫Ω c·∫ßn n√≥i th√™m v·ªÅ Hook, nh∆∞ng ch·∫Øc ƒë·ªÉ sau.</p>
<h3 id="chia-s·∫ª-data-gi·ªØa-c√°c-components"><a class="header" href="#chia-s·∫ª-data-gi·ªØa-c√°c-components">Chia s·∫ª data gi·ªØa c√°c components</a></h3>
<p>Th∆∞·ªùng th√¨ nh∆∞ b·∫°n c√≥ th·ªÉ ƒë√£ bi·∫øt, m·ªói m·ªôt Component ƒë·ªÅu c√≥ cho m√¨nh m·ªôt State ri√™ng. Nh∆∞ng ƒë√¥i khi, b·∫°n c·∫ßn c√°c components share data v√† lu√¥n c·∫≠p nh·∫≠t (gi·ªëng nhau).# B√†n v·ªÅ UI trong React</p>
<h2 id="your-first-component"><a class="header" href="#your-first-component">Your First Component</a></h2>
<p>Trong bi·ªÉn code React ch·∫≥ng c√≥ g√¨ ngo√†i Components, c√≥ th·ªÉ n√≥i v·∫≠y.</p>
<blockquote>
<p>Components are one of the core concepts of React.</p>
</blockquote>
<pre><code class="language-jsx">// The `export default` prefix is a standard JavaScript syntax (not specific to React). It lets you mark the main function in a file so that you can later import it from other files.
// React components are regular JavaScript functions, but **their names must start with a capital letter** or they won't work!
export default function Profile() {
  // But if your markup isn‚Äôt all on the same line as the return keyword, you must wrap it in a pair of parentheses:
  // Without parentheses, any code on the lines after return will be ignored!
  return (
    &lt;img
      src=&quot;https://i.imgur.com/MK3eW3Am.jpg&quot;
      alt=&quot;Katherine Johnson&quot;
    /&gt;
  )
}
</code></pre>
<p>G·ªçi component ra ki·ªÉu nh∆∞ th·∫ø n√†y</p>
<pre><code class="language-jsx">export default function Gallery() {
  return (
    &lt;section&gt;
      &lt;h1&gt;Amazing scientists&lt;/h1&gt;
      &lt;Profile /&gt;
    &lt;/section&gt;
  );
}
</code></pre>
<p>N√≥ s·∫Ω tr·∫£ ra nh∆∞ n√†y (Note: M√¨nh th·∫•y b√¨nh th∆∞·ªùng h·ªç hay tr·∫£ <code>&lt;&gt;{}&lt;/&gt;</code> ho·∫∑c d√πng <code>&lt;div&gt;</code>, n·∫øu tr·∫£ <code>&lt;section&gt;</code> th√¨ HTML s·∫Ω <em>semantic</em>)</p>
<pre><code class="language-html">&lt;section&gt;
  &lt;h1&gt;Amazing scientists&lt;/h1&gt;
  &lt;img src=&quot;https://i.imgur.com/MK3eW3As.jpg&quot; alt=&quot;Katherine Johnson&quot; /&gt;
  &lt;img src=&quot;https://i.imgur.com/MK3eW3As.jpg&quot; alt=&quot;Katherine Johnson&quot; /&gt;
  &lt;img src=&quot;https://i.imgur.com/MK3eW3As.jpg&quot; alt=&quot;Katherine Johnson&quot; /&gt;
&lt;/section&gt;
</code></pre>
<p>Components can render other components (so you can keep multiple components in the same file), but you must never nest their definitions:</p>
<pre><code class="language-jsx">// Nh∆∞ n√†y l√† sai vl
export default function Gallery() {
  // üî¥ Never define a component inside another component!
  function Profile() {
    // ...
  }
  // ...
}

// M√† ph·∫£i nh∆∞ n√†y (C≈©ng kh√¥ng t·ªëi ∆∞u l·∫Øm)
export default function Gallery() {
  return (
    &lt;section&gt;
      &lt;Profile /&gt;
    &lt;/section&gt;
  )
}

function Profile() {
  // ...
}
</code></pre>
<h2 id="importing-and-exporting-components"><a class="header" href="#importing-and-exporting-components">Importing and Exporting Components</a></h2>
<h3 id="the-root-component-file"><a class="header" href="#the-root-component-file">The root component file</a></h3>
<p>These currently live in a root component file, named <code>App.js</code> in this example. Depending on your setup, your root component could be in another file, though</p>
<p>N·∫øu ƒë√¢y l√† t·ªáp <code>App.jsx</code> </p>
<pre><code class="language-jsx">function Profile() {
  return (
    &lt;img
      src=&quot;https://i.imgur.com/MK3eW3As.jpg&quot;
      alt=&quot;Katherine Johnson&quot;
    /&gt;
  );
}

export default function Gallery() {
  return (
    &lt;section&gt;
      &lt;Profile /&gt;
    &lt;/section&gt;
  );
}

</code></pre>
<p>Gi·∫£ s·ª≠ t·ªáp tr√™n ƒë∆∞·ª£c n√©m sang m·ªôt t·ªáp kh√°c <code>Gallery.jsx</code> ch·∫≥ng h·∫°n, th√¨ mu·ªën s·ª≠ d·ª•ng <code>&lt;Gallery /&gt;</code> ·ªü t·ªáp kh√°c th√¨ c·∫ßn <code>import</code> v√†o:</p>
<pre><code class="language-jsx">import Gallery from './Gallery.js';
// Nh∆∞ n√†y c≈©ng ƒë∆∞·ª£c, m√† n√™n nh∆∞ tr√™n h∆°n: import Gallery from './Gallery';
export default function App() {
  return (
    &lt;Gallery /&gt;
  );
}
</code></pre>
<h3 id="exporting-and-importing-multiple-components-from-the-same-file"><a class="header" href="#exporting-and-importing-multiple-components-from-the-same-file">Exporting and importing multiple components from the same file</a></h3>
<p>A file can only have one default export, but it can have numerous named exports!</p>
<p>When you write a <em>default</em> import, you can put any name you want after <code>import</code>. For example, you could write <code>import Banana from './Button.js'</code> instead and it would still provide you with the same default export.</p>
<div class="table-wrapper"><table><thead><tr><th>Syntax</th><th>Export statement</th><th>Import statement</th></tr></thead><tbody>
<tr><td>Default</td><td><code>export default function Button() {}</code></td><td><code>import Button from './Button.js';</code></td></tr>
<tr><td>Named</td><td><code>export function Button() {}</code></td><td><code>import { Button } from './Button.js';</code></td></tr>
</tbody></table>
</div>
<p>V√≠ nh∆∞ trong t·ªáp <code>Gallery.js</code> ·ªü tr√™n</p>
<pre><code class="language-jsx">export function Profile() {
  // ...
}
</code></pre>
<pre><code class="language-jsx">import { Profile } from './Gallery.js';
// Finally, render &lt;Profile /&gt; from the App component:
export default function App() {
  return &lt;Profile /&gt;;
}
</code></pre>
<h2 id="jsx"><a class="header" href="#jsx">JSX</a></h2>
<h3 id="the-rules-of-jsx"><a class="header" href="#the-rules-of-jsx">The Rules of JSX</a></h3>
<ul>
<li>Return a single root element: Ki·ªÉu <code>&lt;div&gt;&lt;/div&gt;</code></li>
<li>camelCase: stroke-width you use strokeWidth. Since class is a reserved word, in React you write className instead, named after the corresponding DOM property (<strong>Pitfall</strong>: For historical reasons, aria-* and data-* attributes are written as in HTML with dashes.)</li>
</ul>
<h3 id="javascript-in-jsx-with-curly-braces"><a class="header" href="#javascript-in-jsx-with-curly-braces">JavaScript in JSX with Curly Braces</a></h3>
<p>Ki·ªÉu nh∆∞ n√†y</p>
<pre><code class="language-jsx">export default function Avatar() {
  const avatar = 'https://i.imgur.com/7vQD0fPs.jpg';
  const description = 'Gregorio Y. Zara';
  return (
    &lt;img
      className=&quot;avatar&quot;
      src={avatar}
      alt={description}
    /&gt;
  );
}
</code></pre>
<p>You can only use curly braces in two ways inside JSX:</p>
<ol>
<li><strong>As text</strong> directly inside a JSX tag: <code>&lt;h1&gt;{name}'s To Do List&lt;/h1&gt;</code> works, but <code>&lt;{tag}&gt;Gregorio Y. Zara's To Do List&lt;/{tag}&gt;</code> will not.</li>
<li><strong>As attributes</strong> immediately following the <code>=</code> sign: <code>src={avatar}</code> will read the <code>avatar</code> variable, but <code>src=&quot;{avatar}&quot;</code> will pass the string <code>&quot;{avatar}&quot;</code>.</li>
</ol>
<p>Using ‚Äúdouble curlies‚Äù: CSS and other objects in JSX: Can even pass objects in JSX. Objects are also denoted with curly braces, like <code>{ name: &quot;Hedy Lamarr&quot;, inventions: 5 }</code>. To pass a JS object in JSX: <code>person={{ name: &quot;Hedy Lamarr&quot;, inventions: 5 }}</code>.</p>
<p>Inline <code>style</code> properties are written in camelCase. For example, HTML <code>&lt;ul style=&quot;background-color: black&quot;&gt;</code> would be written as <code>&lt;ul style={{ backgroundColor: 'black' }}&gt;</code> in your component.</p>
<pre><code class="language-jsx">export default function TodoList() {
  return (
    // L√† c√°i n√†y n√†y
    &lt;ul style={{
      backgroundColor: 'black',
      color: 'pink'
    }}&gt;
      &lt;li&gt;Improve the videophone&lt;/li&gt;
      &lt;li&gt;Prepare aeronautics lectures&lt;/li&gt;
      &lt;li&gt;Work on the alcohol-fuelled engine&lt;/li&gt;
    &lt;/ul&gt;
  );
}

</code></pre>
<pre><code class="language-jsx">const person = {
  name: 'Gregorio Y. Zara',
  theme: {
    backgroundColor: 'black',
    color: 'pink'
  }
};


export default function TodoList() {
  return (
    &lt;div style={person.theme}&gt;
      &lt;h1&gt;{person.name}'s Todos&lt;/h1&gt;
      &lt;img
        className=&quot;avatar&quot;
        src=&quot;https://i.imgur.com/7vQD0fPs.jpg&quot;
        alt=&quot;Gregorio Y. Zara&quot;
      /&gt;
      &lt;ul&gt;
        &lt;li&gt;Improve the videophone&lt;/li&gt;
        &lt;li&gt;Prepare aeronautics lectures&lt;/li&gt;
        &lt;li&gt;Work on the alcohol-fuelled engine&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<p>Tips: K·∫øt h·ª£p String v√†o v·ªõi nhau c≈©ng oke: <code>src={baseUrl + person.imageId + person.imageSize + '.jpg'}</code></p>
<h2 id="passing-props-to-a-component"><a class="header" href="#passing-props-to-a-component">Passing Props to a Component</a></h2>
<p>Props are the information that you pass to a JSX tag. For example, <code>className</code>, <code>src</code>, <code>alt</code>, <code>width</code>, and <code>height</code> are some of the props you can pass to an <code>&lt;img&gt;</code>:</p>
<pre><code class="language-jsx">export default function Profile() {
  return (
    // Adding the props to the component looks like this
    &lt;Avatar
      person={{ name: 'Lin Lanying', imageId: '1bX5QH6' }}
      size={100}
    /&gt;
  );
}

function Avatar({ person, size }) {  // person and size are available here
}
// Or setting the default value for the props' propert(ies)

// function Avatar({ person, size = 100 }) {
//   // ...
// }
</code></pre>
<h3 id="pitfall"><a class="header" href="#pitfall">### Pitfall</a></h3>
<p><strong>Don't miss the pair of <code>{</code> and <code>}</code> curlies</strong> inside of <code>(</code> and <code>)</code> when declaring props:</p>
<pre><code class="language-jsx">function Avatar({ person, size }) {  
  // ...
}
</code></pre>
<p>This syntax is called <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment#Unpacking_fields_from_objects_passed_as_a_function_parameter">&quot;destructuring&quot;</a> and is equivalent to reading properties from a function parameter:</p>
<pre><code class="language-jsx">function Avatar(props) {  
  let person = props.person;  
  let size = props.size;  
  // ...
}
</code></pre>
<p>M√† d√πng c√°i spread syntax n√†y h·∫°n ch·∫ø th√¥i nha</p>
<h3 id="-2"><a class="header" href="#-2"></a></h3>
<pre><code class="language-jsx">function Profile(props) {
  return (
    &lt;div className=&quot;card&quot;&gt;
      &lt;Avatar props={...props} /&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<p>fact kh√¥ng vui: props l√† immutable, v·∫≠y n√™n chuy·ªÉn qua c√°i <code>setState</code></p>
<p>Thay v√¨ t·∫°o Class (?) hmm</p>
<pre><code class="language-jsx">
function Profile({
  imageId,
  name,
  profession,
  awards,
  discovery,
  imageSize = 70
}) {
  return (
    &lt;section className=&quot;profile&quot;&gt;
      &lt;h2&gt;{name}&lt;/h2&gt;
      &lt;img
        className=&quot;avatar&quot;
        src={getImageUrl(imageId)}
        alt={name}
        width={imageSize}
        height={imageSize}
      /&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;b&gt;Profession:&lt;/b&gt; {profession}&lt;/li&gt;
        &lt;li&gt;
          &lt;b&gt;Awards: {awards.length} &lt;/b&gt;
          ({awards.join(', ')})
        &lt;/li&gt;
        &lt;li&gt;
          &lt;b&gt;Discovered: &lt;/b&gt;
          {discovery}
        &lt;/li&gt;
      &lt;/ul&gt;
    &lt;/section&gt;
  );
}

</code></pre>
<h2 id="ƒêi·ªÅu-ki·ªán-c√°c-th·ª©"><a class="header" href="#ƒêi·ªÅu-ki·ªán-c√°c-th·ª©">ƒêi·ªÅu ki·ªán c√°c th·ª©</a></h2>
<pre><code class="language-jsx">if (isPacked) {
  return &lt;li className=&quot;item&quot;&gt;{name} ‚úÖ&lt;/li&gt;;
}
return &lt;li className=&quot;item&quot;&gt;{name}&lt;/li&gt;;

// or

if (isPacked) {
  return (
  &lt;li className=&quot;item&quot;&gt;
    {isPacked ? name + ' ‚úÖ' : name}
  &lt;/li&gt;
);
}
</code></pre>
<h2 id="render-list"><a class="header" href="#render-list">Render list</a></h2>
<pre><code class="language-jsx">const people = [
  'Creola Katherine Johnson: mathematician',
  'Mario Jos√© Molina-Pasquel Henr√≠quez: chemist',
  'Mohammad Abdus Salam: physicist',
  'Percy Lavon Julian: chemist',
  'Subrahmanyan Chandrasekhar: astrophysicist'
];

export default function List() {
  const listItems = people.map(person =&gt;
    &lt;li&gt;{person}&lt;/li&gt;
  );
  return &lt;ul&gt;{listItems}&lt;/ul&gt;;
}

</code></pre>
<p>will display a warning</p>
<blockquote>
<p>Warning: Each child in a list should have a unique ‚Äúkey‚Äù prop.</p>
</blockquote>
<p>giai phap: them id vao</p>
<pre><code class="language-jsx">&lt;li key={person.id}&gt;...&lt;/li&gt;
</code></pre>
<h3 id="pitfall-kh√¥ng-bi·∫øt-th·ª©-bao-nhi√™u"><a class="header" href="#pitfall-kh√¥ng-bi·∫øt-th·ª©-bao-nhi√™u">Pitfall kh√¥ng bi·∫øt th·ª© bao nhi√™u</a></h3>
<p>Arrow functions implicitly return the expression right after <code>=&gt;</code>, so you didn't need a <code>return</code> statement:</p>
<pre><code>const listItems = chemists.map(person =&gt;  &lt;li&gt;...&lt;/li&gt; // Implicit return!);
</code></pre>
<p>However, <strong>you must write <code>return</code> explicitly if your <code>=&gt;</code> is followed by a <code>{</code> curly brace!</strong></p>
<pre><code>const listItems = chemists.map(person =&gt; { // Curly brace  return &lt;li&gt;...&lt;/li&gt;;});
</code></pre>
<h2 id="keeping-components-pure"><a class="header" href="#keeping-components-pure">Keeping Components Pure</a></h2>
<h3 id="v·ªÅ-c∆°-b·∫£n-l√†-fp"><a class="header" href="#v·ªÅ-c∆°-b·∫£n-l√†-fp">V·ªÅ c∆° b·∫£n l√† FP</a></h3>
<p>Fact 1: Detecting impure calculations with StrictMode (Trong Main.jsx hay g√¨ ƒë√≥ s·∫Ω c√≥ c√°i n√†y):</p>
<pre><code>&lt;StrictMode&gt;
  &lt;App /&gt;
&lt;/StrictMode&gt;
</code></pre>
<h3 id="local-mutation-your-components-little-secret"><a class="header" href="#local-mutation-your-components-little-secret">Local mutation: Your component‚Äôs little secret</a></h3>
<p>However, it‚Äôs completely fine to change variables and objects that you‚Äôve just created while rendering. In this example, you create an [] array, assign it to a cups variable, and then push a dozen cups into it</p>
<h2 id="understanding-your-ui-as-a-tree"><a class="header" href="#understanding-your-ui-as-a-tree">Understanding Your UI as a Tree</a></h2>
<p>ƒê·ªçc kh√¥ng th·∫•y hi·ªÉu l·∫Øm n√™n t·∫°m th·ªùi b·ªè qua nha.# Adding Interactivity
In React, data that changes over time is called <em>state</em>.</p>
<h2 id="responding-to-events-1"><a class="header" href="#responding-to-events-1">Responding to events</a></h2>
<h3 id="adding-event-handlers"><a class="header" href="#adding-event-handlers">Adding event handlers</a></h3>
<p>You defined the <code>handleClick</code> function and then <a href="https://react.dev/learn/passing-props-to-a-component">passed it as a prop</a> to <code>&lt;button&gt;</code>. <code>handleClick</code> is an <strong>event handler.</strong> Event handler functions:</p>
<ul>
<li>Are usually defined <em>inside</em> your components.</li>
<li>Have names that start with <code>handle</code>, followed by the name of the event.</li>
</ul>
<p>By convention, it is common to name event handlers as <code>handle</code> followed by the event name. You'll often see <code>onClick={handleClick}</code>, <code>onMouseEnter={handleMouseEnter}</code>, and so on.</p>
<pre><code class="language-jsx">export default function Button() {
  function handleClick() {
    alert('You clicked me!');
  }

  return (
    &lt;button onClick={handleClick}&gt;
      Click me
    &lt;/button&gt;
  );
}
</code></pre>
<p>Ho·∫∑c</p>
<pre><code class="language-jsx">
&lt;button onClick={function handleClick() {
  alert('You clicked me!');
}}&gt;

// Or, more concisely, using an arrow function:

&lt;button onClick={() =&gt; {
  alert('You clicked me!');
}}&gt;
</code></pre>
<p><strong>Pitfall</strong></p>
<p>Functions passed to event handlers must be passed, not called. For example:</p>
<div class="table-wrapper"><table><thead><tr><th>passing a function (correct)</th><th>calling a function (incorrect)</th></tr></thead><tbody>
<tr><td><code>&lt;button onClick={handleClick}&gt;</code></td><td><code>&lt;button onClick={handleClick()}&gt;</code></td></tr>
</tbody></table>
</div>
<p>The difference is subtle. In the first example, the <code>handleClick</code> function is passed as an <code>onClick</code> event handler. This tells React to remember it and only call your function when the user clicks the button.</p>
<p>In the second example, the <code>()</code> at the end of <code>handleClick()</code> fires the function <em>immediately</em> during <a href="https://react.dev/learn/render-and-commit">rendering</a>, without any clicks. This is because JavaScript inside the <a href="https://react.dev/learn/javascript-in-jsx-with-curly-braces">JSX <code>{</code> and <code>}</code></a> executes right away. When you write code inline, the same pitfall presents itself in a different way:</p>
<div class="table-wrapper"><table><thead><tr><th>passing a function (correct)</th><th>calling a function (incorrect)</th></tr></thead><tbody>
<tr><td><code>&lt;button onClick={() =&gt; alert('...')}&gt;</code></td><td><code>&lt;button onClick={alert('...')}&gt;</code></td></tr>
</tbody></table>
</div>
<h3 id="passing-event-handlers-as-props"><a class="header" href="#passing-event-handlers-as-props">Passing event handlers as props</a></h3>
<p>Ki·ªÉu nh∆∞ n√†y, t·∫°o th√™m m·ªôt c√°i Component t√™n l√† <code>Button</code> r·ªìi th√™m onClick l√†m prop.</p>
<pre><code class="language-jsx">function Button({ onClick, children }) {
  return (
    &lt;button onClick={onClick}&gt;
      {children}
    &lt;/button&gt;
  );
}

function PlayButton({ movieName }) {
  function handlePlayClick() {
    alert(`Playing ${movieName}!`);
  }

  return (
    &lt;Button onClick={handlePlayClick}&gt;
      Play &quot;{movieName}&quot;
    &lt;/Button&gt;
  );
}
</code></pre>
<h3 id="naming-event-handler-props"><a class="header" href="#naming-event-handler-props">Naming event handler props</a></h3>
<p>Built-in components like <code>&lt;button&gt;</code> and <code>&lt;div&gt;</code> only support <a href="https://react.dev/reference/react-dom/components/common#common-props">browser event names</a> like <code>onClick</code>. However, when you're building your own components, you can name their event handler props any way that you like.</p>
<p>By convention, event handler props should start with <code>on</code>, followed by a capital letter. Ki·ªÉu th·∫ø n√†y:</p>
<pre><code class="language-jsx">function Button({ onSmash, children }) {
  return (
    &lt;button onClick={onSmash}&gt;
      {children}
    &lt;/button&gt;
  );
}

export default function App() {
  return (
    &lt;div&gt;
      &lt;Button onSmash={() =&gt; alert('Playing!')}&gt;
        Play Movie
      &lt;/Button&gt;
      &lt;Button onSmash={() =&gt; alert('Uploading!')}&gt;
        Upload Image
      &lt;/Button&gt;
    &lt;/div&gt;
  );
}

</code></pre>
<h3 id="event-propagation"><a class="header" href="#event-propagation">Event propagation</a></h3>
<p>Event handlers will also catch events from any children your component might have. We say that an event ‚Äúbubbles‚Äù or ‚Äúpropagates‚Äù up the tree: it starts with where the event happened, and then goes up the tree.</p>
<p>T·ª©c l√†, event con khi ƒë∆∞·ª£c ch·∫°y xong th√¨ n√≥ c≈©ng s·∫Ω nh·∫£y l√™n event cha ƒë·ªÉ ch·∫°y n·ªët, ƒë·ªçc code nha</p>
<pre><code class="language-jsx">export default function Toolbar() {
  return (
    &lt;div className=&quot;Toolbar&quot; onClick={() =&gt; {
      alert('You clicked on the toolbar!');
    }}&gt;
      &lt;button onClick={() =&gt; alert('Playing!')}&gt;
        Play Movie
      &lt;/button&gt;
      &lt;button onClick={() =&gt; alert('Uploading!')}&gt;
        Upload Image
      &lt;/button&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<p>Gi·∫£ s·ª≠ b·∫°n b·∫•m n√∫t 'Playing' th√¨ ƒëo·∫°n alert 'Playing!' ƒë√≥ s·∫Ω ƒë∆∞·ª£c ch·∫°y tr∆∞·ªõc (component con), r·ªìi sau ƒë√≥ alert 'You clicked on the toolbar!' s·∫Ω ƒë∆∞·ª£c ch·∫°y.</p>
<p>Ho·∫∑c: That event object also lets you stop the propagation. If you want to prevent an event from reaching parent components, you need to call <code>e.stopPropagation()</code> like this <code>Button</code> component does:</p>
<p>·ªû ph·∫ßn tr√™n th√¨ thay <code>&lt;button&gt;</code> th√†nh component <code>&lt;Button&gt;</code> r·ªìi s·ª≠a l·∫°i th√†nh th·∫ø n√†y:</p>
<pre><code class="language-jsx">function Button({ onClick, children }) {
  return (
    &lt;button onClick={e =&gt; {
      e.stopPropagation();
      onClick();
    }}&gt;
      {children}
    &lt;/button&gt;
  );
}
</code></pre>
<p>·ªû c√°i toolbar ·ªü tr√™n n√≥ s·∫Ω th√†nh th·∫ø n√†y:</p>
<pre><code class="language-jsx">&lt;Button onClick={() =&gt; alert('Playing!')}&gt;
    Play Movie
&lt;/Button&gt;
&lt;Button onClick={() =&gt; alert('Uploading!')}&gt;
Upload Image
&lt;/Button&gt;
</code></pre>
<p>Kh√¥ng li√™n quan: Events may have unwanted default browser behavior. Call <code>e.preventDefault()</code> to prevent that.</p>
<h2 id="state-a-components-memory"><a class="header" href="#state-a-components-memory">State: A Component's Memory</a></h2>
<pre><code class="language-js">const [index, setIndex] = useState(0);
</code></pre>
<h3 id="meet-your-first-hook"><a class="header" href="#meet-your-first-hook">Meet your first Hook</a></h3>
<p>In React, <code>useState</code>, as well as any other function starting with &quot;<code>use</code>&quot;, is called a Hook.</p>
<p><em>Hooks</em> are special functions that are only available while React is <a href="https://react.dev/learn/render-and-commit#step-1-trigger-a-render">rendering</a> (which we'll get into in more detail on the next page). They let you &quot;hook into&quot; different React features.</p>
<blockquote>
<p>Hooks ‚Äî functions starting with use‚Äîcan only be called at the top level of your components or your own Hooks. You can‚Äôt call Hooks inside conditions, loops, or other nested functions. Hooks are functions, but it‚Äôs helpful to think of them as unconditional declarations about your component‚Äôs needs.</p>
</blockquote>
<p>The convention is to name this pair like <code>const [something, setSomething]</code>. You could name it anything you like, but conventions make things easier to understand across projects.</p>
<h3 id="state-is-isolated-and-private"><a class="header" href="#state-is-isolated-and-private">State is isolated and private</a></h3>
<h2 id="render-and-commit"><a class="header" href="#render-and-commit">Render and Commit</a></h2>
<p>Vi·∫øt v·ªÅ c√°ch ho·∫°t ƒë·ªông c∆° b·∫£n c·ªßa React, ki·ªÉu nh∆∞ n√†y</p>
<h3 id="step-1-triggering-a-render"><a class="header" href="#step-1-triggering-a-render">Step 1: Triggering a render</a></h3>
<ol>
<li>It's the component's <strong>initial render.</strong></li>
<li>The component's (or one of its ancestors') <strong>state has been updated.</strong></li>
</ol>
<p>ƒê√¢y l√† m·ªôt, c√≤n hai l√† c√°i set-G√¨-G√¨-ƒê√≥ nh∆∞ ki·ªÉu setNumber, s·∫Ω khi·∫øn React render l·∫°i:</p>
<pre><code class="language-jsx">import Image from './Image.js';
import { createRoot } from 'react-dom/client';

const root = createRoot(document.getElementById('root'));
root.render(&lt;Image /&gt;);
</code></pre>
<h3 id="step-2-react-renders-your-components"><a class="header" href="#step-2-react-renders-your-components">Step 2: React renders your components</a></h3>
<ul>
<li><strong>On initial render,</strong> React will call the root component.</li>
<li><strong>For subsequent renders,</strong> React will call the function component whose state update triggered the render.</li>
</ul>
<h2 id="state-as-a-snapshot"><a class="header" href="#state-as-a-snapshot">State as a Snapshot</a></h2>
<p>State ho·∫°t ƒë·ªông kh√¥ng gi·ªëng nh∆∞ m·ªôt bi·∫øn b√¨nh th∆∞·ªùng trong JS.</p>
<pre><code class="language-jsx">import { useState } from 'react';

export default function Counter() {
  const [number, setNumber] = useState(0);

  return (
    &lt;&gt;
      &lt;h1&gt;{number}&lt;/h1&gt;
      &lt;button onClick={() =&gt; {
        setNumber(number + 1);
        setNumber(number + 1);
        setNumber(number + 1);
      }}&gt;+3&lt;/button&gt;
    &lt;/&gt;
  )
}
</code></pre>
<p>C√≥ th·ªÉ nhi·ªÅu ng∆∞·ªùi s·∫Ω nghƒ© sau m·ªói l·∫ßn b·∫•m th√¨ n√≥ s·∫Ω l√† +3, nh∆∞ng n√≥ ch·ªâ +1 th√¥i =)).</p>
<p><strong>Setting state only changes it for the <em>next</em> render.</strong> During the first render, <code>number</code> was <code>0</code>. This is why, in <em>that render's</em> <code>onClick</code> handler, the value of <code>number</code> is still <code>0</code> even after <code>setNumber(number + 1)</code> was called.</p>
<p>Hay trong v√≠ d·ª• n√†y</p>
<pre><code class="language-jsx">import { useState } from 'react';

export default function Counter() {
  const [number, setNumber] = useState(0);

  return (
    &lt;&gt;
      &lt;h1&gt;{number}&lt;/h1&gt;
      &lt;button onClick={() =&gt; {
        setNumber(number + 5);
        alert(number);
      }}&gt;+5&lt;/button&gt;
    &lt;/&gt;
  )
}
</code></pre>
<p>K·∫øt qu·∫£ v·∫´n s·∫Ω l√†:</p>
<pre><code class="language-jsx">setNumber(0 + 5);
setTimeout(() =&gt; {
  alert(0);
}, 3000);
</code></pre>
<p>B·∫•t ng·ªù ch∆∞a, c√°i alert v·∫´n s·∫Ω hi·ªán gi√° tr·ªã 0 thay v√¨ 5.</p>
<blockquote>
<p><strong>A state variable's value never changes within a render,</strong> even if its event handler's code is asynchronous. Inside <em>that render's</em> <code>onClick</code>, the value of <code>number</code> continues to be <code>0</code> even after <code>setNumber(number + 5)</code> was called. Its value was &quot;fixed&quot; when React &quot;took the snapshot&quot; of the UI by calling your component.</p>
</blockquote>
<h2 id="queueing-a-series-of-state-updates"><a class="header" href="#queueing-a-series-of-state-updates">Queueing a Series of State Updates</a></h2>
<p>·ªû c√°i v√≠ d·ª• tr√™n:</p>
<pre><code class="language-jsx">  return (
    &lt;&gt;
      &lt;h1&gt;{number}&lt;/h1&gt;
      &lt;button onClick={() =&gt; {
        setNumber(n =&gt; n + 1);
        setNumber(n =&gt; n + 1);
        setNumber(n =&gt; n + 1);
      }}&gt;+3&lt;/button&gt;
    &lt;/&gt;
  )
</code></pre>
<h2 id="updating-objects-in-state"><a class="header" href="#updating-objects-in-state">Updating Objects in State</a></h2>
<h3 id="treat-state-as-read-only"><a class="header" href="#treat-state-as-read-only">Treat state as read-only</a></h3>
<p>In other words, you should treat any JavaScript object that you put into state as read-only.</p>
<p>To actually trigger a re-render in this case, create a new object and pass it to the state setting function:</p>
<pre><code class="language-jsx">const [position, setPosition] = useState({
  x: 0,
  y: 0
});
onPointerMove={e =&gt; {
  setPosition({
    x: e.clientX,
    y: e.clientY
  });
}}
</code></pre>
<pre><code class="language-jsx">setPerson({
  ...person, // Copy other fields
  artwork: { // but replace the artwork
    ...person.artwork, // with the same one
    city: 'New Delhi' // but in New Delhi!
  }
});
</code></pre>
<h2 id="updating-arrays-in-state"><a class="header" href="#updating-arrays-in-state">Updating Arrays in State</a></h2>
<div class="table-wrapper"><table><thead><tr><th>Functions</th><th>avoid (mutates the array)</th><th>prefer (returns a new array)</th></tr></thead><tbody>
<tr><td>adding</td><td><code>push</code>, <code>unshift</code></td><td><code>concat</code>, <code>[...arr]</code> spread syntax (<a href="https://react.dev/learn/updating-arrays-in-state#adding-to-an-array">example</a>)</td></tr>
<tr><td>removing</td><td><code>pop</code>, <code>shift</code>, <code>splice</code></td><td><code>filter</code>, <code>slice</code> (<a href="https://react.dev/learn/updating-arrays-in-state#removing-from-an-array">example</a>)</td></tr>
<tr><td>replacing</td><td><code>splice</code>, <code>arr[i] = ...</code> assignment</td><td><code>map</code> (<a href="https://react.dev/learn/updating-arrays-in-state#replacing-items-in-an-array">example</a>)</td></tr>
<tr><td>sorting</td><td><code>reverse</code>, <code>sort</code></td><td>copy the array first (<a href="https://react.dev/learn/updating-arrays-in-state#making-other-changes-to-an-array">example</a>)</td></tr>
</tbody></table>
</div>
<p>Alternatively, you can <a href="https://react.dev/learn/updating-arrays-in-state#write-concise-update-logic-with-immer">use Immer</a> which lets you use methods from both columns.</p>
<p>Instead, create a new array which contains the existing items and a new item at the end. There are multiple ways to do this, but the easiest one is to use the ... array spread syntax:</p>
<pre><code class="language-jsx">setArtists( // Replace the state
  [ // with a new array
    ...artists, // that contains all the old items
    { id: nextId++, name: name } // and one new item at the end
  ]
);
// or

setArtists([
  { id: nextId++, name: name },
  ...artists // Put old items at the end
]);
</code></pre>
<p>Delete</p>
<pre><code class="language-jsx">setArtists(
  artists.filter(a =&gt; a.id !== artist.id)
);
</code></pre>
<p>Here, artists.filter(a =&gt; a.id !== artist.id) means ‚Äúcreate an array that consists of those artists whose IDs are different from artist.id‚Äù.</p>
<p>In other words, each artist‚Äôs ‚ÄúDelete‚Äù button will filter that artist out of the array, and then request a re-render with the resulting array. Note that filter does not modify the original array.</p>
<p>Thay ƒë·ªïi cho m·ªôt v√†i ho·∫∑c t·∫•t c·∫£ c√°c item trong array b·∫±ng <code>map()</code></p>
<pre><code class="language-js">function handleClick() {
  const nextShapes = shapes.map(shape =&gt; {
    if (shape.type === 'square') {
      // No change
      return shape;
    } else {
      // Return a new circle 50px below
      return {
        ...shape,
        y: shape.y + 50,
      };
    }
  });
  // Re-render with the new array
  setShapes(nextShapes);
}
</code></pre>
<p>Replace</p>
<pre><code class="language-js">
const [counters, setCounters] = useState(
  initialCounters
);

function handleIncrementClick(index) {
  const nextCounters = counters.map((c, i) =&gt; {
    if (i === index) {
      // Increment the clicked counter
      return c + 1;
    } else {
      // The rest haven't changed
      return c;
    }
  });
  setCounters(nextCounters);
}
</code></pre>
<p>Insert ·ªü gi·ªØa</p>
<pre><code class="language-jsx">function handleClick() {
  const insertAt = 1; // Could be any index
  const nextArtists = [
    // Items before the insertion point:
    ...artists.slice(0, insertAt),
    // New item:
    { id: nextId++, name: name },
    // Items after the insertion point:
    ...artists.slice(insertAt)
  ];
  setArtists(nextArtists);
  // ƒê·ªÉ kh·ªüi t·∫°o l·∫°i c√°i h·ªôp ghi t√™n th√†nh r·ªóng
  setName('');
}

</code></pre>
<p>Reverse hay sort c√°c th·ª©</p>
<pre><code class="language-js">const [list, setList] = useState(initialList);

function handleClick() {
  const nextList = [...list];
  nextList.reverse();
  setList(nextList);
}
</code></pre>
<p>Here, you use the <code>[...list]</code> spread syntax to create a copy of the original array first. Now that you have a copy, you can use mutating methods like <code>nextList.reverse()</code> or <code>nextList.sort()</code>, or even assign individual items with <code>nextList[0] = &quot;something&quot;</code>.</p>
<p>ƒê·∫øn ƒë√¢y th√¨ d·ª´ng l·∫°i vi·ªác h·ªçc ph·∫ßn 3 v√† 4 v√¨ n√≥ ƒë∆∞·ª£c ƒë√°nh d·∫•u l√† trung c·∫•p, m√¨nh s·∫Ω s·ª≠a l·∫°i sau.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="kh·ªüi-ƒë·ªông-react-native"><a class="header" href="#kh·ªüi-ƒë·ªông-react-native">Kh·ªüi ƒë·ªông React Native</a></h1>
<h2 id="b√†i-1"><a class="header" href="#b√†i-1">B√†i 1</a></h2>
<p>B√†i n√†y s·∫Ω h·ªçc v·ªÅ React n√™n qua <a href="https://react.dev/">react.dev</a> ƒë·ªÉ h·ªçc nha.</p>
<h2 id="b√†i-2"><a class="header" href="#b√†i-2">B√†i 2</a></h2>
<p>B√¨nh th∆∞·ªùng th√¨ s·∫Ω l√† th·∫ø n√†y:</p>
<pre><code class="language-bash">npx create-expo-app@latest &lt;app-name&gt;
# Kh·ªüi t·∫°o th√¨ n√≥ s·∫Ω ra d·ª± √°n default v·ªõi c·∫£ ƒë·ªëng code m√† b·∫°n kh√¥ng c·∫ßn, n√™n ƒë·ªÉ d·ªçn ƒëi th√¨ ch·ªâ c·∫ßn ch·∫°y
npm run reset-project
# L√† xong
</code></pre>
<p>Nh∆∞ng v·ªõi d·ª± √°n h·ªçc t·∫≠p v√† ƒë·ªÉ hi·ªÉu v·ªÅ React Native v·ªõi React th√¨ c√≥ th·ªÉ s·ª≠ d·ª•ng ph·∫ßn d∆∞·ªõi ƒë√¢y:</p>
<pre><code class="language-bash">npx create-expo-app@latest &lt;app-name&gt; --template blank
# Do c√°i n√†y kh√¥ng h·ªó tr·ª£ Preview tr√™n tr√¨nh duy·ªát n√™n c·∫ßn t·∫£i th√™m
npx expo install react-dom react-native-web @expo/metro-runtime
# L√† xong
</code></pre>
<p>ƒê·ªÉ ch·∫°y ·ª©ng d·ª•ng th√¨ ch·ªâ c·∫ßn g√µ:</p>
<pre><code class="language-bash">npx expo start
</code></pre>
<p>What‚Äôs inside a React Native project?</p>
<pre><code>.gitignore:
  .expo
  .vscode
node_modules:
  # Holds 3rd party packages

assets:
  # Holds images used inside app

package.json, package-lock.json:
  # Holds dependencies, script commands, etc.

app.json:
  # Configuration settings

App.js:
  # The real code
</code></pre>
<p>There‚Äôs a function component called <code>App</code>. This component acts as the root component by default. In React Native, you can‚Äôt use HTML tags in JSX code. Unlike React where your application runs on the browser, React Native application runs on mobile devices.</p>
<p><a href="https://reactnative.dev/docs/components-and-apis">React Native components documentation</a></p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">React Native UI Component</th><th style="text-align: left">Android View</th><th style="text-align: left">iOS View</th><th style="text-align: left">Web Analog</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><code>&lt;View&gt;</code></td><td style="text-align: left"><code>&lt;ViewGroup&gt;</code></td><td style="text-align: left"><code>&lt;UIView&gt;</code></td><td style="text-align: left">A non-scrolling <code>&lt;div&gt;</code></td><td style="text-align: left">A container that supports layout with flexbox, style, some touch handling, and accessibility controls</td></tr>
<tr><td style="text-align: left"><code>&lt;Text&gt;</code></td><td style="text-align: left"><code>&lt;TextView&gt;</code></td><td style="text-align: left"><code>&lt;UITextView&gt;</code></td><td style="text-align: left"><code>&lt;p&gt;</code></td><td style="text-align: left">Displays, styles, and nests strings of text and even handles touch events</td></tr>
<tr><td style="text-align: left"><code>&lt;Image&gt;</code></td><td style="text-align: left"><code>&lt;ImageView&gt;</code></td><td style="text-align: left"><code>&lt;UIImageView&gt;</code></td><td style="text-align: left"><code>&lt;img&gt;</code></td><td style="text-align: left">Displays different types of images</td></tr>
<tr><td style="text-align: left"><code>&lt;ScrollView&gt;</code></td><td style="text-align: left"><code>&lt;ScrollView&gt;</code></td><td style="text-align: left"><code>&lt;UIScrollView&gt;</code></td><td style="text-align: left"><code>&lt;div&gt;</code></td><td style="text-align: left">A generic scrolling container that can contain multiple components and views</td></tr>
<tr><td style="text-align: left"><code>&lt;TextInput&gt;</code></td><td style="text-align: left"><code>&lt;EditText&gt;</code></td><td style="text-align: left"><code>&lt;UITextField&gt;</code></td><td style="text-align: left"><code>&lt;input type=&quot;text&quot;&gt;</code></td><td style="text-align: left">Allows the user to enter text</td></tr>
</tbody></table>
</div>
<p>Trong React Native th√¨ ch√∫ng ta s·∫Ω s·ª≠ d·ª•ng <code>StyleSheet Objects</code> (Ki·ªÉu CSS, nh∆∞ng vi·∫øt b·∫±ng JavaScript).</p>
<p>V·ªÅ c∆° b·∫£n th√¨ n√≥ s·∫Ω tr√¥ng nh∆∞ th·∫ø n√†y:</p>
<pre><code class="language-jsx">const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center',
    alignItems: 'center'
  }
});
</code></pre>
<h2 id="b√†i-3"><a class="header" href="#b√†i-3">B√†i 3</a></h2>
<h3 id="what-is-fast-refresh"><a class="header" href="#what-is-fast-refresh">What is Fast Refresh?</a></h3>
<ul>
<li>Fast Refresh is a feature in React that updates the application instantly after editing the source code without reloading the entire page.</li>
<li>Key benefits:
<ul>
<li>Preserves state in function components and Hooks.</li>
<li>Speeds up development and reduces interruptions.</li>
</ul>
</li>
</ul>
<p>Limitations: State is not preserved in:</p>
<ul>
<li>Class components.</li>
<li>Modules with multiple exports besides React components.</li>
<li>Higher-order components returning class components.</li>
</ul>
<p>(Ph·∫ßn v·ªÅ Fast Refresh ch·∫Øc l√† h·ªçc qua ph·∫ßn l√Ω thuy·∫øt th√¥i)</p>
<pre><code class="language-jsx">import React, { Component } from &quot;react&quot;;
import { Button, Text, View } from &quot;react-native&quot;;

// State is not preserved in class components
class App extends Component {
  state = { count: 0 };

  increment = () =&gt; this.setState({ count: this.state.count + 1 });

  render() {
    return (
      &lt;View&gt;
        &lt;Text&gt;{this.state.count}&lt;/Text&gt;
        &lt;Button title=&quot;Increment&quot; onPress={this.increment} /&gt;
      &lt;/View&gt;
    );
  }
}
</code></pre>
<h3 id="fast-refresh-and-hooks"><a class="header" href="#fast-refresh-and-hooks">Fast Refresh and Hooks</a></h3>
<ul>
<li><code>useState</code>, <code>useRef</code>: Preserve their values if the arguments are unchanged.</li>
<li><code>useEffect</code>, <code>useMemo</code>, <code>useCallback</code>: Always update during Fast Refresh, even if dependencies don‚Äôt change (Lu√¥n ƒë∆∞·ª£c c·∫≠p nh·∫≠t trong Fast Refresh).</li>
</ul>
<pre><code class="language-jsx">import React, { useEffect, useMemo, useState } from &quot;react&quot;;
import { Button, Text, View } from &quot;react-native&quot;;

const App = ({ multiplier }) =&gt; {
  const [count, setCount] = useState(0);

  // useMemo will re-run when edited
  const double = useMemo(() =&gt; count * multiplier, [count]);

  useEffect(() =&gt; {
    console.log(&quot;Component re-rendered&quot;);
  }, []);

  return (
    &lt;View&gt;
      &lt;Text&gt;Double: {double}&lt;/Text&gt;
      &lt;Button title=&quot;Increment&quot; onPress={() =&gt; setCount(count + 1)} /&gt;
    &lt;/View&gt;
  );
};
</code></pre>
<blockquote>
<p>M·∫πo hay: Type ‚Äú?‚Äù on Terminal to see full list of command while <code>npm start</code> process is running. Press <code>m</code> to toggle a menu on device/emulator.</p>
</blockquote>
<h3 id="building-adaptive-user-interfaces"><a class="header" href="#building-adaptive-user-interfaces">Building Adaptive User Interfaces</a></h3>
<p>Responsive Units:</p>
<ul>
<li>Use relative units like <code>%, vh, or vw</code> for widths and heights.</li>
<li>Use scalable units like <code>em or rem</code> for font sizes.</li>
<li>Use third-party libraries such as <code>react-native-size-matters</code> to simplify responsive development.</li>
</ul>
<p>Using <code>maxWidth</code> or <code>minWidth</code> besides the regular width to create more responsive sizes.</p>
<h3 id="dimensions-api"><a class="header" href="#dimensions-api">Dimensions API</a></h3>
<pre><code class="language-jsx">import { Dimensions } from 'react-native';

const windowWidth = Dimensions.get('window').width;
const windowHeight = Dimensions.get('window').height;

// `useWindowDimensions()` is the preferred API for React components.
const { width, height } = useWindowDimensions();
</code></pre>
<h3 id="managing-layout-when-keyboard-is-visible"><a class="header" href="#managing-layout-when-keyboard-is-visible">Managing layout when keyboard is visible</a></h3>
<p><code>KeyboardAvoidingView</code></p>
<pre><code class="language-jsx">import { KeyboardAvoidingView } from 'react-native';

&lt;KeyboardAvoidingView style={styles.screen} behavior=&quot;position&quot;&gt;
  &lt;TextInput .../&gt;
&lt;/KeyboardAvoidingView&gt;
</code></pre>
<h3 id="handling-user-input"><a class="header" href="#handling-user-input">Handling user input</a></h3>
<ul>
<li>Input Components:
<ul>
<li><code>TextInput</code>: The core component for receiving user input (H·ªôp ƒë·ªÉ ghi ch·ªØ v√†o).</li>
<li><code>Button</code>: Used to handle submission or trigger an action.</li>
</ul>
</li>
<li>Events:
<ul>
<li><code>onChangeText</code>: captures changes in TextInput (so that we can update the state) (C√°i n√†y ƒë·ªÉ c·∫≠p nh·∫≠t l·∫°i th√¥ng tin v√†o state trong <code>&lt;TextInput&gt;</code>)</li>
<li><code>onPress</code>: B·∫±ng <code>onClick</code> b√¨nh th∆∞·ªùng.</li>
</ul>
</li>
</ul>
<h3 id="core-component-scrollview"><a class="header" href="#core-component-scrollview">Core component: ScrollView</a></h3>
<p>ƒê√¢y l√† ph·∫ßn Data ƒë·ªÉ th·ª≠ nghi·ªám</p>
<pre><code class="language-js">const users = [
  {
    userName: &quot;John Doe&quot;,
    userAge: 28,
    userAddress: &quot;123 Main St, Anytown, USA&quot;
  },
  {
    userName: &quot;Jane Smith&quot;,
    userAge: 34,
    userAddress: &quot;456 Oak Ave, Othercity, USA&quot;
  },
  {
    userName: &quot;Alice Johnson&quot;,
    userAge: 22,
    userAddress: &quot;789 Elm St, Yetanothertown, USA&quot;
  },
  {
    userName: &quot;Bob Brown&quot;,
    userAge: 45,
    userAddress: &quot;321 Pine Rd, Somewhere, USA&quot;
  },
  {
    userName: &quot;Eve Davis&quot;,
    userAge: 30,
    userAddress: &quot;654 Cedar Ln, Placesburg, USA&quot;
  }
];
</code></pre>
<pre><code class="language-jsx">&lt;View&gt;
  &lt;ScrollView&gt;
    {users.map((user, index) =&gt; (
      // Add a key prop when mapping over arrays
      &lt;View key={index}&gt;
        &lt;Text&gt;username: {user.userName}&lt;/Text&gt;
        &lt;Text&gt;userage: {user.userAge}&lt;/Text&gt;
        &lt;Text&gt;user addr: {user.userAddress}&lt;/Text&gt;
      &lt;/View&gt;
    ))}
  &lt;/ScrollView&gt;
&lt;/View&gt;;
</code></pre>
<h4 id="flatlist"><a class="header" href="#flatlist">FlatList</a></h4>
<pre><code class="language-jsx">&lt;View style={styles.bottomSection}&gt;
  &lt;FlatList
    data={DATA}
    renderItem={({ item }) =&gt; &lt;Item title={item.title} /&gt;}
    keyExtractor={item =&gt; item.id}
  /&gt;
&lt;/View&gt;;
</code></pre>
<h3 id="core-component-pressable"><a class="header" href="#core-component-pressable">Core component: Pressable</a></h3>
<p>T∆∞∆°ng t·ª± <code>Button</code> ho·∫∑c <code>TouchableOpacity</code></p>
<pre><code class="language-jsx">&lt;Pressable
  // Only works on Android: A feedback effect when a Pressable is touched
  android_ripple={{ color: '#cccccc' }}
  onPress={() =&gt; { console.log('Pressed') }}
&gt;
  &lt;Text style={styles.goalItem}&gt;{obj.item}&lt;/Text&gt;
&lt;/Pressable&gt;
</code></pre>
<p>Key Features of Pressable:</p>
<ul>
<li><code>onPress</code>: Handles the basic press event.</li>
<li><code>onPressIn</code>: Triggered when the press gesture starts.</li>
<li><code>onPressOut</code>: Triggered when the press gesture ends.</li>
<li><code>onLongPress</code>: Triggered when the user presses and holds the component.</li>
<li><code>style</code>: Allows you to define styles that change based on the component's state (e.g., pressed, hovered).</li>
</ul>
<h3 id="core-component-image"><a class="header" href="#core-component-image">Core component: Image</a></h3>
<pre><code class="language-jsx">// Static image:
&lt;Image source={require('./assets/favicon.png')} /&gt;

// Network image:
&lt;Image
  style={{ width: 64, height: 64 }}
  source={{
    uri: '[https://reactnative.dev/img/tiny_logo.png](https://reactnative.dev/img/tiny_logo.png)'
  }}
/&gt;
</code></pre>
<h3 id="core-component-modal"><a class="header" href="#core-component-modal">Core component: Modal</a></h3>
<p>The Modal component is a basic way to present content above an enclosing view. It will appear above the main view.</p>
<pre><code class="language-jsx">function TestModal() {
  const [modalVisible, setModalVisible] = useState(true);

  return (
    &lt;Modal
      visible={modalVisible}
      onRequestClose={() =&gt; {
        Alert.alert('Modal has been closed.');
        setModalVisible(!modalVisible);
      }}
    &gt;
      &lt;View&gt;
        &lt;Text&gt;Ph·∫ßn View n√†y s·∫Ω tr√¥i n·ªïi tr√™n m√†n h√¨nh&lt;/Text&gt;
        &lt;Button title=&quot;Title&quot; onPress={() =&gt; setModalVisible(!modalVisible)} /&gt;
      &lt;/View&gt;
    &lt;/Modal&gt;
  )
}
</code></pre>
<h2 id="lecture-4"><a class="header" href="#lecture-4">Lecture 4</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Events</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><code>onPress</code></td><td style="text-align: left">Triggered when a user taps a button or Touchable component.</td></tr>
<tr><td style="text-align: left"><code>onChangeText</code></td><td style="text-align: left">Fires when text changes in an TextInput field.</td></tr>
<tr><td style="text-align: left"><code>onSubmitEditing</code></td><td style="text-align: left">Executes when the user presses &quot;Enter&quot; or submits input.</td></tr>
<tr><td style="text-align: left"><code>onLongPress</code></td><td style="text-align: left">Activated when a user presses and holds a button.</td></tr>
<tr><td style="text-align: left"><code>onFocus</code> / <code>onBlur</code></td><td style="text-align: left">Used for handling focus state in input fields.</td></tr>
</tbody></table>
</div>
<pre><code class="language-jsx">import React, { useState } from &quot;react&quot;;
import { View, Text, Button, StyleSheet } from &quot;react-native&quot;;

const CounterApp = () =&gt; {
  const [count, setCount] = useState(0);
  return (
    &lt;View style={styles.container}&gt;
      &lt;Text&gt;Count: {count}&lt;/Text&gt;
      &lt;Button title=&quot;Increase&quot; onPress={() =&gt; setCount(count + 1)} /&gt;
    &lt;/View&gt;
  );
};

export default CounterApp;

// Assume styles object is defined elsewhere
const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center',
    alignItems: 'center',
  },
});
</code></pre>
<ul>
<li>The <code>count</code> state stores a number.</li>
<li><code>setCount</code> updates the value when the button is clicked.</li>
</ul>
<p>Syntax of <code>useEffect</code>, kh√¥ng hi·ªÉu l·∫Øm (H√¨nh nh∆∞ l√† ƒë·ªÉ gi·ªØ state cho external systems ho·∫∑c g√¨ ƒë√≥ th√¥i)</p>
<pre><code class="language-jsx">useEffect(() =&gt; {
  // Code to run on mount
  return () =&gt; {
    // Cleanup function (like componentWillUnmount)
  };
}, [dependencies]); // Dependencies control re-runs
</code></pre>
<h3 id="core-component-imagebackground"><a class="header" href="#core-component-imagebackground">Core Component: <code>ImageBackground</code></a></h3>
<pre><code class="language-jsx">&lt;ImageBackground
  source={require(&quot;./assets/background.jpg&quot;)}
  style={styles.background}
&gt;
  &lt;Text style={styles.text}&gt;Weather App&lt;/Text&gt;
&lt;/ImageBackground&gt;
</code></pre>
<h3 id="statusbar"><a class="header" href="#statusbar">StatusBar</a></h3>
<pre><code class="language-jsx">&lt;StatusBar barStyle=&quot;light-content&quot; backgroundColor=&quot;#000&quot; /&gt;
</code></pre>
<h3 id="core-component-activityindicator"><a class="header" href="#core-component-activityindicator">Core component: <code>ActivityIndicator</code></a></h3>
<pre><code class="language-jsx">&lt;ActivityIndicator size=&quot;large&quot; color=&quot;#0000ff&quot; animating={true} /&gt;
</code></pre>
<h3 id="core-component-textinput"><a class="header" href="#core-component-textinput">Core component: TextInput</a></h3>
<pre><code class="language-jsx">&lt;TextInput
  style={{...}} // Apply your styles here
  placeholder=&quot;Enter city name&quot;
  onChangeText={(text) =&gt; console.log(text)}
/&gt;
</code></pre>
<h3 id="g·ªçi-api-trong-react"><a class="header" href="#g·ªçi-api-trong-react">G·ªçi API trong React</a></h3>
<p>T∆∞∆°ng t·ª± nh∆∞ b√™n JS th√¥i, d√πng <code>Workspace()</code> ƒë·ªÉ g·ªçi API.</p>
<pre><code class="language-jsx">const getData = async () =&gt; {
  try {
    const response = await fetch(&quot;API_URL&quot;);
    const data = await response.json();
    console.log(data);
  } catch (error) {
    console.error(&quot;Error fetching weather:&quot;, error);
  }
};
</code></pre>
<h2 id="lecture-5"><a class="header" href="#lecture-5">Lecture 5</a></h2>
<p>N·∫øu t·∫£i s·ª≠ d·ª•ng template <code>default</code> c·ªßa Expo th√¨ kh√¥ng d√πng ƒë∆∞·ª£c c√°i n√†y ƒë√¢u nha ;-; Tui ch∆∞a bi·∫øt s·ª≠a sao n√™n t·∫£i template <code>blank</code> th√¨ d√πng ƒë∆∞·ª£c.</p>
<pre><code class="language-bash"># Linux
npm install @react-navigation/native-stack @react-navigation/elements
# B√™n Windows th√¨ ph·∫£i d√πng l·ªánh n√†y
npm install @react-navigation/native-stack; npm install @react-navigation/elements
</code></pre>
<h3 id="react-navigation-static-vs-dynamic-apis"><a class="header" href="#react-navigation-static-vs-dynamic-apis">React Navigation: Static vs Dynamic APIs</a></h3>
<h4 id="creating-a-native-stack-navigator-static"><a class="header" href="#creating-a-native-stack-navigator-static">Creating a native stack navigator (Static)</a></h4>
<pre><code class="language-jsx">import { createStaticNavigation } from &quot;@react-navigation/native&quot;;
import { createNativeStackNavigator } from &quot;@react-navigation/native-stack&quot;;
import { View, Text } from &quot;react-native&quot;; // Import necessary components

function HomeScreen() {
  return (
    &lt;View style={{ flex: 1, alignItems: &quot;center&quot;, justifyContent: &quot;center&quot; }}&gt;
      &lt;Text style={{ fontSize: 30 }}&gt;Home Page&lt;/Text&gt;
    &lt;/View&gt;
  );
}

function AboutScreen() {
  return (
    &lt;View style={{ flex: 1, alignItems: &quot;center&quot;, justifyContent: &quot;center&quot; }}&gt;
      &lt;Text style={{ fontSize: 30 }}&gt;About Page&lt;/Text&gt;
    &lt;/View&gt;
  );
}

const RootStack = createNativeStackNavigator({
  screens: {
    Home: HomeScreen,
    About: AboutScreen,
  },
});

const Navigation = createStaticNavigation(RootStack);

export default function App() {
  return &lt;Navigation /&gt;;
}
</code></pre>
<p>Th·ª≠ t·∫°o xong m√† c√≥ th·∫•y c√°i g√¨ ƒë√¢u :&lt;. Ph·∫ßn ti·∫øp theo l√† th√™m ch√∫t Options v√†o n√®:</p>
<pre><code class="language-jsx">import { createStaticNavigation } from &quot;@react-navigation/native&quot;;
import { createNativeStackNavigator } from &quot;@react-navigation/native-stack&quot;;
import { View, Text } from &quot;react-native&quot;; // Import necessary components

function HomeScreen() {
  return (
    &lt;View style={{ flex: 1, alignItems: &quot;center&quot;, justifyContent: &quot;center&quot; }}&gt;
      &lt;Text style={{ fontSize: 30 }}&gt;Home Page&lt;/Text&gt;
    &lt;/View&gt;
  );
}

function AboutScreen() {
  return (
    &lt;View style={{ flex: 1, alignItems: &quot;center&quot;, justifyContent: &quot;center&quot; }}&gt;
      &lt;Text style={{ fontSize: 30 }}&gt;About Page&lt;/Text&gt;
    &lt;/View&gt;
  );
}

const RootStack = createNativeStackNavigator({
  initialRouteName: &quot;Home&quot;,
  // C≈©ng c√≥ th·ªÉ th√™m Options cho t·∫•t c·∫£ c√°c m√†n h√¨nh th·∫ø l√†y
  screenOptions: {
    headerStyle: { backgroundColor: &quot;tomato&quot; },
  },
  screens: {
    Home: {
      screen: HomeScreen,
      options: {
        title: &quot;Welcome&quot;,
      },
    },
    About: AboutScreen,
  },
});

const Navigation = createStaticNavigation(RootStack);

export default function App() {
  return &lt;Navigation /&gt;;
}
</code></pre>
<p>C√≥ th·ªÉ m·ªçi ng∆∞·ªùi s·∫Ω h∆∞·ªõng ƒë·∫øn d√πng Dynamic API h∆°n, c√°i tr√™n h·ªçc cho bi·∫øt l√Ω thuy·∫øt th√¥i :&lt; m√† ch·∫°y Preview c√≥ th·∫•y j ƒë√¢u.</p>
<h4 id="creating-a-native-stack-navigator-dynamic-api"><a class="header" href="#creating-a-native-stack-navigator-dynamic-api">Creating a native stack navigator (Dynamic API)</a></h4>
<p>Kh√° l·∫±ng nh·∫±ng n√™n ƒë√¢y s·∫Ω l√† Code lu√¥n. ƒê·∫ßu ti√™n c·∫ßn khai b√°o tr∆∞·ªõc ƒë√£.</p>
<pre><code class="language-jsx">import { NavigationContainer, useNavigation } from '@react-navigation/native'; // Import useNavigation
import { createNativeStackNavigator } from '@react-navigation/native-stack';
import { View, Text, Button } from 'react-native'; // Import Button and other necessary components

const Stack = createNativeStackNavigator();

// Define your screen components
function Product() {
  const navigation = useNavigation();
  return (
    &lt;View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}&gt;
      &lt;Text style={{ fontSize: 30 }}&gt;Product Page&lt;/Text&gt;
      &lt;Button
        // Navigating to a new screen
        title='Click on to navigate detail page'
        onPress={() =&gt; navigation.navigate('Detail')}
      &gt;&lt;/Button&gt;
    &lt;/View&gt;
  );
}

function ProductDetail() {
  return (
    &lt;View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}&gt;
      &lt;Text style={{ fontSize: 30 }}&gt;Product Detail Page&lt;/Text&gt;
    &lt;/View&gt;
  );
}

export default function App() {
  return (
    &lt;NavigationContainer&gt;
      &lt;Stack.Navigator&gt;
        &lt;Stack.Screen name=&quot;Product&quot; component={Product} /&gt;
        &lt;Stack.Screen name=&quot;Detail&quot; component={ProductDetail} /&gt;
      &lt;/Stack.Navigator&gt;
    &lt;/NavigationContainer&gt;
  );
}
</code></pre>
<p>C·∫ßn ph·∫£i t·∫°o <code>Stack</code> s·ª≠ d·ª•ng <code>createNativeStackNavigator()</code>. R·ªìi sau ƒë√≥ l·∫ßn l∆∞·ª£t th√™m
<code>&lt;NavigationContainer&gt;</code> r·ªìi <code>&lt;Stack.Navigator&gt;</code>, trong ƒë√≥ s·∫Ω th√™m m·ªôt c√°i ki·ªÉu nh∆∞
<code>&lt;Stack.Screen name=&quot;Product&quot; component={Product} /&gt;</code> ƒë·ªÉ th·ªÉ hi·ªán m·ªôt m√†n h√¨nh.</p>
<p>yep, m√¨nh ch·∫≥ng hi·ªÉu m√¨nh ƒë√£ vi·∫øt c√°i g√¨ n·ªØa. nma c·ª© k·ªá ƒëi nha, mi·ªÖn d√πng ƒë∆∞·ª£c l√† ƒë∆∞·ª£c. Ti·∫øp ƒë·∫øn l√† t·∫°o m·ªôt Component:</p>
<pre><code class="language-jsx">import { useNavigation } from '@react-navigation/native';
import { View, Text, Button } from 'react-native'; // Import necessary components

function Product() {
  const navigation = useNavigation();
  return (
    &lt;View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}&gt;
      &lt;Text style={{ fontSize: 30 }}&gt;Product Page&lt;/Text&gt;
      &lt;Button
        // Navigating to a new screen
        title='Click on to navigate detail page'
        onPress={() =&gt; navigation.navigate('Detail')}
      &gt;&lt;/Button&gt;
    &lt;/View&gt;
  );
}
</code></pre>
<p>T·∫°o m·ªôt navigation object s·ª≠ d·ª•ng <code>const navigation = useNavigation()</code>, sau ƒë√≥ vi·∫øt gi√πm c√°i n√∫t
v√† th√™m c√°i n√†y v√†o <code>onPress</code>: <code>onPress={() =&gt; navigation.navigate('Detail')}</code>, ch√≠nh l√† c√°i <code>navigation</code> v·ª´a khai b√°o! Xong.</p>
<blockquote>
<p>warning: When using the Dynamic API, the component prop accepts a component, not a render function. Don't pass an inline function (e.g. <code>component={() =&gt; &lt;HomeScreen /&gt;}</code>), or your component will unmount and remount, losing all state, when the parent component re-renders.</p>
</blockquote>
<p>B·∫°n c≈©ng c√≥ th·ªÉ th√™m Options v√†o n·ªØa:</p>
<pre><code class="language-jsx">import { NavigationContainer } from '@react-navigation/native';
import { createNativeStackNavigator } from '@react-navigation/native-stack';
import { View, Text } from 'react-native'; // Import necessary components

// Define your screen components
function HomeScreen() {
  return (
    &lt;View style={{ flex: 1, alignItems: &quot;center&quot;, justifyContent: &quot;center&quot; }}&gt;
      &lt;Text style={{ fontSize: 30 }}&gt;Home Page&lt;/Text&gt;
    &lt;/View&gt;
  );
}

function AboutScreen() {
  return (
    &lt;View style={{ flex: 1, alignItems: &quot;center&quot;, justifyContent: &quot;center&quot; }}&gt;
      &lt;Text style={{ fontSize: 30 }}&gt;About Page&lt;/Text&gt;
    &lt;/View&gt;
  );
}

const Stack = createNativeStackNavigator();

&lt;NavigationContainer&gt;
  {/* Ho·∫∑c th√™m ƒëi·ªÉm kh·ªüi ƒë·∫ßu: &lt;Stack.Navigator initialRouteName='About'&gt; */}
  &lt;Stack.Navigator initialRouteName=&quot;About&quot;&gt;
    &lt;Stack.Screen
      name=&quot;Home&quot;
      component={HomeScreen}
      options={{ title: &quot;Welcome&quot; }}
    /&gt;
    &lt;Stack.Screen name=&quot;About&quot; component={AboutScreen} /&gt;
  &lt;/Stack.Navigator&gt;
&lt;/NavigationContainer&gt;;
</code></pre>
<h3 id="passing-additional-props"><a class="header" href="#passing-additional-props">Passing additional props</a></h3>
<p>Theo l√Ω thuy·∫øt tr√™n Slides th√¨: Use React context and wrap the navigator with a context provider to pass data to the screens (recommended).</p>
<p>The <code>useContext</code> hook: A React Hook that lets you create context data (values) in a parent component and retrieve them from its descendant components (TODO: Kh√¥ng hi·ªÉu g√¨ c·∫£).</p>
<pre><code class="language-jsx">// First, use the createContext function to create a Context.
import { createContext, useContext } from &quot;react&quot;;
import { NavigationContainer } from &quot;@react-navigation/native&quot;; // Import necessary component
import { createNativeStackNavigator } from &quot;@react-navigation/native-stack&quot;; // Import necessary component
import { View, Text } from &quot;react-native&quot;; // Import necessary components

// Define your screen components (HomeScreen, AboutScreen) as needed

const ScreenNameContext = createContext(null);

// Then, wrap the context‚Äôs provider around the components that will use the context value.
const Stack = createNativeStackNavigator();

// Assume scrNames is defined somewhere
const scrNames = { home: 'Trang Ch·ªß', about: 'Gi·ªõi Thi·ªáu' }; // Example scrNames

&lt;ScreenNameContext.Provider value={scrNames}&gt;
  &lt;NavigationContainer&gt;
    &lt;Stack.Navigator&gt;
      &lt;Stack.Screen name=&quot;Home&quot; component={HomeScreen} /&gt;
      &lt;Stack.Screen name=&quot;About&quot; component={AboutScreen} /&gt;
    &lt;/Stack.Navigator&gt;
  &lt;/NavigationContainer&gt;
&lt;/ScreenNameContext.Provider&gt;;
</code></pre>
<p>Retrieving Context Data from a component</p>
<pre><code class="language-jsx">import { useContext } from &quot;react&quot;;
import { View, Text } from &quot;react-native&quot;; // Import necessary components

// Assume ScreenNameContext is imported or defined
// Assume ScreenNameContext is created with createContext(null);

// Technically, any can retrieve the context data.
// However, it‚Äôs recommended that the component is one of the context provider‚Äôs descendant.
function AboutScreen() {
  const screenNames = useContext(ScreenNameContext);
  return (
    &lt;View style={{ flex: 1, alignItems: &quot;center&quot;, justifyContent: &quot;center&quot; }}&gt;
      &lt;Text&gt;{screenNames?.about}&lt;/Text&gt; {/* Use optional chaining */}
    &lt;/View&gt;
  );
}
</code></pre>
<h3 id="difference-between-maps-and-push-add-multiple-instances"><a class="header" href="#difference-between-maps-and-push-add-multiple-instances">Difference between <code>Maps</code> and <code>push</code> (add multiple instances)</a></h3>
<pre><code class="language-jsx">import { useNavigation } from &quot;@react-navigation/native&quot;;
import { Button } from &quot;react-native&quot;; // Import Button

// If you want to open a new instance of the About screen, use navigation.push('About').
// Each time push is called, a new About screen instance is added to the navigation stack.
function MyComponent() { // Example component
  const navigation = useNavigation();
  return (
    &lt;Button title=&quot;About Us... again&quot; onPress={() =&gt; navigation.push(&quot;About&quot;)} /&gt;
  );
}
</code></pre>
<ul>
<li><code>Maps('About')</code> ‚Üí Does nothing if already on the About screen.</li>
<li><code>Maps.push('About')</code> ‚Üí Creates a new instance of the About screen. This approach is useful when passing unique data to each instance of a screen.</li>
</ul>
<h3 id="manually-triggering-back-navigation"><a class="header" href="#manually-triggering-back-navigation">Manually Triggering Back Navigation</a></h3>
<p>Use <code>navigation.goBack()</code> to programmatically navigate to the previous screen.</p>
<pre><code class="language-jsx">import { useNavigation } from &quot;@react-navigation/native&quot;;
import { Button } from &quot;react-native&quot;; // Import Button

function MyComponent() { // Example component
  const navigation = useNavigation();
  return (
    &lt;&gt;
      &lt;Button title=&quot;Go Back&quot; onPress={() =&gt; navigation.goBack()} /&gt;
      {/* Assuming 'Home' is a screen name in your stack */}
      &lt;Button title=&quot;Go Home&quot; onPress={() =&gt; navigation.popToTop()} /&gt; {/* Changed to popToTop for typical Home behavior */}
    &lt;/&gt;
  );
}
</code></pre>
<p><em>Note: <code>popTo(&quot;Home&quot;)</code> is not a standard method in <code>@react-navigation/native-stack</code>. <code>popToTop()</code> is used to go back to the first screen in the stack.</em></p>
<h3 id="n√©m-params-khi-maps"><a class="header" href="#n√©m-params-khi-maps">N√©m Params khi <code>Maps()</code></a></h3>
<p>ƒê·∫ßu ti√™n, th√™m c√°i <code>{}</code> v√†o sau ph·∫ßn t√™n m√†n h√¨nh nh∆∞ n√†y:</p>
<pre><code class="language-jsx">onPress={() =&gt; navigation.navigate(&quot;About&quot;, { name: &quot;Quan&quot; })}
</code></pre>
<p>Chuy·ªÉn qua m√†n h√¨nh kh√°c, nh·∫≠n params ki·ªÉu g√¨:</p>
<pre><code class="language-jsx">import { useNavigation, useRoute } from &quot;@react-navigation/native&quot;; // Import useRoute
import { View, Text } from &quot;react-native&quot;; // Import necessary components

function AboutScreen() {
  const navigation = useNavigation();
  const route = useRoute(); // Use the useRoute hook
  const { name } = route.params || {}; // Use optional chaining and default empty object
  // ... rest of your component
  return (
    &lt;View style={{ flex: 1, alignItems: &quot;center&quot;, justifyContent: &quot;center&quot; }}&gt;
      &lt;Text&gt;Welcome, {name}!&lt;/Text&gt;
    &lt;/View&gt;
  );
}
</code></pre>
<p>Ho·∫∑c kh·ªüi t·∫°o d√πng <code>initialParams</code></p>
<pre><code class="language-jsx">import { createNativeStackNavigator } from '@react-navigation/native-stack';
import { View, Text } from 'react-native'; // Import necessary components

// Define AboutScreen component as shown above
function AboutScreen({ route }) {
  const { name } = route.params || {};
  return (
    &lt;View style={{ flex: 1, alignItems: &quot;center&quot;, justifyContent: &quot;center&quot; }}&gt;
      &lt;Text&gt;Welcome, {name}!&lt;/Text&gt;
    &lt;/View&gt;
  );
}

const Stack = createNativeStackNavigator();

&lt;Stack.Screen
  name=&quot;About&quot;
  component={AboutScreen}
  initialParams={{ name: &quot;Us&quot; }}
/&gt;;
</code></pre>
<p>Ho·∫∑c c·∫≠p nh·∫≠t params d√πng <code>setParams</code>:</p>
<pre><code class="language-jsx">import { useNavigation } from &quot;@react-navigation/native&quot;;
import { Button } from &quot;react-native&quot;; // Import Button

function MyComponent() { // Example component
  const navigation = useNavigation();
  return (
    &lt;Button
      title=&quot;Set Name to Vinh&quot;
      onPress={() =&gt; navigation.setParams({ name: &quot;Vinh&quot; })}
    /&gt;
  );
}
</code></pre>
<blockquote>
<p>M·∫πo: Avoid using <code>setParams</code> to update screen options such as <code>title</code>. If you need to update options, use <code>setOptions</code> instead.</p>
</blockquote>
<pre><code class="language-jsx">// Don't do this
navigation.navigate(&quot;Profile&quot;, {
  user: {
    id: 21,
    firstName: &quot;Jane&quot;,
    lastName: &quot;Done&quot;,
    age: 25,
  },
});

// Do this
navigation.navigate(&quot;Profile&quot;, { userId: 21 });
</code></pre>
<p>·ªû ƒë√¢y, b·∫°n kh√¥ng n√™n n√©m d·ªØ li·ªáu ki·ªÉu n√†y, m√† thay v√†o ƒë√≥, n√©m ID ƒë·ªÉ c√≥ th·ªÉ s·ª≠ d·ª•ng l√†m ƒë·ªãa ch·ªâ truy c·∫≠p ph·∫ßn d·ªØ li·ªáu ƒë∆∞·ª£c l∆∞u ·ªü ch·ªó kh√°c (global store or cache).</p>
<blockquote>
<p>What should be in params?: Params should not be used for state management. If data is needed across multiple screens, it should be stored in a global store or cache.</p>
</blockquote>
<h2 id="lecture-6"><a class="header" href="#lecture-6">Lecture 6</a></h2>
<h3 id="ngƒÉn-ch·∫∑n-c√°c-header-tr√πng-l·∫∑p"><a class="header" href="#ngƒÉn-ch·∫∑n-c√°c-header-tr√πng-l·∫∑p">NgƒÉn ch·∫∑n c√°c Header tr√πng l·∫∑p</a></h3>
<p>Tr√°nh c√°c header b·ªã tr√πng l·∫∑p -&gt; ·∫©n header c·ªßa th√†nh ph·∫ßn cha (ƒê·∫∑t <code>headerShown: false</code> trong <code>options</code> c·ªßa <code>Stack.Screen</code> l√† xong):</p>
<pre><code class="language-javascript">import { createNativeStackNavigator } from '@react-navigation/native-stack';
import { View, Text } from 'react-native'; // Import necessary components

// Assume HomeTabs component is defined elsewhere
function HomeTabs() {
  return (
    &lt;View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}&gt;
      &lt;Text&gt;Home Tabs&lt;/Text&gt;
    &lt;/View&gt;
  );
}

const Stack = createNativeStackNavigator();

// Inside your Navigator
// &lt;Stack.Navigator&gt;
  &lt;Stack.Screen
    name=&quot;Home&quot;
    component={HomeTabs}
    options={{ headerShown: false }}
  /&gt;
  // ... other screens
// &lt;/Stack.Navigator&gt;
</code></pre>
<p>B·∫°n c≈©ng c√≥ th·ªÉ ·∫©n t·∫•t c·∫£ c√°c header b·∫±ng c√°ch ƒë·∫∑t <code>headerShown: false</code> trong <code>screenOptions</code> c·ªßa <code>Stack.Navigator</code>:</p>
<pre><code class="language-javascript">import { createNativeStackNavigator } from '@react-navigation/native-stack';

const Stack = createNativeStackNavigator();

&lt;Stack.Navigator screenOptions={{ headerShown: false }}&gt;
  {/* ... your screens */}
&lt;/Stack.Navigator&gt;
</code></pre>
<h3 id="c·∫•u-h√¨nh-header-bar"><a class="header" href="#c·∫•u-h√¨nh-header-bar">C·∫•u h√¨nh Header Bar</a></h3>
<h4 id="ƒê·∫∑t-ti√™u-ƒë·ªÅ-c·ªë-ƒë·ªãnh"><a class="header" href="#ƒê·∫∑t-ti√™u-ƒë·ªÅ-c·ªë-ƒë·ªãnh">ƒê·∫∑t ti√™u ƒë·ªÅ c·ªë ƒë·ªãnh</a></h4>
<p>S·ª≠ d·ª•ng thu·ªôc t√≠nh <code>title</code> trong <code>options</code> ƒë·ªÉ ƒë·∫∑t ti√™u ƒë·ªÅ c·ªë ƒë·ªãnh cho m·ªói m√†n h√¨nh:</p>
<pre><code class="language-javascript">import { createNativeStackNavigator } from '@react-navigation/native-stack';
import { View, Text } from 'react-native'; // Import necessary components

// Assume HomeScreen component is defined elsewhere
function HomeScreen() {
  return (
    &lt;View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}&gt;
      &lt;Text&gt;Home Screen&lt;/Text&gt;
    &lt;/View&gt;
  );
}

const Stack = createNativeStackNavigator();

// Inside your Navigator
// &lt;Stack.Navigator&gt;
  &lt;Stack.Screen
    name=&quot;Home&quot;
    component={HomeScreen}
    options={{ title: 'My home' }}
  /&gt;
  // ... other screens
// &lt;/Stack.Navigator&gt;
</code></pre>
<h4 id="s·ª≠-d·ª•ng-params-trong-ti√™u-ƒë·ªÅ"><a class="header" href="#s·ª≠-d·ª•ng-params-trong-ti√™u-ƒë·ªÅ">S·ª≠ d·ª•ng Params trong ti√™u ƒë·ªÅ</a></h4>
<p><code>options</code> n√™n l√† m·ªôt h√†m nh·∫≠n v√†o <code>route</code> v√† tr·∫£ v·ªÅ ti√™u ƒë·ªÅ.</p>
<p>ƒê·ªëi s·ªë ƒë∆∞·ª£c truy·ªÅn v√†o h√†m <code>options</code> l√† m·ªôt ƒë·ªëi t∆∞·ª£ng v·ªõi c√°c thu·ªôc t√≠nh <code>navigation</code> v√† <code>route</code> (C√°i n√†y th√¨ ch·ªãu nha).</p>
<pre><code class="language-javascript">import { createNativeStackNavigator } from '@react-navigation/native-stack';
import { View, Text } from 'react-native'; // Import necessary components

// Assume ProfileScreen component is defined elsewhere
function ProfileScreen() {
  return (
    &lt;View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}&gt;
      &lt;Text&gt;Profile Screen&lt;/Text&gt;
    &lt;/View&gt;
  );
}

const Stack = createNativeStackNavigator();

// Inside your Navigator
// &lt;Stack.Navigator&gt;
  &lt;Stack.Screen
    name=&quot;Profile&quot;
    component={ProfileScreen}
    options={({ route }) =&gt; ({ title: route.params.name })}
  /&gt;
  // ... other screens
// &lt;/Stack.Navigator&gt;
</code></pre>
<h4 id="c·∫≠p-nh·∫≠t-ti√™u-ƒë·ªÅ-v·ªõi-setoptions"><a class="header" href="#c·∫≠p-nh·∫≠t-ti√™u-ƒë·ªÅ-v·ªõi-setoptions">C·∫≠p nh·∫≠t ti√™u ƒë·ªÅ v·ªõi <code>setOptions</code></a></h4>
<p>ƒê·ªÉ c·∫≠p nh·∫≠t c·∫•u h√¨nh <code>options</code> cho m√†n h√¨nh ƒëang ho·∫°t ƒë·ªông t·ª´ ch√≠nh component m√†n h√¨nh ƒë√£ mount (mount l√† c√°i g√¨?), c√≥ th·ªÉ d√πng <code>navigation.setOptions</code>.</p>
<pre><code class="language-javascript">import { useNavigation } from '@react-navigation/native';
import { Button } from 'react-native'; // Import Button

function MyComponent() { // Example component
  const navigation = useNavigation();
  return (
    &lt;Button
      onPress={() =&gt; navigation.setOptions({ title: 'Updated!' })}
      title=&quot;Update the title&quot;
    /&gt;
  );
}
</code></pre>
<h3 id="t√πy-ch·ªânh-header-styles"><a class="header" href="#t√πy-ch·ªânh-header-styles">T√πy ch·ªânh Header Styles</a></h3>
<p>C√≥ ba thu·ªôc t√≠nh ch√≠nh ƒë·ªÉ t·∫°o ki·ªÉu cho header:</p>
<ul>
<li><code>headerStyle</code>: T·∫°o ki·ªÉu cho n·ªÅn header.</li>
<li><code>headerTintColor</code>: ƒê·∫∑t m√†u cho n√∫t back v√† ti√™u ƒë·ªÅ.</li>
<li><code>headerTitleStyle</code>: T√πy ch·ªânh c√°c thu·ªôc t√≠nh font cho ti√™u ƒë·ªÅ.</li>
</ul>
<p>V√≠ d·ª•:</p>
<pre><code class="language-javascript">import { createNativeStackNavigator } from '@react-navigation/native-stack';
import { View, Text } from 'react-native'; // Import necessary components

// Assume HomeScreen component is defined elsewhere
function HomeScreen() {
  return (
    &lt;View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}&gt;
      &lt;Text&gt;Home Screen&lt;/Text&gt;
    &lt;/View&gt;
  );
}

const Stack = createNativeStackNavigator();

// Inside your Navigator
// &lt;Stack.Navigator&gt;
  &lt;Stack.Screen
    name=&quot;Home&quot;
    component={HomeScreen}
    options={{
      title: 'My home',
      headerStyle: { backgroundColor: '#f4511e' },
      headerTintColor: '#fff',
      headerTitleStyle: { fontWeight: 'bold' },
    }}
  /&gt;
  // ... other screens
// &lt;/Stack.Navigator&gt;
</code></pre>
<h4 id="chia-s·∫ª-common-options-gi·ªØa-c√°c-m√†n-h√¨nh"><a class="header" href="#chia-s·∫ª-common-options-gi·ªØa-c√°c-m√†n-h√¨nh">Chia s·∫ª Common Options gi·ªØa c√°c m√†n h√¨nh</a></h4>
<p>Thay v√¨ l·∫∑p l·∫°i c√°c ki·ªÉu cho m·ªói m√†n h√¨nh, b·∫°n c√≥ th·ªÉ ƒë·∫∑t <code>screenOptions</code> trong <code>Stack.Navigator</code>.</p>
<pre><code class="language-javascript">import { createNativeStackNavigator } from '@react-navigation/native-stack';
import { View, Text } from 'react-native'; // Import necessary components

// Assume HomeScreen and DetailsScreen components are defined elsewhere
function HomeScreen() { /* ... */ }
function DetailsScreen() { /* ... */ }

const Stack = createNativeStackNavigator();

&lt;Stack.Navigator
  screenOptions={{
    headerStyle: { backgroundColor: '#f4511e' },
    headerTintColor: '#fff',
    headerTitleStyle: { fontWeight: 'bold' },
  }}
&gt;
  &lt;Stack.Screen name=&quot;Home&quot; component={HomeScreen} options={{ title: 'My home' }} /&gt;
  &lt;Stack.Screen name=&quot;Details&quot; component={DetailsScreen} /&gt;
&lt;/Stack.Navigator&gt;
</code></pre>
<h4 id="thay-th·∫ø-ti√™u-ƒë·ªÅ-b·∫±ng-custom-component"><a class="header" href="#thay-th·∫ø-ti√™u-ƒë·ªÅ-b·∫±ng-custom-component">Thay th·∫ø ti√™u ƒë·ªÅ b·∫±ng Custom Component</a></h4>
<p>S·ª≠ d·ª•ng <code>headerTitle</code> ƒë·ªÉ thay th·∫ø ti√™u ƒë·ªÅ vƒÉn b·∫£n b·∫±ng m·ªôt custom component, ch·∫≥ng h·∫°n nh∆∞ h√¨nh ·∫£nh ho·∫∑c n√∫t.</p>
<pre><code class="language-javascript">import { createNativeStackNavigator } from '@react-navigation/native-stack';
import { Image, View, Text } from 'react-native'; // Import necessary components

function LogoTitle() {
  return (
    &lt;Image
      style={{ width: 50, height: 50 }}
      source={require('@expo/snack-static/react-native-logo.png')}
    /&gt;
  );
}

// Assume HomeScreen component is defined elsewhere
function HomeScreen() { /* ... */ }

const Stack = createNativeStackNavigator();

// ...
// Inside your Navigator
// &lt;Stack.Navigator&gt;
  &lt;Stack.Screen
    name=&quot;Home&quot;
    component={HomeScreen}
    options={{ headerTitle: (props) =&gt; &lt;LogoTitle {...props} /&gt; }}
  /&gt;
  // ... other screens
// &lt;/Stack.Navigator&gt;
</code></pre>
<h4 id="s·ª±-kh√°c-bi·ªát-gi·ªØa-title-v√†-headertitle"><a class="header" href="#s·ª±-kh√°c-bi·ªát-gi·ªØa-title-v√†-headertitle">S·ª± kh√°c bi·ªát gi·ªØa <code>title</code> v√† <code>headerTitle</code></a></h4>
<ul>
<li><code>title</code> ƒë∆∞·ª£c s·ª≠ d·ª•ng cho nhi·ªÅu lo·∫°i ƒëi·ªÅu h∆∞·ªõng nh∆∞ tab bars v√† drawers.</li>
<li><code>headerTitle</code> d√†nh ri√™ng cho stack navigators v√† thay th·∫ø component <code>Text</code> m·∫∑c ƒë·ªãnh.</li>
</ul>
<h3 id="header-buttons"><a class="header" href="#header-buttons">Header Buttons</a></h3>
<p>B·∫°n c√≥ th·ªÉ ƒë·∫∑t c√°c n√∫t trong header b·∫±ng c√°ch s·ª≠ d·ª•ng <code>headerLeft</code> (b√™n tr√°i) ho·∫∑c <code>headerRight</code> (b√™n ph·∫£i).</p>
<pre><code class="language-javascript">import { createNativeStackNavigator } from '@react-navigation/native-stack';
import { Button, View, Text } from 'react-native'; // Import necessary components

// Assume HomeScreen component is defined elsewhere
function HomeScreen() { /* ... */ }

const Stack = createNativeStackNavigator();

// Inside your Navigator
// &lt;Stack.Navigator&gt;
  &lt;Stack.Screen
    name=&quot;Home&quot;
    component={HomeScreen}
    options={{
      headerRight: () =&gt; (
        &lt;Button
          onPress={() =&gt; alert('This is a button!')}
          title=&quot;Info&quot;
        /&gt;
      ),
    }}
  /&gt;
  // ... other screens
// &lt;/Stack.Navigator&gt;
</code></pre>
<h4 id="t∆∞∆°ng-t√°c-c·ªßa-header-v·ªõi-screen-component"><a class="header" href="#t∆∞∆°ng-t√°c-c·ªßa-header-v·ªõi-screen-component">T∆∞∆°ng t√°c c·ªßa Header v·ªõi Screen Component</a></h4>
<p>Khi b·∫°n ƒë·ªãnh nghƒ©a n√∫t theo c√°ch n√†y, bi·∫øn <code>this</code> trong <code>options</code> kh√¥ng ph·∫£i l√† instance c·ªßa <code>HomeScreen</code>, v√¨ v·∫≠y b·∫°n kh√¥ng th·ªÉ g·ªçi <code>setState</code> ho·∫∑c b·∫•t k·ª≥ ph∆∞∆°ng th·ª©c instance n√†o tr√™n ƒë√≥.</p>
<p>Vi·ªác c√°c n√∫t trong header t∆∞∆°ng t√°c v·ªõi m√†n h√¨nh m√† header thu·ªôc v·ªÅ l√† ph·ªï bi·∫øn. ƒê·ªÉ n√∫t t∆∞∆°ng t√°c v·ªõi tr·∫°ng th√°i c·ªßa m√†n h√¨nh, h√£y s·ª≠ d·ª•ng <code>navigation.setOptions</code>. B·∫±ng c√°ch s·ª≠ d·ª•ng <code>navigation.setOptions</code> b√™n trong component m√†n h√¨nh, ch√∫ng ta c√≥ quy·ªÅn truy c·∫≠p v√†o c√°c props, state, context, v.v. c·ªßa m√†n h√¨nh.</p>
<pre><code class="language-javascript">import { useNavigation } from '@react-navigation/native';
import React, { useState, useEffect } from 'react'; // Import React, useState, useEffect
import { Button, Text, View } from 'react-native'; // Import necessary components

function HomeScreen() {
  const navigation = useNavigation();
  const [count, setCount] = useState(0); // Correct usage of useState

  useEffect(() =&gt; { // Correct usage of useEffect
    navigation.setOptions({
      headerRight: () =&gt; (
        &lt;Button
          onPress={() =&gt; setCount((c) =&gt; c + 1)}
          title=&quot;Update count&quot;
        /&gt;
      ),
    });
  }, [navigation, setCount]); // Added setCount to dependency array

  return (
    &lt;View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}&gt;
      &lt;Text&gt;Count: {count}&lt;/Text&gt;
    &lt;/View&gt;
  );
}
</code></pre>
<h3 id="t√πy-ch·ªânh-n√∫t-back"><a class="header" href="#t√πy-ch·ªânh-n√∫t-back">T√πy ch·ªânh n√∫t Back</a></h3>
<p>React Navigation cung c·∫•p c√°c gi√° tr·ªã m·∫∑c ƒë·ªãnh d√†nh ri√™ng cho t·ª´ng n·ªÅn t·∫£ng cho c√°c n√∫t back. Tr√™n iOS, n√∫t back hi·ªÉn th·ªã ti√™u ƒë·ªÅ c·ªßa m√†n h√¨nh tr∆∞·ªõc ƒë√≥ khi c√≥ ƒë·ªß kh√¥ng gian.</p>
<h4 id="c√°c-t√πy-ch·ªçn-t√πy-ch·ªânh"><a class="header" href="#c√°c-t√πy-ch·ªçn-t√πy-ch·ªânh">C√°c t√πy ch·ªçn t√πy ch·ªânh:</a></h4>
<ul>
<li><code>headerBackTitle</code>: Thay ƒë·ªïi vƒÉn b·∫£n n√∫t back.</li>
<li><code>headerBackTitleStyle</code>: T·∫°o ki·ªÉu cho vƒÉn b·∫£n n√∫t back.</li>
<li><code>headerBackImageSource</code>: ƒê·∫∑t h√¨nh ·∫£nh t√πy ch·ªânh cho n√∫t back.</li>
</ul>
<p>V√≠ d·ª•:</p>
<pre><code class="language-javascript">import { createNativeStackNavigator } from '@react-navigation/native-stack';
import { View, Text } from 'react-native'; // Import necessary components

// Assume HomeScreen and DetailsScreen components are defined elsewhere
function HomeScreen() { /* ... */ }
function DetailsScreen() { /* ... */ }

const Stack = createNativeStackNavigator();

&lt;Stack.Navigator&gt;
  &lt;Stack.Screen name=&quot;Home&quot; component={HomeScreen} /&gt;
  &lt;Stack.Screen
    name=&quot;Details&quot;
    component={DetailsScreen}
    options={{
      headerBackTitle: 'Custom Back',
      headerBackTitleStyle: { fontSize: 30 },
    }}
  /&gt;
&lt;/Stack.Navigator&gt;
</code></pre>
<h4 id="ghi-ƒë√®-n√∫t-back"><a class="header" href="#ghi-ƒë√®-n√∫t-back">Ghi ƒë√® n√∫t Back</a></h4>
<p>N·∫øu b·∫°n c·∫ßn m·ªôt n√∫t back ho√†n to√†n t√πy ch·ªânh, h√£y s·ª≠ d·ª•ng <code>headerLeft</code>.</p>
<pre><code class="language-javascript">import { createNativeStackNavigator } from '@react-navigation/native-stack';
import { Button, View, Text } from 'react-native'; // Import necessary components

// Assume DetailsScreen component is defined elsewhere
function DetailsScreen() { /* ... */ }

const Stack = createNativeStackNavigator();

// Inside your Navigator
// &lt;Stack.Navigator&gt;
  &lt;Stack.Screen
    name=&quot;Details&quot;
    component={DetailsScreen}
    options={{
      headerLeft: () =&gt; (
        &lt;Button
          onPress={() =&gt; alert('Custom Back Pressed')}
          title=&quot;Back&quot;
        /&gt;
      ),
    }}
  /&gt;
  // ... other screens
// &lt;/Stack.Navigator&gt;
</code></pre>
<h3 id="nesting-navigators"><a class="header" href="#nesting-navigators">Nesting Navigators</a></h3>
<p>Nesting Navigators c√≥ nghƒ©a l√† ƒë·∫∑t m·ªôt navigator b√™n trong m·ªôt m√†n h√¨nh c·ªßa m·ªôt navigator kh√°c. V√≠ d·ª•: m·ªôt Tab Navigator b√™n trong m·ªôt Stack Navigator.</p>
<h4 id="c√°c-h√†nh-vi-ch√≠nh-c·ªßa-nested-navigators"><a class="header" href="#c√°c-h√†nh-vi-ch√≠nh-c·ªßa-nested-navigators">C√°c h√†nh vi ch√≠nh c·ªßa Nested Navigators</a></h4>
<ul>
<li>L·ªãch s·ª≠ ƒëi·ªÅu h∆∞·ªõng ƒë·ªôc l·∫≠p: M·ªói navigator duy tr√¨ l·ªãch s·ª≠ ƒëi·ªÅu h∆∞·ªõng back ri√™ng.</li>
<li>T√πy ch·ªçn m√†n h√¨nh ri√™ng bi·ªát: C√°c t√πy ch·ªçn c·ªßa m·ªôt navigator l·ªìng nhau (v√≠ d·ª•: ti√™u ƒë·ªÅ) kh√¥ng ·∫£nh h∆∞·ªüng ƒë·∫øn navigator cha.</li>
<li>Params ƒë·ªôc l·∫≠p: Params c·ªßa m·ªôt m√†n h√¨nh l·ªìng nhau kh√¥ng th·ªÉ truy c·∫≠p ƒë∆∞·ª£c t·ª´ c√°c m√†n h√¨nh cha/con.</li>
<li>Navigation Actions Bubble Up: N·∫øu m·ªôt navigator con kh√¥ng th·ªÉ x·ª≠ l√Ω m·ªôt h√†nh ƒë·ªông, navigator cha s·∫Ω x·ª≠ l√Ω.</li>
<li>C√°c ph∆∞∆°ng th·ª©c d√†nh ri√™ng cho Navigator: C√°c ph∆∞∆°ng th·ª©c nh∆∞ <code>openDrawer</code> ch·ªâ c√≥ s·∫µn b√™n trong navigator ƒë√≥.</li>
<li>Kh√¥ng k·∫ø th·ª´a Parent Events: C√°c m√†n h√¨nh b√™n trong m·ªôt navigator l·ªìng nhau kh√¥ng nh·∫≠n ƒë∆∞·ª£c c√°c s·ª± ki·ªán t·ª´ navigator cha.</li>
<li>Parent UI Renders on Top: M·ªôt drawer ƒë∆∞·ª£c ƒë·∫∑t b√™n trong m·ªôt stack s·∫Ω xu·∫•t hi·ªán b√™n d∆∞·ªõi header c·ªßa stack.</li>
</ul>
<h4 id="v√≠-d·ª•-nesting-navigators"><a class="header" href="#v√≠-d·ª•-nesting-navigators">V√≠ d·ª•: Nesting Navigators</a></h4>
<pre><code class="language-javascript">import { createBottomTabNavigator } from '@react-navigation/bottom-tabs'; // Import Tab navigator creator
import { createNativeStackNavigator } from '@react-navigation/native-stack'; // Import Stack navigator creator
import { NavigationContainer } from '@react-navigation/native'; // Import NavigationContainer
import { View, Text } from 'react-native'; // Import necessary components

const HomeScreen = () =&gt; (
  &lt;View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}&gt;
    &lt;Text&gt;Home Screen&lt;/Text&gt;
  &lt;/View&gt;
);
const SettingsScreen = () =&gt; (
  &lt;View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}&gt;
    &lt;Text&gt;Settings Screen&lt;/Text&gt;
  &lt;/View&gt;
);
const DetailsScreen = () =&gt; (
  &lt;View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}&gt;
    &lt;Text&gt;Details Screen&lt;/Text&gt;
  &lt;/View&gt;
);

const Tab = createBottomTabNavigator();

function MyTabs() {
  return (
    &lt;Tab.Navigator&gt;
      &lt;Tab.Screen name=&quot;Home&quot; component={HomeScreen} /&gt;
      &lt;Tab.Screen name=&quot;Settings&quot; component={SettingsScreen} /&gt;
    &lt;/Tab.Navigator&gt;
  );
}

const { Navigator, Screen } = createNativeStackNavigator();

export default function App() {
  return (
    &lt;NavigationContainer&gt;
      &lt;Navigator&gt;
        &lt;Screen name=&quot;Tabs&quot; component={MyTabs} /&gt;
        &lt;Screen name=&quot;Details&quot; component={DetailsScreen} /&gt;
      &lt;/Navigator&gt;
    &lt;/NavigationContainer&gt;
  );
}
</code></pre>
<h4 id="ƒêi·ªÅu-h∆∞·ªõng-trong-nested-navigators"><a class="header" href="#ƒêi·ªÅu-h∆∞·ªõng-trong-nested-navigators">ƒêi·ªÅu h∆∞·ªõng trong Nested Navigators</a></h4>
<p>ƒê·ªÉ ƒëi·ªÅu h∆∞·ªõng ƒë·∫øn m·ªôt m√†n h√¨nh b√™n trong m·ªôt nested navigator:</p>
<pre><code class="language-javascript">import { useNavigation } from '@react-navigation/native';

function MyComponent() { // Example component
  const navigation = useNavigation();
  // ...
  navigation.navigate('Tabs', {
    screen: 'Settings'
    // Truy·ªÅn params khi ƒëi·ªÅu h∆∞·ªõng:
    // params: { user: 'jane' }
  });
  // ...
}
</code></pre>
<p>ƒê·ªÉ truy·ªÅn params khi ƒëi·ªÅu h∆∞·ªõng ƒë·∫øn m√†n h√¨nh trong tab:</p>
<pre><code class="language-javascript">import { useNavigation } from '@react-navigation/native';

function MyComponent() { // Example component
  const navigation = useNavigation();
  // ...
  navigation.navigate('Tabs', {
    screen: 'Settings',
    params: { user: 'jane' }
  });
  // ...
}
</code></pre>
<h2 id="lecture-7"><a class="header" href="#lecture-7">Lecture 7</a></h2>
<h3 id="style-in-react-native"><a class="header" href="#style-in-react-native">Style in React Native</a></h3>
<p>C√°i n√†o ƒë∆∞·ª£c ƒë·∫∑t sau th√¨ s·∫Ω s·ª≠ d·ª•ng c√°i ƒë·∫•y, v√≠ d·ª• nh∆∞ trong h√¨nh th√¨ <code>&lt;Text style={[styles.bigBlue, styles.red]}&gt;bigBlue, then red&lt;/Text&gt;</code> s·∫Ω hi·ªán m√†u ƒë·ªè, ch·ª© kh√¥ng ph·∫£i xanh.</p>
<pre><code class="language-jsx">import { StyleSheet, Text, View } from 'react-native'; // Import necessary components

// Assume styles object is defined below
const styles = StyleSheet.create({
  container: { marginTop: 50 },
  bigBlue: { color: 'blue', fontWeight: 'bold', fontSize: 30 },
  red: { color: 'red' }
});

&lt;View style={styles.container}&gt;
  &lt;Text style={styles.red}&gt;just red&lt;/Text&gt;
  &lt;Text style={styles.bigBlue}&gt;just bigBlue&lt;/Text&gt;
  &lt;Text style={[styles.bigBlue, styles.red]}&gt;bigBlue, then red&lt;/Text&gt;
  &lt;Text style={[styles.red, styles.bigBlue]}&gt;red, then bigBlue&lt;/Text&gt;
&lt;/View&gt;
</code></pre>
<p>D·ª±a tr√™n n·ªôi dung b·∫°n cung c·∫•p t·ª´ Lecture 7, d∆∞·ªõi ƒë√¢y l√† c√°c ƒëo·∫°n code v√† gi·∫£i th√≠ch v·ªÅ Styling v√† Layout v·ªõi Flexbox trong React Native:</p>
<h3 id="styling-trong-react-native"><a class="header" href="#styling-trong-react-native">Styling trong React Native</a></h3>
<ul>
<li><strong>Styling v·ªõi JavaScript</strong>: C√°c component trong React Native ch·∫•p nh·∫≠n m·ªôt <code>style</code> prop. T√™n thu·ªôc t√≠nh style ƒë∆∞·ª£c vi·∫øt theo ki·ªÉu <code>camelCase</code> (v√≠ d·ª•: <code>backgroundColor</code> thay v√¨ <code>background-color</code>).</li>
<li><strong>ƒê·ªãnh nghƒ©a styles</strong>:
<ul>
<li>Styles c√≥ th·ªÉ l√† m·ªôt ƒë·ªëi t∆∞·ª£ng JavaScript ƒë∆°n gi·∫£n.</li>
<li>C√≥ th·ªÉ s·ª≠ d·ª•ng m·ªôt m·∫£ng c√°c styles (style cu·ªëi c√πng trong m·∫£ng s·∫Ω ƒë∆∞·ª£c ∆∞u ti√™n).</li>
<li>ƒê·ªëi v·ªõi c√°c component ph·ª©c t·∫°p, s·ª≠ d·ª•ng <code>StyleSheet.create</code> gi√∫p t·ªï ch·ª©c styles g·ªçn g√†ng h∆°n.</li>
</ul>
</li>
</ul>
<h4 id="s·ª≠-d·ª•ng-stylesheetcreate"><a class="header" href="#s·ª≠-d·ª•ng-stylesheetcreate">S·ª≠ d·ª•ng <code>StyleSheet.create</code></a></h4>
<p><code>StyleSheet.create</code> gi√∫p ƒë·ªãnh nghƒ©a nhi·ªÅu style ·ªü m·ªôt n∆°i.</p>
<ul>
<li><strong>L·ª£i √≠ch</strong>: Hi·ªáu su·∫•t (styles b·∫•t bi·∫øn), Validation, T√≠nh nh·∫•t qu√°n, T√≠ch h·ª£p t·ªët h∆°n v·ªõi React Native, Minification (gi·∫£m k√≠ch th∆∞·ªõc bundle).</li>
</ul>
<pre><code class="language-javascript">import React from 'react';
import { StyleSheet, Text, View } from 'react-native';

export default function LotsOfStyles() {
  return (
    &lt;View style={styles.container}&gt;
      &lt;Text style={styles.red}&gt;just red&lt;/Text&gt;
      &lt;Text style={styles.bigBlue}&gt;just bigBlue&lt;/Text&gt;
      &lt;Text style={[styles.bigBlue, styles.red]}&gt;
        bigBlue, then red&lt;/Text&gt;
      &lt;Text style={[styles.red, styles.bigBlue]}&gt;
        red, then bigBlue&lt;/Text&gt;
    &lt;/View&gt;
  );
}

const styles = StyleSheet.create({
  container: { marginTop: 50 },
  bigBlue: { color: 'blue', fontWeight: 'bold', fontSize: 30 },
  red: { color: 'red' }
});
</code></pre>
<ul>
<li><strong>K·∫ø th·ª´a styles</strong>: M·ªôt component c√≥ th·ªÉ nh·∫≠n <code>style</code> prop v√† truy·ªÅn n√≥ cho c√°c subcomponent, cho ph√©p styles &quot;cascade&quot; gi·ªëng nh∆∞ trong CSS.</li>
<li><strong>V·∫•n ƒë·ªÅ t∆∞∆°ng th√≠ch</strong>: C√≥ m·ªôt s·ªë kh√°c bi·ªát so v·ªõi web CSS, v√≠ d·ª•: v√πng ch·∫°m kh√¥ng m·ªü r·ªông ra ngo√†i view cha v√† l·ªÅ √¢m kh√¥ng ƒë∆∞·ª£c h·ªó tr·ª£ tr√™n Android.</li>
</ul>
<h3 id="height-and-width"><a class="header" href="#height-and-width">Height and Width</a></h3>
<h4 id="fixed-dimensions-k√≠ch-th∆∞·ªõc-c·ªë-ƒë·ªãnh"><a class="header" href="#fixed-dimensions-k√≠ch-th∆∞·ªõc-c·ªë-ƒë·ªãnh">Fixed Dimensions (K√≠ch th∆∞·ªõc c·ªë ƒë·ªãnh)</a></h4>
<p>C√°ch th√¥ng th∆∞·ªùng ƒë·ªÉ ƒë·∫∑t k√≠ch th∆∞·ªõc c·ªßa m·ªôt component l√† th√™m <code>width</code> v√† <code>height</code> c·ªë ƒë·ªãnh v√†o <code>style</code>. T·∫•t c·∫£ c√°c k√≠ch th∆∞·ªõc trong React Native l√† <em>kh√¥ng c√≥ ƒë∆°n v·ªã</em>, v√† ƒë·∫°i di·ªán cho <em>density-independent pixels (dp)</em>.</p>
<pre><code class="language-javascript">import { View } from 'react-native'; // Import necessary component

&lt;View style={{ flex: 1 }}&gt;
  &lt;View style={{
    width: 50 ,
    height: 50 ,
    backgroundColor: 'powderblue'
  }} /&gt;
  &lt;View style={{
    width: 100 ,
    height: 100 ,
    backgroundColor: 'skyblue'
  }} /&gt;
  &lt;View style={{
    width: 150 ,
    height: 150 ,
    backgroundColor: 'steelblue'
  }} /&gt;
&lt;/View&gt;
</code></pre>
<h4 id="flex-dimensions-k√≠ch-th∆∞·ªõc-linh-ho·∫°t"><a class="header" href="#flex-dimensions-k√≠ch-th∆∞·ªõc-linh-ho·∫°t">Flex Dimensions (K√≠ch th∆∞·ªõc linh ho·∫°t)</a></h4>
<p>S·ª≠ d·ª•ng <code>flex</code> trong style c·ªßa component ƒë·ªÉ l√†m cho n√≥ m·ªü r·ªông ho·∫∑c co l·∫°i d·ª±a tr√™n kh√¥ng gian c√≥ s·∫µn.</p>
<ul>
<li><code>flex: 1</code> l√†m cho component l·∫•p ƒë·∫ßy t·∫•t c·∫£ kh√¥ng gian c√≥ s·∫µn, chia s·∫ª ƒë·ªÅu v·ªõi c√°c component ngang c·∫•p.</li>
<li>Gi√° tr·ªã <code>flex</code> l·ªõn h∆°n s·∫Ω cho component m·ªôt ph·∫ßn kh√¥ng gian l·ªõn h∆°n.</li>
<li>M·ªôt component ch·ªâ c√≥ th·ªÉ m·ªü r·ªông n·∫øu component cha c·ªßa n√≥ c√≥ k√≠ch th∆∞·ªõc ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a (k√≠ch th∆∞·ªõc c·ªë ƒë·ªãnh ho·∫∑c flex).</li>
</ul>
<pre><code class="language-javascript">import React from 'react';
import { View } from 'react-native'; // Import necessary component

export default function FlexDimensionsBasics() {
  return (
    // Try removing the `flex: 1` on the parent View.
    // The parent will not have dimensions, so the
    // children can't expand.
    // What if you add `height: 300` instead of `flex: 1`?
    &lt;View style={{ flex: 1 }}&gt;
      &lt;View style={{
        flex: 1 , backgroundColor: 'powderblue'
      }} /&gt;
      &lt;View style={{
        flex: 2 , backgroundColor: 'skyblue'
      }} /&gt;
      &lt;View style={{
        flex: 3 , backgroundColor: 'steelblue'
      }} /&gt;
    &lt;/View&gt;
  );
};
</code></pre>
<h4 id="percentage-dimensions-k√≠ch-th∆∞·ªõc-theo-ph·∫ßn-trƒÉm"><a class="header" href="#percentage-dimensions-k√≠ch-th∆∞·ªõc-theo-ph·∫ßn-trƒÉm">Percentage Dimensions (K√≠ch th∆∞·ªõc theo ph·∫ßn trƒÉm)</a></h4>
<p>Thay v√¨ <code>flex</code>, b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng gi√° tr·ªã ph·∫ßn trƒÉm ƒë·ªÉ ki·ªÉm so√°t k√≠ch th∆∞·ªõc c·ªßa component, nh∆∞ng component cha ph·∫£i c√≥ k√≠ch th∆∞·ªõc ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a.</p>
<pre><code class="language-javascript">import { View } from 'react-native'; // Import necessary component

&lt;View style={{ height: '100%' }}&gt;
  &lt;View style={{
    height: '15%',
    backgroundColor: 'powderblue'
  }} /&gt;
  &lt;View style={{
    width: '66%',
    height: '35%',
    backgroundColor: 'skyblue'
  }} /&gt;
  &lt;View style={{
    width: '33%',
    height: '50%',
    backgroundColor: 'steelblue'
  }} /&gt;
&lt;/View&gt;
</code></pre>
<h3 id="layout-v·ªõi-flexbox"><a class="header" href="#layout-v·ªõi-flexbox">Layout v·ªõi Flexbox</a></h3>
<p>M·ªôt component c√≥ th·ªÉ ch·ªâ ƒë·ªãnh layout c·ªßa c√°c component con b·∫±ng thu·∫≠t to√°n Flexbox. Flexbox ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ cung c·∫•p layout nh·∫•t qu√°n tr√™n c√°c k√≠ch th∆∞·ªõc m√†n h√¨nh kh√°c nhau. B·∫°n th∆∞·ªùng s·ª≠ d·ª•ng k·∫øt h·ª£p <code>flexDirection</code>, <code>alignItems</code>, v√† <code>justifyContent</code> ƒë·ªÉ ƒë·∫°t ƒë∆∞·ª£c layout mong mu·ªën.</p>
<ul>
<li><strong>L∆ØU √ù</strong>: Flexbox ho·∫°t ƒë·ªông t∆∞∆°ng t·ª± trong React Native nh∆∞ trong CSS tr√™n web, v·ªõi m·ªôt v√†i ngo·∫°i l·ªá: c√°c gi√° tr·ªã m·∫∑c ƒë·ªãnh kh√°c nhau (<code>flexDirection</code> m·∫∑c ƒë·ªãnh l√† <code>column</code> thay v√¨ <code>row</code>, <code>alignContent</code> m·∫∑c ƒë·ªãnh l√† <code>flex-start</code> thay v√¨ <code>stretch</code>, <code>flexShrink</code> m·∫∑c ƒë·ªãnh l√† 0 thay v√¨ 1, tham s·ªë <code>flex</code> ch·ªâ h·ªó tr·ª£ m·ªôt s·ªë duy nh·∫•t).</li>
</ul>
<h4 id="flex"><a class="header" href="#flex">Flex</a></h4>
<p><code>flex</code> s·∫Ω x√°c ƒë·ªãnh c√°ch c√°c item c·ªßa b·∫°n &quot;l·∫•p ƒë·∫ßy&quot; kh√¥ng gian c√≥ s·∫µn d·ªçc theo tr·ª•c ch√≠nh. Kh√¥ng gian s·∫Ω ƒë∆∞·ª£c chia theo thu·ªôc t√≠nh <code>flex</code> c·ªßa m·ªói ph·∫ßn t·ª≠.</p>
<pre><code class="language-javascript">import React from 'react';
import { StyleSheet, View } from 'react-native'; // Import necessary components

export default function Flex() {
  return (
    &lt;View style={[
      styles.container,
      { // Try setting 'flexDirection' to 'row'
        flexDirection: 'column'
      }]}&gt;
      &lt;View style={{flex: 1 , backgroundColor: 'red'}} /&gt;
      &lt;View style={{flex: 2 , backgroundColor: 'darkorange'}} /&gt;
      &lt;View style={{flex: 3 , backgroundColor: 'green'}} /&gt;
    &lt;/View&gt;
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1 ,
    padding: 20
  }
});
</code></pre>
<h4 id="flex-direction"><a class="header" href="#flex-direction">Flex Direction</a></h4>
<p><code>flexDirection</code> ki·ªÉm so√°t h∆∞·ªõng m√† c√°c component con ƒë∆∞·ª£c b·ªë tr√≠. ƒê√¢y c√≤n ƒë∆∞·ª£c g·ªçi l√† tr·ª•c ch√≠nh. Tr·ª•c ch√©o l√† tr·ª•c vu√¥ng g√≥c v·ªõi tr·ª•c ch√≠nh.</p>
<ul>
<li><code>column</code> (gi√° tr·ªã m·∫∑c ƒë·ªãnh): S·∫Øp x·∫øp c√°c component con t·ª´ tr√™n xu·ªëng d∆∞·ªõi.</li>
<li><code>row</code>: S·∫Øp x·∫øp c√°c component con t·ª´ tr√°i sang ph·∫£i.</li>
<li><code>column-reverse</code>: S·∫Øp x·∫øp c√°c component con t·ª´ d∆∞·ªõi l√™n tr√™n.</li>
<li><code>row-reverse</code>: S·∫Øp x·∫øp c√°c component con t·ª´ ph·∫£i sang tr√°i.</li>
</ul>
<p>V√≠ d·ª• v·ªÅ <code>flexDirection</code>:</p>
<p>Thi·∫øt l·∫≠p ban ƒë·∫ßu:</p>
<pre><code class="language-javascript">import React, { useState } from 'react';
import { StyleSheet, Text, View } from 'react-native';

const FlexDirectionExample = () =&gt; {
  const [flexDirection, setFlexDirection] = useState('column');
  return (
    &lt;View style={styles.container}&gt;
      &lt;Text style={styles.label}&gt;flexDirection: {flexDirection}&lt;/Text&gt;
      {/* Remaining parts will be introduced in later slides */}
    &lt;/View&gt;
  );
};

// Assume styles object is defined elsewhere
// const styles = StyleSheet.create({ ... });
</code></pre>
<p>Thay ƒë·ªïi <code>flexDirection</code> v·ªõi Buttons:</p>
<pre><code class="language-javascript">import { TouchableOpacity, Text, View, StyleSheet } from 'react-native'; // Import necessary components
import React, { useState } from 'react'; // Import useState

// Assume styles object is defined elsewhere
const styles = StyleSheet.create({
  container: { flex: 1, padding: 10 },
  label: { textAlign: &quot;center&quot;, fontSize: 18, marginBottom: 10 },
  buttons: { flexDirection: &quot;row&quot;, justifyContent: &quot;center&quot; },
  button: {
    padding: 8,
    margin: 5,
    backgroundColor: &quot;oldlace&quot;,
    borderRadius: 5,
  },
  selected: { backgroundColor: &quot;coral&quot; },
  boxContainer: { flex: 1, justifyContent: &quot;center&quot;, alignItems: &quot;center&quot; },
  box: { width: 50, height: 50, margin: 5 }
});

const FlexDirectionExample = () =&gt; {
  const [flexDirection, setFlexDirection] = useState('column');
  return (
    &lt;View style={styles.container}&gt;
      &lt;Text style={styles.label}&gt;flexDirection: {flexDirection}&lt;/Text&gt;
      &lt;View style={styles.buttons}&gt;
        {['column', 'row', 'row-reverse', 'column-reverse'].map(value =&gt; (
          &lt;TouchableOpacity
            key={value}
            onPress={() =&gt; setFlexDirection(value)}
            style={[styles.button, flexDirection === value &amp;&amp; styles.selected]}
          &gt;
            &lt;Text style={styles.buttonText}&gt;{value}&lt;/Text&gt;
          &lt;/TouchableOpacity&gt;
        ))}
      &lt;/View&gt;
      {/* The boxContainer part will be rendered below */}
    &lt;/View&gt;
  );
};
</code></pre>
<p>Thay ƒë·ªïi layout v·ªõi <code>flexDirection</code>:</p>
<pre><code class="language-javascript">import { View, StyleSheet } from 'react-native'; // Import necessary components
import React, { useState } from 'react'; // Import useState

// Assume styles object is defined elsewhere
const styles = StyleSheet.create({
  container: { flex: 1, padding: 10 },
  label: { textAlign: &quot;center&quot;, fontSize: 18, marginBottom: 10 },
  buttons: { flexDirection: &quot;row&quot;, justifyContent: &quot;center&quot; },
  button: {
    padding: 8,
    margin: 5,
    backgroundColor: &quot;oldlace&quot;,
    borderRadius: 5,
  },
  selected: { backgroundColor: &quot;coral&quot; },
  boxContainer: { flex: 1, justifyContent: &quot;center&quot;, alignItems: &quot;center&quot; },
  box: { width: 50, height: 50, margin: 5 }
});

const FlexDirectionExample = () =&gt; {
  const [flexDirection, setFlexDirection] = useState('column');
  return (
    &lt;View style={styles.container}&gt;
      &lt;Text style={styles.label}&gt;flexDirection: {flexDirection}&lt;/Text&gt;
      {/* Buttons part rendered above */}
      &lt;View style={[styles.boxContainer, { flexDirection }]}&gt;
        &lt;View style={[styles.box, { backgroundColor: 'powderblue' }]} /&gt;
        &lt;View style={[styles.box, { backgroundColor: 'skyblue' }]} /&gt;
        &lt;View style={[styles.box, { backgroundColor: 'steelblue' }]} /&gt;
      &lt;/View&gt;
    &lt;/View&gt;
  );
};

export default FlexDirectionExample; // Export the component
</code></pre>
<p>Styles cho v√≠ d·ª• <code>flexDirection</code>:</p>
<pre><code class="language-javascript">import { StyleSheet } from 'react-native';

const styles = StyleSheet.create({
  container: { flex: 1 , padding: 10 },
  label: { textAlign: &quot;center&quot;, fontSize: 18 , marginBottom: 10 },
  buttons: { flexDirection: &quot;row&quot;, justifyContent: &quot;center&quot; },
  button: {
    padding: 8 ,
    margin: 5 ,
    backgroundColor: &quot;oldlace&quot;,
    borderRadius: 5 ,
  },
  selected: { backgroundColor: &quot;coral&quot; },
  boxContainer: { flex: 1 , justifyContent: &quot;center&quot;, alignItems: &quot;center&quot; },
  box: { width: 50 , height: 50 , margin: 5 }
});
</code></pre>
<h4 id="layout-direction"><a class="header" href="#layout-direction">Layout Direction</a></h4>
<p><code>layoutDirection</code> ch·ªâ ƒë·ªãnh h∆∞·ªõng c·ªßa c√°c component con v√† vƒÉn b·∫£n. N√≥ ·∫£nh h∆∞·ªüng ƒë·∫øn √Ω nghƒ©a c·ªßa <code>start</code> v√† <code>end</code>.</p>
<ul>
<li><code>LTR</code> (gi√° tr·ªã m·∫∑c ƒë·ªãnh): VƒÉn b·∫£n v√† component con ƒë∆∞·ª£c b·ªë tr√≠ t·ª´ tr√°i sang ph·∫£i.</li>
<li><code>RTL</code>: VƒÉn b·∫£n v√† component con ƒë∆∞·ª£c b·ªë tr√≠ t·ª´ ph·∫£i sang tr√°i.</li>
</ul>
<h4 id="justify-content"><a class="header" href="#justify-content">Justify Content</a></h4>
<p><code>justifyContent</code> m√¥ t·∫£ c√°ch cƒÉn ch·ªânh c√°c component con d·ªçc theo tr·ª•c ch√≠nh c·ªßa container.</p>
<ul>
<li><code>flex-start</code> (gi√° tr·ªã m·∫∑c ƒë·ªãnh): CƒÉn ch·ªânh v·ªÅ ƒë·∫ßu tr·ª•c ch√≠nh.</li>
<li><code>flex-end</code>: CƒÉn ch·ªânh v·ªÅ cu·ªëi tr·ª•c ch√≠nh.</li>
<li><code>center</code>: CƒÉn ch·ªânh v√†o gi·ªØa tr·ª•c ch√≠nh.</li>
<li><code>space-between</code>: Ph√¢n b·ªï ƒë·ªÅu kh√¥ng gian gi·ªØa c√°c component con d·ªçc theo tr·ª•c ch√≠nh.</li>
<li><code>space-around</code>: Ph√¢n b·ªï ƒë·ªÅu kh√¥ng gian xung quanh c√°c component con d·ªçc theo tr·ª•c ch√≠nh.</li>
<li><code>space-evenly</code>: Ph√¢n b·ªï ƒë·ªÅu kh√¥ng gian gi·ªØa c√°c component con, kh√¥ng gian ·ªü hai ƒë·∫ßu container v√† kho·∫£ng c√°ch gi·ªØa c√°c item ƒë·ªÅu b·∫±ng nhau.</li>
</ul>
<h4 id="align-items"><a class="header" href="#align-items">Align Items</a></h4>
<p><code>alignItems</code> m√¥ t·∫£ c√°ch cƒÉn ch·ªânh c√°c component con d·ªçc theo tr·ª•c ch√©o c·ªßa container. N√≥ t∆∞∆°ng t·ª± nh∆∞ <code>justifyContent</code> nh∆∞ng d√πng cho tr·ª•c ch√©o.</p>
<ul>
<li><code>stretch</code> (gi√° tr·ªã m·∫∑c ƒë·ªãnh): K√©o d√†i c√°c component con ƒë·ªÉ kh·ªõp v·ªõi chi·ªÅu cao c·ªßa tr·ª•c ch√©o.</li>
<li><code>flex-start</code>: CƒÉn ch·ªânh v·ªÅ ƒë·∫ßu tr·ª•c ch√©o.</li>
<li><code>flex-end</code>: CƒÉn ch·ªânh v·ªÅ cu·ªëi tr·ª•c ch√©o.</li>
<li><code>center</code>: CƒÉn ch·ªânh v√†o gi·ªØa tr·ª•c ch√©o.</li>
<li><code>baseline</code>: CƒÉn ch·ªânh c√°c component con d·ªçc theo m·ªôt ƒë∆∞·ªùng c∆° s·ªü chung.</li>
</ul>
<h4 id="align-self"><a class="header" href="#align-self">Align Self</a></h4>
<p><code>alignSelf</code> c√≥ c√°c t√πy ch·ªçn v√† hi·ªáu ·ª©ng gi·ªëng nh∆∞ <code>alignItems</code> nh∆∞ng √°p d·ª•ng cho m·ªôt component con duy nh·∫•t ƒë·ªÉ thay ƒë·ªïi cƒÉn ch·ªânh c·ªßa n√≥ b√™n trong component cha. <code>alignSelf</code> ghi ƒë√® b·∫•t k·ª≥ t√πy ch·ªçn n√†o ƒë∆∞·ª£c ƒë·∫∑t b·ªüi component cha v·ªõi <code>alignItems</code>.</p>
<h4 id="align-content"><a class="header" href="#align-content">Align Content</a></h4>
<p><code>alignContent</code> ƒë·ªãnh nghƒ©a c√°ch ph√¢n b·ªï c√°c d√≤ng d·ªçc theo tr·ª•c ch√©o. ƒêi·ªÅu n√†y ch·ªâ c√≥ hi·ªáu l·ª±c khi c√°c item ƒë∆∞·ª£c xu·ªëng d√≤ng b·∫±ng <code>flexWrap</code>.</p>
<ul>
<li><code>flex-start</code> (gi√° tr·ªã m·∫∑c ƒë·ªãnh): CƒÉn ch·ªânh c√°c d√≤ng ƒë√£ xu·ªëng d√≤ng v·ªÅ ƒë·∫ßu tr·ª•c ch√©o.</li>
<li><code>flex-end</code>: CƒÉn ch·ªânh c√°c d√≤ng ƒë√£ xu·ªëng d√≤ng v·ªÅ cu·ªëi tr·ª•c ch√©o.</li>
<li><code>stretch</code>: K√©o d√†i c√°c d√≤ng ƒë√£ xu·ªëng d√≤ng ƒë·ªÉ kh·ªõp v·ªõi chi·ªÅu cao c·ªßa tr·ª•c ch√©o.</li>
<li><code>center</code>: CƒÉn ch·ªânh c√°c d√≤ng ƒë√£ xu·ªëng d√≤ng v√†o gi·ªØa tr·ª•c ch√©o.</li>
<li><code>space-between</code>: Ph√¢n b·ªï ƒë·ªÅu kh√¥ng gian gi·ªØa c√°c d√≤ng ƒë√£ xu·ªëng d√≤ng d·ªçc theo tr·ª•c ch√©o.</li>
<li><code>space-around</code>: Ph√¢n b·ªï ƒë·ªÅu kh√¥ng gian xung quanh c√°c d√≤ng ƒë√£ xu·ªëng d√≤ng d·ªçc theo tr·ª•c ch√©o.</li>
<li><code>space-evenly</code>: Ph√¢n b·ªï ƒë·ªÅu kh√¥ng gian gi·ªØa c√°c d√≤ng ƒë√£ xu·ªëng d√≤ng d·ªçc theo tr·ª•c ch√©o.</li>
</ul>
<h4 id="flex-wrap"><a class="header" href="#flex-wrap">Flex Wrap</a></h4>
<p>Thu·ªôc t√≠nh <code>flexWrap</code> ƒë∆∞·ª£c ƒë·∫∑t tr√™n container v√† ki·ªÉm so√°t ƒëi·ªÅu g√¨ x·∫£y ra khi c√°c component con tr√†n ra ngo√†i k√≠ch th∆∞·ªõc c·ªßa container d·ªçc theo tr·ª•c ch√≠nh. M·∫∑c ƒë·ªãnh, c√°c component con b·ªã √©p v√†o m·ªôt d√≤ng duy nh·∫•t. N·∫øu cho ph√©p xu·ªëng d√≤ng, c√°c item s·∫Ω ƒë∆∞·ª£c xu·ªëng d√≤ng th√†nh nhi·ªÅu d√≤ng d·ªçc theo tr·ª•c ch√≠nh n·∫øu c·∫ßn.</p>
<h4 id="flex-basis-v√†-grow"><a class="header" href="#flex-basis-v√†-grow">Flex Basis v√† Grow</a></h4>
<ul>
<li><strong>flexBasis</strong>: ƒê·ªãnh nghƒ©a k√≠ch th∆∞·ªõc m·∫∑c ƒë·ªãnh c·ªßa m·ªôt item d·ªçc theo tr·ª•c ch√≠nh. Ho·∫°t ƒë·ªông gi·ªëng nh∆∞ <code>width</code> n·∫øu <code>flexDirection: row</code>, ho·∫∑c <code>height</code> n·∫øu <code>flexDirection: column</code>. K√≠ch th∆∞·ªõc c·ªßa item tr∆∞·ªõc khi ƒëi·ªÅu ch·ªânh b·ªüi <code>flexGrow</code> v√† <code>flexShrink</code>.</li>
<li><strong>flexGrow</strong>: X√°c ƒë·ªãnh l∆∞·ª£ng kh√¥ng gian c√≤n l·∫°i m√† m·ªôt component con n√™n chi·∫øm trong container. Ch·∫•p nh·∫≠n gi√° tr·ªã ‚â• 0 (m·∫∑c ƒë·ªãnh l√† 0). Kh√¥ng gian ƒë∆∞·ª£c ph√¢n b·ªï theo t·ª∑ l·ªá d·ª±a tr√™n gi√° tr·ªã <code>flexGrow</code>.</li>
</ul>
<h4 id="flexshrink"><a class="header" href="#flexshrink">flexShrink</a></h4>
<p>ƒê·ªãnh nghƒ©a c√°ch m·ªôt component con co l·∫°i khi n·ªôi dung tr√†n ra ngo√†i container. Ch·∫•p nh·∫≠n gi√° tr·ªã ‚â• 0 (m·∫∑c ƒë·ªãnh l√† 0, nh∆∞ng l√† 1 trong web). Ho·∫°t ƒë·ªông v·ªõi <code>flexGrow</code> ƒë·ªÉ cho ph√©p c√°c ph·∫ßn t·ª≠ m·ªü r·ªông v√† co l·∫°i m·ªôt c√°ch linh ho·∫°t.</p>
<h4 id="row-gap-column-gap-v√†-gap"><a class="header" href="#row-gap-column-gap-v√†-gap">Row Gap, Column Gap v√† Gap</a></h4>
<ul>
<li><code>rowGap</code>: ƒê·∫∑t k√≠ch th∆∞·ªõc c·ªßa kho·∫£ng c√°ch (gutter) gi·ªØa c√°c h√†ng c·ªßa m·ªôt ph·∫ßn t·ª≠.</li>
<li><code>columnGap</code>: ƒê·∫∑t k√≠ch th∆∞·ªõc c·ªßa kho·∫£ng c√°ch (gutter) gi·ªØa c√°c c·ªôt c·ªßa m·ªôt ph·∫ßn t·ª≠.</li>
<li><code>gap</code>: ƒê·∫∑t k√≠ch th∆∞·ªõc c·ªßa kho·∫£ng c√°ch (gutter) gi·ªØa c√°c h√†ng v√† c·ªôt. N√≥ l√† shorthand cho <code>rowGap</code> v√† <code>columnGap</code>.</li>
</ul>
<p>B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng <code>flexWrap</code> v√† <code>alignContent</code> c√πng v·ªõi <code>gap</code> ƒë·ªÉ th√™m kho·∫£ng c√°ch nh·∫•t qu√°n gi·ªØa c√°c item.</p>
<h2 id="b√†i-8-tailwind-css-for-react-native-ie-nativewind"><a class="header" href="#b√†i-8-tailwind-css-for-react-native-ie-nativewind">B√†i 8: Tailwind CSS for React Native i.e. NativeWind</a></h2>
<pre><code class="language-bash">npm install nativewind@2.0.11 tailwindcss@3.2.2
# Optional
npm install react-native-reanimated
# (optional)
npm install react-native-safe-area-context
</code></pre>
<ol start="2">
<li><strong>Thi·∫øt l·∫≠p NativeWind:</strong> Ch·∫°y <code>npx tailwindcss init</code> ƒë·ªÉ t·∫°o file <code>tailwind.config.js</code>. Th√™m ƒë∆∞·ªùng d·∫´n ƒë·∫øn t·∫•t c·∫£ c√°c file component c·ªßa b·∫°n v√†o file <code>tailwind.config.js</code>.</li>
</ol>
<pre><code class="language-javascript">    /** @type {import('tailwindcss').Config} */
    module.exports = {
      content: [
        &quot;./TailwindApp.js&quot;,
        &quot;./components/*.js&quot;,
        &quot;./screens/*.js&quot;
      ],
      theme: {
        extend: {},
      },
      plugins: [],
    }
</code></pre>
<ol start="3">
<li><strong>Th√™m Babel preset:</strong> B∆∞·ªõc n√†y ƒë·∫£m b·∫£o NativeWind ho·∫°t ƒë·ªông ch√≠nh x√°c trong React Native b·∫±ng c√°ch bi·∫øn ƒë·ªïi c√∫ ph√°p JSX ƒë·ªÉ h·ªó tr·ª£ <code>className</code> theo ki·ªÉu Tailwind CSS. T·∫°o file <code>babel.config.js</code>.</li>
</ol>
<pre><code class="language-javascript">    module.exports = {
      presets: [&quot;babel-preset-expo&quot;],
      plugins: [&quot;nativewind/babel&quot;],
    };
</code></pre>
<h3 id="styling-v·ªõi-utility-classes"><a class="header" href="#styling-v·ªõi-utility-classes">Styling v·ªõi Utility Classes</a></h3>
<p>B·∫°n t·∫°o ki·ªÉu b·∫±ng Tailwind b·∫±ng c√°ch k·∫øt h·ª£p nhi·ªÅu class tr√¨nh b√†y (utility classes) c√≥ m·ª•c ƒë√≠ch ƒë∆°n l·∫ª tr·ª±c ti·∫øp trong markup c·ªßa b·∫°n.</p>
<pre><code class="language-javascript">&lt;View className=&quot;flex-1 justify-center items-center bg-blue-100&quot;&gt;
  &lt;View className=&quot;flex-row items-center shadow-2xl shadow-gray-900 gap-x-4 rounded-xl bg-white p-6&quot;&gt;
    &lt;View&gt;
      &lt;Image className=&quot;w-20 h-20&quot; resizeMode=&quot;contain&quot; source={require('./assets/chitchat.png')} /&gt;
    &lt;/View&gt;
    &lt;View&gt;
      &lt;Text className=&quot;text-xl font-medium text-black&quot;&gt;ChitChat&lt;/Text&gt;
      &lt;Text className=&quot;text-gray-500&quot;&gt;You have a new message!&lt;/Text&gt;
    &lt;/View&gt;
  &lt;/View&gt;
&lt;/View&gt;
</code></pre>
<p>Trong v√≠ d·ª• tr√™n, c√°c utility classes nh∆∞ <code>flex</code>, <code>flex-row</code>, <code>p-6</code>, <code>justify-center</code>, <code>items-center</code>, <code>bg-white</code>, <code>rounded-xl</code>, <code>shadow-2xl</code>, <code>shadow-gray-900</code>, <code>w-20</code>, <code>h-20</code>, <code>gap-x-4</code>, <code>text-xl</code>, <code>text-black</code>, <code>font-medium</code>, <code>text-gray-500</code> ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ ki·ªÉm so√°t layout, cƒÉn ch·ªânh, ki·ªÉu d√°ng h·ªôp, k√≠ch th∆∞·ªõc h√¨nh ·∫£nh, kho·∫£ng c√°ch v√† ki·ªÉu vƒÉn b·∫£n.</p>
<h4 id="l·ª£i-√≠ch-ch√≠nh-c·ªßa-utility-first-styling"><a class="header" href="#l·ª£i-√≠ch-ch√≠nh-c·ªßa-utility-first-styling">L·ª£i √≠ch ch√≠nh c·ªßa Utility-First Styling:</a></h4>
<ul>
<li>Ph√°t tri·ªÉn nhanh h∆°n.</li>
<li>Thay ƒë·ªïi an to√†n h∆°n.</li>
<li>B·∫£o tr√¨ d·ªÖ d√†ng h∆°n.</li>
<li>Code portable h∆°n.</li>
<li>S·ª≠ d·ª•ng b·ªô nh·ªõ nh·ªè.</li>
</ul>
<p>S·ª≠ d·ª•ng utility classes c√≥ nhi·ªÅu l·ª£i th·∫ø quan tr·ªçng so v·ªõi inline styles, bao g·ªìm thi·∫øt k·∫ø v·ªõi c√°c r√†ng bu·ªôc, h·ªó tr·ª£ c√°c tr·∫°ng th√°i nh∆∞ <code>focus</code>, <code>press</code> v√† media queries.</p>
<h3 id="c√°c-t√≠nh-nƒÉng-c·ªët-l√µi-c·ªßa-tailwindnativewind"><a class="header" href="#c√°c-t√≠nh-nƒÉng-c·ªët-l√µi-c·ªßa-tailwindnativewind">C√°c t√≠nh nƒÉng c·ªët l√µi c·ªßa Tailwind/NativeWind</a></h3>
<ul>
<li>Variants cho c√°c tr·∫°ng th√°i (v√≠ d·ª•: <code>focus:bg-orange-200</code>).</li>
<li>Thi·∫øt k·∫ø responsive s·ª≠ d·ª•ng ti·ªÅn t·ªë nh∆∞ <code>sm:grid-cols-3</code>).</li>
<li>Styling ch·∫ø ƒë·ªô t·ªëi v·ªõi <code>dark:bg-gray-800</code>).</li>
<li>Arbitrary values (v√≠ d·ª•: <code>bg-[#316ff6]</code>) cho c√°c styles t√πy ch·ªânh.</li>
</ul>
<h4 id="state-variants"><a class="header" href="#state-variants">State Variants</a></h4>
<p>V√≠ d·ª• v·ªÅ TextInput v·ªõi c√°c ki·ªÉu kh√°c nhau khi focus v√† kh√¥ng focus:</p>
<pre><code class="language-javascript">&lt;TextInput
  className=&quot;border p-2 rounded focus:border-blue-500 focus:outline-none&quot;
  placeholder=&quot;Enter text...&quot;
/&gt;
</code></pre>
<h4 id="media-queries-v√†-breakpoints"><a class="header" href="#media-queries-v√†-breakpoints">Media Queries v√† Breakpoints</a></h4>
<p>B·∫°n c√≥ th·ªÉ t·∫°o ki·ªÉu cho c√°c ph·∫ßn t·ª≠ ·ªü c√°c breakpoint kh√°c nhau b·∫±ng c√°ch th√™m ti·ªÅn t·ªë breakpoint v√†o utility class.</p>
<pre><code class="language-javascript">&lt;View className=&quot;flex flex-row sm:flex-col&quot;&gt;
  &lt;Text&gt;A&lt;/Text&gt;
  &lt;Text&gt;B&lt;/Text&gt;
  &lt;Text&gt;C&lt;/Text&gt;
&lt;/View&gt;
</code></pre>
<h4 id="s·ª≠-d·ª•ng-arbitrary-values"><a class="header" href="#s·ª≠-d·ª•ng-arbitrary-values">S·ª≠ d·ª•ng Arbitrary Values</a></h4>
<p>Khi b·∫°n c·∫ßn s·ª≠ d·ª•ng m·ªôt gi√° tr·ªã m·ªôt l·∫ßn n·∫±m ngo√†i theme c·ªßa m√¨nh, h√£y s·ª≠ d·ª•ng c√∫ ph√°p ngo·∫∑c vu√¥ng ƒë·∫∑c bi·ªát ƒë·ªÉ ch·ªâ ƒë·ªãnh arbitrary values.</p>
<pre><code class="language-javascript">&lt;Pressable className=&quot;bg-[#316ff6] ...&quot;&gt;
  &lt;Text className=&quot;text-[#ffe]&quot;&gt;Sign in with Facebook&lt;/Text&gt;
&lt;/Pressable&gt;
</code></pre>
<h2 id="lecture-10"><a class="header" href="#lecture-10">Lecture 10</a></h2>
<p>D∆∞·ªõi ƒë√¢y l√† c√°c ƒëo·∫°n code v√† gi·∫£i th√≠ch t·ª´ t√†i li·ªáu Lecture 10 v·ªÅ Qu·∫£n l√Ω State v·ªõi Redux trong React Native:</p>
<h3 id="t·∫°i-sao-s·ª≠-d·ª•ng-redux"><a class="header" href="#t·∫°i-sao-s·ª≠-d·ª•ng-redux">T·∫°i sao s·ª≠ d·ª•ng Redux?</a></h3>
<ul>
<li>Qu·∫£n l√Ω state theo c√°ch truy·ªÅn th·ªëng trong React/React Native v·ªõi <code>useState</code> c√≥ th·ªÉ d·∫´n ƒë·∫øn v·∫•n ƒë·ªÅ &quot;prop drilling&quot; (truy·ªÅn prop qua nhi·ªÅu c·∫•p), kh√¥ng c√≥ &quot;single source of truth&quot; (ngu·ªìn d·ªØ li·ªáu duy nh·∫•t) v√† li√™n k·∫øt ch·∫∑t ch·∫Ω gi·ªØa presentation v√† data model.</li>
<li>Redux cung c·∫•p m·ªôt gi·∫£i ph√°p qu·∫£n l√Ω state t·∫≠p trung, gi√∫p gi·∫£i quy·∫øt c√°c v·∫•n ƒë·ªÅ tr√™n.</li>
<li>L·ª£i √≠ch c·ªßa vi·ªác ch·ªçn Redux bao g·ªìm: h·ªá sinh th√°i middleware phong ph√∫, c√¥ng c·ª• ph√°t tri·ªÉn tuy·ªát v·ªùi, t√†i li·ªáu t·ªët, l√† l·ª±a ch·ªçn h√†ng ƒë·∫ßu cho qu·∫£n l√Ω state trong React, h·ªó tr·ª£ t·ªët b·ªüi c√°c th∆∞ vi·ªán/framework kh√°c, v√† h·ªó tr·ª£ React server side rendering.</li>
</ul>
<h3 id="c√°c-th√†nh-ph·∫ßn-c·ªët-l√µi-c·ªßa-redux-data-flow"><a class="header" href="#c√°c-th√†nh-ph·∫ßn-c·ªët-l√µi-c·ªßa-redux-data-flow">C√°c th√†nh ph·∫ßn c·ªët l√µi c·ªßa Redux Data Flow</a></h3>
<p>ƒê·ªÉ s·ª≠ d·ª•ng Redux hi·ªáu qu·∫£, b·∫°n c·∫ßn hi·ªÉu b·ªën th√†nh ph·∫ßn ch√≠nh c·ªßa n√≥:</p>
<ol>
<li><strong>Store:</strong> N∆°i l∆∞u tr·ªØ t·∫≠p trung gi·ªØ to√†n b·ªô state c·ªßa ·ª©ng d·ª•ng. State trong store l√† read-only.</li>
<li><strong>Views (UI Components):</strong> C√°c component React k·∫øt n·ªëi v·ªõi store ƒë·ªÉ hi·ªÉn th·ªã d·ªØ li·ªáu v√† k√≠ch ho·∫°t actions.</li>
<li><strong>Actions:</strong> C√°c ƒë·ªëi t∆∞·ª£ng JavaScript thu·∫ßn m√¥ t·∫£ nh·ªØng g√¨ ƒë√£ x·∫£y ra (v√≠ d·ª•: t∆∞∆°ng t√°c c·ªßa ng∆∞·ªùi d√πng ho·∫∑c ph·∫£n h·ªìi t·ª´ API). Actions c√≥ thu·ªôc t√≠nh <code>type</code> v√† th∆∞·ªùng c√≥ thu·ªôc t√≠nh <code>payload</code>.</li>
</ol>
<pre><code class="language-javascript">    store.dispatch({ type: 'BEGIN_LOADING' });
    store.dispatch({ type: 'DONE_LOADING' });
    store.dispatch({ type: 'UPDATE_SEARCH_TERM', payload: 'mpr' });
</code></pre>
<ol start="4">
<li><strong>Reducers:</strong> C√°c pure function (h√†m thu·∫ßn khi·∫øt) nh·∫≠n state hi·ªán t·∫°i v√† m·ªôt action, sau ƒë√≥ tr·∫£ v·ªÅ m·ªôt state m·ªõi. Reducer kh√¥ng s·ª≠a ƒë·ªïi state g·ªëc tr·ª±c ti·∫øp m√† tr·∫£ v·ªÅ m·ªôt ƒë·ªëi t∆∞·ª£ng state m·ªõi. M·ªói reducer √°nh x·∫° ƒë·∫øn ch√≠nh x√°c 1 ph·∫ßn c·ªßa c√¢y state.</li>
</ol>
<pre><code class="language-javascript">    function todoReducer(state = [], action) {
      switch (action.type) {
        case 'ADD_TODO':
          // creates new array, adds todo at the end
          return [...state, action.payload];
        case 'REMOVE_TODO':
          // creates new array filtering out matching todo by id
          return state.filter(todo =&gt; todo.id !== action.payload);
        default:
          return state;
      }
    }
</code></pre>
<h4 id="action-creators"><a class="header" href="#action-creators">Action Creators</a></h4>
<p>L√† c√°c factory function tr·∫£ v·ªÅ m·ªôt action. M·∫∑c d√π kh√¥ng b·∫Øt bu·ªôc, nh∆∞ng n√≥ th∆∞·ªùng ƒë∆∞·ª£c s·ª≠ d·ª•ng.</p>
<pre><code class="language-javascript">// searchTermActions.js
function updateSearchTerm(searchTerm) {
  return {
    type: 'UPDATE_SEARCH_TERM',
    payload: searchTerm,
  };
}

// SearchComponent.js
store.dispatch(updateSearchTerm('homework'));
</code></pre>
<h4 id="root-reducer"><a class="header" href="#root-reducer">Root Reducer</a></h4>
<p>M·ªôt ·ª©ng d·ª•ng Redux th·ª±c s·ª± ch·ªâ c√≥ m·ªôt h√†m reducer: &quot;root reducer&quot; m√† b·∫°n s·∫Ω truy·ªÅn v√†o <code>createStore</code>. Root reducer n√†y x·ª≠ l√Ω t·∫•t c·∫£ c√°c actions ƒë∆∞·ª£c dispatch v√† t√≠nh to√°n to√†n b·ªô state m·ªõi.</p>
<pre><code class="language-javascript">export default function appReducer(state = initialState, action) {
  switch (action.type) {
    case 'todos/todoAdded': {
      return {
        ...state,
        todos: [...state.todos, newTodo]
      };
    }
    case 'todos/todoToggled': {
      return {
        ...state,
        todos: [...state.todos, toggledTodo]
      };
    }
    default:
      return state;
  }
}
</code></pre>
<h4 id="splitting-reducers"><a class="header" href="#splitting-reducers">Splitting Reducers</a></h4>
<p>Reducers th∆∞·ªùng ƒë∆∞·ª£c chia nh·ªè d·ª±a tr√™n ph·∫ßn state m√† ch√∫ng c·∫≠p nh·∫≠t. Reducer cho m·ªôt ph·∫ßn c·ª• th·ªÉ c·ªßa state ƒë∆∞·ª£c g·ªçi l√† &quot;slice reducer&quot;. C√°c actions li√™n quan ƒë·∫øn m·ªôt slice reducer n√™n c√≥ c√πng ti·ªÅn t·ªë (v√≠ d·ª•: <code>todos/todoAdd</code>).</p>
<pre><code class="language-javascript">// todosSlice.js
const initialState = [
  { id: 0, text: 'Learn React', completed: true },
  { id: 1, text: 'Learn Redux', completed: false },
];

export default function todosReducer(state = initialState, action) {
  switch (action.type) {
    case 'todos/todoAdded': {
      // code to handle this action
      return state; // placeholder
    }
    case 'todos/todoToggled': {
      // code to handle this action
      return state; // placeholder
    }
    default:
      return state;
  }
}
</code></pre>
<h4 id="combining-reducers"><a class="header" href="#combining-reducers">Combining Reducers</a></h4>
<p>Store ch·ªâ c·∫ßn m·ªôt root reducer, v√¨ v·∫≠y b·∫°n c·∫ßn k·∫øt h·ª£p t·∫•t c·∫£ c√°c slice reducer l·∫°i v·ªõi nhau. C√≥ th·ªÉ l√†m th·ªß c√¥ng ho·∫∑c s·ª≠ d·ª•ng utility function <code>combineReducers</code>.</p>
<p>S·ª≠ d·ª•ng <code>combineReducers</code>:</p>
<pre><code class="language-javascript">import { combineReducers } from 'redux';
import todosReducer from './features/todos/todosSlice';
import filtersReducer from './features/filters/filtersSlice';

const rootReducer = combineReducers({
  todos: todosReducer,
  filters: filtersReducer,
});

export default rootReducer;
</code></pre>
<p>K·∫øt h·ª£p th·ªß c√¥ng:</p>
<pre><code class="language-javascript">import todosReducer from './features/todos/todosSlice';
import filtersReducer from './features/filters/filtersSlice';

export default function rootReducer(state = {}, action) {
  return {
    // the value of `state.todos` is whatever
    // the todos reducer returns
    todos: todosReducer(state.todos, action),
    // For both reducers, we only pass in
    // their slice of the state
    filters: filtersReducer(state.filters, action),
  };
}
</code></pre>
<h3 id="redux-store"><a class="header" href="#redux-store">Redux Store</a></h3>
<ul>
<li>Store l√† n∆°i ch·ª©a to√†n b·ªô c√¢y state c·ªßa ·ª©ng d·ª•ng. State tree l√† read-only. C√°ch duy nh·∫•t ƒë·ªÉ thay ƒë·ªïi state b√™n trong store l√† dispatch m·ªôt action l√™n n√≥.</li>
<li>Store kh√¥ng ph·∫£i l√† m·ªôt class, n√≥ ch·ªâ l√† m·ªôt ƒë·ªëi t∆∞·ª£ng v·ªõi m·ªôt v√†i ph∆∞∆°ng th·ª©c.</li>
</ul>
<h4 id="t·∫°o-m·ªôt-redux-store"><a class="header" href="#t·∫°o-m·ªôt-redux-store">T·∫°o m·ªôt Redux store</a></h4>
<pre><code class="language-javascript">import { createStore, combineReducers, applyMiddleware } from 'redux';

// Assume loadingReducer, todosReducer, searchTermReducer, bookMarksReducer, userProfileReducer are defined
// Assume INITIAL_STATE is defined
// Assume logger, thunk are defined (middleware)

const store = createStore(
  combineReducers({
    isLoading: loadingReducer,
    todos: todosReducer,
    searchTerm: searchTermReducer,
    bookmarks: bookMarksReducer,
    userProfile: userProfileReducer,
  }), // required ‚Äì the root reducer
  INITIAL_STATE, // optional
  applyMiddleware(logger, thunk), // optional
);
</code></pre>
<h4 id="l·∫Øng-nghe-c·∫≠p-nh·∫≠t-c·ªßa-store"><a class="header" href="#l·∫Øng-nghe-c·∫≠p-nh·∫≠t-c·ªßa-store">L·∫Øng nghe c·∫≠p nh·∫≠t c·ªßa store</a></h4>
<p>Ph∆∞∆°ng th·ª©c <code>subscribe</code> th√™m m·ªôt h√†m l·∫Øng nghe s·ª± thay ƒë·ªïi. N√≥ s·∫Ω ƒë∆∞·ª£c g·ªçi b·∫•t c·ª© khi n√†o m·ªôt action ƒë∆∞·ª£c dispatch v√† m·ªôt ph·∫ßn n√†o ƒë√≥ c·ªßa c√¢y state c√≥ th·ªÉ ƒë√£ thay ƒë·ªïi.</p>
<pre><code class="language-javascript">let currentValue;

function handleChange() {
  let previousValue = currentValue;
  currentValue = store.getState().some.property; // Replace 'some.property' with the actual state slice you want to track

  if (previousValue !== currentValue) {
    console.log(
      'Some property changed from',
      previousValue,
      'to',
      currentValue
    );
  }
}

const unsubscribe = store.subscribe(handleChange);

// Call unsubscribe() later to remove the listener
</code></pre>
<h3 id="redux-v√†-middleware"><a class="header" href="#redux-v√†-middleware">Redux v√† Middleware</a></h3>
<ul>
<li>Middleware l√† m·ªôt l·ªõp n·∫±m gi·ªØa action creators v√† reducers. N√≥ c√≥ th·ªÉ ch·∫∑n ho·∫∑c dispatch c√°c actions b·ªï sung, c√≥ to√†n quy·ªÅn truy c·∫≠p v√†o action v√† state c·ªßa ·ª©ng d·ª•ng, v√† c√≥ th·ªÉ x·ª≠ l√Ω c√°c async actions.</li>
<li>Middleware ƒë∆∞·ª£c √°p d·ª•ng cho store b·∫±ng c√°ch s·ª≠ d·ª•ng h√†m <code>applyMiddleware</code>.</li>
<li>V√≠ d·ª• v·ªÅ Middleware: Redux Logger (ghi log state tr∆∞·ªõc action, action ƒë∆∞·ª£c dispatch, state sau action) v√† Redux DevTools (hi·ªÉn th·ªã timeline c·ªßa actions, cho ph√©p time travel debugging).</li>
</ul>
<h3 id="l√†m-vi·ªác-v·ªõi-redux-store-b·∫±ng-react-redux"><a class="header" href="#l√†m-vi·ªác-v·ªõi-redux-store-b·∫±ng-react-redux">L√†m vi·ªác v·ªõi Redux store b·∫±ng <code>react-redux</code></a></h3>
<p>Th∆∞ vi·ªán <code>react-redux</code> cung c·∫•p c√°c hook ƒë·ªÉ t∆∞∆°ng t√°c v·ªõi Redux store trong c√°c component React.</p>
<h4 id="hook-useselector"><a class="header" href="#hook-useselector">Hook <code>useSelector()</code></a></h4>
<p>Cho ph√©p component React ƒë·ªçc d·ªØ li·ªáu t·ª´ Redux store. N√≥ nh·∫≠n m·ªôt h√†m selector l√†m ƒë·ªëi s·ªë, h√†m n√†y nh·∫≠n to√†n b·ªô state c·ªßa store, ƒë·ªçc m·ªôt gi√° tr·ªã t·ª´ state v√† tr·∫£ v·ªÅ k·∫øt qu·∫£ ƒë√≥. <code>useSelector</code> t·ª± ƒë·ªông subscribe v√†o store.</p>
<pre><code class="language-javascript">import { useSelector } from 'react-redux';
import { FlatList, View, Text } from 'react-native'; // Import necessary components

// Assume Todo component is defined elsewhere
function Todo({ todo }) {
  return (
    &lt;View&gt;
      &lt;Text&gt;{todo}&lt;/Text&gt;
    &lt;/View&gt;
  );
}

const selectTodos = state =&gt; state.todos;

export const TodoList = ({ DATA }) =&gt; { // Assuming DATA is passed as a prop or comes from context/state
  const todos = useSelector(selectTodos);

  return (
    &lt;FlatList
      data={todos} // Or use DATA prop if needed
      renderItem={({ item }) =&gt; &lt;Todo key={item.id} todo={item.text} /&gt;} // Assuming item has id and text properties
      style={{}} // Apply your styles here, e.g., styles.todoList
    /&gt;
  );
};
</code></pre>
<h4 id="hook-usedispatch"><a class="header" href="#hook-usedispatch">Hook <code>useDispatch()</code></a></h4>
<p>Hook <code>useDispatch</code> tr·∫£ v·ªÅ ph∆∞∆°ng th·ª©c <code>dispatch</code> c·ªßa store. B·∫°n c√≥ th·ªÉ khai b√°o <code>const dispatch = useDispatch()</code> trong b·∫•t k·ª≥ component n√†o v√† s·ª≠ d·ª•ng <code>dispatch(someAction)</code> khi c·∫ßn.</p>
<pre><code class="language-javascript">import { useDispatch } from 'react-redux';
import { useState } from 'react'; // Import useState
import { TextInput, Button, View } from 'react-native'; // Import necessary components

export default Header = () =&gt; {
  const [text, setText] = useState('');
  const dispatch = useDispatch();

  const handleSubmit = () =&gt; { // Changed to a regular function
    // Dispatch the &quot;todo added&quot; action with this text
    dispatch({ type: 'todos/todoAdded', payload: text });
    // Clear out the text input
    setText('');
  };

  return (
    &lt;View&gt;
      &lt;TextInput
        placeholder=&quot;What needs to be done?&quot;
        value={text}
        onChangeText={val =&gt; setText(val)}
        onSubmitEditing={handleSubmit}
      /&gt;
    &lt;/View&gt;
  );
};
</code></pre>
<h4 id="redux-store-provider"><a class="header" href="#redux-store-provider">Redux store Provider</a></h4>
<p>ƒê·ªÉ <code>useSelector</code> v√† <code>useDispatch</code> t√¨m th·∫•y store, b·∫°n c·∫ßn b·ªçc to√†n b·ªô ·ª©ng d·ª•ng b·∫±ng component <code>&lt;Provider&gt;</code> t·ª´ <code>react-redux</code> v√† truy·ªÅn store v√†o prop <code>store</code>.</p>
<pre><code class="language-javascript">// index.js (or App.js depending on your project structure)
import { Provider } from 'react-redux';
import { registerRootComponent } from 'expo'; // If using Expo
import App from './App';
import store from './store'; // Assume your store is exported from './store.js'

// If using Expo
registerRootComponent(
  &lt;Provider store={store}&gt;
    &lt;App /&gt;
  &lt;/Provider&gt;
);

// If not using Expo, typically wrap your root component in your entry file
/*
import React from 'react';
import { AppRegistry } from 'react-native';
import App from './App';
import store from './store'; // Assume your store is exported from './store.js'

const AppWithStore = () =&gt; (
  &lt;Provider store={store}&gt;
    &lt;App /&gt;
  &lt;/Provider&gt;
);

AppRegistry.registerComponent('YourAppName', () =&gt; AppWithStore);
*/
</code></pre>
<h3 id="async-actions-v·ªõi-redux-thunk-middleware"><a class="header" href="#async-actions-v·ªõi-redux-thunk-middleware">Async Actions v·ªõi <code>redux-thunk</code> middleware</a></h3>
<p>Redux ch·ªâ ho·∫°t ƒë·ªông ƒë·ªìng b·ªô theo m·∫∑c ƒë·ªãnh. ƒê·ªÉ x·ª≠ l√Ω c√°c async actions, b·∫°n c·∫ßn s·ª≠ d·ª•ng middleware nh∆∞ <code>redux-thunk</code>.</p>
<h4 id="thunk-l√†-g√¨"><a class="header" href="#thunk-l√†-g√¨">Thunk l√† g√¨?</a></h4>
<p>Thunk l√† m·ªôt h√†m b·ªçc m·ªôt bi·ªÉu th·ª©c ƒë·ªÉ tr√¨ ho√£n vi·ªác t√≠nh to√°n c·ªßa n√≥.</p>
<pre><code class="language-javascript">// calculation of 1 + 2 is immediate
// x === 3
let x = 1 + 2;

// calculation of 1 + 2 is delayed
// foo can be called later to perform the calculation
// foo is a thunk!
let foo = () =&gt; 1 + 2;
</code></pre>
<h4 id="s·ª≠-d·ª•ng-redux-thunk"><a class="header" href="#s·ª≠-d·ª•ng-redux-thunk">S·ª≠ d·ª•ng <code>redux-thunk</code></a></h4>
<p>ƒê·∫ßu ti√™n, t·∫°o m·ªôt phi√™n b·∫£n store ƒë√£ ƒë∆∞·ª£c s·ª≠a ƒë·ªïi ƒë·ªÉ ch·∫•p nh·∫≠n c√°c thunk function b·∫±ng c√°ch √°p d·ª•ng middleware <code>redux-thunk</code>.</p>
<pre><code class="language-javascript">import { createStore, applyMiddleware } from 'redux';
import thunk from 'redux-thunk';
import rootReducer from './reducer'; // Assume your root reducer is exported from './reducer.js'

// The store now has the ability to accept thunk functions in `dispatch`
const store = createStore(rootReducer, applyMiddleware(thunk));

export default store;
</code></pre>
<h4 id="v√≠-d·ª•-dispatching-m·ªôt-function-s·ª≠-d·ª•ng-redux-thunk"><a class="header" href="#v√≠-d·ª•-dispatching-m·ªôt-function-s·ª≠-d·ª•ng-redux-thunk">V√≠ d·ª•: Dispatching m·ªôt Function (s·ª≠ d·ª•ng <code>redux-thunk</code>)</a></h4>
<pre><code class="language-javascript">// thunk function
// Assume fetchData is defined elsewhere (e.g., your API utility)
export async function fetchTodos(dispatch) {
  try {
    const response = await fetchData('/fakeApi/todos');
    dispatch({ type: 'todos/todosLoaded', payload: response.todos });
  } catch (error) {
    // Handle errors, maybe dispatch an error action
    console.error(&quot;Error fetching todos:&quot;, error);
  }
}

// using the thunk function later on
// Assume store is imported
// store.dispatch(fetchTodos); // Call the thunk function
</code></pre>
<h2 id="lecture-11-multimedia"><a class="header" href="#lecture-11-multimedia">Lecture 11: Multimedia</a></h2>
<h3 id="expo-imagepicker"><a class="header" href="#expo-imagepicker">Expo ImagePicker</a></h3>
<p><code>expo-image-picker</code> cung c·∫•p quy·ªÅn truy c·∫≠p v√†o UI h·ªá th·ªëng ƒë·ªÉ ch·ªçn h√¨nh ·∫£nh v√† video t·ª´ th∆∞ vi·ªán c·ªßa ƒëi·ªán tho·∫°i ho·∫∑c ch·ª•p ·∫£nh b·∫±ng camera.</p>
<ul>
<li><strong>C√†i ƒë·∫∑t:</strong></li>
</ul>
<pre><code class="language-bash">npx expo install expo-image-picker
</code></pre>
<ul>
<li><strong>C·∫•u h√¨nh trong <code>app.json</code> (v·ªõi plugin config):</strong>
C·∫•u h√¨nh n√†y ƒë∆∞·ª£c s·ª≠ d·ª•ng khi s·ª≠ d·ª•ng Expo Image Picker th√¥ng qua h·ªá th·ªëng plugin c·ªßa Expo. <code>photosPermission</code> ch·ªâ ƒë·ªãnh th√¥ng b√°o s·∫Ω hi·ªÉn th·ªã cho ng∆∞·ªùi d√πng khi ·ª©ng d·ª•ng y√™u c·∫ßu quy·ªÅn truy c·∫≠p v√†o ·∫£nh c·ªßa h·ªç (ch·ªâ cho iOS).</li>
</ul>
<pre><code class="language-json">&quot;expo&quot;: {
  &quot;plugins&quot;: [
    [
      &quot;expo-image-picker&quot;,
      {
        &quot;photosPermission&quot;: &quot;The app accesses your photos to let you share them with your friends.&quot;
      }
    ]
  ]
}
</code></pre>
<ul>
<li>
<p><strong>C√°c thu·ªôc t√≠nh c·∫•u h√¨nh kh√°c (ch·ªâ cho iOS):</strong></p>
<ul>
<li><code>photosPermission</code>: ƒê·∫∑t th√¥ng b√°o quy·ªÅn truy c·∫≠p th∆∞ vi·ªán ·∫£nh.</li>
<li><code>cameraPermission</code>: ƒê·∫∑t th√¥ng b√°o quy·ªÅn truy c·∫≠p camera.</li>
<li><code>microphonePermission</code>: ƒê·∫∑t th√¥ng b√°o quy·ªÅn truy c·∫≠p microphone.</li>
</ul>
</li>
<li>
<p><strong>S·ª≠ d·ª•ng Image Picker:</strong>
Nh·∫≠p th∆∞ vi·ªán v√† s·ª≠ d·ª•ng hook <code>useState</code> ƒë·ªÉ qu·∫£n l√Ω tr·∫°ng th√°i ·∫£nh ƒë√£ ch·ªçn.</p>
</li>
</ul>
<pre><code class="language-javascript">import * as ImagePicker from 'expo-image-picker';
import { useState } from 'react'; // Assuming useState is imported
import { Button, Image, View, StyleSheet } from 'react-native'; // Import necessary components

// Assume styles object is defined elsewhere
const styles = StyleSheet.create({
  container: { flex: 1, justifyContent: 'center', alignItems: 'center' },
  image: { width: 200, height: 200, marginTop: 20, resizeMode: 'contain' },
});

function MyImagePickerComponent() { // Example component
  const [image, setImage] = useState(null);

  const pickImage = async () =&gt; {
    // No permissions request is necessary for launching the image library
    let result = await ImagePicker.launchImageLibraryAsync({
      mediaTypes: ['images', 'videos'],
      allowsEditing: true,
      aspect: [4, 3],
      quality: 1,
    });

    if (!result.canceled) {
      setImage(result.assets[0].uri);
      console.log(result.assets[0].uri); // Log the URI
    }
    console.log(result); // Log the entire result object
  };

  // Hi·ªÉn th·ªã ·∫£nh ƒë√£ ch·ªçn:
  return (
    &lt;View style={styles.container}&gt;
      &lt;Button title=&quot;Pick an image from camera roll&quot; onPress={pickImage} /&gt;
      {image &amp;&amp; &lt;Image source={{ uri: image }} style={styles.image} /&gt;}
    &lt;/View&gt;
  );
}

export default MyImagePickerComponent; // Export the component
</code></pre>
<ul>
<li><code>ImagePicker.launchImageLibraryAsync</code> m·ªü th∆∞ vi·ªán ·∫£nh.</li>
<li><code>mediaTypes</code> x√°c ƒë·ªãnh lo·∫°i media c√≥ th·ªÉ ch·ªçn.</li>
<li><code>allowsEditing</code> cho ph√©p ch·ªânh s·ª≠a ·∫£nh ƒë√£ ch·ªçn.</li>
<li><code>aspect</code> ƒë·∫∑t t·ª∑ l·ªá khung h√¨nh khi ch·ªânh s·ª≠a.</li>
<li><code>quality</code> ƒë·∫∑t ch·∫•t l∆∞·ª£ng n√©n.</li>
</ul>
<p><strong>Ki·ªÉm tra quy·ªÅn cho iOS (c√°ch c≈©, t√†i li·ªáu m·ªõi c√≥ th·ªÉ kh√°c):</strong></p>
<pre><code class="language-javascript">import { askAsync, MEDIA_LIBRARY } from 'expo-permissions'; // Note: expo-permissions might be deprecated in newer Expo versions
import * as ImagePicker from 'expo-image-picker'; // Import ImagePicker

const pickImage = async () =&gt; {
  // Request permission to access the photo library
  const { status } = await askAsync(MEDIA_LIBRARY);
  if (status !== 'granted') {
    alert('Sorry, we need camera roll permissions to make this work!');
    return;
  }

  // Launch the image library
  let result = await ImagePicker.launchImageLibraryAsync({
    mediaTypes: ['images', 'videos'],
    allowsEditing: true,
    aspect: [4, 3],
    quality: 1,
  });

  if (!result.canceled) {
    console.log(result.assets[0].uri);
  }
};
</code></pre>
<h3 id="expo-imagemanipulator"><a class="header" href="#expo-imagemanipulator">Expo ImageManipulator</a></h3>
<p><code>expo-image-manipulator</code> cho ph√©p b·∫°n thao t√°c tr·ª±c ti·∫øp v·ªõi h√¨nh ·∫£nh trong ·ª©ng d·ª•ng React Native, bao g·ªìm xoay, l·∫≠t, c·∫Øt v√† thay ƒë·ªïi k√≠ch th∆∞·ªõc.</p>
<ul>
<li><strong>C√†i ƒë·∫∑t:</strong></li>
</ul>
<pre><code class="language-bash">npx expo install expo-image-manipulator
</code></pre>
<ul>
<li>
<p><strong>C√°c t√≠nh nƒÉng ch√≠nh:</strong></p>
<ul>
<li><strong>Image Transformation:</strong> Xoay, l·∫≠t (ngang/d·ªçc), c·∫Øt, thay ƒë·ªïi k√≠ch th∆∞·ªõc.</li>
<li><strong>Image Format:</strong> L∆∞u d∆∞·ªõi d·∫°ng JPEG ho·∫∑c PNG, ƒëi·ªÅu ch·ªânh ch·∫•t l∆∞·ª£ng n√©n.</li>
<li><strong>Integration:</strong> Ho·∫°t ƒë·ªông t·ªët v·ªõi ·∫£nh t·ª´ camera ho·∫∑c th∆∞ vi·ªán, v√† c√≥ th·ªÉ d√πng v·ªõi <code>expo-image-picker</code>.</li>
</ul>
</li>
<li>
<p><strong>S·ª≠ d·ª•ng ImageManipulator:</strong>
V√≠ d·ª• v·ªÅ xoay v√† l·∫≠t ·∫£nh:</p>
</li>
</ul>
<pre><code class="language-javascript">import { useState } from 'react';
import { Button, Image, StyleSheet, View } from 'react-native';
import { Asset } from 'expo-asset';
import { FlipType, SaveFormat, useImageManipulator } from 'expo-image-manipulator';

// Loading the Image
const IMAGE = Asset.fromModule(require('./assets/avatar.jpg'));

export default function App() { // Example App component
  const [image, setImage] = useState(IMAGE);

  // useImageManipulator creates a manipulation context for the image.
  const context = useImageManipulator(IMAGE.uri);

  // This function is triggered when the &quot;Rotate and Flip&quot; button is pressed.
  const rotate90andFlip = async () =&gt; {
    context.rotate(90).flip(FlipType.Vertical);
    const manipulatedImage = await context.renderAsync(); // Rename to avoid conflict
    const result = await manipulatedImage.saveAsync({
      format: SaveFormat.PNG,
    });
    setImage(result);
  };

  return (
    &lt;View style={styles.container}&gt;
      &lt;View style={styles.imageContainer}&gt;
        &lt;Image source={{ uri: image.localUri || image.uri }} style={styles.image} /&gt;
      &lt;/View&gt;
      &lt;Button title=&quot;Rotate and Flip&quot; onPress={rotate90andFlip} /&gt;
    &lt;/View&gt;
  );
}

// Assume styles object is defined elsewhere
const styles = StyleSheet.create({
  container: { flex: 1, justifyContent: 'center', alignItems: 'center' },
  imageContainer: { marginBottom: 20 },
  image: { width: 200, height: 200, resizeMode: 'contain' },
});
</code></pre>
<ul>
<li><code>Asset.fromModule</code> t·∫£i ·∫£nh t·ª´ assets.</li>
<li><code>useImageManipulator</code> t·∫°o context ƒë·ªÉ thao t√°c.</li>
<li><code>context.rotate()</code> v√† <code>context.flip()</code> th·ª±c hi·ªán c√°c ph√©p bi·∫øn ƒë·ªïi.</li>
<li><code>context.renderAsync()</code> √°p d·ª•ng c√°c ph√©p bi·∫øn ƒë·ªïi.</li>
<li><code>manipulatedImage.saveAsync()</code> l∆∞u ·∫£nh ƒë√£ thao t√°c.</li>
</ul>
<h3 id="expo-video"><a class="header" href="#expo-video">Expo Video</a></h3>
<p>Component <code>Expo Video</code> l√† m·ªôt ph·∫ßn c·ªßa th∆∞ vi·ªán <code>expo-av</code>, ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ ph√°t √¢m thanh v√† video trong ·ª©ng d·ª•ng React Native.</p>
<ul>
<li><strong>C√†i ƒë·∫∑t:</strong></li>
</ul>
<pre><code class="language-bash">npx expo install expo-video
</code></pre>
<ul>
<li><strong>C·∫•u h√¨nh trong <code>app.json</code> (v·ªõi config plugin):</strong></li>
</ul>
<pre><code class="language-json">{
  &quot;expo&quot;: {
    &quot;plugins&quot;: [
      [
        &quot;expo-video&quot;,
        {
          &quot;supportsBackgroundPlayback&quot;: true, // Ch·ªâ cho iOS
          &quot;supportsPictureInPicture&quot;: true    // Cho Android v√† iOS
        }
      ]
    ]
  }
}
</code></pre>
<pre><code>* `supportsBackgroundPlayback` (ch·ªâ iOS): B·∫≠t ph√°t l·∫°i n·ªÅn.
* `supportsPictureInPicture`: B·∫≠t ch·∫ø ƒë·ªô Picture-in-Picture.
</code></pre>
<ul>
<li><strong>Ph√°t media c·ª•c b·ªô t·ª´ th∆∞ m·ª•c assets:</strong>
H·ªó tr·ª£ ph√°t media ƒë∆∞·ª£c t·∫£i b·∫±ng h√†m <code>require</code>.</li>
</ul>
<pre><code class="language-javascript">import { VideoSource, useVideoPlayer } from 'expo-video'; // Import necessary components

const assetId = require('./assets/bigbuckbunny.mp4');

const videoSource: VideoSource = {
  assetId,
  metadata: {
    title: 'Big Buck Bunny',
    artist: 'The Open Movie Project'
  }
};

const player1 = useVideoPlayer(assetId); // You can use the `asset` directly as a video source
const player2 = useVideoPlayer(videoSource);
</code></pre>
<ul>
<li><strong>Preloading videos:</strong>
C√≥ th·ªÉ t·∫£i video tr∆∞·ªõc khi hi·ªÉn th·ªã ƒë·ªÉ chuy·ªÉn ƒë·ªïi nhanh h∆°n.</li>
</ul>
<pre><code class="language-javascript">import { useVideoPlayer, VideoView, VideoSource } from 'expo-video';
import { useState, useCallback } from 'react'; // Import necessary hooks
import { View, Text, TouchableOpacity, StyleSheet } from 'react-native'; // Import necessary components

// Assume video sources are defined elsewhere
const bigBuckBunnySource: VideoSource = 'YOUR_BIG_BUCK_BUNNY_VIDEO_SOURCE';
const elephantsDreamSource: VideoSource = 'YOUR_ELEPHANTS_DREAM_VIDEO_SOURCE';

export default function PreloadingVideoPlayerScreen() {
  const player1 = useVideoPlayer(bigBuckBunnySource, player =&gt; {
    // Optional: You can perform actions when the player is ready
    // player.play();
  });
  const player2 = useVideoPlayer(elephantsDreamSource, player =&gt; {
    // Optional: You can perform actions when the player is ready
    // player.currentTime = 20;
  });

  const [currentPlayer, setCurrentPlayer] = useState(player1);

  const replacePlayer = useCallback(() =&gt; { // Removed async as it's not needed for pause/play
    if (currentPlayer) {
      currentPlayer.pause();
    }
    if (currentPlayer === player1) {
      setCurrentPlayer(player2);
      player2?.play(); // Use optional chaining in case player2 is null/undefined
    } else {
      setCurrentPlayer(player1);
      player1?.play(); // Use optional chaining
    }
  }, [player1, player2, currentPlayer]); // Added player2 to dependencies

  return (
    &lt;View style={styles.contentContainer}&gt;
      &lt;VideoView player={currentPlayer} style={styles.video} nativeControls={false} /&gt;
      &lt;TouchableOpacity style={styles.button} onPress={replacePlayer}&gt;
        &lt;Text style={styles.buttonText}&gt;Replace Player&lt;/Text&gt;
      &lt;/TouchableOpacity&gt;
    &lt;/View&gt;
  );
}

// Assume styles object is defined elsewhere
const styles = StyleSheet.create({
  contentContainer: { flex: 1, justifyContent: 'center', alignItems: 'center' },
  video: { width: 300, height: 200 },
  button: { marginTop: 20, padding: 10, backgroundColor: 'lightblue' },
  buttonText: { color: 'white' },
});
</code></pre>
<ul>
<li>
<p><code>useVideoPlayer</code> hook qu·∫£n l√Ω playback.</p>
</li>
<li>
<p><code>VideoView</code> component hi·ªÉn th·ªã video.</p>
</li>
<li>
<p><code>VideoSource</code> ƒë·∫°i di·ªán cho ngu·ªìn video.</p>
</li>
<li>
<p><strong>S·ª≠ d·ª•ng VideoPlayer tr·ª±c ti·∫øp (<code>createVideoPlayer</code>):</strong>
Trong c√°c tr∆∞·ªùng h·ª£p n√¢ng cao, c√≥ th·ªÉ t·∫°o <code>VideoPlayer</code> m√† kh√¥ng t·ª± ƒë·ªông h·ªßy khi component unmount. C·∫ßn g·ªçi <code>release()</code> th·ªß c√¥ng ƒë·ªÉ tr√°nh r√≤ r√≤ b·ªô nh·ªõ.</p>
</li>
</ul>
<pre><code class="language-javascript">import { createVideoPlayer, VideoSource } from 'expo-video';

// Assume videoSource is defined
const videoSource: VideoSource = 'YOUR_VIDEO_SOURCE';

const player = createVideoPlayer(videoSource);
// Remember to call player.release() when the player is no longer needed
</code></pre>
<ul>
<li>
<p><strong>Nh·∫≠n c√°c s·ª± ki·ªán (Receiving events):</strong>
C√°c thay ƒë·ªïi trong <code>VideoPlayer</code> kh√¥ng c·∫≠p nh·∫≠t state React. C·∫ßn l·∫Øng nghe c√°c s·ª± ki·ªán m√† n√≥ ph√°t ra.</p>
<ul>
<li><code>useEvent</code> hook: T·∫°o listener tr·∫£ v·ªÅ gi√° tr·ªã stateful. T·ª± ƒë·ªông d·ªçn d·∫πp khi component unmount.</li>
</ul>
<pre><code class="language-javascript">import { useEvent } from 'expo';
// ... Other imports, definition of the component, creating the player etc.
// Assuming 'player' is a VideoPlayer instance
const { status, error } = useEvent(player, 'statusChange', {
  status: player.status
});
// Rest of the component...
</code></pre>
<ul>
<li><code>useEventListener</code> hook: T·∫°o event listener v·ªõi t·ª± ƒë·ªông d·ªçn d·∫πp.</li>
</ul>
<pre><code class="language-javascript">import { useEventListener } from 'expo';
import { useState } from 'react'; // Import useState
import { View, Text } from 'react-native'; // Import necessary components

// ...Other imports, definition of the component, creating the player etc.
// Assuming 'player' is a VideoPlayer instance passed as prop
export default function MyVideoComponent({ player }) {
  const [playerStatus, setPlayerStatus] = useState(null);
  const [playerError, setPlayerError] = useState(null);

  useEventListener(player, 'statusChange', ({ status, error }) =&gt; {
    setPlayerStatus(status);
    setPlayerError(error);
    console.log('Player status changed: ', status);
  });

  // Rest of the component...
  return (
    &lt;View&gt;
      &lt;Text&gt;Player Status: {playerStatus}&lt;/Text&gt;
      {playerError &amp;&amp; playerError.message &amp;&amp; &lt;Text&gt;Player Error: {playerError.message}&lt;/Text&gt;} {/* Added check for playerError.message */}
      {/* Render VideoView or other UI */}
    &lt;/View&gt;
  );
}
</code></pre>
<ul>
<li><code>Player.addListener</code> method: C√°ch linh ho·∫°t nh·∫•t nh∆∞ng y√™u c·∫ßu d·ªçn d·∫πp th·ªß c√¥ng.</li>
</ul>
<pre><code class="language-javascript">import { useEffect, useState } from 'react'; // Import useEffect and useState
import { View, Text } from 'react-native'; // Import necessary components

// ...Imports, definition of the component, creating the player etc.
// Assuming 'player' is a VideoPlayer instance passed as prop
export default function AnotherVideoComponent({ player }) {
  const [playerStatus, setPlayerStatus] = useState(null);
  const [playerError, setPlayerError] = useState(null);

  useEffect(() =&gt; {
    const subscription = player.addListener('statusChange', ({ status, error }) =&gt; {
      setPlayerStatus(status);
      setPlayerError(error);
      console.log('Player status changed: ', status);
    });

    return () =&gt; {
      subscription.remove();
    };
  }, [player]); // Add player to dependencies

  // Rest of the component...
  return (
    &lt;View&gt;
      &lt;Text&gt;Player Status: {playerStatus}&lt;/Text&gt;
      {playerError &amp;&amp; playerError.message &amp;&amp; &lt;Text&gt;Player Error: {playerError.message}&lt;/Text&gt;} {/* Added check for playerError.message */}
      {/* Render VideoView or other UI */}
    &lt;/View&gt;
  );
}
</code></pre>
</li>
</ul>
<h3 id="expo-camera"><a class="header" href="#expo-camera">Expo Camera</a></h3>
<p><code>expo-camera</code> cung c·∫•p m·ªôt component React hi·ªÉn th·ªã b·∫£n xem tr∆∞·ªõc c·ªßa camera tr∆∞·ªõc ho·∫∑c sau c·ªßa thi·∫øt b·ªã.</p>
<ul>
<li><strong>C√†i ƒë·∫∑t:</strong></li>
</ul>
<pre><code class="language-bash">npx expo install expo-camera
</code></pre>
<ul>
<li><strong>C·∫•u h√¨nh trong <code>app.json</code> (v·ªõi plugin):</strong></li>
</ul>
<pre><code class="language-json">&quot;expo&quot;: {
  &quot;plugins&quot;: [
    [
      &quot;expo-camera&quot;,
      {
        &quot;cameraPermission&quot;: &quot;Allow $(PRODUCT_NAME) to access your camera&quot;,
        &quot;microphonePermission&quot;: &quot;Allow $(PRODUCT_NAME) to access your microphone&quot;,
        &quot;recordAudioAndroid&quot;: true
      }
    ]
  ]
}
</code></pre>
<ul>
<li>
<p><strong>Permissions:</strong></p>
<ul>
<li><strong>Android:</strong> C·∫ßn th√™m quy·ªÅn <code>CAMERA</code> v√† <code>RECORD_AUDIO</code> (n·∫øu quay video c√≥ √¢m thanh) v√†o <code>app.json</code>.</li>
</ul>
</li>
</ul>
<pre><code class="language-json">    &quot;android&quot;: {
      &quot;permissions&quot;: [
        &quot;CAMERA&quot;,
        &quot;RECORD_AUDIO&quot;
      ]
    },
</code></pre>
<ul>
<li>
<p><strong>iOS:</strong> C·∫ßn khai b√°o <code>NSCameraUsageDescription</code> v√† <code>NSMicrophoneUsageDescription</code> trong <code>app.json</code> ƒë·ªÉ hi·ªÉn th·ªã th√¥ng b√°o quy·ªÅn cho ng∆∞·ªùi d√πng.</p>
</li>
<li>
<p><strong>S·ª≠ d·ª•ng Expo Camera:</strong>
·ª®ng d·ª•ng s·ª≠ d·ª•ng Expo Camera cho ph√©p m·ªü/ƒë√≥ng camera, chuy·ªÉn ƒë·ªïi gi·ªØa camera tr∆∞·ªõc/sau, v√† y√™u c·∫ßu quy·ªÅn camera.</p>
<ul>
<li><strong>Import:</strong></li>
</ul>
</li>
</ul>
<pre><code class="language-javascript">import { CameraView, CameraType, useCameraPermissions } from 'expo-camera';
import { useState } from 'react'; // Import useState
import { View, Text, Button, TouchableOpacity, StyleSheet } from 'react-native'; // Import necessary components
</code></pre>
<ul>
<li><strong>Kh·ªüi t·∫°o State:</strong></li>
</ul>
<pre><code class="language-javascript">const [facing, setFacing] = useState('back'); // 'back' or 'front'
const [cameraActive, setCameraActive] = useState(false);
const [permission, requestPermission] = useCameraPermissions();
</code></pre>
<ul>
<li><strong>X·ª≠ l√Ω quy·ªÅn:</strong></li>
</ul>
<pre><code class="language-javascript">import { useCameraPermissions } from 'expo-camera';
import { View, Text, Button, StyleSheet } from 'react-native'; // Import necessary components

// Assume styles object is defined elsewhere
const styles = StyleSheet.create({
  container: { flex: 1, justifyContent: 'center', alignItems: 'center' },
  message: { textAlign: 'center', paddingBottom: 10 },
});


function CameraPermissionHandler() { // Example component
  const [permission, requestPermission] = useCameraPermissions();

  if (!permission) {
    // Camera permissions are still loading.
    return &lt;View /&gt;;
  }
  if (!permission.granted) {
    // Camera permissions are not granted yet.
    return (
      &lt;View style={styles.container}&gt;
        &lt;Text style={styles.message}&gt;We need your permission to show the camera&lt;/Text&gt;
        &lt;Button onPress={requestPermission} title=&quot;Grant Permission&quot; /&gt;
      &lt;/View&gt;
    );
  }

  // If permission is granted, you can render the camera controls or CameraView here
  return &lt;View&gt;{/* Render camera controls or CameraView */}&lt;/View&gt;;
}

export default CameraPermissionHandler; // Export the component
</code></pre>
<ul>
<li><strong>H√†m l·∫≠t Camera:</strong></li>
</ul>
<pre><code class="language-javascript">import { useState } from 'react'; // Import useState
import { CameraType } from 'expo-camera'; // Import CameraType

function useCameraToggle() { // Custom hook for camera state
  const [facing, setFacing] = useState&lt;CameraType&gt;('back'); // Use CameraType for type safety

  const toggleCameraFacing = () =&gt; {
    setFacing((current) =&gt; (current === 'back' ? 'front' : 'back'));
  };

  return { facing, toggleCameraFacing };
}

// Usage in a component:
// const { facing, toggleCameraFacing } = useCameraToggle();
</code></pre>
<ul>
<li><strong>H√†m b·∫≠t/t·∫Øt Camera:</strong></li>
</ul>
<pre><code class="language-javascript">import { useState } from 'react'; // Import useState

function useCameraActive() { // Custom hook for camera active state
  const [cameraActive, setCameraActive] = useState(false);

  const toggleCamera = () =&gt; {
    setCameraActive((current) =&gt; !current);
  };

  return { cameraActive, toggleCamera };
}

// Usage in a component:
// const { cameraActive, toggleCamera } = useCameraActive();
</code></pre>
<ul>
<li><strong>Render CameraView c√≥ ƒëi·ªÅu ki·ªán:</strong></li>
</ul>
<pre><code class="language-javascript">import { CameraView, CameraType } from 'expo-camera';
import { View, StyleSheet } from 'react-native'; // Import necessary components

// Assume cameraActive and facing states are managed elsewhere
// Assume styles object is defined elsewhere

const styles = StyleSheet.create({
  camera: { flex: 1 }, // Example style
});

function CameraRenderer({ cameraActive, facing }) { // Example component to render camera
  return (
    &lt;&gt; {/* Use a Fragment */}
      {cameraActive &amp;&amp; (
        &lt;CameraView style={styles.camera} facing={facing}&gt;
          {/* ... c√°c controls ho·∫∑c overlay kh√°c b√™n trong camera view */}
        &lt;/CameraView&gt;
      )}
    &lt;/&gt;
  );
}
</code></pre>
<ul>
<li><code>cameraActive</code> ƒëi·ªÅu khi·ªÉn vi·ªác hi·ªÉn th·ªã CameraView.</li>
<li><code>style={styles.camera}</code> √°p d·ª•ng ki·ªÉu d√°ng.</li>
<li><code>facing={facing}</code> ƒë·∫∑t camera tr∆∞·ªõc ho·∫∑c sau.</li>
</ul>
<p><strong>N√∫t l·∫≠t Camera (ho·∫∑c ƒë√≥ng Camera t√πy thu·ªôc v√†o logic ƒë·∫ßy ƒë·ªß):</strong></p>
<pre><code class="language-javascript">import { TouchableOpacity, Text, StyleSheet } from 'react-native'; // Import necessary components
// Assume toggleCameraFacing or toggleCamera function is available in the component's scope
// Assume styles object is defined elsewhere

const styles = StyleSheet.create({
  button: { /* button styles */ },
  text: { /* text styles */ },
});


function CameraControlButton({ onPress, title }) { // Reusable button component
  return (
    &lt;TouchableOpacity style={styles.button} onPress={onPress}&gt;
      &lt;Text style={styles.text}&gt;{title}&lt;/Text&gt;
    &lt;/TouchableOpacity&gt;
  );
}

// Usage in a component:
// &lt;CameraControlButton onPress={toggleCameraFacing} title=&quot;Flip Camera&quot; /&gt;
// &lt;CameraControlButton onPress={toggleCamera} title=&quot;Close Camera&quot; /&gt;
</code></pre>
<ul>
<li><code>TouchableOpacity</code> t·∫°o n√∫t c√≥ ph·∫£n h·ªìi ch·∫°m.</li>
<li><code>onPress</code> g·ªçi h√†m x·ª≠ l√Ω s·ª± ki·ªán.</li>
</ul>
<p><strong>N√∫t m·ªü Camera (hi·ªÉn th·ªã khi Camera kh√¥ng ho·∫°t ƒë·ªông):</strong></p>
<pre><code class="language-javascript">import { Button } from 'react-native'; // Import Button
// Assume cameraActive and toggleCamera function is available in the component's scope

function OpenCameraButton({ cameraActive, toggleCamera }) { // Example component
  return (
    &lt;&gt; {/* Use a Fragment */}
      {!cameraActive &amp;&amp; (
        &lt;Button title=&quot;Open Camera&quot; onPress={toggleCamera} /&gt;
      )}
    &lt;/&gt;
  );
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="bash"><a class="header" href="#bash">Bash</a></h1>
<p>M√¨nh t·ªïng h·ª£p kh√° nhi·ªÅu c√°c c√¢u l·ªánh v√† m·ªôt ch√∫t v·ªÅ l·∫≠p tr√¨nh Bash trong n√†y. Kh√¥ng nh·∫•t thi·∫øt ch·ªâ l√† Bash m√† c√≤n l√† c√°c c√¢u l·ªánh kh√°c trong Terminal n·ªØa ^^!</p>
<h3 id="loop-ƒë·ªçc-t·ª´-t·ªáp-txt"><a class="header" href="#loop-ƒë·ªçc-t·ª´-t·ªáp-txt">Loop ƒë·ªçc t·ª´ t·ªáp txt</a></h3>
<pre><code class="language-bash">while read p; do
  yt-dlp &quot;$p&quot; -o
done &lt;tmp.txt
</code></pre>
<h3 id="g·ªôp-to√†n-b·ªô-c√°c-t·ªáp-txt-th√†nh-m·ªôt-t·ªáp-txt"><a class="header" href="#g·ªôp-to√†n-b·ªô-c√°c-t·ªáp-txt-th√†nh-m·ªôt-t·ªáp-txt">G·ªôp to√†n b·ªô c√°c t·ªáp .txt th√†nh m·ªôt t·ªáp .txt</a></h3>
<pre><code class="language-bash"># N·∫øu kh√¥ng bao g·ªìm sub-folders
cat ./* &gt; merged-file
# N·∫øu c√≥
find . ! -path ./merged-file -type f -exec cat {} + &gt; merged-file
</code></pre>
<h3 id="t·∫£i-trang-t·ª´-wayback-machine-v·ªÅ"><a class="header" href="#t·∫£i-trang-t·ª´-wayback-machine-v·ªÅ">T·∫£i trang t·ª´ Wayback Machine v·ªÅ</a></h3>
<pre><code class="language-bash">wget -rc --accept-regex '.*https://loda.me/articles.*' &quot;https://web.archive.org/web/20230321225500/https://loda.me/articles&quot;
</code></pre>
<h3 id="sending-post-request-using-curl"><a class="header" href="#sending-post-request-using-curl">Sending POST Request using <code>curl</code></a></h3>
<pre><code class="language-bash">curl -X POST https://localhost:5001/api -H &quot;Content-Type: application/json&quot; -d @/some/directory/some.json
</code></pre>
<h3 id="loop--tim-toan-bo-cac-tep"><a class="header" href="#loop--tim-toan-bo-cac-tep">Loop &amp; Tim toan bo cac tep</a></h3>
<pre><code class="language-bash">find . -name &quot;*.rar&quot; -print0 | while read -d $'\0' file
do
   unrar x &quot;$file&quot;
done

</code></pre>
<h3 id="generate-epub-file-using-mark2epub"><a class="header" href="#generate-epub-file-using-mark2epub">Generate .epub file using mark2epub</a></h3>
<pre><code class="language-bash"># Arguments [title]
mkdir docs/
mv links.txt docs/
cd docs/
mkdir css images
while read p; do papeer get &quot;$p&quot;; done &lt;links.txt

# Generate description.json (First init a variable)
description=&quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;dc:title\&quot;: \&quot;$(date +&quot;%Y_%m_%d_%I_%M_%p&quot;)\&quot;,\n    \&quot;dc:creator\&quot;: \&quot;duykhanh471\&quot;,\n    \&quot;dc:language\&quot;: \&quot;en-US\&quot;,\n    \&quot;dc:identifier\&quot;: \&quot;\&quot;,\n    \&quot;dc:source\&quot;: \&quot;\&quot;,\n    \&quot;meta\&quot;: \&quot;\&quot;,\n    \&quot;dc:date\&quot;: \&quot;\&quot;,\n    \&quot;dc:publisher\&quot;: \&quot;\&quot;,\n    \&quot;dc:contributor\&quot;: \&quot;\&quot;,\n    \&quot;dc:rights\&quot;: \&quot;\&quot;,\n    \&quot;dc:description\&quot;: \&quot;\&quot;,\n    \&quot;dc:subject\&quot;: \&quot;\&quot;\n  },\n  \&quot;cover_image\&quot;: \&quot;\&quot;,\n  \&quot;default_css\&quot;: [],\n  \&quot;chapters\&quot;: [\n    &quot;
for file in $( ls *.md ); do
  description=&quot;${description}{\n      \&quot;markdown\&quot;: \&quot;$file\&quot;,\n      \&quot;css\&quot;: \&quot;\&quot;\n    },&quot;
done

description=&quot;${description::-1}\n  ]\n}&quot;

# Echo the generated content to the new .json file  
echo -e &quot;${description}&quot; &gt; description.json
# Move out of the current directory
cd ..
# Generate an .epub file from markdown files in the docs/ dir
python3 /home/duykhanh471/Applications/mark2epub/script.py docs/ &quot;$(date +&quot;%Y_%m_%d_%I_%M_%p&quot;).epub&quot;
</code></pre>
<h3 id="sort-by-number"><a class="header" href="#sort-by-number">Sort by number</a></h3>
<p>if u want the <code>ls</code> output looks like:</p>
<pre><code class="language-bash">1.md 2.md 3.md 10.md
</code></pre>
<p>instead of</p>
<pre><code class="language-bash">1.md 10.md 2.md 3.md 
</code></pre>
<p>here is the command</p>
<pre><code class="language-bash">ls *.md | sort -V | awk '{str=str$0&quot; &quot;}END{sub(/, $/,&quot;&quot;,str);print str}'
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="regex"><a class="header" href="#regex">Regex</a></h1>
<p>R·∫•t nhi·ªÅu regex hay d√£ man, v√† c≈©ng nhanh kh·ªßng khi·∫øp, n·∫øu bi·∫øt Pattern =))</p>
<h3 id="match-t·ª´-ƒë√¢y-ƒë·∫øn-h·∫øt-c√¢u"><a class="header" href="#match-t·ª´-ƒë√¢y-ƒë·∫øn-h·∫øt-c√¢u">Match t·ª´ ƒë√¢y ƒë·∫øn h·∫øt c√¢u</a></h3>
<pre><code>[Ph·∫ßn b·∫Øt ƒë·∫ßu c·ªßa ƒëo·∫°n b·∫°n c·∫ßn match]\s*([^\n\r]*)
</code></pre>
<h3 id="x√≥a-to√†n-b·ªô-c√°c-d√≤ng-b·ªã-tr√πng-l·∫∑p"><a class="header" href="#x√≥a-to√†n-b·ªô-c√°c-d√≤ng-b·ªã-tr√πng-l·∫∑p">X√≥a to√†n b·ªô c√°c d√≤ng b·ªã tr√πng l·∫∑p</a></h3>
<pre><code>^(.*)(\r?\n\1)+$
</code></pre>
<h3 id="match-markdown-links"><a class="header" href="#match-markdown-links">Match markdown links</a></h3>
<pre><code>\[(.+)\]\(([^ ]+?)( &quot;(.+)&quot;)?\)
</code></pre>
<p>Extracted from <a href="https://www.michaelperrin.fr/blog/2019/02/advanced-regular-expressions">this post</a>. There are 4 capturing groups (surrounded by parenthesis) in that regex:</p>
<ul>
<li>Group 1 is the text of the link.</li>
<li>Group 2 is the URL of the link.</li>
<li>Group 3 is the optional title of the link including the double quotes (this group is necessary for the ? marker).</li>
<li>Group 4 is the optional title of the link.</li>
</ul>
<h3 id="date-time-like"><a class="header" href="#date-time-like">Date Time like</a></h3>
<p>like:</p>
<ul>
<li>9:59 AM</li>
<li>5:59 PM</li>
</ul>
<pre><code>([0-9]|[0-1][0-2])\:?([0-5][0-9])? ([A|P]M)
</code></pre>
<h3 id="match-empty-line"><a class="header" href="#match-empty-line">match empty line</a></h3>
<pre><code>^\s*$
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="m·ªôt-s·ªë-c√¢u-l·ªánh-t·∫£i-video-hay-b·∫±ng-yt-dlp"><a class="header" href="#m·ªôt-s·ªë-c√¢u-l·ªánh-t·∫£i-video-hay-b·∫±ng-yt-dlp">M·ªôt s·ªë c√¢u l·ªánh t·∫£i video hay b·∫±ng <code>yt-dlp</code></a></h1>
<h3 id="ch·ªânh-s·ª≠a-t√™n-t·ªáp-output"><a class="header" href="#ch·ªânh-s·ª≠a-t√™n-t·ªáp-output">Ch·ªânh s·ª≠a t√™n t·ªáp (Output)</a></h3>
<p>Khi t·∫£i video Youtube ch·∫≥ng h·∫°n, th∆∞·ªùng th√¨ n√≥ s·∫Ω tr·∫£ v·ªÅ ki·ªÉu <code>Ti√™u ƒë·ªÅ video [id c·ªßa video].webm</code> ch·∫≥ng h·∫°n. N√≥ kh√° l√† kh√≥ ch·ªãu =)) (√çt nh·∫•t v·ªõi m√¨nh).</p>
<pre><code>yt-dlp -o &quot;%(title)s.%(ext)s&quot; [link ·ªü ƒë√¢y]
</code></pre>
<p>Th∆∞·ªùng l√† m√¨nh ƒë·ªÉ m·∫∑c ƒë·ªãnh th·∫ø n√†y, ch·ªâ c√≥ ti√™u ƒë·ªÅ v·ªõi ƒëu√¥i t·ªáp th√¥i.</p>
<h3 id="t·∫£i-c·∫£-c√°i-podcast"><a class="header" href="#t·∫£i-c·∫£-c√°i-podcast">T·∫£i c·∫£ c√°i Podcast</a></h3>
<p>L√™n tr√™n <a href="https://podcastindex.org/">Podcastindex.org</a> v√† t√¨m Podcast b·∫°n mu·ªën t·∫£i. V√≠ d·ª• m√¨nh s·∫Ω t·∫£i Podcast c√≥ ƒë∆∞·ªùng d·∫´n l√† <a href="https://podcastindex.org/podcast/366334">https://podcastindex.org/podcast/366334</a>.</p>
<p>B·∫°n ch·ªâ c·∫ßn b·∫•m <strong>Copy RSS</strong> r·ªìi n√©m v√†o trong <code>yt-dlp</code> l√† xong:</p>
<pre><code>yt-dlp https://feeds.simplecast.com/dfh_verV
</code></pre>
<p>R·ªìi n√≥ s·∫Ω t·∫£i to√†n b·ªô cho b·∫°n.</p>
<h3 id="danh-s√°ch-c√°c-l·ªánh-t·ªïng-h·ª£p"><a class="header" href="#danh-s√°ch-c√°c-l·ªánh-t·ªïng-h·ª£p">Danh s√°ch c√°c l·ªánh t·ªïng h·ª£p</a></h3>
<p>T·∫£i m·ªôt danh s√°ch ph√°t tr√™n Youtube, ƒë·ªô ph√¢n gi·∫£i 480p, c√≥ ph·ª• ƒë·ªÅ Ti·∫øng Anh v·ªõi Output t√™n ƒë·∫πp ƒë·∫πp x√≠u.</p>
<pre><code>yt-dlp -S res:480 --write-subs --write-auto-subs --sub-lang=en --convert-subs=srt -o &quot;%(title)s.%(ext)s&quot; [Cho link ·ªü ƒë√¢y]
</code></pre>
<p>Gi·∫£i th√≠ch th√™m:</p>
<ul>
<li><code>-S res:480</code>: ƒê·ªô ph√¢n gi·∫£i 480p.</li>
<li><code>--write-subs</code></li>
<li><code>--write-auto-subs</code>: T·∫£i sub t·ª± Youtube t·∫°o </li>
<li><code>--sub-lang=en</code>: Ch·ªçn ng√¥n ng·ªØ ph·ª• ƒë·ªÅ</li>
<li><code>--convert-subs=srt</code>: Chuy·ªÉn ƒë·ªïi sang ƒë·ªãnh d·∫°ng <code>.srt</code>, m·∫∑c ƒë·ªãnh <code>yt-dlp</code> s·∫Ω d√πng <code>.vtt</code></li>
<li><code>-o &quot;%(title)s.%(ext)s&quot;</code> - T√™n t·ªáp ƒë·∫πp</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
    </body>
</html>
