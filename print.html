<!DOCTYPE HTML>
<html lang="vi" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Kho code cá»§a duykhanh471</title>
        <meta name="robots" content="noindex" />
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><div><strong aria-hidden="true">1.</strong> HTML/CSS</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="html-css/html.html"><strong aria-hidden="true">1.1.</strong> HTML</a></li><li class="chapter-item expanded "><a href="html-css/css.html"><strong aria-hidden="true">1.2.</strong> CSS</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.</strong> JS</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="js/co-ban.html"><strong aria-hidden="true">2.1.</strong> TMP</a></li><li class="chapter-item expanded "><a href="js/array.html"><strong aria-hidden="true">2.2.</strong> TMP</a></li><li class="chapter-item expanded "><a href="js/ngay-gio.html"><strong aria-hidden="true">2.3.</strong> TMP</a></li><li class="chapter-item expanded "><a href="js/string.html"><strong aria-hidden="true">2.4.</strong> TMP</a></li><li class="chapter-item expanded "><a href="js/object.html"><strong aria-hidden="true">2.5.</strong> TMP</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.</strong> Java</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="java/index.html"><strong aria-hidden="true">3.1.</strong> Trang chá»§ khÃ³a há»c</a></li><li class="chapter-item expanded "><a href="java/1.html"><strong aria-hidden="true">3.2.</strong> Giá»›i thiá»‡u Java, JVM vÃ  Hellooo world</a></li><li class="chapter-item expanded "><a href="java/2.html"><strong aria-hidden="true">3.3.</strong> Biáº¿n, pháº¡m vi, kiá»ƒu dá»¯ liá»‡u, toÃ¡n tá»­ trong Java</a></li><li class="chapter-item expanded "><a href="java/3.html"><strong aria-hidden="true">3.4.</strong> HÃ m vÃ  cÃ¢u lá»‡nh Ä‘iá»u kiá»‡n</a></li><li class="chapter-item expanded "><a href="java/4.html"><strong aria-hidden="true">3.5.</strong> Nháº­p xuáº¥t dá»¯ liá»‡u trong Java</a></li><li class="chapter-item expanded "><a href="java/5.html"><strong aria-hidden="true">3.6.</strong> VÃ¬ sao nÃªn sá»­ dá»¥ng StringBuffer</a></li><li class="chapter-item expanded "><a href="java/6.html"><strong aria-hidden="true">3.7.</strong> HÆ°á»›ng dáº«n Java Reflection</a></li><li class="chapter-item expanded "><a href="java/7.html"><strong aria-hidden="true">3.8.</strong> HÆ°á»›ng dáº«n tá»± táº¡o má»™t Annotations</a></li><li class="chapter-item expanded "><a href="java/8.html"><strong aria-hidden="true">3.9.</strong> Functional Interfaces & Lambda Expressions cá»±c dá»… hiá»ƒu</a></li><li class="chapter-item expanded "><a href="java/9.html"><strong aria-hidden="true">3.10.</strong> HÆ°á»›ng dáº«n Stream API</a></li><li class="chapter-item expanded "><a href="java/10.html"><strong aria-hidden="true">3.11.</strong> KhÃ¡i niá»‡m ThreadPool vÃ  Executor trong Java</a></li><li class="chapter-item expanded "><a href="java/11.html"><strong aria-hidden="true">3.12.</strong> ThreadPoolExecutor vÃ  nguyÃªn táº¯c quáº£n lÃ½ pool size</a></li><li class="chapter-item expanded "><a href="java/12.html"><strong aria-hidden="true">3.13.</strong> Giá»›i thiá»‡u Reactive Programming vá»›i Reactor</a></li><li class="chapter-item expanded "><a href="java/13.html"><strong aria-hidden="true">3.14.</strong> Giá»›i thiá»‡u Reactor Core</a></li><li class="chapter-item expanded "><a href="java/14.html"><strong aria-hidden="true">3.15.</strong> Abstract Interface</a></li><li class="chapter-item expanded "><a href="java/15.html"><strong aria-hidden="true">3.16.</strong> Thread</a></li><li class="chapter-item expanded "><a href="java/16.html"><strong aria-hidden="true">3.17.</strong> Optional</a></li><li class="chapter-item expanded "><a href="java/snippets/index.html"><strong aria-hidden="true">3.18.</strong> Kho snippets</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="java/snippets/algorithms.html"><strong aria-hidden="true">3.18.1.</strong> Algorithms</a></li><li class="chapter-item expanded "><a href="java/snippets/array.html"><strong aria-hidden="true">3.18.2.</strong> Array</a></li><li class="chapter-item expanded "><a href="java/snippets/cls.html"><strong aria-hidden="true">3.18.3.</strong> CLS</a></li><li class="chapter-item expanded "><a href="java/snippets/date.html"><strong aria-hidden="true">3.18.4.</strong> Date</a></li><li class="chapter-item expanded "><a href="java/snippets/encoding.html"><strong aria-hidden="true">3.18.5.</strong> Encoding & Decoding</a></li><li class="chapter-item expanded "><a href="java/snippets/file.html"><strong aria-hidden="true">3.18.6.</strong> File</a></li><li class="chapter-item expanded "><a href="java/snippets/io.html"><strong aria-hidden="true">3.18.7.</strong> IO</a></li><li class="chapter-item expanded "><a href="java/snippets/math.html"><strong aria-hidden="true">3.18.8.</strong> Math</a></li><li class="chapter-item expanded "><a href="java/snippets/media.html"><strong aria-hidden="true">3.18.9.</strong> Media</a></li><li class="chapter-item expanded "><a href="java/snippets/network.html"><strong aria-hidden="true">3.18.10.</strong> Network</a></li><li class="chapter-item expanded "><a href="java/snippets/string.html"><strong aria-hidden="true">3.18.11.</strong> String</a></li><li class="chapter-item expanded "><a href="java/snippets/thread.html"><strong aria-hidden="true">3.18.12.</strong> Thread</a></li></ol></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.</strong> Spring Boot</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="spring-boot/index.html"><strong aria-hidden="true">4.1.</strong> Trang chá»§ khÃ³a há»c</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.2.</strong> Core</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="spring-boot/core1.html"><strong aria-hidden="true">4.2.1.</strong> KhÃ¡i niá»‡m tight-coupling (liÃªn káº¿t rÃ ng buá»™c) vÃ  cÃ¡ch loosely coupled</a></li><li class="chapter-item expanded "><a href="spring-boot/core2.html"><strong aria-hidden="true">4.2.2.</strong> Giáº£i thÃ­ch Dependency Injection (DI) vÃ  IoC</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.3.</strong> Spring Boot</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="spring-boot/sb1.html"><strong aria-hidden="true">4.3.1.</strong> HÆ°á»›ng dáº«n @Component vÃ  @Autowired</a></li><li class="chapter-item expanded "><a href="spring-boot/sb2.html"><strong aria-hidden="true">4.3.2.</strong> @Autowired - @Primary - @Qualifier</a></li><li class="chapter-item expanded "><a href="spring-boot/sb3.html"><strong aria-hidden="true">4.3.3.</strong> Spring Bean Life Cycle + @PostConstruct vÃ  @PreDestroy</a></li><li class="chapter-item expanded "><a href="spring-boot/sb4.html"><strong aria-hidden="true">4.3.4.</strong> @Component vs @Service vs @Repository</a></li><li class="chapter-item expanded "><a href="spring-boot/sb5.html"><strong aria-hidden="true">4.3.5.</strong> Component Scan lÃ  gÃ¬?</a></li><li class="chapter-item expanded "><a href="spring-boot/sb6.html"><strong aria-hidden="true">4.3.6.</strong> @Configuration vÃ  @Bean</a></li><li class="chapter-item expanded "><a href="spring-boot/sb7.html"><strong aria-hidden="true">4.3.7.</strong> Spring Boot Application Config vÃ  @Value</a></li><li class="chapter-item expanded "><a href="spring-boot/sb8.html"><strong aria-hidden="true">4.3.8.</strong> Táº¡o Web Helloworld vá»›i @Controller + Thymeleaf</a></li><li class="chapter-item expanded "><a href="spring-boot/sb9.html"><strong aria-hidden="true">4.3.9.</strong> Giáº£i thÃ­ch cÃ¡ch Thymeleaf váº­n hÃ nh + Expression + Demo Full</a></li><li class="chapter-item expanded "><a href="spring-boot/sb10.html"><strong aria-hidden="true">4.3.10.</strong> @RequestMapping + @PostMapping + @ModelAttribute + @RequestParam + Web To-Do vá»›i Thymeleaf</a></li><li class="chapter-item expanded "><a href="spring-boot/sb11.html"><strong aria-hidden="true">4.3.11.</strong> HÆ°á»›ng dáº«n Spring Boot JPA + MySQL</a></li><li class="chapter-item expanded "><a href="spring-boot/sb12.html"><strong aria-hidden="true">4.3.12.</strong> Spring JPA Method + @Query</a></li><li class="chapter-item expanded "><a href="spring-boot/sb13.html"><strong aria-hidden="true">4.3.13.</strong> Chi tiáº¿t Spring Boot + Thymeleaf + MySQL + i18n + Web Demo</a></li><li class="chapter-item expanded "><a href="spring-boot/sb14.html"><strong aria-hidden="true">4.3.14.</strong> Restful API + @RestController + @PathVariable + @RequestBody</a></li><li class="chapter-item expanded "><a href="spring-boot/sb15.html"><strong aria-hidden="true">4.3.15.</strong> Exception Handling @ExceptionHandler + @RestControllerAdvice / @ControllerAdvice + @ResponseStatus</a></li><li class="chapter-item expanded "><a href="spring-boot/sb16.html"><strong aria-hidden="true">4.3.16.</strong> HÆ°á»›ng dáº«n sá»­ dá»¥ng @ConfigurationPropertie</a></li><li class="chapter-item expanded "><a href="spring-boot/sb17.html"><strong aria-hidden="true">4.3.17.</strong> Cháº¡y nhiá»u mÃ´i trÆ°á»ng vá»›i Spring Profile</a></li><li class="chapter-item expanded "><a href="spring-boot/sb18.html"><strong aria-hidden="true">4.3.18.</strong> HÆ°á»›ng dáº«n chi tiáº¿t Test Spring Boot</a></li><li class="chapter-item expanded "><a href="spring-boot/sb19.html"><strong aria-hidden="true">4.3.19.</strong> HÆ°á»›ng dáº«n chi tiáº¿t Test Spring Boot (Pháº§n 2)</a></li><li class="chapter-item expanded "><a href="spring-boot/sb20.html"><strong aria-hidden="true">4.3.20.</strong> HÆ°á»›ng dáº«n toÃ n táº­p Mockito</a></li><li class="chapter-item expanded "><a href="spring-boot/sb21.html"><strong aria-hidden="true">4.3.21.</strong> HÆ°á»›ng dáº«n táº¡o Bean cÃ³ Ä‘iá»u kiá»‡n vá»›i @Conditional</a></li><li class="chapter-item expanded "><a href="spring-boot/sb22.html"><strong aria-hidden="true">4.3.22.</strong> HÆ°á»›ng dáº«n tá»± táº¡o custom @Conditional</a></li><li class="chapter-item expanded "><a href="spring-boot/sb23.html"><strong aria-hidden="true">4.3.23.</strong> Xá»­ lÃ½ sá»± kiá»‡n vá»›i @EventListener + @Async</a></li><li class="chapter-item expanded "><a href="spring-boot/sb24.html"><strong aria-hidden="true">4.3.24.</strong> RESTful API Document Táº¡o vá»›i Spring Boot + Swagger</a></li><li class="chapter-item expanded "><a href="spring-boot/sb25.html"><strong aria-hidden="true">4.3.25.</strong> RESTful API Document vá»›i Spring Boot + OpenApi 3.0</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.4.</strong> Jpa</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="spring-boot/jpa1.html"><strong aria-hidden="true">4.4.1.</strong> ã€ŒJpaã€Hibernate lÃ  gÃ¬?</a></li><li class="chapter-item expanded "><a href="spring-boot/jpa2.html"><strong aria-hidden="true">4.4.2.</strong> ã€ŒJpaã€HÆ°á»›ng dáº«n sá»­ dá»¥ng Specification (Pháº§n 1)</a></li><li class="chapter-item expanded "><a href="spring-boot/jpa3.html"><strong aria-hidden="true">4.4.3.</strong> ã€ŒJpaã€HÆ°á»›ng dáº«n sá»­ dá»¥ng @OneToOne</a></li><li class="chapter-item expanded "><a href="spring-boot/jpa4.html"><strong aria-hidden="true">4.4.4.</strong> ã€ŒJpaã€@OneToMany vÃ  @ManyToOne</a></li><li class="chapter-item expanded "><a href="spring-boot/jpa5.html"><strong aria-hidden="true">4.4.5.</strong> ã€ŒJpaã€HÆ°á»›ng dáº«n @ManyToMany</a></li><li class="chapter-item expanded "><a href="spring-boot/jpa6.html"><strong aria-hidden="true">4.4.6.</strong> ã€ŒJpaã€HÆ°á»›ng dáº«n Query phÃ¢n trang báº±ng Pageable (Pháº§n 1)</a></li><li class="chapter-item expanded "><a href="spring-boot/jpa7.html"><strong aria-hidden="true">4.4.7.</strong> ã€ŒJpaã€HÆ°á»›ng dáº«n sá»­ dá»¥ng Criteria API trong Hibernate</a></li><li class="chapter-item expanded "><a href="spring-boot/jpa8.html"><strong aria-hidden="true">4.4.8.</strong> ã€ŒJpaã€HÆ°á»›ng dáº«n sá»­ dá»¥ng Criteria API trong Hibernate (Pháº§n 2)</a></li><li class="chapter-item expanded "><a href="spring-boot/jpa9.html"><strong aria-hidden="true">4.4.9.</strong> ã€ŒJpaã€HÆ°á»›ng dáº«n tá»± táº¡o Validator Ä‘á»ƒ kiá»ƒm tra Model & Entity</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.5.</strong> Spring Security</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="spring-boot/ss1.html"><strong aria-hidden="true">4.5.1.</strong> ã€ŒSSã€HÆ°á»›ng dáº«n Spring Security cÆ¡ báº£n, dá»… hiá»ƒu</a></li><li class="chapter-item expanded "><a href="spring-boot/ss2.html"><strong aria-hidden="true">4.5.2.</strong> ã€ŒSSã€HÆ°á»›ng dáº«n Spring Security + Jpa Hibernate</a></li><li class="chapter-item expanded "><a href="spring-boot/ss3.html"><strong aria-hidden="true">4.5.3.</strong> ã€ŒSSã€HÆ°á»›ng dáº«n Spring Security + JWT (Json Web Token) + Hibernate</a></li></ol></li><li class="chapter-item expanded "><a href="spring-boot/redis.html"><strong aria-hidden="true">4.6.</strong> Redis</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.</strong> Rust</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="rust/thuat-toan.html"><strong aria-hidden="true">5.1.</strong> TMP</a></li><li class="chapter-item expanded "><a href="rust/command-line.html"><strong aria-hidden="true">5.2.</strong> TMP</a></li><li class="chapter-item expanded "><a href="rust/he-thong.html"><strong aria-hidden="true">5.3.</strong> TMP</a></li><li class="chapter-item expanded "><a href="rust/internet.html"><strong aria-hidden="true">5.4.</strong> TMP</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.5.</strong> Tá»‡p</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="rust/tep/epub.html"><strong aria-hidden="true">5.5.1.</strong> TMP</a></li><li class="chapter-item expanded "><a href="rust/tep/git.html"><strong aria-hidden="true">5.5.2.</strong> TMP</a></li><li class="chapter-item expanded "><a href="rust/tep/html.html"><strong aria-hidden="true">5.5.3.</strong> TMP</a></li><li class="chapter-item expanded "><a href="rust/tep/rss.html"><strong aria-hidden="true">5.5.4.</strong> TMP</a></li></ol></li><li class="chapter-item expanded "><a href="rust/essentials/intro.html"><strong aria-hidden="true">5.6.</strong> Essentials</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="rust/essentials/core-concepts/intro.html"><strong aria-hidden="true">5.6.1.</strong> Core Concepts</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="rust/essentials/core-concepts/function.html"><strong aria-hidden="true">5.6.1.1.</strong> Functions</a></li><li class="chapter-item expanded "><a href="rust/essentials/core-concepts/flow-control.html"><strong aria-hidden="true">5.6.1.2.</strong> Flow Control</a></li><li class="chapter-item expanded "><a href="rust/essentials/core-concepts/pattern-matching.html"><strong aria-hidden="true">5.6.1.3.</strong> Pattern Matching</a></li><li class="chapter-item expanded "><a href="rust/essentials/core-concepts/closure.html"><strong aria-hidden="true">5.6.1.4.</strong> Closures</a></li><li class="chapter-item expanded "><a href="rust/essentials/core-concepts/ownership.html"><strong aria-hidden="true">5.6.1.5.</strong> Ownership</a></li><li class="chapter-item expanded "><a href="rust/essentials/core-concepts/borrow.html"><strong aria-hidden="true">5.6.1.6.</strong> Borrow</a></li><li class="chapter-item expanded "><a href="rust/essentials/core-concepts/macro.html"><strong aria-hidden="true">5.6.1.7.</strong> Macros</a></li><li class="chapter-item expanded "><a href="rust/essentials/core-concepts/concurency.html"><strong aria-hidden="true">5.6.1.8.</strong> Concurency</a></li><li class="chapter-item expanded "><a href="rust/essentials/core-concepts/error-handling.html"><strong aria-hidden="true">5.6.1.9.</strong> Error Handling</a></li><li class="chapter-item expanded "><a href="rust/essentials/core-concepts/lifetime.html"><strong aria-hidden="true">5.6.1.10.</strong> Lifetime</a></li><li class="chapter-item expanded "><a href="rust/essentials/core-concepts/module.html"><strong aria-hidden="true">5.6.1.11.</strong> Modules</a></li><li class="chapter-item expanded "><a href="rust/essentials/core-concepts/crate.html"><strong aria-hidden="true">5.6.1.12.</strong> Crates</a></li></ol></li><li class="chapter-item expanded "><a href="rust/essentials/types/intro.html"><strong aria-hidden="true">5.6.2.</strong> Types</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="rust/essentials/types/scalar.html"><strong aria-hidden="true">5.6.2.1.</strong> Scalar Types</a></li><li class="chapter-item expanded "><a href="rust/essentials/types/compound.html"><strong aria-hidden="true">5.6.2.2.</strong> Compound Types</a></li><li class="chapter-item expanded "><a href="rust/essentials/types/trait.html"><strong aria-hidden="true">5.6.2.3.</strong> Traits</a></li><li class="chapter-item expanded "><a href="rust/essentials/types/struct.html"><strong aria-hidden="true">5.6.2.4.</strong> Structs</a></li><li class="chapter-item expanded "><a href="rust/essentials/types/enum.html"><strong aria-hidden="true">5.6.2.5.</strong> Enums</a></li><li class="chapter-item expanded "><a href="rust/essentials/types/struct-vs-enum.html"><strong aria-hidden="true">5.6.2.6.</strong> Structs vs Enums</a></li><li class="chapter-item expanded "><a href="rust/essentials/types/generic.html"><strong aria-hidden="true">5.6.2.7.</strong> Generics</a></li><li class="chapter-item expanded "><a href="rust/essentials/types/type-alias.html"><strong aria-hidden="true">5.6.2.8.</strong> Type Alias</a></li><li class="chapter-item expanded "><a href="rust/essentials/types/pointer.html"><strong aria-hidden="true">5.6.2.9.</strong> Pointers</a></li><li class="chapter-item expanded "><a href="rust/essentials/types/vector.html"><strong aria-hidden="true">5.6.2.10.</strong> Vectors</a></li></ol></li><li class="chapter-item expanded "><a href="rust/essentials/operators/intro.html"><strong aria-hidden="true">5.6.3.</strong> Operators</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="rust/essentials/operators/arithmetic-operations.html"><strong aria-hidden="true">5.6.3.1.</strong> Arithmetic Operations</a></li><li class="chapter-item expanded "><a href="rust/essentials/operators/comparison-operations.html"><strong aria-hidden="true">5.6.3.2.</strong> Comparison Operators</a></li><li class="chapter-item expanded "><a href="rust/essentials/operators/logical-operations.html"><strong aria-hidden="true">5.6.3.3.</strong> Logical Operators</a></li><li class="chapter-item expanded "><a href="rust/essentials/operators/bitwise-operations.html"><strong aria-hidden="true">5.6.3.4.</strong> Bitwise Operators</a></li><li class="chapter-item expanded "><a href="rust/essentials/operators/assignement-operations.html"><strong aria-hidden="true">5.6.3.5.</strong> Assignment Operators</a></li></ol></li><li class="chapter-item expanded "><a href="rust/essentials/packaging/intro.html"><strong aria-hidden="true">5.6.4.</strong> Packaging</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="rust/essentials/packaging/no-std.html"><strong aria-hidden="true">5.6.4.1.</strong> ![no_std] Attribute</a></li><li class="chapter-item expanded "><a href="rust/essentials/packaging/modules.html"><strong aria-hidden="true">5.6.4.2.</strong> Requiring Modules</a></li><li class="chapter-item expanded "><a href="rust/essentials/packaging/package-names.html"><strong aria-hidden="true">5.6.4.3.</strong> Package Names</a></li><li class="chapter-item expanded "><a href="rust/essentials/packaging/crates-tag.html"><strong aria-hidden="true">5.6.4.4.</strong> Tag your Crate</a></li><li class="chapter-item expanded "><a href="rust/essentials/packaging/feature-attribute.html"><strong aria-hidden="true">5.6.4.5.</strong> Feature Attribute</a></li><li class="chapter-item expanded "><a href="rust/essentials/packaging/features-compilation.html"><strong aria-hidden="true">5.6.4.6.</strong> Features Compilation</a></li></ol></li><li class="chapter-item expanded "><a href="rust/essentials/std-lib/intro.html"><strong aria-hidden="true">5.6.5.</strong> Standard Library</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="rust/essentials/std-lib/refcell.html"><strong aria-hidden="true">5.6.5.1.</strong> RefCell Struct</a></li><li class="chapter-item expanded "><a href="rust/essentials/std-lib/rc.html"><strong aria-hidden="true">5.6.5.2.</strong> Rc Type</a></li><li class="chapter-item expanded "><a href="rust/essentials/std-lib/self-as-type.html"><strong aria-hidden="true">5.6.5.3.</strong> Self Type</a></li><li class="chapter-item expanded "><a href="rust/essentials/std-lib/self-vs-self.html"><strong aria-hidden="true">5.6.5.4.</strong> Self vs self</a></li><li class="chapter-item expanded "><a href="rust/essentials/std-lib/self.html"><strong aria-hidden="true">5.6.5.5.</strong> self Keyword</a></li><li class="chapter-item expanded "><a href="rust/essentials/std-lib/imp.html"><strong aria-hidden="true">5.6.5.6.</strong> imp Keyword</a></li><li class="chapter-item expanded "><a href="rust/essentials/std-lib/new.html"><strong aria-hidden="true">5.6.5.7.</strong> new Keyword</a></li><li class="chapter-item expanded "><a href="rust/essentials/std-lib/some.html"><strong aria-hidden="true">5.6.5.8.</strong> Some Keyword</a></li><li class="chapter-item expanded "><a href="rust/essentials/std-lib/option.html"><strong aria-hidden="true">5.6.5.9.</strong> Option Enum</a></li><li class="chapter-item expanded "><a href="rust/essentials/std-lib/drive(debug).html"><strong aria-hidden="true">5.6.5.10.</strong> #[derive(Debug)]</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="rust/patterns/intro.html"><strong aria-hidden="true">5.7.</strong> Patterns</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="rust/patterns/creational/intro.html"><strong aria-hidden="true">5.7.1.</strong> Creational</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="rust/patterns/creational/singleton.html"><strong aria-hidden="true">5.7.1.1.</strong> Singleton</a></li><li class="chapter-item expanded "><a href="rust/patterns/creational/factory-method.html"><strong aria-hidden="true">5.7.1.2.</strong> Factory Method</a></li><li class="chapter-item expanded "><a href="rust/patterns/creational/abstract-method.html"><strong aria-hidden="true">5.7.1.3.</strong> Abstract Factory</a></li><li class="chapter-item expanded "><a href="rust/patterns/creational/builder.html"><strong aria-hidden="true">5.7.1.4.</strong> Builder</a></li><li class="chapter-item expanded "><a href="rust/patterns/creational/prototype.html"><strong aria-hidden="true">5.7.1.5.</strong> Prototype</a></li></ol></li><li class="chapter-item expanded "><a href="rust/patterns/behavioral/intro.html"><strong aria-hidden="true">5.7.2.</strong> Behavioral</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="rust/patterns/behavioral/observer.html"><strong aria-hidden="true">5.7.2.1.</strong> Observer</a></li><li class="chapter-item expanded "><a href="rust/patterns/behavioral/strategy.html"><strong aria-hidden="true">5.7.2.2.</strong> Strategy</a></li><li class="chapter-item expanded "><a href="rust/patterns/behavioral/command.html"><strong aria-hidden="true">5.7.2.3.</strong> Command</a></li><li class="chapter-item expanded "><a href="rust/patterns/behavioral/chain-of-responsibility.html"><strong aria-hidden="true">5.7.2.4.</strong> Chain of Responsibility</a></li><li class="chapter-item expanded "><a href="rust/patterns/behavioral/iterator.html"><strong aria-hidden="true">5.7.2.5.</strong> Iterator</a></li><li class="chapter-item expanded "><a href="rust/patterns/behavioral/mediator.html"><strong aria-hidden="true">5.7.2.6.</strong> Mediator</a></li><li class="chapter-item expanded "><a href="rust/patterns/behavioral/visitor.html"><strong aria-hidden="true">5.7.2.7.</strong> Visitor</a></li></ol></li><li class="chapter-item expanded "><a href="rust/patterns/structural/intro.html"><strong aria-hidden="true">5.7.3.</strong> Structural</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="rust/patterns/structural/adapter.html"><strong aria-hidden="true">5.7.3.1.</strong> Adapter</a></li><li class="chapter-item expanded "><a href="rust/patterns/structural/bridge.html"><strong aria-hidden="true">5.7.3.2.</strong> Bridge</a></li><li class="chapter-item expanded "><a href="rust/patterns/structural/composite.html"><strong aria-hidden="true">5.7.3.3.</strong> Composite</a></li><li class="chapter-item expanded "><a href="rust/patterns/structural/decorator.html"><strong aria-hidden="true">5.7.3.4.</strong> Decorator</a></li><li class="chapter-item expanded "><a href="rust/patterns/structural/facade.html"><strong aria-hidden="true">5.7.3.5.</strong> Facade</a></li><li class="chapter-item expanded "><a href="rust/patterns/structural/flyweight.html"><strong aria-hidden="true">5.7.3.6.</strong> Flyweight</a></li><li class="chapter-item expanded "><a href="rust/patterns/structural/proxy.html"><strong aria-hidden="true">5.7.3.7.</strong> Proxy</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="rust/algorithms/intro.html"><strong aria-hidden="true">5.8.</strong> Algorithms</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="rust/algorithms/sorting/intro.html"><strong aria-hidden="true">5.8.1.</strong> Sorting</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="rust/algorithms/sorting/buble.html"><strong aria-hidden="true">5.8.1.1.</strong> Buble Sort</a></li><li class="chapter-item expanded "><a href="rust/algorithms/sorting/quick.html"><strong aria-hidden="true">5.8.1.2.</strong> Quick Sort</a></li><li class="chapter-item expanded "><a href="rust/algorithms/sorting/merge.html"><strong aria-hidden="true">5.8.1.3.</strong> Merge Sort</a></li><li class="chapter-item expanded "><a href="rust/algorithms/sorting/heap.html"><strong aria-hidden="true">5.8.1.4.</strong> Heap Sort</a></li><li class="chapter-item expanded "><a href="rust/algorithms/sorting/counting.html"><strong aria-hidden="true">5.8.1.5.</strong> Counting Sort</a></li></ol></li><li class="chapter-item expanded "><a href="rust/algorithms/searching/intro.html"><strong aria-hidden="true">5.8.2.</strong> Searching</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="rust/algorithms/searching/linear.html"><strong aria-hidden="true">5.8.2.1.</strong> Linear Search</a></li><li class="chapter-item expanded "><a href="rust/algorithms/searching/binary.html"><strong aria-hidden="true">5.8.2.2.</strong> Binary Search</a></li><li class="chapter-item expanded "><a href="rust/algorithms/searching/depth-first.html"><strong aria-hidden="true">5.8.2.3.</strong> DFS</a></li><li class="chapter-item expanded "><a href="rust/algorithms/searching/breadth-first.html"><strong aria-hidden="true">5.8.2.4.</strong> BFS</a></li></ol></li><li class="chapter-item expanded "><a href="rust/algorithms/graph/intro.html"><strong aria-hidden="true">5.8.3.</strong> Graph</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="rust/algorithms/graph/shortest-path.html"><strong aria-hidden="true">5.8.3.1.</strong> Dijkstraâ€™s Algorithm</a></li><li class="chapter-item expanded "><a href="rust/algorithms/graph/minimum-spanning-tree.html"><strong aria-hidden="true">5.8.3.2.</strong> Kruskalâ€™s Algorithm </a></li><li class="chapter-item expanded "><a href="rust/algorithms/graph/a-star.html"><strong aria-hidden="true">5.8.3.3.</strong> A* Algorithm </a></li><li class="chapter-item expanded "><a href="rust/algorithms/graph/all-pairs-shortest-path.html"><strong aria-hidden="true">5.8.3.4.</strong> Floyd-Warshall Algorithm</a></li></ol></li><li class="chapter-item expanded "><a href="rust/algorithms/dynamic-programming/intro.html"><strong aria-hidden="true">5.8.4.</strong> Dynamic Programming</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="rust/algorithms/dynamic-programming/knapsack-problem.html"><strong aria-hidden="true">5.8.4.1.</strong> Knapsack Problem</a></li><li class="chapter-item expanded "><a href="rust/algorithms/dynamic-programming/longest-common-subsequence.html"><strong aria-hidden="true">5.8.4.2.</strong> Longest Common Subsequence</a></li><li class="chapter-item expanded "><a href="rust/algorithms/dynamic-programming/matrix-chain-multiplication.html"><strong aria-hidden="true">5.8.4.3.</strong> Matrix Chain Multiplication</a></li><li class="chapter-item expanded "><a href="rust/algorithms/dynamic-programming/fibonacci.html"><strong aria-hidden="true">5.8.4.4.</strong> Fibonacci Sequence</a></li></ol></li><li class="chapter-item expanded "><a href="rust/algorithms/cryptographic/intro.html"><strong aria-hidden="true">5.8.5.</strong> Cryptography</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="rust/algorithms/cryptographic/rsa.html"><strong aria-hidden="true">5.8.5.1.</strong> RSA</a></li><li class="chapter-item expanded "><a href="rust/algorithms/cryptographic/aes.html"><strong aria-hidden="true">5.8.5.2.</strong> AES</a></li><li class="chapter-item expanded "><a href="rust/algorithms/cryptographic/sha-256.html"><strong aria-hidden="true">5.8.5.3.</strong> SHA-256</a></li><li class="chapter-item expanded "><a href="rust/algorithms/cryptographic/diffie-hellman.html"><strong aria-hidden="true">5.8.5.4.</strong> Diffie-Hellman</a></li><li class="chapter-item expanded "><a href="rust/algorithms/cryptographic/bcrypt.html"><strong aria-hidden="true">5.8.5.5.</strong> Bcrypt</a></li></ol></li></ol></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.</strong> React</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="react/bai-1.html"><strong aria-hidden="true">6.1.</strong> TMP</a></li><li class="chapter-item expanded "><a href="react/bai-2.html"><strong aria-hidden="true">6.2.</strong> TMP</a></li><li class="chapter-item expanded "><a href="react/bai-3.html"><strong aria-hidden="true">6.3.</strong> TMP</a></li></ol></li><li class="chapter-item expanded "><a href="react-native/index.html"><strong aria-hidden="true">7.</strong> React Native</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.</strong> TypeScript</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="ts/bai-1.html"><strong aria-hidden="true">8.1.</strong> TMP</a></li></ol></li><li class="chapter-item expanded "><a href="bash/tong-hop.html"><strong aria-hidden="true">9.</strong> Bash</a></li><li class="chapter-item expanded "><a href="regex/tong-hop.html"><strong aria-hidden="true">10.</strong> Regex</a></li><li class="chapter-item expanded "><a href="khac/yt-dlp.html"><strong aria-hidden="true">11.</strong> yt-dlp</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Kho code cá»§a duykhanh471</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><h1 id="java-vá»¡-lÃ²ng"><a class="header" href="#java-vá»¡-lÃ²ng">Java vá»¡ lÃ²ng</a></h1>
<p>Má»™t ngÃ´n ngá»¯ máº¡nh máº½ lÃ¢u Ä‘á»i vÃ  khÃ³ bá»‹ thay tháº¿. Code 1 láº§n cháº¡y má»i nÆ¡i! Báº¯t Ä‘áº§u nÃ o ğŸ’¡.</p>
<p>Trang nÃ y chá»‰ lÃ  báº£n Backup cÃ³ sá»­a láº¡i (MÃ¬nh lá»c láº¡i thÃ nh má»™t báº£n cho nhá»¯ng ngÆ°á»i Ä‘Ã£ biáº¿t láº­p trÃ¬nh tá»« trÆ°á»›c vÃ /hoáº·c cáº§n Ã´n láº¡i Java gáº¥p) cá»§a <a href="https://www.facebook.com/nam.tehee">loda-kun</a> khÃ³a Java Basic.</p>
<p>Báº¡n cÃ³ thá»ƒ truy cáº­p vÃ o trang Github cá»§a tÃ¡c giáº£ <a href="https://github.com/loda-kun">Nguyen Hoang Nam</a>. VÃ  cáº£ pháº§n <a href="https://github.com/loda-kun/java-all">source code cho khÃ³a nÃ y ná»¯a</a>. Báº¡n cÃ³ thá»ƒ Ä‘á»c bÃ i viáº¿t cá»§a á»•ng á»Ÿ trÃªn Viblo, vÃ¬ trang loda.me khÃ´ng cÃ²n hoáº¡t Ä‘á»™ng ná»¯a.</p>
<h3 id="bÃ i-há»c"><a class="header" href="#bÃ i-há»c">BÃ i há»c</a></h3>
<ul>
<li>ğŸ¥¾ <a href="java/1.html">Giá»›i thiá»‡u Java, JVM vÃ  Hellooo world~</a></li>
<li>ğŸ” <a href="java/2.html">Biáº¿n, pháº¡m vi, kiá»ƒu dá»¯ liá»‡u, toÃ¡n tá»­ trong Java</a></li>
<li>ğŸŒ€ <a href="java/3.html">HÃ m vÃ  cÃ¢u lá»‡nh Ä‘iá»u kiá»‡n</a></li>
<li>ğŸ§¿ <a href="java/4.html">Nháº­p xuáº¥t dá»¯ liá»‡u trong Java</a></li>
<li>ğŸª” <a href="java/5.html">VÃ¬ sao nÃªn sá»­ dá»¥ng StringBuffer</a></li>
<li>ğŸ’º <a href="java/6.html">HÆ°á»›ng dáº«n Java Reflection</a></li>
<li>ğŸ´ <a href="java/7.html">HÆ°á»›ng dáº«n tá»± táº¡o má»™t Annotations</a></li>
<li>ğŸ¥ <a href="java/8.html">Functional Interfaces &amp; Lambda Expressions cá»±c dá»… hiá»ƒu</a></li>
<li>ğŸï¸ <a href="java/9.html">HÆ°á»›ng dáº«n Stream API</a></li>
<li>ğŸš† <a href="java/10.html">KhÃ¡i niá»‡m ThreadPool vÃ  Executor trong Java</a></li>
<li>ğŸ›º <a href="java/11.html">ThreadPoolExecutor vÃ  nguyÃªn táº¯c quáº£n lÃ½ pool size</a></li>
<li>ğŸ›¶ <a href="java/12.html">Giá»›i thiá»‡u Reactive Programming vá»›i Reactor</a></li>
<li>ğŸ”• <a href="java/13.html">Giá»›i thiá»‡u Reactor Core</a></li>
<li><a href="java/14.html">Báº¡n thá»±c sá»± Ä‘Ã£ biáº¿t khi nÃ o dÃ¹ng Interface khi nÃ o dÃ¹ng Abstract?</a></li>
<li><a href="java/15.html">Java Concurrency (Pháº§n 1): Thread</a></li>
<li><a href="java/16.html">Optional</a></li>
</ul>
<h3 id="cÃ¡c-bÃ i-viáº¿t-khÃ¡c"><a class="header" href="#cÃ¡c-bÃ i-viáº¿t-khÃ¡c">CÃ¡c bÃ i viáº¿t khÃ¡c</a></h3>
<p>ChÃºc cÃ¡c báº¡n há»c táº­p hiá»‡u quáº£!</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="bÃ i-1-gioi-thieu-java-jvm-va-hellooo-world"><a class="header" href="#bÃ i-1-gioi-thieu-java-jvm-va-hellooo-world">BÃ i 1: GioÌ›Ìi thieÌ£Ì‚u Java, JVM vaÌ€ Hellooo world</a></h1>
<p>Äá»c bÃ i gá»‘c cá»§a Loda Ä‘i nhÃ¡, cÃ¡i nÃ y chá»‰ ghi láº¡i má»™t sá»‘ Ã½ Ä‘á»ƒ cho mÃ¬nh quay láº¡i tham kháº£o thÃ´i.</p>
<h3 id="cÃ i-Ä‘áº·t-mÃ´i-trÆ°á»ng"><a class="header" href="#cÃ i-Ä‘áº·t-mÃ´i-trÆ°á»ng">CÃ i Ä‘áº·t mÃ´i trÆ°á»ng</a></h3>
<p><code>Java</code>Â hoáº¡t Ä‘á»™ng nhÆ° váº­y, nÃ³ chá»‰ nÃ³i 1 ngÃ´n ngá»¯ duy nháº¥t thÃ´i, tuy nhiÃªn nÃ³ cÃ³ má»™t tháº±ng anh bÃ¡ Ä‘áº¡o, tÃªn Ã´ng Ã½ nÃ´m na lÃ Â mÃ´i trÆ°á»ng áº£oÂ hay tÃªn chuáº©n lÃ Â <code>Java virtual machine (JVM)</code>. Nhiá»‡m vá»¥ cá»§aÂ <code>JVM</code>Â lÃ  nÃ³ phá»¥ Ä‘á» (thuyáº¿t minh) cho tá»«ng loáº¡i OS khÃ¡c nhau ráº±ng tháº±ngÂ <code>Java</code>Â Ä‘ang lÃ m gÃ¬, nÃ³i gÃ¬, lÃ m gÃ¬.</p>
<p>VÃ¬ chÃºng ta lÃ  Developer nÃªn sáº½ cÃ i gÃ³iÂ <code>JDK</code>Â (<code>Java Development Kit</code>), nÃ³ chá»©a cÃ¡c cÃ´ng cá»¥ giÃºp láº­p trÃ¬nhÂ <code>Java</code>. NgoÃ i ra trong quÃ¡ trÃ¬nh cÃ i, nÃ³ sáº½ cÃ i mÃ´i trÆ°á»ngÂ <code>JRE</code>Â (<code>Java Runtime Enviroment</code>, bao gá»“m cáº£ tháº±ngÂ <code>JVM</code>Â á»Ÿ trÃªn) luÃ´n.</p>
<h3 id="hello-world"><a class="header" href="#hello-world">Hello World</a></h3>
<p>Táº¡o Project trong Intellij cháº³ng háº¡n, xong rá»“i thÃ¬ cÃ¹ng nhÃ¬n vÃ o cáº¥u trÃºc cá»§a project thÃ¬ sáº½ tháº¥y cÃ³ 3 thÆ° má»¥c:</p>
<ul>
<li><code>.idea</code>: Tháº±ng nÃ y lÃ  thÆ° má»¥c doÂ <code>Intellij</code>Â tá»± táº¡o ra Ä‘á»ƒ chá»©a cÃ¡c file config cá»§a pháº§n má»m nÃ y, báº¡n sáº½ k cáº§n quan tÃ¢m Ä‘áº¿n.</li>
<li><code>src</code>: ÄÃ¢y lÃ  thÆ° má»¥c chÃ­nh báº¡n sáº½ lÃ m viá»‡c, táº¥t cáº£Â <code>code</code>Â báº¡n Ä‘á»ƒ trong nÃ y</li>
<li><code>{project-name}.iml</code>: File nÃ y cÅ©ng doÂ <code>Intellj</code>Â táº¡o ra vÃ  quáº£n lÃ½ module, báº¡n khÃ´ng cáº§n quan tÃ¢m nÃ³.</li>
</ul>
<h3 id="má»™t-sá»‘-thÃ´ng-tin-khÃ¡c"><a class="header" href="#má»™t-sá»‘-thÃ´ng-tin-khÃ¡c">Má»™t sá»‘ thÃ´ng tin khÃ¡c</a></h3>
<ul>
<li><code>public static void main(String[] args)</code>: (Gá»i táº¯t lÃ Â <code>psvm</code>Â nhÃ©) CÃ¡i tháº±ng nÃ y sáº½ lÃ  nÆ¡iÂ <code>Java</code>Â tÃ¬m tá»›i Ä‘áº§u tiÃªn, vÃ  Ä‘á»c toÃ n bá»™ cÃ¡c Ä‘oáº¡n code trong cÃ¡i tháº±ng tÃªn lÃ Â <code>psvm</code>Â nÃ y. DÃ¹ nÃ³ á»Ÿ báº¥t cá»© Ä‘Ã¢u, nÃ³ sáº½ Ä‘Æ°á»£c tÃ¬m tá»›i.</li>
<li>2 cÃ¡i dáº¥uÂ <code>{``}</code>: ÄÃ¡nh dáº¥u Ä‘oáº¡n báº¯t Ä‘áº§u vÃ  káº¿t thÃºc cá»§a cÃ¡iÂ <code>public static void main(String[] args)</code>Â kia.</li>
</ul>
<p>Váº­y lÃ  tháº±ngÂ <code>Java</code>Â sáº½ Ä‘i lÃ¹ng tÃ¬m, xem cÃ¡i tháº±ngÂ <code>psvm</code>Â xem nÃ³ á»Ÿ Ä‘Ã¢u. Rá»“i Ä‘á»c háº¿t táº¥t cáº£ nhá»¯ng thá»© náº±m trong cÃ¡i 2 dáº¥uÂ <code>{``}</code>Â cá»§a tháº±ng nÃ y.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="bien-pháº¡m-vi-kiá»ƒu-dá»¯-liá»‡u-toÃ¡n-tá»­-trong-java"><a class="header" href="#bien-pháº¡m-vi-kiá»ƒu-dá»¯-liá»‡u-toÃ¡n-tá»­-trong-java">BieÌ‚Ìn, pháº¡m vi, kiá»ƒu dá»¯ liá»‡u, toÃ¡n tá»­ trong Java</a></h1>
<h3 id="biáº¿n--kiá»ƒu-dá»¯-liá»‡u"><a class="header" href="#biáº¿n--kiá»ƒu-dá»¯-liá»‡u">Biáº¿n &amp; Kiá»ƒu dá»¯ liá»‡u</a></h3>
<pre><code class="language-java">public class Calculation{
    public static void main(String[] args){
        // khai bao so nguyen
        int a = 5;
        int b = 10;
        int x = 10 + 5;
        System.out.println(x);

    }
}
</code></pre>
<p>Thá»© nháº¥t lÃ  cÃ¡iÂ <code>// khai bao so nguyen</code>, cÃ¡i nÃ y gá»i lÃ Â <code>Comment</code>, tá»©c cÃ¡c báº¡n viáº¿t gÃ¬ sau 2 cÃ¡i dáº¥uÂ <code>//</code>Â thÃ¬ nÃ³ sáº½ khÃ´ng áº£nh hÆ°á»Ÿng tá»›iÂ <code>code</code>Â cá»§a chÆ°Æ¡ng trÃ¬nh, nÃ³ chá»‰ mang Ã½ nghÄ©a chÃº thÃ­ch thÃ´i.</p>
<p>Thá»© hai lÃ  cÃ¡i nÃ y:</p>
<pre><code class="language-java">int a = 5;
</code></pre>
<p>NÃ³i vá»Â <code>Biáº¿n</code>Â (<code>Variable</code>) cÃ¡c báº¡n cÃ³ liÃªn tÆ°á»Ÿng tá»›i liÃªn tÆ°á»Ÿng tá»›i biáº¿nÂ <code>x</code>Â trong Ä‘á»“ thá»‹ hÃ m sá»‘Â <code>ax + b = 0</code>Â khÃ´ng. ThÃ¬ chÃ­nh lÃ  nÃ³ Ä‘áº¥y.</p>
<blockquote>
<p>Biáº¿nÂ sáº½ giÃºp chÃºng ta lÆ°u trá»¯ vÃ  quáº£n lÃ½ cÃ¡c giÃ¡ trá»‹ trong chÆ°Æ¡ng trÃ¬nh.</p>
</blockquote>
<p>TrongÂ <code>Java</code>,Â <code>Biáº¿n</code>Â cÅ©ng lÃ  Ä‘áº¡i diá»‡n cho má»™t Ä‘á»‘i tÆ°á»£ng vÃ  Ä‘á»‘i tÆ°á»£ng nÃ y pháº£i Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh lÃ  thuá»™cÂ <code>Kiá»ƒu dá»¯ liá»‡u</code>Â nÃ o. CÃ³ cÃ¡c kiá»ƒu dá»¯ liá»‡uÂ <code>nguyÃªn thuá»·</code>Â (<code>primitive</code>) nhÆ° sau:</p>
<ul>
<li><code>boolean</code>: lÃ  kiá»ƒu logic, chá»‰ cÃ³ 2 giÃ¡ trá»‹Â <code>true</code>Â hoáº·cÂ <code>false</code></li>
<li><code>char</code>: kiá»ƒu kÃ½ tá»±, chá»‰ chá»©a Ä‘c Ä‘Æ°á»£c má»™t kÃ½ tá»±, Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong dáº¥u ngoáº·c Ä‘Æ¡nÂ <code>'</code></li>
<li><code>int</code>Â : sá»‘ nguyÃªn (<code>1,2,3, ..</code>)</li>
<li><code>long</code>: sá»‘ nguyÃªn, lá»›n hÆ¡nÂ <code>int</code>. (sáº½ giáº£i thÃ­ch á»Ÿ dÆ°á»›i)</li>
<li><code>float</code>: sá»‘ thá»±c (<code>1.5, 2.5, ..</code>).</li>
<li><code>double</code>: sá»‘ thá»±c, lá»›n hÆ¡nÂ <code>float</code>.</li>
</ul>
<p>NgoÃ i ra cÃ²n 2 kiá»ƒu dá»¯ liá»‡u nhá» hÆ¡nÂ <code>int</code>Â lÃ Â <code>byte</code>Â vÃ Â <code>short</code>.</p>
<p>Kiá»ƒu dá»¯ liá»‡u cao cáº¥p hÆ¡n gá»i lÃ Â <code>Object</code>Â mÃ  Ä‘áº·c trÆ°ng nháº¥t lÃ Â <code>String</code>.</p>
<ul>
<li><code>String</code>: Má»™t chuá»—i cÃ¡c kÃ½ tá»±, Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong dáº¥u ngoáº·c kÃ©pÂ <code>&quot;&quot;</code>. vdÂ <code>String a = &quot;Hellooo world~~~&quot;</code></li>
</ul>
<h3 id="cÃ¡ch-khai-bÃ¡o"><a class="header" href="#cÃ¡ch-khai-bÃ¡o">CÃ¡ch khai bÃ¡o</a></h3>
<p>Äá»ƒ khai bÃ¡o biáº¿n, báº¯t buá»™c trÆ°á»›c Ä‘Ã³ báº¡n pháº£i chá»‰ cho nÃ³Â <code>kiá»ƒu dá»¯ liá»‡u</code>Â mÃ  nÃ³ sáº½ nháº­n, ngoÃ i ra cÃ³ thá»ƒ cÃ³ giÃ¡ trá»‹ hoáº·c khÃ´ng.</p>
<ul>
<li>CÃ¡ch 1:Â <code>[kiá»ƒu_dá»¯_liá»‡u][tÃªn_biáº¿n];</code></li>
<li>CÃ¡ch 2:Â <code>[kiá»ƒu_dá»¯_liá»‡u][tÃªn_biáº¿n] = [giÃ¡_trá»‹];</code></li>
</ul>
<pre><code class="language-java">int a, b, c; // Khai bÃ¡o 3 biáº¿n cÃ³ kiá»ƒu dá»¯ liá»‡u int
float b = 4.5f, c = 4f; // Khai bÃ¡o 2 biáº¿n cÃ³ kiá»ƒu dá»¯ liá»‡u float vá»›i giÃ¡ trá»‹ ban Ä‘áº§u. á»Ÿ Ä‘Ã¢y biáº¿n `c` sáº½ Ä‘Æ°á»£c hiá»ƒu lÃ  c = 4.0
double c = 4444.3;
char t = 'c';
String e = &quot;Hello&quot;;
</code></pre>
<h3 id="cÃ¡ch-Ä‘áº·t-tÃªn"><a class="header" href="#cÃ¡ch-Ä‘áº·t-tÃªn">CÃ¡ch Ä‘áº·t tÃªn</a></h3>
<p>TÃªn biáº¿n pháº£i tuÃ¢n theoÂ <code>quy táº¯c láº¡c Ä‘Ã  (Camel Case)</code>: Ä‘Ã³ lÃ  chá»¯ cÃ¡i Ä‘áº§u tiÃªn cá»§a tá»« Ä‘áº§u tiÃªn pháº£i viáº¿t thÆ°á»ng vÃ  chá»¯ cÃ¡i Ä‘áº§u tiÃªn cá»§a cÃ¡c tá»« tiáº¿p theo pháº£i viáº¿t hoa, vÃ­ dá»¥:Â <code>listStudent</code>,Â <code>minScore</code>.</p>
<h3 id="pháº¡m-vi-sá»­-dá»¥ng"><a class="header" href="#pháº¡m-vi-sá»­-dá»¥ng">Pháº¡m vi sá»­ dá»¥ng</a></h3>
<p>Má»™t khi báº¡n Ä‘Ã£ khai bÃ¡o biáº¿n, thÃ¬ báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng nÃ³ trong nhá»¯ngÂ <code>Pháº¡m vi</code>Â mÃ  nÃ³ kháº£ dá»¥ng. ?? ğŸ˜€?? CÃ¹ng nhÃ¬n vÃ­ dá»¥ á»Ÿ dÆ°á»›i nhÃ©.</p>
<p>VÃ­ dá»¥:</p>
<pre><code class="language-java">public static void main(String[] args){
    // khai bao so nguyen `a`
    int a;
    // GÃ¡n giÃ¡ trá»‹ cho a, báº¡n sá»­ dá»¥ng toÃ¡n tá»­ `=`
    // Sá»­ dá»¥ng biáº¿n a bÃ¬nh thÆ°á»ng
    a = 124214;

    // láº¥y a vÃ  cá»™ng thÃªm 1,, rá»“i gÃ¡n ngÆ°á»£c láº¡i giÃ¡ trá»‹ Ä‘Ã³ vÃ o a :D
    // Sá»­ dá»¥ng biáº¿n a bÃ¬nh thÆ°á»ng
    a = a + 1;

}
// GÃ¡n láº¡i giÃ¡ trá»‹ cho a = 100 - 10;
// ChÆ°Æ¡ng trÃ¬nh lá»—i
a = 100 - 10;
</code></pre>
<p><code>Pháº¡m vi</code>Â (<code>Scope</code>) lÃ  Ä‘Ã¢y cÃ¡c báº¡n áº¡, chÃ­nh lÃ  2 cÃ¡i dáº¥uÂ <code>{}</code>, khi báº¡n khai bÃ¡o má»™t biáº¿nÂ <code>a</code>Â trong 2 cÃ¡i dáº¥uÂ <code>{``}</code>Â thÃ¬ báº¡n chá»‰ cÃ³ thá»ƒ sá»­ dá»¥ng á»Ÿ trong nÃ³ thÃ´i, ra ngoÃ i nÃ³ sáº½ khÃ´ng hiá»ƒuÂ <code>a</code>Â lÃ  tháº±ng nÃ o vÃ  tá»« Ä‘Ã¢u chui ra.</p>
<blockquote>
<p>Biáº¿nÂ khÃ´ng thá»ƒ sá»­ dá»¥ng ngoÃ i, nhÆ°ng nÃ³ cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng á»Ÿ bÃªn trong nhá»¯ngÂ scopeÂ mÃ  nÃ³ chá»©a hoáº·c cÃ¹ng cáº¥p vá»›i nÃ³.</p>
</blockquote>
<pre><code class="language-java">public class Calculation{
    // Khai bÃ¡o a á»Ÿ ngoÃ i main, cÃ¡i `public static` lÃ  cáº§n thiáº¿t nhÃ©, cÃ²n chi tiáº¿t thÃ¬ chÃºng ta sáº½ há»c á»Ÿ cÃ¡c bÃ i sau.
    public static int a = 5;
    public static void main(String[] args){
        // thay Ä‘á»•i a, á»Ÿ trong, váº«n okie.
        a = 10;

        // Biáº¿n a cÃ³ thá»ƒ sá»­ dá»¥ng trong cÃ¡c `scope` con cá»§a nÃ³
        // LÃ m gÃ¬ biáº¿n a á»Ÿ Ä‘Ã¢y cÅ©ng Ä‘Æ°á»£c, biáº¿n Ä‘á»•i nÃ³.

        // gÃ¡n giÃ¡ trá»‹ biáº¿n a vÃ o b;
        int b = a;

        System.out.println(b);
    }
}
</code></pre>
<h3 id="toÃ¡n-tá»­"><a class="header" href="#toÃ¡n-tá»­">ToÃ¡n tá»­</a></h3>
<p>Khi Ä‘Ã£ xÃ¡c Ä‘á»‹nh cÃ¡cÂ <code>Biáº¿n</code>Â trong chÆ°Æ¡ng trÃ¬nh, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ngÂ <code>toÃ¡n tá»­</code>Â Ä‘á»ƒ thay Ä‘á»•i cÃ¡c giÃ¡ trá»‹. CÃ¡cÂ <code>toÃ¡n tá»­</code>Â thÃ¬ khÃ¡ Ä‘Æ¡n giáº£n, giá»‘ng mÃ´n toÃ¡n bÃ¬nh thÆ°á»ng thÃ´i. Vá»›i cÃ¡c kiá»ƒuÂ <code>nguyÃªn thuá»· (primitive)</code>Â ta cÃ³:</p>
<pre><code class="language-java">public class Calculation{
    public static void main(String[] args){
      int a;
      int b = 5;
      int c = a + b; // c = 0 + 5 cá»™ng
      int d = a - b; // d = 0 - 5 trá»«
      int f = a * 5; // f = 0 x 5 nhÃ¢n
      int g = a / 5; // g = 0 : 5; chia
    }
}
</code></pre>
<p>CÃ²n vá»›iÂ <code>String</code>Â thÃ¬ báº¡n cÃ³ thá»ƒ sá»­ dá»¥ngÂ <code>+</code>Â Ä‘á»ƒ ghÃ©p 2 chuá»—i mÃ  thÃ´i. CÃ²n cÃ¡c toÃ n tá»­ cÃ²n láº¡i khÃ´ng Ä‘Æ°á»£c sá»­ dá»¥ng vá»›iÂ <code>String</code></p>
<pre><code class="language-java">public class Calculation{
    public static void main(String[] args){
      String a = &quot;Hello&quot;
      String b = &quot;World&quot;
      // MÃ¬nh Ä‘Ã£ ná»‘i 3 xÃ¢u lÃ  &quot;Hello&quot; + &quot; &quot; (Khoáº£ng tráº¯ng) + &quot;World&quot; láº¡i vá»›i nhau
      System.out.println(a + &quot; &quot; + b);

      String c = a + 5; // String cá»™ng vá»›i má»™t sá»‘ nguyÃªn?
      System.out.println(c); // Káº¿t quáº£ sáº½ lÃ : &quot;Hello 5&quot; :V
      // Báº¡n sáº½ hiá»ƒu lÃ  khi cá»™ng String vá»›i má»™t sá»‘, sá»‘ Ä‘Ã³ sáº½ bá»‹ chuyá»ƒn thÃ nh String vÃ  ná»‘i vÃ o sau.

    }
}
</code></pre>
<h3 id="Ã‰p-kiá»ƒu-dá»¯-liá»‡u"><a class="header" href="#Ã‰p-kiá»ƒu-dá»¯-liá»‡u">Ã‰p kiá»ƒu dá»¯ liá»‡u</a></h3>
<p>NhÃ¬n vÃ o vÃ­ dá»¥ sau, báº¡n sáº½ rÃµ.</p>
<pre><code class="language-java">public class Calculation{
    public static void main(String[] args){
      int a = 2;
      float b = 3.5f; // dÃ¹ng chá»¯ f Ä‘á»ƒ nÃ³ hiá»ƒu Ä‘Ã¢y lÃ  3,5 float chá»© k pháº£i 3,5 double

      float c = a + b; // c = 5.5

      int d = a + b; // bÃ¡o lá»—i. VÃ¬ sao?
      // vÃ¬ java Ä‘ang hiá»ƒu 2 + 3.5 nÃ³ sáº½ Ã©p thÃ nh 5.5 lÃ  float. BÃ¢y giá» gÃ¡n nÃ³ vÃ o sá»‘ nguyÃªn thÃ¬ sáº½ nhÆ° nÃ y int = float?

      // Äá»ƒ gÃ¡n Ä‘Æ°á»£c báº¡n cáº§n sá»­ dá»¥ng Ã©p kiá»ƒu
      int d = (int) a + b; // d = 5
      // a + b = 5.5 =&gt; Ã©p thÃ nh (int) =&gt; 5 (láº¥y pháº§n nguyÃªn thÃ´i)

      char character = '5';
      int number = (int) character; // number = 53. Why?

      // VÃ¬ Ã©p `char` thÃ nh `int` thÃ¬ nÃ³ sáº½ khÃ´ng chuyá»ƒn chá»¯ thÃ nh sá»‘, mÃ  nÃ³ sáº½ kiáº¿m tra '5' lÃ  kÃ½ tá»± ASCII thá»© bao nhiÃªu trong mÃ¡y tÃ­nh, vÃ  tráº£ láº¡i sá»‘ thá»© tá»± Ä‘Ã³.

      float = (float) 5; // =&gt; 5.0
    }
}
</code></pre>
<h3 id="báº£n-cháº¥t-cá»§a-biáº¿n-nÃ³i-thÃªm"><a class="header" href="#báº£n-cháº¥t-cá»§a-biáº¿n-nÃ³i-thÃªm">Báº£n cháº¥t cá»§a biáº¿n (NÃ³i thÃªm)</a></h3>
<p>Khi cÃ¡c báº¡n khai bÃ¡o má»™t biáº¿nÂ <code>int</code>Â trong chÆ°Æ¡ng trÃ¬nh cá»§a mÃ¬nh vÃ  sá»­ dá»¥ng lung tung kháº¯p má»i nÆ¡i, thÃ¬ báº¡n cÃ³ biáº¿t cÃ¡i biáº¿nÂ <code>int</code>Â Ã½ á»Ÿ Ä‘Ã¢u lÃ²i ra khÃ´ng :))</p>
<p>Vá» báº£n cháº¥t,Â <code>Biáº¿n</code>Â sáº½ lÃ  má»™t vÃ¹ng nhá»› trong thiáº¿t bá»‹ váº­t lÃ½ mÃ  dá»… nháº¥t lÃ  Ä‘á»ƒ trongÂ <code>ram</code>. vÃ  khi báº¡n cho nÃ³ má»™t giÃ¡ trá»‹, nÃ³ sáº½ lÆ°u trá»¯ sá»‘ Ä‘Ã³ vÃ oÂ <code>ram</code>, vÃ  cáº§n thÃ¬ láº¥y lÃªn.</p>
<p>Váº­y Ä‘á»ƒÂ <code>ram</code>Â biáº¿t báº¡n muá»‘n lÆ°u cÃ¡i gÃ¬ thÃ¬ báº¡n pháº£i khai bÃ¡o cho nÃ³. VÃ­ dá»¥ báº¡n báº£o tÃ´i cáº§n má»™t sá»‘ nguyÃªnÂ <code>int</code>. ThÃ¬ mÃ¡y tÃ­nh hiá»ƒu lÃ  mÃ¬nh cáº§n lÆ°u trá»¯ má»™t sá»‘ nguyÃªn bÃ¬nh thÆ°á»ng, khÃ´ng quÃ¡ lá»›n, nÃ³ sáº½ cho báº¡nÂ <code>4 byte</code>Â trongÂ <code>Ram</code>Â thÃ­ch lÆ°u gÃ¬ thÃ¬ lÆ°u. nhÆ°ngÂ <code>khÃ´ng Ä‘Æ°á»£c vÆ°á»£t quÃ¡ 4 byte</code>.</p>
<blockquote>
<p>4 byte = 32 bit, bá» Ä‘i 1 bit Ä‘áº§u tiÃªn Ä‘á»ƒ Ä‘Ã¡nh dáº¥u lÃ  sá»‘ Ã¢m hay dÆ°Æ¡ng, thÃ¬ cÃ²nÂ 31 bitÂ =&gt; sá»‘ lá»›n nháº¥t mÃ  biáº¿n int lÆ°u trá»¯ Ä‘Æ°á»£c lÃ Â 2^31 - 1Â =Â 2147483647</p>
</blockquote>
<p>Tá»« Ä‘Ã¢y, báº¡n sáº½ hiá»ƒu vÃ¬ sao cÃ³ sá»‘Â <code>long</code>, vÃ¬ nhu cáº§u lÆ°u sá»‘ lá»›n hÆ¡n thÃ¬Â <code>long</code>Â Ä‘Æ°á»£c cáº¥p táº­nÂ <code>8 byte</code>.</p>
<p>CÃ²n trÆ°á»ng há»£p Ä‘áº·c biá»‡t nhÆ°Â <code>String</code>Â thÃ¬ tuá»³ giÃ¡ trá»‹ cá»§a nÃ³ cÃ³ bao nhiÃªu kÃ½ tá»±, mÃ Â <code>Ram</code>Â sáº½ cáº¥p tÆ°Æ¡ng á»©ng báº¥y nhiÃªuÂ <code>byte</code></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="bÃ i-3-ham-va-cau-lenh-Ä‘ieu-kien"><a class="header" href="#bÃ i-3-ham-va-cau-lenh-Ä‘ieu-kien">BÃ i 3: HaÌ€m vaÌ€ caÌ‚u leÌ£Ì‚nh Ä‘ieÌ‚Ì€u kieÌ£Ì‚n</a></h1>
<h2 id="1-cÃ¢u-lá»‡nh-ráº½-nhÃ¡nh"><a class="header" href="#1-cÃ¢u-lá»‡nh-ráº½-nhÃ¡nh">#1 CÃ¢u lá»‡nh ráº½ nhÃ¡nh</a></h2>
<h3 id="if"><a class="header" href="#if">if</a></h3>
<p>CÃ¡c báº¡n nhÃ¬n qua vÃ­ dá»¥ nÃ y:</p>
<pre><code class="language-java">public static void main(String[] args){
    // khai bao so nguyen
    int a = 9;

    // Kiá»ƒm tra xem a cÃ³ báº±ng 9 khÃ´ng
    if (a == 9) {
        // náº¿u báº±ng 9, in ra mÃ n hÃ¬nh &quot;Hello&quot;
        System.out.println(&quot;Hello&quot;);
    }

// Káº¿t quáº£ trÃªn mÃ n hÃ¬nh:
// Hello
}
</code></pre>
<p>ThÃ¬ cÃ¡c cáº§n biáº¿t nhÆ° sau, cÃ¢u lá»‡nhÂ <code>if</code>Â lÃ  má»™t cÃ¢u lá»‡nh Ä‘iá»u kiá»‡n, vÃ  nháº­n vÃ o lÃ  má»™t Ä‘iá»u kiá»‡nÂ <code>true</code>Â hoáº·cÂ <code>false</code>. CÃ³ cÃº phÃ¡p nhÆ° sau:</p>
<pre><code class="language-java">if ([Ä‘iá»u kiá»‡n]){
    // Thá»±c hiá»‡n Ä‘oáº¡n code náº¿u [Ä‘iá»u kiá»‡n] lÃ  `true`. Náº¿u `false` bá» qa Ä‘i xuá»‘ng dÆ°á»›i.
}
// Tiáº¿p tá»¥c thá»±c hiá»‡n Ä‘oáº¡n code phÃ­a dÆ°á»›i
</code></pre>
<p>Váº­y Ä‘áº¥y, nÃªn Ä‘á»ƒ so sÃ¡nh báº¡n cáº§n dÃ¹ngÂ <code>toÃ¡n tá»­ quan há»‡</code>Â mÃ¬nh liá»‡t kÃª dÆ°á»›i Ä‘Ã¢y:</p>
<ul>
<li><code>==</code>: Kiá»ƒm tra 2 toÃ¡n háº¡ng cÃ³Â <code>báº±ng nhau</code>Â khÃ´ng? (<code>if(a==b)</code>)</li>
<li><code>!=</code>: Kiá»ƒm tra 2 toÃ¡n háº¡ng cÃ³Â <code>khÃ¡c nhau</code>Â khÃ´ng? (<code>if(a!=b)</code>)</li>
<li><code>&gt;</code>: Kiá»ƒm tra toÃ n háº¡ng A cÃ³Â <code>lá»›n hÆ¡n</code>Â B khÃ´ng? (<code>if(a&gt;b)</code>)</li>
<li><code>&lt;</code>: Kiá»ƒm tra toÃ n háº¡ng A cÃ³Â <code>nhá» hÆ¡n</code>Â B khÃ´ng? (<code>if(a&lt;b)</code>)</li>
<li><code>&gt;=</code>: Kiá»ƒm tra toÃ n háº¡ng A cÃ³Â <code>lá»›n hÆ¡n hoáº·c báº±ng</code>Â B khÃ´ng? (<code>if(a&gt;=b)</code>)</li>
<li><code>&lt;=</code>: Kiá»ƒm tra toÃ n háº¡ng A cÃ³Â <code>nhá» hÆ¡n hoáº·c báº±ng</code>Â B khÃ´ng? (<code>if(a&lt;=b)</code>)</li>
</ul>
<p>Táº¥t cáº£Â <code>toÃ¡n tá»­ quan há»‡</code>Â á»Ÿ trÃªn, khi thá»±c hiá»‡n xong nÃ³ sáº½ tráº£ vá» lÃ  kiá»ƒuÂ <code>boolean</code>, nÃªn báº¡n cÃ³ thá»ƒ gÃ¡n nÃ³ vÃ o má»™t biáº¿n báº¥t ká»³, nhÆ° lÃ y:</p>
<pre><code class="language-java">int a = 5;
int b = 6;

boolean result = a == b; // false

System.out.println(&quot;Result: &quot; + result);

// Káº¿t quáº£ in ra trÃªn mÃ n hÃ¬nh:
// &quot;Result: false&quot;

if(result){ // viáº¿t táº¯t cá»§a if(result == true)
    System.out.println(&quot;Result is true&quot;);
}
</code></pre>
<p>Äáº¿n Ä‘Ã¢y, cÃ³ thá»ƒ nÃ³i cÃ¢u lá»‡nhÂ <code>if</code>Â thá»±c cháº¥t nháº­n vÃ o má»™t giÃ¡ trá»‹Â <code>boolean</code>.</p>
<h3 id="else"><a class="header" href="#else">else</a></h3>
<p>Tiáº¿p theo, chÃºng ta tá»›i vá»›i dáº¡ng Ä‘áº§y Ä‘á»§ cá»§aÂ <code>if</code>Â chÃ­nh lÃ  cáº¥u trÃºcÂ <code>if else</code>.</p>
<pre><code class="language-java">if ([Ä‘iá»u kiá»‡n]){
    // Thá»±c hiá»‡n Ä‘oáº¡n code náº¿u [Ä‘iá»u kiá»‡n] lÃ  `true`.
} else {
    // Thá»±c hiá»‡n Ä‘oáº¡n code trong nÃ y náº¿u [Ä‘iá»u kiá»‡n] lÃ  `false`
}
//CÃ¡c Ä‘oáº¡n code á»Ÿ dÆ°á»›i thá»±c hiá»‡n bÃ¬nh thÆ°á»ng sau khi if hoáº·c else diá»…n ra
</code></pre>
<p>VÃ­ dá»¥:</p>
<pre><code class="language-java">int a = 5;
if ( (a + 2) == 7 ){
    System.out.println(&quot;Báº±ng 7&quot;);
    // Sá»­ dá»¥ng biáº¿n `a` á»Ÿ ngay trong scope {} cá»§a `if`,, nhÆ° bÃ i #2 mÃ¬nh cÃ³ nÃ³i, biáº¿n Ä‘Æ°á»£c sá»­ dá»¥ng trong cÃ¡c scope con hoáº·c báº±ng cáº¥p
    System.out.println(&quot;GiÃ¡ trá»‹ lÃºc nÃ y cá»§a a = &quot; + a);
}else{
    System.out.println(&quot;KhÃ¡c 7&quot;);
    System.out.println(&quot;GiÃ¡ trá»‹ lÃºc nÃ y cá»§a a = &quot; + a);
    int b = 7; // Táº¡o ra 1 biáº¿n b trong else
}

b = 50; // Lá»—i, khÃ´ng biáº¿t b lÃ  gÃ¬, vÃ¬ b á»Ÿ scope nhá» hÆ¡n, bÃªn ngoÃ i khÃ´ng hiá»ƒu.
</code></pre>
<h3 id="toÃ¡n-tá»­-logic"><a class="header" href="#toÃ¡n-tá»­-logic">ToÃ¡n tá»­ logic</a></h3>
<p>ToÃ¡n tá»­ logic lÃ  nhá»¯ng toÃ¡n tá»­ giÃºp chÃºng ta káº¿t há»£p nhiá»u [Ä‘iá»u kiá»‡n] láº¡i vá»›i nhau.</p>
<p>VÃ­ dá»¥ mÃ¬nh nÃ³i:Â <code>&quot;Náº¿u ab = 3 VÃ€ ac = 4 VÃ€ bc = 5 thÃ¬ abc lÃ  tam giÃ¡c vuÃ´ng&quot;</code></p>
<p>ThÃ¬ trong code cáº§n viáº¿t chÆ°Æ¡ng trÃ¬nh nhÆ° tháº¿ nÃ o?</p>
<p>CÃ¡ch 1: Sá»­ dá»¥ngÂ <code>if</code>Â thÃ´ng thÆ°á»ng.</p>
<pre><code class="language-java">int ab = 3;
int ac = 4;
int bc = 5;

if(ab == 3){
    if(ac == 4){
        if(bc == 5){
            System.out.println(&quot;abc lÃ  tam giÃ¡c cá»±c vuÃ´ng&quot;);
        }
    }
}
</code></pre>
<p>CÃ¡ch 2: Sá»­ dá»¥ngÂ <code>if</code>Â vÃ Â <code>toÃ¡n tá»­ logic</code></p>
<pre><code class="language-java">int ab = 3;
int ac = 4;
int bc = 5;

// Náº¿u ab = 3 VÃ€ ac = 4 VÃ€ bc = 5
if(ab == 3 &amp;&amp; ac == 4 &amp;&amp; bc==5){
    // thÃ¬ abc lÃ  tam giÃ¡c vuÃ´ng
    System.out.println(&quot;abc lÃ  tam giÃ¡c cá»±c vuÃ´ng&quot;);
}
</code></pre>
<p>CÃ¡c báº¡n nhÃ¬n vÃ­ dá»¥ cÅ©ng Ä‘oÃ¡n raÂ <code>&amp;&amp;</code>Â chÃ­nh lÃ Â <code>toÃ¡n tá»­ logic</code>Â Ä‘áº¡i diá»‡n cho khÃ¡i niá»‡mÂ <code>AND</code>. ChÃºng ta cÃ³ táº¥t cáº£ cÃ¡c loáº¡iÂ <code>toÃ¡n tá»­ logic</code>Â nhÆ° sau:</p>
<ul>
<li><code>&amp;&amp;</code>: AND</li>
<li><code>||</code>: OR</li>
<li><code>!</code>: NOT</li>
</ul>
<p>Má»¥c tiÃªu cá»§a cÃ¡cÂ <code>toÃ¡n tá»­ logic</code>Â lÃ  tÃ¡c Ä‘á»™ng lÃªn cÃ¡c biá»ƒu thá»©cÂ <code>boolean</code>Â Ä‘á»ƒ cho ra má»™ biáº¿nÂ <code>boolean</code>Â má»›i.</p>
<h3 id="phÃ©p-and-"><a class="header" href="#phÃ©p-and-">PhÃ©p AND (&amp;&amp;)</a></h3>
<p>PhÃ©pÂ <code>&amp;&amp;</code>Â hoáº¡t Ä‘á»™ng theo nguyÃªn táº¯c,Â <code>chá»‰ cáº§n cÃ³ 1 cÃ¡i sai, thÃ¬ táº¥t cáº£ Ä‘á»u sai</code>Â hayÂ <code>Táº¥t cáº£ Ä‘á»u pháº£i Ä‘Ãºng, má»›i lÃ  Ä‘Ãºng</code></p>
<p>Náº¿uÂ <code>&quot;A Ä‘Ãºng vÃ  B Ä‘Ãºng vÃ  C sai thÃ¬ káº¿t quáº£ váº«n lÃ  sai&quot;</code></p>
<pre><code class="language-java">// Báº¡n cháº¡y thá»­ xem nÃ³ Ä‘i vÃ o pháº§n nÃ o nhÃ©
if(true &amp;&amp; true &amp;&amp; true &amp;&amp; false){
    System.out.println(&quot;true&quot;);
}else{
    System.out.println(&quot;false&quot;);
}
</code></pre>
<h3 id="phÃ©p-or-"><a class="header" href="#phÃ©p-or-">PhÃ©p OR (||)</a></h3>
<p>PhÃ©pÂ <code>||</code>Â thÃ¬ ráº¥t dá»… dÃ£i,Â <code>Chá»‰ 1 cÃ¡i Ä‘Ãºng lÃ  Ä‘á»§</code></p>
<pre><code class="language-java">// Báº¡n cháº¡y thá»­ xem nÃ³ Ä‘i vÃ o pháº§n nÃ o nhÃ©
if(false || false || true || false){
    System.out.println(&quot;true&quot;);
}else{
    System.out.println(&quot;false&quot;);
}
</code></pre>
<h3 id="phÃ©p-not-"><a class="header" href="#phÃ©p-not-">PhÃ©p NOT (!)</a></h3>
<p>PhÃ©pÂ <code>!</code>Â lÃ m phá»§ Ä‘á»‹nh giÃ¡ trá»‹ cá»§a biá»ƒu thá»©c, náº¿u nÃ³ Ä‘angÂ <code>true</code>Â thÃ¬ biáº¿n nÃ³ thÃ nhÂ <code>false</code>Â vÃ  ngÆ°á»£c láº¡i.</p>
<pre><code class="language-java">int a = 7;
if(!(a == 7)){ // (a==7) =&gt; true gáº·p tháº±ng ! láº¡i bá»‹ chuyá»ƒn thÃ nh false. =&gt; vÃ o váº¿ else
    System.out.println(&quot;ÄÃ¡ng nháº½ ra nÃªn vÃ o Ä‘Ã¢y&quot;);
}else{
    System.out.println(&quot;But nope, nÃ³ láº¡i vÃ o Ä‘Ã¢y&quot;);
}
</code></pre>
<h2 id="hÃ m-function"><a class="header" href="#hÃ m-function">HÃ m (Function)</a></h2>
<pre><code class="language-java">public class Calculation {
    public static void main(String[] args){
        f(5,6);
        f(2,3);
        f(1,10);
    }

    public static void f(int x, int y){
        int a = x + y;
        System.out.println(&quot;In a ra mÃ n hÃ¬nh: &quot; + a);
    }
}
// Káº¿t quáº£ khi cháº¡y:

// In a ra mÃ n hÃ¬nh: 11
// In a ra mÃ n hÃ¬nh: 5
// In a ra mÃ n hÃ¬nh: 11
</code></pre>
<h3 id="cÃ¡ch-khai-bÃ¡o-1"><a class="header" href="#cÃ¡ch-khai-bÃ¡o-1">CÃ¡ch khai bÃ¡o</a></h3>
<p>CÃ¡ch khai bÃ¡o má»™t phÆ°Æ¡ng thá»©c nhÆ° sau:</p>
<p><code>[kiá»ƒu_truy_cáº­p] [kiá»ƒu_tráº£_vá»] [tÃªn_phÆ°Æ¡ng_thá»©c] ([danh_sÃ¡ch_tham_sá»‘]){}</code></p>
<p>vÃ­ dá»¥:</p>
<pre><code class="language-java">public static void f(int x, int y){
    // Code cá»§a báº¡n
}

public static void main(String[] args){

}
</code></pre>
<p>VÃ  khai bÃ¡o á»Ÿ ngoÃ i hÃ mÂ <code>main()</code>. Tá»›i Ä‘Ã¢y, báº¡n hiá»ƒuÂ <code>main()</code>Â cÅ©ng lÃ  má»™tÂ <code>hÃ m (function)</code>. Tuy nhiÃªn nÃ³ Ä‘áº·c biá»‡t vÃ¬ cÃº phÃ¡p cá»§a nÃ³ lÃ  cá»‘ Ä‘á»‹nh vÃ  Ä‘Æ°á»£cÂ <code>Java</code>Â tÃ¬m tá»›i Ä‘á»ƒ Ä‘á»c Ä‘áº§u tiÃªn.</p>
<p>1 -Â <code>[kiá»ƒu_truy_cáº­p]</code>:</p>
<p>Trong vÃ­ dá»¥ trÃªnÂ <code>[kiá»ƒu_truy_cáº­p]</code>Â chÃ­nh lÃ  váº¿Â <code>public static</code>. NÃ³ Ä‘á»‹nh nghÄ©a pháº¡m viÂ <code>hÃ m</code>Â Ä‘Æ°á»£c sá»­ dá»¥ng. chÃºng ta sáº½ tÃ¬m hiá»ƒu á»Ÿ cÃ¡c bÃ i sau nhÃ© cÃ¡c báº¡n, bÃ¢y giá» báº¡n hÃ£y máº·c Ä‘á»‹nh sá»­ dá»¥ngÂ <code>public static</code>Â á»Ÿ trÆ°á»›c má»—i hÃ m khai bÃ¡o Ä‘á»ƒ cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘Æ°á»£c nhÃ©. á» bÃ i nÃ y, chÃºng ta táº¡m hiá»ƒu vá»›i nhau:Â <code>public static</code>Â lÃ Â <code>&quot;truy cáº­p á»Ÿ báº¥t cá»© Ä‘Ã¢u&quot;</code>Â tá»©c cÃ³ thá»ƒ gá»i hÃ m nÃ y á»Ÿ báº¥t kÃ¬ chá»— nÃ o.</p>
<p>2 -Â <code>[kiá»ƒu_tráº£_vá»]</code>:</p>
<p>TÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i pháº§nÂ <code>void</code>Â á»Ÿ vÃ­ dá»¥ trÃªn, kiá»ƒu tráº£ vá» lÃ  giÃ¡ trá»‹ chÃºng ta nháº­n Ä‘Æ°á»£c sau khi gá»i hÃ m.</p>
<p>Báº¡n hÃ£y nhá»› láº¡i, khi truyá»nÂ <code>x</code>Â vÃ oÂ <code>f(x)</code>Â chÃºng ta sáº½ nháº­n láº¡i lÃ Â <code>y</code>. ThÃ¬ hÃ m cÅ©ng váº­y, chÃºng ta cÃ³ thá»ƒ tráº£ láº¡i má»™t giÃ¡ trá»‹ gÃ¬ Ä‘Ã³. vÃ­ dá»¥:</p>
<pre><code class="language-java">// [kiá»ƒu tráº£ vá»]: int
public static int tong(int x, int y){
    int t = x + y; // TÃ­nh tá»•ng 2 sÃ³ x, y
    return t; // tráº£ sá»‘ Ä‘Ã³ ra sá»­ dá»¥ng cÃ¢u lá»‡nh `return {biáº¿n}`
}

public static void main(String[] args){
    int t = tong(5,6); // Láº¥y giÃ¡ trá»‹ tráº£ ra, gÃ¡n nÃ³ vÃ o t;
}
</code></pre>
<p>TÃ´i Ä‘á»‹nh nghÄ©a má»™t hÃ m tÃ­nh tá»•ngÂ <code>tong(x,y)</code>Â nháº­n vÃ o 2 sá»‘ nguyÃªn, vÃ  yÃªu cáº§u nÃ³ tráº£ ra má»™t sá»‘Â <code>int</code>.</p>
<p>CÃ¡c kiá»ƒu tráº£ vá»:</p>
<ul>
<li><code>primitive</code>:Â <code>int</code>,Â <code>boolean</code>,Â <code>char</code>, ...</li>
<li><code>Object</code>:Â <code>String</code>, (cÃ²n ráº¥t nhiá»u, sáº½ há»c á»Ÿ bÃ i tiáº¿p theo)</li>
<li><code>void</code>: KhÃ´ng tráº£ vá» gÃ¬ cáº£</li>
</ul>
<p>á» vÃ­ dá»¥ Ä‘áº§u tiÃªn mÃ¬nh Ä‘Ã£ sá»­ dá»¥ngÂ <code>void</code>Â Ä‘á»ƒ Ä‘á»‹nh nghÄ©a hÃ m.</p>
<pre><code class="language-java">public static void f(int x, int y){
    int a = x + y;
    System.out.println(&quot;In a ra mÃ n hÃ¬nh: &quot; + a);
}
</code></pre>
<p>Äiá»u nÃ y nÃ³i lÃ  hÃ m cá»§a chÃºng ta thá»±c hiá»‡n má»™t hoáº¡t Ä‘á»™ng khÃ©p kÃ­n, vÃ  khÃ´ng cÃ³ nhu cáº§u tráº£ ra ngoÃ i cÃ¡i gÃ¬ cáº£. MÃ¬nh chá»‰ tÃ­nh tá»•ng rá»“i in luÃ´n ra mÃ n hÃ¬nh thÃ´i, khÃ´ng cáº§n Ä‘Æ°a gÃ¬ ra ngoÃ i cáº£.</p>
<p>3 -Â <code>[danh_sÃ¡ch_tham_sá»‘]</code></p>
<p>Tham sá»‘ Ä‘áº§u vÃ o, lÃ  nhá»¯ng thá»© chÃºng ta Ä‘Æ°a vÃ o hÃ m, Ä‘á»‹nh nghÄ©a tham sá»‘ Ä‘áº§u vÃ o bao gá»“mÂ <code>[kiá»ƒu_dá»¯_liá»‡u] [tÃªn_biáº¿n]</code>. ChÃºng ta cÃ³ truyá»n nhiá»u tham sá»‘ vÃ oÂ <code>hÃ m</code>Â báº±ng cÃ¡ch Ä‘áº·t dáº§u pháº©yÂ <code>,</code>Â giá»¯a má»—i tham sá»‘.</p>
<pre><code class="language-java">public static int f(int x, int y, int z, ... ){
    // code
}
</code></pre>
<p>á» Ä‘Ã¢y lÆ°u Ã½ pháº§nÂ <code>[tÃªn_biáº¿n]</code>Â báº¡n cÃ³ thá»ƒ Ä‘áº·t tÃªn báº¥t ká»³. cháº³ng háº¡n:</p>
<pre><code class="language-java">// HÃ m nháº­n vÃ o 2 biáº¿n `x`, `y` vÃ  tráº£ ra káº¿t quáº£ `boolean` xem nÃ³ cÃ³ báº±ng nhau hay khÃ´ng
public static boolean bangnhau(int x, int y){
    return x == y;
}

public static void main(String[] args){
    int a = 5; // tÃªn biáº¿n lÃ  `a`
    int b = 6; // tÃªn biáº¿n lÃ  `b`

    boolean ketqua = bangnhau(a,b); // Ä‘Æ°a `a` , `b` vÃ o hÃ m.
    // báº£n cháº¥t khi gá»i hÃ m `bangnhau`:
    // int x = a;
    // int y = b;
    // return x == y;
    //
    System.out.println(&quot;Káº¿t quáº£: &quot; + ketqua);
}
</code></pre>
<p>Báº¡n Ä‘á»‹nh nghÄ©aÂ <code>tham sá»‘ Ä‘áº§u vÃ o</code>Â lÃ Â <code>x</code>Â vÃ Â <code>y</code>Â thÃ¬ nÃ³ chá»‰ hiá»ƒu trong á»Ÿ hÃ m Ä‘Ã³ thÃ´i, vÃ  nhá»¯ng giÃ¡ trá»‹ truyá»n vÃ o sáº½ gÃ¡n vÃ o cÃ¡c biáº¿nÂ <code>x</code>Â vÃ Â <code>y</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="nhap-xuat-du-lieu-trong-java"><a class="header" href="#nhap-xuat-du-lieu-trong-java">NhaÌ£Ì‚p xuaÌ‚Ìt duÌ›Ìƒ lieÌ£Ì‚u trong Java</a></h1>
<h3 id="nháº­p-xuáº¥t-tá»«-bÃ n-phÃ­m"><a class="header" href="#nháº­p-xuáº¥t-tá»«-bÃ n-phÃ­m">Nháº­p xuáº¥t tá»« bÃ n phÃ­m</a></h3>
<pre><code class="language-java">public class Calculation {
    public static void main(String[] args) {
        // ChÃºng ta khai bÃ¡o 3 biáº¿n a,b,c khÃ´ng cÃ³ giÃ¡ trá»‹.
        int a, b, c;

        //Khai bÃ¡o Ä‘á»‘i tÆ°á»£ng Scanner, giÃºp chÃºng ta nháº­n thÃ´ng tin tá»« keyboard
        Scanner sc = new Scanner(System.in);
        System.out.print(&quot;Nháº­p a: &quot;); //print thay vÃ¬ println, nÃ³ sáº½ in ra, nhÆ°ng khÃ´ng xuá»‘ng dÃ²ng

        a = sc.nextInt(); // sc.nextInt() lÃ  cÃ¡ch Ä‘á»ƒ láº¥y giÃ¡ trá»‹ tá»« bÃ n phÃ­m, nÃ³ sáº½ chá» tá»›i khi chÃºng ta nháº­p má»™t sá»‘.
        System.out.print(&quot;Nháº­p b: &quot;);
        b = sc.nextInt();
         System.out.print(&quot;Nháº­p c: &quot;);
        c = sc.nextInt();
        // In cÃ¡c giÃ¡ trá»‹ ra mÃ n hÃ¬nh
        System.out.println(&quot;a = &quot; + a + &quot;, b = &quot; + b + &quot;, c = &quot; + c);
        //  ÄÃ¢y lÃ  phÃ©p cá»™ng String mÃ¬nh Ä‘Ã£ nÃ³i trong BÃ i #1.
}
</code></pre>
<p>CÃ¡i dÃ²ng lá»‡nh nÃ yÂ <code>a = sc.nextInt()</code>. NÃ³ sáº½ chá» cho tá»›i khi báº¡n nháº­p 1 sá»‘ nguyÃªn vÃ  gÃµÂ <code>Enter</code>Â thÃ¬ thÃ´i. Giáº£ sá»­ mÃ¬nh nháº­pÂ <code>5</code></p>
<p>ChÆ°Æ¡ng trÃ¬nh láº¡i tiáº¿p tá»¥c cháº¡y cho tá»›i khi gáº·p cÃ¢u lá»‡nhÂ <code>sc.nextInt()</code>Â tiáº¿p theo. VÃ  cá»© tiáº¿p tá»¥c nhÆ° váº­y cho tá»›i dÃ²ng lá»‡nh cuá»‘i cÃ¹ng.</p>
<p>Tá»« Ä‘Ã¢y, cÃ¡c báº¡n cÃ³ thá»ƒ hiá»ƒu lÃ  Ä‘á»‘i tÆ°á»£ngÂ <code>Scanner</code>Â Ä‘Ã£ lÃ m nhiá»‡m vá»¥ lÃ  nháº­n dá»¯ liá»‡u ngÆ°á»i dÃ¹ng nháº­p tá»« bÃ n phÃ­m, vÃ  gÃ¡n nÃ³ vÃ o biáº¿n, báº±ng cÃ¢u lá»‡nhÂ <code>nextInt</code>.</p>
<p>BÃ¢y giá» quay trá»Ÿ ngÆ°á»£c lÃªn trÃªn 1 chÃºt, á»Ÿ cÃ¢u lá»‡nh:</p>
<pre><code class="language-java">Scanner sc = new Scanner(System.in);
</code></pre>
<p>cÃ¡c báº¡n sáº½ tháº¥y má»™t khÃ¡i niá»‡m lÃ Â <code>new</code>. cÃ¡i nÃ y thÃ¬ [BÃ i #5][link-bai5] mÃ¬nh sáº½ nÃ³i chi tiáº¿t, cÃ²n á»Ÿ Ä‘Ã¢y thÃ¬ báº¡n hiá»ƒu nÃ³ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ táº¡o ra 1 Ä‘á»‘i tÆ°á»£ngÂ <code>Scanner</code>. </p>
<h3 id="cÃ¡c-phÆ°Æ¡ng-thá»©c-nháº­p-xuáº¥t"><a class="header" href="#cÃ¡c-phÆ°Æ¡ng-thá»©c-nháº­p-xuáº¥t">CÃ¡c phÆ°Æ¡ng thá»©c nháº­p xuáº¥t</a></h3>
<p><code>Scanner</code>Â cÃ³ má»™t loáº¡t cÃ¡c hÃ m há»— trá»£ nhÆ° sau:</p>
<ul>
<li><code>next()</code>: Nháº­n vÃ o má»™tÂ <code>String token</code>Â (nháº­n vÃ o 1 tá»« Ä‘áº§u tiÃªn thay cáº£ cÃ¢u)</li>
<li><code>nextInt()</code>: Nháº­n vÃ o má»™t sá»‘Â <code>int</code></li>
<li><code>nextLong()</code>: Nháº­n vÃ o má»™t sá»‘Â <code>long</code></li>
<li><code>nextFloat()</code>: Nháº­n vÃ o má»™t sá»‘Â <code>float</code></li>
<li><code>nextDouble()</code>: Nháº­n vÃ o má»™t sá»‘Â <code>double</code></li>
<li><code>sc.nextLine()</code>: Nháº­n vÃ o má»™tÂ <code>chuá»—i String</code>Â (Cáº£ 1 cÃ¢u)</li>
<li><code>nextByte()</code>: Nháº­n vÃ o má»™tÂ <code>byte</code></li>
<li><code>nextBoolean()</code>: Nháº­n vÃ o má»™tÂ <code>boolean</code></li>
</ul>
<p>CÃ¡c hÃ m trÃªn báº¡n hiá»ƒu nguyÃªn lÃ½ lÃ  nÃ³ Ä‘á»u sáº½Â <code>chá»</code>Â cho tá»›i khi báº¡n nháº­p kiá»ƒu dá»¯ liá»‡u nÃ³ muá»‘n vÃ o.</p>
<p>CÃ³Â <code>next()</code>Â vÃ Â <code>nextLine()</code>Â khÃ¡ Ä‘áº·c biá»‡t, mÃ¬nh sáº½ vÃ­ dá»¥:</p>
<pre><code class="language-java">Scanner sc = new Scanner(System.in); //Táº¡o Ä‘á»‘i tÆ°á»£ng Scanner
System.out.print(&quot;Nháº­p gÃ¬ Ä‘Ã³: &quot;);
String a = sc.nextLine(); // nháº­n vÃ o 1 string
System.out.println(&quot;Báº¡n vá»«a nháº­p: &quot;+a);

System.out.print(&quot;Nháº­p thÃªm gÃ¬ Ä‘i: &quot;);
String b = sc.next(); // cÅ©ng nháº­n vÃ o 1 String
System.out.println(&quot;Báº¡n vá»«a nháº­p: &quot;+b);
</code></pre>
<p><code>nextLine</code>Â thÃ¬ nháº­n vÃ o cáº£ 1 chuá»—i dÃ iÂ <code>String</code>, cho tá»›i khi báº¡n nháº¥nÂ <code>Enter</code>. CÃ²nÂ <code>next</code>Â dÃ¹ báº¡n cÃ³ nháº­p dÃ i nhÆ° nÃ o, nÃ³ cÅ©ng nháº­n 1 tá»« Ä‘áº§u tiÃªn thÃ´i.</p>
<h3 id="báº£n-cháº¥t-cá»§anext"><a class="header" href="#báº£n-cháº¥t-cá»§anext">Báº£n cháº¥t cá»§a<code>next</code></a></h3>
<p>Báº¡n Ä‘á»ƒ Ã½ lÃ  cÃ¡c hÃ m láº¥y giÃ¡ trá»‹ tá»« bÃ n phÃ­m Ä‘á»u cÃ³ chá»¯Â <code>next</code>. BÃ¢y giá» báº¡n cháº¡y cho mÃ¬nh vÃ­ dá»¥ nÃ y, báº¡n sáº½ hiá»ƒu:</p>
<pre><code class="language-java">public static void main(String[] args) {
    int a,b,c;
    Scanner sc = new Scanner(System.in); // Táº¡o Ä‘á»‘i tÆ°á»£ng Scanner
    System.out.print(&quot;Nháº­p a: &quot;);
    a = sc.nextInt();
    b = sc.nextInt();
    c = sc.nextInt();
    System.out.println(&quot;a = &quot;+a);
    System.out.println(&quot;b = &quot;+b);
    System.out.println(&quot;c = &quot;+c);
}
</code></pre>
<p>Báº¡n sáº½ tháº¥y lÃ , nÃ³ Ä‘Æ°aÂ tuáº§n tá»±Â cÃ¡c giÃ¡ trá»‹ hiá»‡n cÃ³ trÃªn bÃ n phÃ­m vÃ o cÃ¡c biáº¿n. báº£n cháº¥t cá»§a chá»¯Â <code>next</code>Â chÃ­nh lÃ Â tuáº§n tá»±. NÃ³ sáº½ chá» báº¡n nháº­p náº¿u khÃ´ng cÃ³ giÃ¡ trá»‹ gÃ¬ trÃªn mÃ n hÃ¬nh, nhÆ°ng náº¿u Ä‘Ã£ cÃ³ sáºµn giÃ¡ trá»‹ rá»“i, nÃ³ sáº½ ghi nhá»› trongÂ <code>bá»™ Ä‘á»‡m</code>Â vÃ  khi gáº·p hÃ mÂ <code>nextInt()</code>Â nÃ³ khÃ´ng chá» ná»¯a, mÃ  nÃ³ láº¥y luÃ´n cÃ¡i giÃ¡ trá»‹ cÃ²n thá»«a ra, chÆ°a sá»­ dá»¥ng Ä‘áº¿n Ä‘á»ƒ gáº¯n luÃ´n vÃ o biáº¿n ğŸ˜‚</p>
<p>NhÃ¬n nhÆ° nhÆ° nÃ y cho dá»… hiá»ƒu:</p>
<pre><code class="language-java">public static void main(String[] args) {
    int a,b,c;
    Scanner sc = new Scanner(System.in); // Táº¡o Ä‘á»‘i tÆ°á»£ng Scanner
    System.out.print(&quot;Nháº­p a: &quot;);
    a = sc.nextInt(); // Chá» báº¡n nháº­p.
    // báº¡n nháº­p: 5 6 7 8 9 10
    // bá»™ Ä‘á»‡m = 5 6 7 8 9 10
    // láº¥y 5 ra, gáº¯n vÃ o a
    // bá»™ Ä‘á»‡m cÃ²n: 6 7 8 9 10
    b = sc.nextInt(); // gáº·p lá»‡nh nextInt()
    // tháº¥y bá»™ Ä‘á»‡m cÃ²n, láº¥y 6 ra, gáº¯n vÃ o b
    // bá»™ Ä‘á»‡m cÃ²n: 7 8 9 10
    c = sc.nextInt(); // gáº·p lá»‡nh nextInt()
    // tháº¥y bá»™ Ä‘á»‡m cÃ²n thá»«a, láº¥y 7 ra, gáº¯n vÃ o b
    // bá»™ Ä‘á»‡m cÃ²n: 8 9 10
    System.out.println(&quot;a = &quot;+a); // in a
    System.out.println(&quot;b = &quot;+b); // in b
    System.out.println(&quot;c = &quot;+c); // in c
}
</code></pre>
<h3 id="inpá»¥t-outpá»¥t-tá»«-file"><a class="header" href="#inpá»¥t-outpá»¥t-tá»«-file">Inpá»¥t/ outpá»¥t tá»« File</a></h3>
<p>Äá»ƒ cho thuáº­n tiá»‡n trong viá»‡c Ä‘á»c ghi, thÃ¬ ngoÃ i bÃ n phÃ­m, má»™t trong nhá»¯ng yÃªu cáº§u quan trá»ng khi láº­p trÃ¬nh Ä‘Ã³ lÃ  nháº­p xuáº¥t dá»¯ liá»‡u tá»« File, pháº§n nÃ y sáº½ khÃ´ng khÃ¡c nhiá»u vá»›i tá»« bÃ n phÃ­m Ä‘Ã¢u cÃ¡c báº¡n, mÃ¬nh sáº½ hÆ°á»›ng dáº«n.</p>
<p>Táº¡i thÆ° má»¥c gá»‘c cá»§a project, báº¡n clickÂ <code>New</code>Â &gt;Â <code>File</code>. Táº¡o 1 tá»‡p tÃªn lÃ Â <code>input.txt</code>. NhÆ° hÃ¬nh:</p>
<pre><code class="language-java">public static void main(String[] args) throws FileNotFoundException { // ThÃªm cÃ¡i nÃ y vÃ o Ä‘Ã¢y
    int a,b,c;
    Scanner sc = new Scanner(new File(&quot;input.txt&quot;)); // Táº¡o Ä‘á»‘i tÆ°á»£ng Scanner Ä‘á»c tá»›i cÃ¡i file vá»«a táº¡o
    System.out.print(&quot;Nháº­p a: &quot;);
    a = sc.nextInt();
    b = sc.nextInt();
    c = sc.nextInt();
    System.out.println(&quot;a = &quot;+a); // in a
    System.out.println(&quot;b = &quot;+b); // in b
    System.out.println(&quot;c = &quot;+c); // in c
}
// Káº¿t quáº£ cháº¡y:
// Nháº­p a: a = 5
// b = 7
// c = 8
</code></pre>
<p>Äoáº¡nÂ <code>throws FileNotFoundException</code>. á» Ä‘Ã¢y thÃ¬ báº¡n hiá»ƒu nÃ³ lÃ  lá»—i cÃ³ thá»ƒ xáº£y ra, náº¿u nÃ³ khÃ´ng tÃ¬m tháº¥y fileÂ <code>input.txt</code>Â thÃ¬ nÃ³ sáº½ xáº£y ra cÃ¡i lá»—i kia. ChÃºng ta sáº½ xá»­ lÃ½ lá»—i Ä‘Ã³ sau, hiá»‡n táº¡i thÃ¬ náº¿u báº¡n nháº­p Ä‘Ãºng tÃªn File thÃ¬ khÃ´ng thá»ƒ lá»—i Ä‘Æ°á»£c.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="vi-sao-nen-su-dung-stringbuffer"><a class="header" href="#vi-sao-nen-su-dung-stringbuffer">ViÌ€ sao neÌ‚n suÌ›Ì‰ duÌ£ng StringBuffer</a></h1>
<p>CÃ¹ng xem vÃ­ dá»¥ nÃ y nhÃ©:</p>
<pre><code class="language-java">long start = System.nanoTime();

String s = &quot;Hello&quot;;
for (int i = 0; i &lt; 1000; i++) {
    s += &quot; world&quot;;
}
long end = System.nanoTime();
System.out.println(&quot;Total time: &quot;+(end-start));

// Káº¿t quáº£:
// Total time: 17495917 ns
// = 17.4 ms (Milliseconds)
</code></pre>
<p>BÃ¢y giá», váº«n lÃ  chÆ°Æ¡ng trÃ¬nh tÆ°Æ¡ng tá»±, mÃ¬nh sá»­ sá»¥ngÂ <code>String Buffer</code></p>
<pre><code class="language-java">long start = System.nanoTime();

StringBuffer sb = new StringBuffer(&quot;Hello&quot;);
for (int i = 0; i &lt; 1000; i++) {
    sb.append(&quot; world&quot;);
}
String s = sb.toString();
long end = System.nanoTime();
System.out.println(&quot;Total time: &quot;+(end-start));

// Káº¿t quáº£:
// Total time: 461198 ns
// = 0.46 ms
</code></pre>
<p><code>String Buffer</code>Â nhanh hÆ¡n gáº¥pÂ 38 láº§n.</p>
<p>Hiá»‡u nÄƒng Ä‘Æ°á»£c cháº¡y trÃªn Mac Pro 2017, táº¡i mÃ¡y báº¡n cÃ³ thá»ƒ sáº½ khÃ¡c, nhÆ°ng cháº¯c cháº¯n ráº±ngÂ <code>StringBuffer</code>Â luÃ´n nhanh hÆ¡n!</p>
<h3 id="gÃ³c-giáº£i-thÃ­ch"><a class="header" href="#gÃ³c-giáº£i-thÃ­ch">GÃ³c giáº£i thÃ­ch</a></h3>
<p>CÃ³ má»™t Ä‘iá»u Ã­t báº¡n há»c láº­p trÃ¬nhÂ <code>Java</code>Â Ä‘á»ƒ Ã½, Ä‘Ã³ lÃ Â <code>String</code>Â lÃ Â <code>immutable</code>. Tá»©c ná»™i dung trongÂ <code>String</code>Â lÃ  khÃ´ng Ä‘Æ°á»£c quyá»n thay Ä‘á»•i.</p>
<p>Nhiá»u báº¡n láº§m tÆ°á»Ÿng ráº±ng viá»‡c ná»‘i xÃ¢u lÃ  báº¡n thay Ä‘á»•i ná»™i dung cá»§aÂ <code>String</code>, nhÆ°ng thá»±c cháº¥t báº¡n Ä‘ang táº¡o ra má»™t Ä‘á»‘i tÆ°á»£ng hoÃ n toÃ n má»›i:</p>
<pre><code class="language-java">String s = &quot;A&quot;;
s += &quot;B&quot;;
// Complier sáº½ táº¡o ra má»™t Ä‘á»‘i tÆ°á»£ng má»›i lÃ  &quot;AB&quot;
// VÃ  gÃ¡n vÃ o `s`
// Báº£n cháº¥t `s` bÃ¢y giá» lÃ  má»™t Ä‘á»‘i tÆ°á»£ng má»›i chá»© báº¡n khÃ´ng há» thay Ä‘á»•i ná»™i dung ban Ä‘áº§u cá»§a `s`.
// ÄÃ¢y lÃ  nhá»¯ng gÃ¬ á»Ÿ dÆ°á»›i Compiler sáº½ lÃ m:
StringBuffer sb = new StringBuffer(&quot;A&quot;); // Compiler Váº«n pháº£i xÃ i tá»›i StringBuffer
sb.append(&quot;B&quot;);
s = sb.toString();
</code></pre>
<p>VÃ¬ váº­y khi ná»‘i xÃ¢u trongÂ <code>Java</code>, viá»‡c báº¡n thá»±c hiá»‡n nÃ³ liÃªn tá»¥c, sáº½ tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i viá»‡c khá»Ÿi táº¡o liÃªn tá»¥c vÃ  ná»‘i 2 xÃ¢u láº¡i rá»“i tráº£ vá» Ä‘á»‘i tÆ°á»£ngÂ <code>String</code>Â má»›i dáº«n tá»›i chi phÃ­ lá»›n.</p>
<p><code>StringBuffer</code>Â cho phÃ©p chÃºng ta thao tÃ¡c trÃªn má»™t Ä‘á»‘i tÆ°á»£ng duy nháº¥t vÃ  thay Ä‘á»•i Ä‘Æ°á»£c ná»™i dung trong nÃ³. Náº¿u ban Ä‘áº§u ná»™i dung lÃ Â <code>&quot;A&quot;</code>, báº¡n muá»‘n ná»‘i thÃªmÂ <code>&quot;B&quot;</code>Â vÃ o. ThÃ¬ nÃ³ chá»‰ cáº§n gáº¯n chuá»—iÂ <code>bytes</code>Â cá»§aÂ <code>&quot;B&quot;</code>Â vÃ o liá»n ká» ngay sauÂ <code>&quot;A&quot;</code>Â lÃ  xong. (VÃ¬ nÃ³ cÃ³ thá»ƒ thay Ä‘á»•i, khÃ¡c vá»›iÂ <code>String</code>Â lÃ Â <code>immutable</code>).</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="huong-dan-java-reflection"><a class="header" href="#huong-dan-java-reflection">HuÌ›oÌ›Ìng daÌ‚Ìƒn Java Reflection</a></h1>
<h3 id="giá»›i-thiá»‡u"><a class="header" href="#giá»›i-thiá»‡u">Giá»›i thiá»‡u</a></h3>
<p><code>Java Relection</code>Â lÃ  má»™t core package trong thÆ° viá»‡n chuáº©n cá»§aÂ <code>Java</code>. Má»¥c Ä‘Ã­ch cá»§a nÃ³ lÃ  cho phÃ©p chÃºng ta truy cáº­p vÃ oÂ gáº§n nhÆ° má»i thá»©Â bÃªn trong Ä‘á»‘i tÆ°á»£ng. &quot;DÆ°á»›i má»™t gÃ³c Ä‘á»™ khÃ¡c&quot;!</p>
<p>ChÃºng ta thÆ°á»ng biáº¿t tá»›iÂ <code>Java</code>Â thÃ´ng qua khÃ¡i niá»‡m hÆ°á»›ng Ä‘á»‘i tÆ°á»£ng nhÆ° sau:</p>
<pre><code class="language-java">String str = &quot;Hello Loda&quot;;
str.toUpperCase(); // ChÃºng ta gá»i hÃ m toUpperCase() thÃ´ng qua toÃ¡n tá»­ &quot;.&quot;
// Má»i thá»© trong Ä‘á»‘i tÆ°á»£ng lÃ  khÃ©p kÃ­n, chÃºng ta pháº£i gá»i thÃ´ng qua hÃ m public
</code></pre>
<p>Hoáº·c</p>
<pre><code class="language-java">public class Girl {
    String name;
    int age;
    int atk;
    int agi;
    int def;
    // ... VÃ  1000 thuá»™c tÃ­nh khÃ¡c

    public static void main(String[] args) {
        Girl girl = new Girl();
        // ChÃºng ta thÆ°á»ng pháº£i nhá»› tÃªn thuá»™c tÃ­nh Ä‘á»ƒ gá»i nÃ³ ra
        girl.name = &quot;Ngoc Trinh&quot;;

        // GiÃ¡ sá»­ class nÃ y cÃ³ 100 thuá»™c tÃ­nh lÃ  String.
        // Báº¡n muá»‘n set giÃ¡ trá»‹ cá»§a táº¥t cáº£ trÆ°á»ng String lÃ  &quot;Ngoc Trinh&quot;
        // Báº¡n sáº½ ráº¥t bá»‘i rá»‘i vs viá»‡c gá»i tá»«ng thuá»™c tÃ­nh báº±ng viá»‡c &quot;.{tÃªn thuá»™c tÃ­nh}&quot; nhÆ° nÃ y.

        // CÃ³ cÃ¡ch nÃ o cho code duyá»‡t tÃ¬m toÃ n bá»™ thuá»™c tÃ­nh, cÃ¡i nÃ o lÃ  String thÃ¬ Ä‘á»•i nÃ³ thÃ nh &quot;Ngoc Trinh&quot;?
    }
}
</code></pre>
<p>ÄÃºng váº­y, khi chÃºng ta muá»‘n gá»i tÃªn thuá»™c tÃ­nh, mÃ  láº¡i khÃ´ng muá»‘n gÃµÂ <code>.</code>Â vÃ  nhá»› ra tÃªn thuá»™c tÃ­nh, thÃ¬ lÃ m nhÆ° nÃ o?</p>
<p>BÃ¢y giá», chÃºng ta pháº£i tiáº¿p cáº­n tá»« gÃ³c nhÃ¬n khÃ¡c. ChÃºng ta sáº½ Æ°á»›c mÃ¬nh cÃ³ thá»ƒÂ duyá»‡t háº¿t táº¥t cáº£Â cÃ¡c thuá»™c tÃ­nh cá»§a 1 class báº±ng vÃ²ng láº·p. Rá»“i check xem thuá»™c tÃ­nh cÃ³ lÃ Â <code>String</code>Â khÃ´ng? náº¿u cÃ³ thÃ¬ gÃ¡n giÃ¡ trá»‹ má»›i lÃ  &quot;Ngoc Trinh&quot;!</p>
<p>Äá»ƒ lÃ m Ä‘Æ°á»£c Ä‘iá»u nÃ y, chÃºng ta cáº§n Ä‘Ã o sÃ¢u vÃ oÂ <code>Class</code>Â vÃ  phÃ¡ vá»¡ giá»›i háº¡n cá»§a java truyá»n thá»‘ng. ÄÃ¢y lÃ  lÃºcÂ <code>Java Reflection</code>Â (Sá»± pháº£n chiáº¿u) vÃ o tráº­n.</p>
<h3 id="java-reflection"><a class="header" href="#java-reflection">Java Reflection</a></h3>
<p><code>Java Reflecion</code>Â cho phÃ©p báº¡n Ä‘Ã¡nh giÃ¡, sá»­a Ä‘á»•i cáº¥u trÃºc vÃ  hÃ nh vi cá»§a má»™t Ä‘á»‘i tÆ°á»£ng táº¡i thá»i gian cháº¡y (runtime) cá»§a chÆ°Æ¡ng trÃ¬nh. Äá»“ng thá»i nÃ³ cho phÃ©p báº¡n truy cáº­p vÃ o cÃ¡c thÃ nh viÃªn private (private member) táº¡i má»i nÆ¡i trong á»©ng dá»¥ng, Ä‘iá»u nÃ y khÃ´ng Ä‘Æ°á»£c phÃ©p vá»›i cÃ¡ch tiáº¿p cáº­n truyá»n thá»‘ng.</p>
<h3 id="láº¥y-ra-thuá»™c-tÃ­nh-field"><a class="header" href="#láº¥y-ra-thuá»™c-tÃ­nh-field">Láº¥y ra Thuá»™c tÃ­nh (Field)</a></h3>
<p>Quay trá»Ÿ láº¡i vÃ­ dá»¥ trÃªn, ChÃºng ta sáº½ láº¥y ra toÃ n bá»™ thuá»™c tÃ­nh cá»§aÂ <code>Girl</code>. TÃ¬m xem cÃ¡i nÃ o tÃªnÂ <code>name</code>Â vÃ  bá»• sung giÃ¡ trá»‹ má»›i cho nÃ³.</p>
<pre><code class="language-java">public class Girl {
    private String name;

    public Girl() {

    }

    public Girl(String name) {
        this.name = name;
    }

    public void setName(String name){
        this.name = name;
    }

    @Override
    public String toString() {
        return &quot;Girl{&quot; +
               &quot;name='&quot; + name + '\'' +
               '}';
    }

    public static void main(String[] args) throws Exception {
        Girl girl = new Girl(); // KHá»Ÿi táº¡o Ä‘á»‘i tÆ°á»£ng Girl
        girl.setName(&quot;Ngoc trinh&quot;);

        // Lay ra tat ca field cua object
        // Chá»‰ Ä‘á»ƒ báº¡n xem vÃ­ dá»¥ thÃ´i, bá» qua pháº§n nÃ y nhÃ©!
        for(Field field : girl.getClass().getDeclaredFields()){
            System.out.println();
            System.out.println(&quot;Field: &quot; +field.getName());
            System.out.println(&quot;Type: &quot; +field.getType());
        }

        // PHáº¦N CHÃNH
        Field nameField = girl.getClass().getDeclaredField(&quot;name&quot;); // Láº¥y ra field cÃ³ tÃªn &quot;name&quot; (náº¿u khÃ´ng tÃ¬m tháº¥y, nÃ³ sáº½ báº¯n NoSuchFieldException)
        nameField.setAccessible(true); // Cho phÃ©p truy cáº­p táº¡m thá»i. (VÃ¬ nÃ³ Ä‘ang lÃ  Private mÃ )

        // BÃ¢y giá» cÃ¡i &quot;nameField&quot; Ä‘áº¡i diá»‡n cho thuá»™c tÃ­nh &quot;name&quot; cá»§a má»i object cÃ³ class Girl.
        nameField.set(girl, &quot;Bella&quot;); // thay giÃ¡ trá»‹ má»›i cá»§a `girl` báº±ng nameField.

        System.out.println(girl);
    }
}
// Output:
// Field: name
// Type: class java.lang.String
// Girl{name='Bella'}
</code></pre>
<h3 id="láº¥y-ra-hÃ m-method"><a class="header" href="#láº¥y-ra-hÃ m-method">Láº¥y ra HÃ m (Method)</a></h3>
<p>Váº¥n Ä‘á» Ä‘áº·t ra, giá»‘ng vá»›iÂ <code>field</code>. ChÃºng ta cÅ©ng sáº½ cÃ³ nhu cáº§u duyá»‡t tÃ¬m má»™tÂ <code>method</code>Â nÃ o Ä‘Ã³ vÃ  sá»­ dá»¥ng nÃ³:</p>
<pre><code class="language-java">public static void main(String[] args) throws Exception {
    Class&lt;Girl&gt; girlClass = Girl.class;

    // Su dung getDeclaredMethods de lay ra nhung method cua class va cha no.
    Method[] methods = girlClass.getDeclaredMethods();
    for(Method method : methods){
        System.out.println();
        System.out.println(&quot;Method: &quot; + method.getName());
        System.out.println(&quot;Parameters: &quot; + Arrays.toString(method.getParameters()));
    }

    // Lay ra method ten la setName va co 1 tham so truyen vao -&gt;
    // =&gt; chÃ­nh lÃ : setName(String name)
    Method methodSetName = girlClass.getMethod(&quot;setName&quot;, String.class);
    // BÃ¢y giá» methodSetName sáº½ Ä‘áº¡i diá»‡n cho method setName(String name) cá»§a má»i object cÃ³ class lÃ  Girl

    Girl girl = new Girl(); // Táº¡o ra Ä‘á»‘i tÆ°á»£ng Girl

    // Thá»±c hiá»‡n hÃ m setName() trÃªn Ä‘á»‘i tÆ°á»£ng girl, giÃ¡ trá»‹ truyá»n vÃ o lÃ  &quot;Ngoc Trinh&quot;
    methodSetName.invoke(girl, &quot;Ngoc Trinh&quot;);
    System.out.println(girl);
}
</code></pre>
<h3 id="láº¥y-ra-constructor"><a class="header" href="#láº¥y-ra-constructor">Láº¥y ra Constructor</a></h3>
<p>Láº¥y ra hÃ m khá»Ÿi táº¡o cá»§a má»™t class. Tá»« Ä‘Ã³ cho phÃ©p chÃºng ta cÃ¡ch táº¡o ra Ä‘á»‘i tÆ°á»£ng tá»« theo má»™t cÃ¡ch khÃ¡c, thay vÃ¬Â <code>new Class()</code>Â nhÆ° bÃ¬nh thÆ°á»ng</p>
<pre><code class="language-java">public static void main(String[] args) {
    Class&lt;Girl&gt; girlClass = Girl.class;
    System.out.println(&quot;Class: &quot; + girlClass.getSimpleName());
    System.out.println(&quot;Constructors: &quot; + Arrays.toString(girlClass.getConstructors())); // Láº¥y ra toÃ n bá»™ Constructor cá»§a class nÃ y
    try {
        // Táº¡o ra má»™t object Girl tá»« class. (Khá»Ÿi táº¡o khÃ´ng tham sá»‘)
        Girl girl1 = girlClass.newInstance();
        System.out.println(&quot;Girl1: &quot; + girl1);

        // Láº¥y ra hÃ m constructor vá»›i tham sá»‘ lÃ  1 string
        // ChÃ­nh lÃ  -&gt; public Girl(String name) {}
        Constructor&lt;Girl&gt; girlConstructor = girlClass.getConstructor(String.class);
        Girl girl2 = girlConstructor.newInstance(&quot;Hello&quot;);

        System.out.println(&quot;Girl2: &quot; + girl2);
    } catch (Exception e) {
        // Exception xay ra khi constructor khong ton tai hoac tham so truyen vao khong dung
        e.printStackTrace();
    }
}
</code></pre>
<h3 id="láº¥y-ra-annotation-trÃªn-field-method-class"><a class="header" href="#láº¥y-ra-annotation-trÃªn-field-method-class">Láº¥y ra Annotation trÃªn Field, Method, Class</a></h3>
<p>ÄÃºng váº­y, Ä‘Ã¢y cÅ©ng chÃ­nh lÃ  má»™t trong nhá»¯ng pháº§n quan trá»ng báº­c nháº¥t cá»§aÂ <code>Java Reflection</code>. Cho phÃ©p chÃºng ta kiá»ƒm traÂ <code>Class</code>Â hiá»‡n táº¡i Ä‘ang Ä‘Æ°á»£c chÃº thÃ­ch bá»Ÿi nhá»¯ngÂ <code>Annotation</code>Â nÃ o.</p>
<pre><code class="language-java">@SuppressWarnings(&quot;deprecation&quot;)
@Deprecated
public class Girl {
    private String name;

    public Girl() {

    }

    public Girl(String name) {
        this.name = name;
    }

    @Nullable
    public void setName(String name){
        this.name = name;
    }

    @Override
    public String toString() {
        return &quot;Girl{&quot; +
               &quot;name='&quot; + name + '\'' +
               '}';
    }

    public static void main(String[] args) {
        Class&lt;Girl&gt; girlClass = Girl.class;
        System.out.println(&quot;Class: &quot;+girlClass.getSimpleName()); // Láº¥y ra tÃªn Class
        for(Annotation annotation : girlClass.getDeclaredAnnotations()){
            System.out.println(&quot;Annotation: &quot; + annotation.annotationType()); // Láº¥y ra tÃªn cÃ¡c Annatation trÃªn class nÃ y
        }

        for(Method method: girlClass.getDeclaredMethods()){ // Láº¥y ra cÃ¡c method cá»§a class
            System.out.println(&quot;\nMethod: &quot; + method.getName()); //TÃªn method
            for(Annotation annotation : method.getAnnotations()){
                System.out.println(&quot;Annotation: &quot; + annotation.annotationType()); // Láº¥y ra tÃªn cÃ¡c Annatation trÃªn method nÃ y
            }
        }
    }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="huong-dan-tu-tao-mot-annotations"><a class="header" href="#huong-dan-tu-tao-mot-annotations">HuÌ›oÌ›Ìng daÌ‚Ìƒn tuÌ›Ì£ taÌ£o moÌ£Ì‚t Annotations</a></h1>
<h3 id="khÃ¡i-niá»‡m"><a class="header" href="#khÃ¡i-niá»‡m">KhÃ¡i niá»‡m</a></h3>
<p><code>Annotation</code>Â (ChÃº thÃ­ch) Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒÂ chÃº thÃ­chÂ trÃªn má»™tÂ <code>class</code>, má»™t trÆ°á»ng (<code>field</code>) hoáº·c má»™tÂ <code>method</code>Â Ä‘á»ƒ cung cáº¥p hoáº·c bá»• sung cÃ¡c thÃ´ng tin. NÃ³ hoÃ n toÃ n khÃ´ng áº£nh hÆ°á»Ÿng tá»›i code cá»§a báº¡n.</p>
<p>Trong bÃ i cÃ³ sá»­ dá»¥ng cÃ¡c kiáº¿n thá»©c:</p>
<ol>
<li>Optional</li>
<li>Functional Interface &amp; Lambda</li>
<li>Java Reflection</li>
</ol>
<p><code>Annotation</code>Â Ä‘Æ°á»£c sá»­ dá»¥ng á»Ÿ 3 dáº¡ng:</p>
<ul>
<li>ChÃº thÃ­ch cho trÃ¬nh biÃªn dá»‹ch (Compiler)</li>
<li>ChÃº thÃ­ch cho quÃ¡ trÃ¬nh build</li>
<li>ChÃº thÃ­ch trong quÃ¡ trÃ¬nh cháº¡y chÆ°Æ¡ng trÃ¬nh (Runtime)</li>
</ul>
<p>Háº³n báº¡n Ä‘Ã£ 1 láº§n tá»«ng tháº¥y cÃ¡iÂ <code>@Override</code>Â pháº£i khÃ´ng? nÃ³ lÃ  má»™tÂ <em>Annotation chÃº thÃ­ch cho trÃ¬nh biÃªn dá»‹ch</em>, Ä‘á»ƒ cho trÃ¬nh biÃªn dá»‹ch biáº¿t hÃ m Ä‘Ã³ Ä‘Ã£ bá»‹ ghi Ä‘Ã¨.</p>
<p>CÃ²nÂ <em>chÃº thÃ­ch cho quÃ¡ trÃ¬nh build</em>Â thÃ¬ khÃ´ng háº³n cÃ³ vÃ­ dá»¥ cá»¥ thá»ƒ, nhÆ°ng báº¡n hÃ£y nghÄ© tá»›iÂ <code>Maven</code>,Â <code>Gradle</code>Â nhá»¯ng cÃ´ng cá»¥ build nÃ y sáº½ cÃ³ thÃªm thÃ´ng tin khi build á»©ng dá»¥ng cá»§a báº¡n khi gáº·p má»™t sá»‘Â <code>Annotation</code>Â Ä‘áº·c biá»‡t, vÃ  sáº½ bá»• sung thÃªm code vÃ o Ä‘Ã³.</p>
<p><em>ChÃº thÃ­ch trong quÃ¡ trÃ¬nh cháº¡y chÆ°Æ¡ng trÃ¬nh</em>Â sáº½ lÃ  ná»™i dung chÃ­nh cá»§a chÃºng ta hÃ´m nay. ÄÃ¢y lÃ  nhá»¯ngÂ <code>Annotation</code>Â mÃ  chá»‰ khi báº¡n cháº¡y chÆ°Æ¡ng trÃ¬nh rá»“i thÃ¬ nÃ³ má»›i tÃ¡c Ä‘á»™ng tá»›i code. CÃ¹ng vÃ o vÃ­ dá»¥ Ä‘á»ƒ dá»… hiá»ƒu nhÃ©!</p>
<h3 id="khai-bÃ¡o-annotation"><a class="header" href="#khai-bÃ¡o-annotation">Khai bÃ¡o Annotation</a></h3>
<p>CÃ¡ch khai bÃ¡oÂ <code>Annotation</code>Â lÃ  sá»­ dá»¥ngÂ <code>@interface</code></p>
<p>váº­y lÃ  báº¡n Ä‘Ã£ cÃ³ 1Â <code>Annotation</code>. Giá» gá»i nÃ³ ra vÃ  sá»­ dá»¥ng:</p>
<h3 id="khai-bÃ¡o-pháº¡m-vi-cho-annotation"><a class="header" href="#khai-bÃ¡o-pháº¡m-vi-cho-annotation">Khai bÃ¡o pháº¡m vi cho Annotation</a></h3>
<p>ChÃºng ta cÃ³ thá»ƒ quy Ä‘á»‹nh pháº¡m vi sá»­ dá»¥ng cá»§aÂ <code>Annotation</code>Â báº±ng cÃ¡ch:</p>
<p><code>@Retention</code>: DÃ¹ng Ä‘á»ƒ chÃº thÃ­chÂ má»©c Ä‘á»™ tá»“n táº¡iÂ cá»§a má»™t annotation nÃ o Ä‘Ã³. Cá»¥ thá»ƒ cÃ³ 3 má»©c nháº­n thá»©c tá»“n táº¡i cá»§a váº­t Ä‘Æ°á»£c chÃº thÃ­ch:</p>
<ol>
<li><code>RetentionPolicy.SOURCE</code>: Tá»“n táº¡i trÃªn code nguá»“n, vÃ  khÃ´ng Ä‘Æ°á»£c bá»™ dá»‹ch (compiler) nháº­n ra.</li>
<li><code>RetentionPolicy.CLASS</code>: Má»©c tá»“n táº¡i Ä‘Æ°á»£c bá»™ dá»‹ch nháº­n ra, nhÆ°ng khÃ´ng Ä‘Æ°á»£c nháº­n biáº¿t bá»Ÿi mÃ¡y áº£o táº¡i thá»i Ä‘iá»ƒm cháº¡y (Runtime).</li>
<li><code>RetentionPolicy.RUNTIME</code>: Má»©c tá»“n táº¡i lá»›n nháº¥t, Ä‘Æ°á»£c bá»™ dá»‹ch (compiler) nháº­n biáº¿t, vÃ  mÃ¡y áº£o (jvm) cÅ©ng nháº­n ra khi cháº¡y chÆ°Æ¡ng trÃ¬nh.</li>
</ol>
<p><code>@Target</code>: DÃ¹ng Ä‘á»ƒ chÃº thÃ­chÂ pháº¡m vi sá»­ dá»¥ngÂ cá»§a má»™tÂ <code>Annotation</code></p>
<ol>
<li><code>ElementType.TYPE</code>Â - Cho phÃ©p chÃº thÃ­ch trÃªn Class, interface, enum, annotation.</li>
<li><code>ElementType.FIELD</code>Â - Cho phÃ©p chÃº thÃ­ch trÆ°á»ng (field), bao gá»“m cáº£ cÃ¡c háº±ng sá»‘ enum.</li>
<li><code>ElementType.METHOD</code>Â - Cho phÃ©p chÃº thÃ­ch trÃªn method.</li>
<li><code>ElementType.PARAMETER</code>Â - Cho phÃ©p chÃº thÃ­ch trÃªn parameter</li>
<li><code>ElementType.CONSTRUCTOR</code>Â - Cho phÃ©p chÃº thÃ­ch trÃªn constructor</li>
<li><code>ElementType.LOCAL_VARIABLE</code>Â - Cho phÃ©p chÃº thÃ­ch trÃªn biáº¿n Ä‘á»‹a phÆ°Æ¡ng.</li>
<li><code>ElementType.ANNOTATION_TYPE</code>Â - Cho phÃ©p chÃº thÃ­ch trÃªn Annotation khÃ¡c</li>
<li><code>ElementType.PACKAGE</code>Â - Cho phÃ©p chÃº thÃ­ch trÃªn package.</li>
</ol>
<h3 id="xá»­-lÃ½-annotation"><a class="header" href="#xá»­-lÃ½-annotation">Xá»­ lÃ½ Annotation</a></h3>
<p>BÆ°á»›c 1: ChÃº thÃ­ch báº¥t kÃ¬ chá»— nÃ o báº¡n muá»‘n.</p>
<p>BÆ°á»›c 2: Viáº¿t class xá»­ lÃ½Â <code>@JsonName</code></p>
<p>BÆ°á»›c 3: Cháº¡y thá»­:</p>
<pre><code class="language-java">public @interface JsonName {
    String value(); // cÃ¡c giÃ¡ trá»‹ trong @interface Ä‘á»u dáº¡ng hÃ m abstract, khÃ´ng tham sá»‘
}
</code></pre>
<pre><code class="language-java">@JsonName(value = &quot;super_man&quot;)
public class SuperMan extends Person {
    private String name;
}
</code></pre>
<pre><code class="language-java">@Retention(RetentionPolicy.RUNTIME) // Tá»“n táº¡i trong lÃºc cháº¡y chÆ°Æ¡ng trÃ¬nh
@Target({ ElementType.TYPE, ElementType.FIELD, ElementType.METHOD}) // ÄÆ°á»£c sá»­ dá»¥ng trÃªn class, interface, method, biáº¿n
public @interface JsonName {
    String value();
}
</code></pre>
<pre><code class="language-java">@JsonName(value = &quot;super_man&quot;)
public class SuperMan {
    // KhÃ´ng chÃº thÃ­ch, thÃ¬ chÃºng ta sáº½ coi nhÆ° láº¥y tÃªn field lÃ  `name` luÃ´n
    private String name;

    @JsonName(&quot;date_of_birth&quot;)
    private LocalDateTime dateOfBirth;

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public LocalDateTime getDateOfBirth() {
        return dateOfBirth;
    }

    public void setDateOfBirth(LocalDateTime dateOfBirth) {
        this.dateOfBirth = dateOfBirth;
    }
}
</code></pre>
<pre><code class="language-java">public class JsonNameProcessor {
    public static String toJson(Object object) throws IllegalAccessException {
        StringBuilder sb = new StringBuilder(); // DÃ¹ng StringBuilder de tao json tu class

        Class&lt;?&gt; clazz = object.getClass();
        JsonName jsonClassName = clazz.getDeclaredAnnotation(JsonName.class); // Lay ra annotation @JsonName tren Class

        sb.append(&quot;{\n&quot;)
          .append(&quot;\t\&quot;&quot;)
          // Lay gia tri cua Annotation, neu annotation la null thi lay ten Class de thay the
          .append(Optional.ofNullable(jsonClassName).map(JsonName::value).orElse(clazz.getSimpleName()))
          .append(&quot;\&quot;: {\n&quot;); //

        Field fields[] = clazz.getDeclaredFields();
        for (int i = 0; i &lt; fields.length; i++) {
            fields[i].setAccessible(true); // Set setAccessible = true. De co the truy cap vao private field
            JsonName jsonFieldName = fields[i].getDeclaredAnnotation(JsonName.class); // get annotation tren field
            sb.append(&quot;\t\t\&quot;&quot;)
              // Lay gia tri cua Annotation, neu annotation la null thi lay ten field thay the
              .append(Optional.ofNullable(jsonFieldName).map(JsonName::value).orElse(fields[i].getName())) // L
              .append(&quot;\&quot;: &quot;)
              // Neu field la String hoac Object. thi append dau ngoac kep vao
              .append(fields[i].getType() == String.class || !fields[i].getType().isPrimitive() ? &quot;\&quot;&quot; : &quot;&quot;)
              // Lay gia tri cua field
              .append(fields[i].get(object))
              // Neu field la String hoac Object. thi append dau ngoac kep vao
              .append(fields[i].getType() == String.class || !fields[i].getType().isPrimitive()? &quot;\&quot;&quot; : &quot;&quot;)
              // Náº¿u lÃ  field cuá»‘i cÃ¹ng, thÃ¬ khÃ´ng append dáº¥u &quot;,&quot;
              .append(i != fields.length -1 ? &quot;,\n&quot; : &quot;\n&quot;);
        }
        sb.append(&quot;\t}\n&quot;);
        sb.append(&quot;}&quot;);

        return sb.toString();
    }
}
</code></pre>
<pre><code class="language-java">public static void main(String[] args) throws IllegalAccessException {
    SuperMan superMan = new SuperMan(); // Tao doi tuong super man
    superMan.setDateOfBirth(LocalDateTime.now());
    superMan.setName(&quot;loda&quot;);

    String json =JsonNameProcessor.toJson(superMan);
    System.out.println(json);
}
// OUTPUT:
/*
{
	&quot;super_man&quot;: {
		&quot;name&quot;: &quot;loda&quot;,
		&quot;date_of_birth&quot;: &quot;2019-04-03T21:07:23.983&quot;
	}
}
*/
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="java-8functional-interfaces--lambda-expressions-cuc-de-hieu"><a class="header" href="#java-8functional-interfaces--lambda-expressions-cuc-de-hieu">ã€ŒJava 8ã€Functional Interfaces &amp; Lambda Expressions cuÌ›Ì£c deÌ‚Ìƒ hieÌ‚Ì‰u</a></h1>
<h3 id="giá»›i-thiá»‡u-1"><a class="header" href="#giá»›i-thiá»‡u-1">Giá»›i thiá»‡u</a></h3>
<p>KhÃ¡i niá»‡mÂ <code>Functional Interfaces</code>Â Ä‘Æ°á»£cÂ <code>Java</code>Â Ä‘Æ°a ra cÃ¹ng vá»›i phiÃªn báº£nÂ <code>Java 8</code>. vá» cÆ¡ báº£n, cÃ³ thá»ƒ hiá»ƒu:</p>
<blockquote>
<p>Functional InterfacesÂ lÃ  interface nhÆ°ng chá»‰ cÃ³ má»™t 1 abstract function duy nháº¥t.</p>
</blockquote>
<p>VÃ­ dá»¥:</p>
<pre><code class="language-java">interface Runable {
    public void run(); // Chá»‰ cÃ³ duy nháº¥t má»™t abstract function.
}
</code></pre>
<h3 id="functional-programming"><a class="header" href="#functional-programming">Functional Programming</a></h3>
<p>TrÆ°á»›c khi Ä‘i vÃ o chi tiáº¿t, chÃºng ta cÃ¹ng tÃ¬m hiá»ƒu khÃ¡i niá»‡mÂ <code>Láº­p trÃ¬nh hÆ°á»›ng hÃ m</code>.</p>
<p>CÃ¹ng xem vÃ­ dá»¥ dÆ°á»›i Ä‘Ã¢y:</p>
<pre><code class="language-java">public static void main(String[] args) {
    // MÃ¬nh muá»‘n xá»­ lÃ½ dá»¯ liá»‡u trÆ°á»›c khi á»‰n ra mÃ n hÃ¬nh.
    System.out.println(process(&quot;Hey Loda!!!&quot;));
}

public static String process(String input){
    // Cho táº¥t cáº£ viáº¿t hoa lÃªn.
    return input.toUpperCase();
}

// Output:
HEY LODA!!!
</code></pre>
<p>Tuy nhiÃªn báº¡n sáº½ tháº¥y cÃ¡ch lÃ m nÃ y khÃ´ngÂ <code>flexible</code>, vÃ¬ cÃ¡c báº¡n chá»‰ cÃ³ thá»ƒ xá»­ lÃ½ cho chá»¯ thÃ nhÂ <code>UPPER CASE</code>. Muá»‘n lÃ m gÃ¬ Ä‘Ã³ khÃ¡c, nhÆ°Â <code>toLowerCase</code>Â cháº³ng háº¡n, mÃ¬nh sáº½ pháº£i viáº¿t má»™tÂ <code>function</code>Â má»›i.</p>
<p>ChÃºng ta giáº£i quyáº¿t cÃ¡ch cÃ¡ch nÃ y báº±ngÂ <code>Anonymous function (HÃ m áº©n danh)</code></p>
<p>Sá»­a code chÃºt:</p>
<pre><code class="language-java">public interface StringProcessor{
    public String process(String input);
}

// StringProcessor á»Ÿ Ä‘Ã¢y lÃ  má»™t Interface, hay Functional Interface
public static String getStr(String input, StringProcessor processor){
    return processor.process(input);
}

public static void main(String[] args) {
    // In ra chá»¯ hoa
    System.out.println(getStr(&quot;Hello Loda!&quot;, new StringProcessor() {
        @Override
        public String process(String input) {
            return input.toUpperCase();
        }
    }));

    // In ra chá»¯ thÆ°á»ng
    System.out.println(getStr(&quot;Hey Loda!&quot;, new StringProcessor() {
        @Override
        public String process(String input) {
            return input.toLowerCase();
        }
    }));
}
// Output:
// HELLO LODA!
// hey loda!
</code></pre>
<h3 id="lambda-expressions"><a class="header" href="#lambda-expressions">Lambda Expressions</a></h3>
<p>Quay láº¡i vÃ­ dá»¥ á»Ÿ trÃªn, chÃºng ta tháº¥y lÃ Â <code>StringProcessor</code>Â chá»‰ cÃ³ duy nháº¥t má»™tÂ <code>function process(x)</code>. NÃªn má»i Ä‘oáº¡n code Ä‘á»u sáº½ giá»‘ng há»‡t nhau á»Ÿ viá»‡cÂ <code>implement function</code>Â nÃ y.</p>
<pre><code class="language-java">new StringProcessor() {
    @Override
    public String process(String input) {
        // Do something here
        // Chá»‰ khÃ¡c nhau Ä‘oáº¡n code á»Ÿ giá»¯a
        return x;
    }
}
</code></pre>
<p>Thá»±c ra cÃ¡i chÃºng ta quan tÃ¢m lÃ : <code>Input -&gt; Process -&gt; Output</code>. HÃ£y thá»­ nhÃ¬n á»Ÿ vÃ­ dá»¥ dÆ°á»›i cho Lambda Expressions:</p>
<pre><code class="language-java">// (input) -&gt; input.toUpperCase()
// Ä‘áº§u vÃ o -&gt; Ä‘áº§u ra
System.out.println(getStr(&quot;Hello Loda!&quot;, input -&gt; input.toUpperCase()));

// Cáº¥u trÃºc cá»§a má»™t lambda nhÆ° sau:
// parameter -&gt; expression body
</code></pre>
<p>Trong Ä‘Ã³:</p>
<ul>
<li><code>parameter</code>Â lÃ  nhá»¯ng tham sá»‘ Ä‘áº§u vÃ o cá»§a hÃ m (má»™t hoáº·c nhiá»u)</li>
<li><code>expression body</code>Â lÃ  pháº§n xá»­ lÃ½Â <code>parameter</code>, báº¡n cáº§n tráº£ ra Ä‘Ãºng kiá»ƒu dá»¯ liá»‡u Ä‘Ã£ khai bÃ¡o trongÂ <code>Functional Interface</code></li>
</ul>
<p>Náº¿uÂ <code>code</code>Â báº¡n chá»‰ cáº§n 1 thao tÃ¡c, thÃ¬ khÃ´ng cáº§nÂ <code>return</code>Â giá»‘ng vÃ­ dá»¥ á»Ÿ trÃªn. CÃ²n náº¿uÂ <code>code</code>Â yÃªu cáº§u xá»­ lÃ½ nhiá»u, thÃ¬ dáº¡ng Ä‘áº§y Ä‘á»§ cá»§a nÃ³ nhÆ° sau:</p>
<pre><code>parameter -&gt; {
    expression body
    [return] // (khÃ´ng tráº£ vá» náº¿u lÃ  void)
}
</code></pre>
<p>vÃ­ dá»¥:</p>
<pre><code class="language-java">System.out.println(getStr(&quot;Hello Loda!&quot;, input -&gt; {
    String temp =  input + &quot; Oke!!!&quot;;
    return temp.toLowerCase();
}));
</code></pre>
<h3 id="functional-interface"><a class="header" href="#functional-interface">Functional Interface</a></h3>
<p>Tá»›i Ä‘Ã¢y, báº¡n Ä‘Ã£ hiá»ƒu Ã½ nghÄ©a cá»§a viá»‡c cho ra Ä‘á»i khÃ¡i niá»‡mÂ <code>Functional Interface</code>, nÃ³ lÃ  má»™t quy Ä‘á»‹nh chung pháº£i cÃ³ Ä‘á»ƒ cÃ³ thá»ƒ viáº¿t code dÆ°á»›i dáº¡ng biá»ƒu thá»©cÂ <code>Lambda</code>. Má»™t sá»‘ Ä‘iá»u cáº§n lÆ°u Ã½ vá»›iÂ <code>Functional Interface</code>Â nhÆ° sau:</p>
<h4 id="functionalinterface"><a class="header" href="#functionalinterface">@FunctionalInterface</a></h4>
<p><code>Annotation</code>Â nÃ y chá»‰ Ä‘á»ƒ bá»• sung, nÃ³ Ä‘Ã¡nh dáº¥u má»™tÂ <code>interface</code>Â lÃ Â <code>Functional Interface</code>. LÃºc nÃ y báº¡n khai bÃ¡o 2Â <code>abtract function</code>Â bÃªn trongÂ <code>interface</code>Â thÃ¬ sáº½ bÃ¡o lá»—i.</p>
<pre><code class="language-java">@FunctionalInterface // Gáº¯n cÃ¡i nÃ y lÃªn interface, nÃ³ Ä‘Ã¡nh dáº¥u interface chá»‰ Ä‘Æ°á»£c phÃ©p cÃ³ 1 funtion thÃ´i
public interface StringProcessor{
    public String process(String input);
    public String preProcess(String input); // lá»—i
}
</code></pre>
<h4 id="default-function--static-funtion"><a class="header" href="#default-function--static-funtion">default function &amp; static funtion</a></h4>
<p><code>Java 8</code>Â cáº£i tiáº¿n cho phÃ©pÂ <code>interface</code>Â Ä‘Æ°á»£c khai bÃ¡oÂ <code>code</code>Â bÃªn trong nÃ³, vá»›i Ä‘iá»u kiá»‡nÂ <code>code</code>Â pháº£i náº±m trongÂ <code>default</code>Â hoáº·cÂ <code>static</code>. <code>default</code>Â vÃ Â <code>static</code>Â khÃ´ng phÃ¡ vá»¡ quy luáº­t cá»§aÂ <code>@FunctionInterfaces</code></p>
<pre><code class="language-java">@FunctionalInterface // Gáº¯n cÃ¡i nÃ y lÃªn interface, nÃ³ Ä‘Ã¡nh dáº¥u interface chá»‰ Ä‘Æ°á»£c phÃ©p cÃ³ 1 funtion thÃ´i
public interface StringProcessor{
    public String process(String input);

    // Má»i class implement StringProcessor Ä‘á»u cÃ³ thá»ƒ gá»i hÃ m nÃ y Ä‘á»ƒ sá»­ dá»¥ng luÃ´n
    public default void printf(Object t){
        System.out.println(t);
    }

    // LÃ  hÃ m static, gá»i tá»« class cÅ©ng Ä‘Æ°á»£c.         
    // StringProcessor.concat(a,b)
    public static String concat(String a, String b){
        return a + b;
    }
}
</code></pre>
<h3 id="method-reference"><a class="header" href="#method-reference">Method reference</a></h3>
<p>Pháº§n nÃ y chá»‰ Ä‘á»ƒ bá»• sung, khÃ´ng cÃ³ nÃ³, báº¡n váº«n cÃ³ thá»ƒ sá»­ dá»¥ngÂ <code>Lambda Expressions</code>Â bÃ¬nh thÆ°á»ng. NhÆ°ng vá»›iÂ <code>Method reference</code>, code cá»§a báº¡n sáº½ cÃ²n sáº¡ch sáº½ hÆ¡n ná»¯a.</p>
<p>VÃ­ dá»¥:</p>
<pre><code class="language-java">System.out.println(getStr(&quot;Hello Loda!&quot;, input -&gt; input.toUpperCase()));
// TÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i viá»‡c viáº¿t nhÆ° nÃ y:
System.out.println(getStr(&quot;Hello Loda!&quot;, String::toUpperCase));
</code></pre>
<p>hoáº·c</p>
<pre><code class="language-java">System.out.println(getStr(&quot;Hello Loda!&quot;, input -&gt; new String(input));
// TÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i viá»‡c viáº¿t nhÆ° nÃ y:
System.out.println(getStr(&quot;Hello Loda!&quot;, String::new));
</code></pre>
<p><code>Method reference</code>Â lÃ  cÃ¡ch viáº¿t ngáº¯n gá»n, sáº½ bá» qua luÃ´n cáº£ pháº§nÂ <code>parameter</code>Â vÃ¬ báº£n thÃ¢n tÃªn hÃ m Ä‘Ã£ biáº¿t nÃ³ sáº½ nháº­n vÃ o gÃ¬ vÃ  tráº£ ra cÃ¡i gÃ¬ rá»“i. Viá»‡c cÃ²n láº¡i Ä‘á»ƒÂ <code>Compiler</code>Â lo thÃ´i kakaka. CÃ³ cÃ¡c cÃ¡ch Ä‘á»ƒ gá»iÂ <code>Method reference</code>Â nhÆ° sau:</p>
<ul>
<li><code>[TÃªn Class]::[TÃªn method]</code>: Giá»‘ng vá»›i vÃ­ dá»¥ á»Ÿ trÃªnÂ <code>String::toUpperCase</code>.</li>
<li><code>[TÃªn Class]::new</code>: Táº¡o ra má»™t Ä‘á»‘i tÆ°á»£ng má»›i, tá»« tham sá»‘ Ä‘Æ°á»£c truyá»n vÃ o</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="huong-dan-stream-api"><a class="header" href="#huong-dan-stream-api">HuÌ›oÌ›Ìng daÌ‚Ìƒn Stream API</a></h1>
<h3 id="khÃ¡i-quÃ¡t"><a class="header" href="#khÃ¡i-quÃ¡t">KhÃ¡i quÃ¡t</a></h3>
<p><code>Stream</code>Â lÃ  má»™t abtract layer cho phÃ©p báº¡n xá»­ lÃ½ má»™t dÃ²ng dá»¯ liá»‡u dá»±a trÃªn cÃ¡c thao tÃ¡c Ä‘Ã£ Ä‘á»‹nh nghÄ©a trÆ°á»›c. Báº¡n cÃ³ thá»ƒ táº¡oÂ <code>Stream</code>Â tá»« cÃ¡c nguá»“n dá»¯ liá»‡u nhÆ°Â <code>Collections</code>,Â <code>Arrays</code>Â hoáº·cÂ <code>I/O resources</code>. Máº·c Ä‘á»‹nh cÃ¡c lá»›p káº¿ thá»«a cá»§aÂ <code>Collection</code>Â Ä‘á»u cÃ³ hÃ mÂ <code>.stream()</code>:</p>
<pre><code class="language-java">Collection&lt;String&gt; collection = Arrays.asList(&quot;hello&quot;, &quot;loda&quot;, &quot;kaka&quot;);
Stream&lt;String&gt; streamOfCollection = collection.stream(); // Táº¡o ra má»™t stream tá»« collection
List&lt;String&gt; list = new ArrayList&lt;&gt;();
Stream&lt;String&gt; stream = list.stream(); // táº¡o ra 1 luá»“ng
Stream&lt;String&gt; parallelStream = list.parallelStream(); // luá»“ng dá»¯ liá»‡u song song (xá»­ lÃ½ trÃªn nhiá»u thread cÃ¹ng lÃºc)
</code></pre>
<h3 id="cÃ¡ch-sá»­-dá»¥ng"><a class="header" href="#cÃ¡ch-sá»­-dá»¥ng">CÃ¡ch sá»­ dá»¥ng</a></h3>
<p>Chá»©c nÄƒng cá»§aÂ <code>Stream</code>Â lÃ  cá»±c kÃ¬ Ä‘a dáº¡ng giÃºp báº¡n thao tÃ¡c dá»¯ liá»‡u dá»… dÃ ng hÆ¡n.</p>
<h4 id="foreach-duyá»‡t-qua-toÃ n-bá»™-dá»¯-liá»‡u-cá»§a-báº¡n"><a class="header" href="#foreach-duyá»‡t-qua-toÃ n-bá»™-dá»¯-liá»‡u-cá»§a-báº¡n"><code>forEach()</code>: Duyá»‡t qua toÃ n bá»™ dá»¯ liá»‡u cá»§a báº¡n</a></h4>
<pre><code class="language-java">list.stream().forEach(s -&gt; System.out.println(s));
</code></pre>
<h4 id="map-táº¡o-ra-cÃ¡c-giÃ¡-trá»‹-má»›i-tá»«-dá»¯-liá»‡u-hiá»‡n-cÃ³"><a class="header" href="#map-táº¡o-ra-cÃ¡c-giÃ¡-trá»‹-má»›i-tá»«-dá»¯-liá»‡u-hiá»‡n-cÃ³"><code>map()</code>: Táº¡o ra cÃ¡c giÃ¡ trá»‹ má»›i tá»« dá»¯ liá»‡u hiá»‡n cÃ³</a></h4>
<pre><code class="language-java">Arrays.asList(3, 5, 7)
    .stream() // táº¡o ra Stream tá»« List&lt;Integer&gt;
    .map(i -&gt; &quot;loda-&quot;+i) // biáº¿n Ä‘á»•i tá»«ng pháº§n tá»­ thÃ nh String
    .map(String::toUpperCase) // biáº¿n Ä‘á»•i tá»«ng pháº§n tá»­ thÃ nh Upper case
    .forEach(System.out::println); // in ra xem thá»­
</code></pre>
<h4 id="filter-gÃ­up-chÃºng-ta-thao-tÃ¡c-vá»›i-nhá»¯ng-dá»¯-liá»‡u-mong-muá»‘n"><a class="header" href="#filter-gÃ­up-chÃºng-ta-thao-tÃ¡c-vá»›i-nhá»¯ng-dá»¯-liá»‡u-mong-muá»‘n"><code>filter()</code>Â gÃ­up chÃºng ta thao tÃ¡c vá»›i nhá»¯ng dá»¯ liá»‡u mong muá»‘n.</a></h4>
<pre><code class="language-java">Arrays.asList(2, 3, 5, 7)
    .stream()
    .filter(i -&gt; i % 2 != 0) //tá»« Ä‘Ã¢y trá»Ÿ Ä‘i, chÃºng ta chá»‰ muá»‘n lÃ m viá»‡c vá»›i sá»‘ láº»
    .map(i -&gt; &quot;loda-&quot; + i)
    .map(String::toUpperCase)
    .forEach(System.out::println);
</code></pre>
<h4 id="limit-giá»›i-háº¡n-sá»‘-lÆ°á»£ng-dá»¯-liá»‡u-cáº§n-xá»­-lÃ½"><a class="header" href="#limit-giá»›i-háº¡n-sá»‘-lÆ°á»£ng-dá»¯-liá»‡u-cáº§n-xá»­-lÃ½"><code>limit()</code>: Giá»›i háº¡n sá»‘ lÆ°á»£ng dá»¯ liá»‡u cáº§n xá»­ lÃ½</a></h4>
<pre><code class="language-java">IntStream.range(1, 1000).boxed() // Táº¡o ra Stream cÃ³ dá»¯ liá»‡u tá»« 1-&gt;999
            .filter(i -&gt; i % 2 != 0)
            .map(i -&gt; &quot;loda-&quot; + i)
            .map(String::toUpperCase)
            .limit(10) // ChÃºng ta giá»›i háº¡n láº¥y 10 cÃ¡i rá»“i in ra
            .forEach(System.out::println);
</code></pre>
<h4 id="sorted-sáº¯p-xáº¿p-stream-báº¡n-cÃ³-thá»ƒ-tá»±-Ä‘á»‹nh-nghÄ©a-cÃ¡ch-sort-báº±ng-cÃ¡ch-thÃªm-comparator-vÃ o"><a class="header" href="#sorted-sáº¯p-xáº¿p-stream-báº¡n-cÃ³-thá»ƒ-tá»±-Ä‘á»‹nh-nghÄ©a-cÃ¡ch-sort-báº±ng-cÃ¡ch-thÃªm-comparator-vÃ o"><code>sorted()</code>: sáº¯p xáº¿pÂ <code>Stream</code>. Báº¡n cÃ³ thá»ƒ tá»± Ä‘á»‹nh nghÄ©a cÃ¡ch sort báº±ng cÃ¡ch thÃªm Comparator vÃ o</a></h4>
<pre><code class="language-java">sorted((o1, o2) -&gt; o1.compareTo(o2))
</code></pre>
<pre><code class="language-java">List&lt;String&gt; result = IntStream.range(1, 1000).boxed()
                                .filter(i -&gt; i % 2 != 0)
                                .map(i -&gt; &quot;loda-&quot; + i)
                                .map(String::toUpperCase)
                                .limit(10)
                                .sorted(Comparator.naturalOrder()) // má»™t cÃ¡ch khÃ¡c Ä‘á»ƒ sort
                                .collect(Collectors.toList());
</code></pre>
<h4 id="collect-giÃºp-chÃºng-ta-láº¥y-toÃ n-bá»™-dá»¯-liá»‡u-Ä‘Ã£-biáº¿n-Ä‘á»•i-trong-stream-thÃ nh-Ä‘á»‘i-tÆ°á»£ng-mÃ¬nh-mong-muá»‘n"><a class="header" href="#collect-giÃºp-chÃºng-ta-láº¥y-toÃ n-bá»™-dá»¯-liá»‡u-Ä‘Ã£-biáº¿n-Ä‘á»•i-trong-stream-thÃ nh-Ä‘á»‘i-tÆ°á»£ng-mÃ¬nh-mong-muá»‘n"><code>collect()</code>Â giÃºp chÃºng ta láº¥y toÃ n bá»™ dá»¯ liá»‡u Ä‘Ã£ biáº¿n Ä‘á»•i trongÂ <code>Stream</code>Â thÃ nh Ä‘á»‘i tÆ°á»£ng mÃ¬nh mong muá»‘n.</a></h4>
<pre><code class="language-java">List&lt;String&gt; result = Stream.of(&quot;báº¡n&quot;, &quot;hÃ£y&quot;, &quot;like&quot;, &quot;Fanpage&quot;, &quot;loda&quot;,&quot;dá»ƒ&quot;,&quot;cáº­p&quot;,&quot;nháº­t&quot;,&quot;nhiá»u&quot;,&quot;hÆ¡n&quot;)
                            .filter(s -&gt; {
                                System.out.println(&quot;[filtering] &quot; + s);
                                return s.length()&gt;=4;
                            })
                            .map(s -&gt; {
                                System.out.println(&quot;[mapping] &quot; + s);
                                return s.toUpperCase();
                            })
                            .limit(3)
                            .collect(Collectors.toList());
System.out.println(&quot;----------------------&quot;);
System.out.println(&quot;Result:&quot;);
result.forEach(System.out::println);
</code></pre>
<pre><code class="language-makefile">[filtering] báº¡n // khÃ´ng thoáº£ mÃ£n
[filtering] hÃ£y // tiáº¿p tá»¥c tÃ¬m, cÅ©ng k thoáº£ mÃ£n
[filtering] like // thoáº£ mÃ£n
[mapping] like // mapping nÃ³ luÃ´n
[filtering] Fanpage // láº¡i quay láº¡i filter tÃ¬m tiáº¿p, thoáº£ mÃ£n
[mapping] Fanpage // mapping
[filtering] loda // thoáº£ mÃ£n
[mapping] loda // mapping
// Äá»§ 3 trÆ°á»ng há»£p thoáº£ mÃ£n, dá»«ng.
----------------------
Result:
LIKE
FANPAGE
LODA
</code></pre>
<h3 id="báº£n-cháº¥t-cá»§a-stream"><a class="header" href="#báº£n-cháº¥t-cá»§a-stream">Báº£n cháº¥t cá»§a Stream</a></h3>
<p>(CÃ³ vÃ­ dá»¥ trong bÃ i gá»‘c ná»¯a)</p>
<p><code>Stream</code>Â lÃ Â <code>Lazy evaluation</code>. Hiá»ƒu Ä‘Æ¡n giáº£n lÃ  nÃ³ sáº½ khÃ´ng xá»­ lÃ½ dá»¯ liá»‡u trá»±c tiáº¿p qua tá»«ng bÆ°á»›c, mÃ  chá» báº¡n khai bÃ¡o xong táº¥t cáº£ cÃ¡c thao tÃ¡cÂ <code>operation</code>Â nhÆ°Â <code>map</code>,Â <code>filter</code>,v.v.. cho tá»›i khi gáº·p lá»‡nhÂ <code>.collect()</code>Â thÃ¬ nÃ³ thá»±c hiá»‡n toÃ n bá»™ trong má»™t vÃ²ng láº·p duy nháº¥t.</p>
<p>HÃ mÂ <code>.collect()</code>Â vÃ  má»™t sá»‘ hÃ m nhÆ°Â <code>min()</code>,Â <code>max()</code>,Â <code>count()</code>Â Ä‘Æ°á»£c gá»i lÃ Â <code>terminal operation</code>. Khi gá»i nhá»¯ng function cÃ³ dáº¡ngÂ <code>terminal</code>Â thÃ¬Â <code>Stream</code>Â má»›i chÃ­nh thá»©c hoáº¡t Ä‘á»™ng. </p>
<p>Má»™t lÆ°u Ã½ khi sá»­ dá»¥ng lÃ Â Stream khÃ´ng Ä‘Æ°á»£c tÃ¡i sá»­ dá»¥ng. VÃ¬Â <code>Stream</code>Â Ä‘Æ°á»£c táº¡o ra Ä‘á»ƒÂ xá»­ lÃ½Â dá»¯ liá»‡u chá»© khÃ´ng pháº£i Ä‘á»ƒÂ lÆ°u trá»¯! NÃªn muá»‘n sá»­ dá»¥ng, má»—i láº§n báº¡n sáº½ cáº§n táº¡o ra 1Â <code>Stream</code>Â má»›i.</p>
<pre><code class="language-java">Stream&lt;String&gt; stream =
  Stream.of(&quot;loda&quot;, &quot;.&quot;, &quot;me&quot;,&quot;like&quot;).filter(element -&gt; element.contains(&quot;e&quot;));
Optional&lt;String&gt; anyElement = stream.findAny(); //Láº¥y ra má»™t pháº§n tá»­ báº¥t ká»³ trong Stream, nÃ³ sáº½ tráº£ ra Optional

// Thá»±c hiá»‡n dÃ²ng lá»‡nh tiáº¿p theo sáº½ báº¯n ra IllegalStateException
Optional&lt;String&gt; firstElement = stream.findFirst();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="khai-niem-threadpool-va-executor-trong-java"><a class="header" href="#khai-niem-threadpool-va-executor-trong-java">KhaÌi nieÌ£Ì‚m ThreadPool vaÌ€ Executor trong Java</a></h1>
<p>Má»™t vÃ­ dá»¥ Ä‘Æ¡n giáº£n nhÃ© (Trong thá»±c táº¿ sáº½ khÃ¡c, hÃ£y coi Ä‘Ã¢y lÃ  vÃ­ dá»¥ nha):</p>
<p>BÃ¢y giá», giáº£ sá»­ báº¡n cÃ³ má»™t Server Web. Náº¿u chÃºng ta nháº­n 1 request tá»« client, chÃºng ta sáº½ xá»­ lÃ½ máº¥t 0.5s vÃ  tráº£ vá» káº¿t quáº£ cho ngÆ°á»i dÃ¹ng.</p>
<p>Tháº¿ náº¿u cÃ³ 2 ngÆ°á»i request cÃ¹ng lÃºc? =&gt; giáº£i quyáº¿t báº±ng cÃ¡ch má»—i má»™t request sáº½ xá»­ lÃ½ á»Ÿ 1 thread, Ä‘Æ¡n giáº£n.</p>
<p>Tháº¿ náº¿u cÃ³ 100 ngÆ°á»i request cÃ¹ng lÃºc? =&gt; má»—i ngÆ°á»i táº¡o má»™t thre... wait a minute.... (náº¿u 1 thÃ¡ng cÃ³ 10M lÆ°á»£t request =&gt; táº¡o ra 10M thread)</p>
<p>Náº¿u báº¡n táº¡o 1-2 thread má»›i, cháº£ ai trÃ¡ch gÃ¬ báº¡n cáº£. NhÆ°ng náº¿u báº¡n táº¡o liÃªn tá»¥c vÃ  tá»›i hÃ ng trÄƒm cÃ¡i má»›i má»—i láº§n nhÆ°ng láº¡i giáº£i quyáº¿t cÃ¹ng 1 váº¥n Ä‘á» thÃ¬ cÃ³ lá»— há»•ng Ä‘áº¥y. VÃ¬ chi phÃ­ cá»§a viá»‡c táº¡o 1 thread lÃ  tÆ°Æ¡ng Ä‘á»‘i lá»›n, thÆ°á»ng dáº«n tá»›i cÃ¡c váº¥n Ä‘á» vá» hiá»‡u nÄƒng vÃ  cáº¥p phÃ¡t dá»¯ liá»‡u.</p>
<p>Vá»›i viá»‡c xá»­ lÃ½ cÃ¡c tÃ¡c vá»¥ liÃªn tá»¥c nhÆ° váº­y, cÃ³ má»™t giáº£i phÃ¡p lÃ  sá»­ dá»¥ngÂ <code>Thread Pool</code>.</p>
<p>á» vÃ­ dá»¥ trÃªn, BÃ¢y giá» tÃ´i sáº½ chá»‰ sá»­ dá»¥ng 30 thread thÃ´i! VÃ  Ä‘áº·t 30 thread nÃ y á»Ÿ tráº¡ng thÃ¡i khÃ´ng lÃ m gÃ¬ vÃ  vá»©t vÃ o 1 cÃ¡iÂ <code>Pool</code>Â (1 cÃ¡i bá»ƒ chá»©a, kiá»ƒu váº­y). Vá»›i má»—i request Ä‘áº¿n, tÃ´i sáº½ láº¥y trongÂ <code>Pool</code>Â ra 1 thread vÃ  xá»­ lÃ½ cÃ´ng viá»‡c, xá»­ lÃ½ xong, thÃ¬ cáº¥t thread vÃ o ngÆ°á»£c trá»Ÿ láº¡i pool. ÄÆ¡n giáº£n váº­y thÃ´i, nhÆ° tháº¿ chÃºng ta sáº½ khÃ´ng pháº£i táº¡o má»›i Thread ná»¯a. TrÃ¡nh tÃ¬nh tá»‘n chi phÃ­ vÃ  hiá»‡u nÄƒng.</p>
<p>Váº¥n Ä‘á» lÃ  giáº£ sá»­ cÃ³ hÆ¡n 31 request tá»›i cÃ¹ng lÃºc thÃ¬ sao? ráº¥t Ä‘Ãºng, trÆ°á»ng há»£p nÃ y lÃ  cháº¯c cháº¯n cÃ³. LÃºc nÃ yÂ <code>Pool</code>Â sáº½ khÃ´ng cÃ²n thread nÃ o sáºµn cÃ³ ná»¯a. NÃªn 1 request cÃ²n láº¡i sáº½ bá»‹ Ä‘áº©y vÃ o 1 hÃ ng Ä‘á»£iÂ <code>BlockingQueue</code>. NÃ³ sáº½ Ä‘á»£i á»Ÿ Ä‘Ã³, bao giá»Â <code>Pool</code>Â cÃ³ 1 thread ráº£nh rá»—i thÃ¬ sáº½ quay láº¡i xá»­ lÃ½ ná»‘t.</p>
<h3 id="cÃ¡ch-táº¡o-threadpool-trong-java"><a class="header" href="#cÃ¡ch-táº¡o-threadpool-trong-java">CÃ¡ch táº¡o ThreadPool trong Java</a></h3>
<p>Java Concurrency API há»— trá»£ má»™t vÃ i loáº¡iÂ <code>ThreadPool</code>Â sau:</p>
<ul>
<li><strong>Cached thread pool</strong>: Má»—i nhiá»‡m vá»¥ sáº½ táº¡o ra thread má»›i náº¿u cáº§n, nhÆ°ng sáº½ tÃ¡i sá»­ dá»¥ng láº¡i cÃ¡c thread cÅ©. (CÃ¡i nÃ y váº«n nguy hiá»ƒm nhÃ©, nÃªn Ã¡p dá»¥ng vá»›i cÃ¡c task nhá», tá»‘n Ã­t tÃ­nh toÃ¡n)</li>
<li><strong>Fixed thread pool</strong>: giá»›i háº¡n sá»‘ lÆ°á»£ng tá»‘i Ä‘a cá»§a cÃ¡c Thread Ä‘Æ°á»£c táº¡o ra. CÃ¡c task khÃ¡c Ä‘áº¿n sau pháº£i chá» trong hÃ ng Ä‘á»£i (BlockingQueue). (VÃ­ dá»¥ Ä‘áº§u bÃ i)</li>
<li><strong>Single-threaded pool</strong>: chá»‰ giá»¯ má»™t Thread thá»±c thi má»™t nhiá»‡m vá»¥ má»™t lÃºc.</li>
<li><strong>Fork/Join pool</strong>: má»™t Thread Ä‘áº·c biá»‡t sá»­ dá»¥ng Fork/ Join Framework báº±ng cÃ¡ch tá»± Ä‘á»™ng chia nhá» cÃ´ng viá»‡c tÃ­nh toÃ¡n cho cÃ¡c core xá»­ lÃ½. (TÃ­nh toÃ¡n song song)</li>
</ul>
<h3 id="executor"><a class="header" href="#executor"><strong>Executor</strong></a></h3>
<p><code>Executor</code>Â lÃ  má»™t class Ä‘i kÃ¨m trong gÃ³iÂ <code>java.util.concurrent</code>, lÃ  má»™t Ä‘á»‘i tÆ°á»£ng chá»‹u trÃ¡ch nhiá»‡m quáº£n lÃ½ cÃ¡c luá»“ng vÃ  thá»±c hiá»‡n cÃ¡c tÃ¡c vá»¥ Runnable Ä‘Æ°á»£c yÃªu cáº§u xá»­ lÃ½. NÃ³ tÃ¡ch riÃªng cÃ¡c chi tiáº¿t cá»§a viá»‡c táº¡o Thread, láº­p káº¿ hoáº¡ch (scheduling), â€¦ Ä‘á»ƒ chÃºng ta cÃ³ thá»ƒ táº­p trung phÃ¡t triá»ƒn logic cá»§a tÃ¡c vá»¥ mÃ  khÃ´ng quan tÃ¢m Ä‘áº¿n cÃ¡c chi tiáº¿t quáº£n lÃ½ Thread.</p>
<p>NÃ³i chung nÃ³ lÃ  tháº±ng wrapper cÃ¡c cÃ¡c bÆ°á»›c mÃ¬nh nÃ³i á»Ÿ trÃªn, vÃ  quáº£n lÃ½ há»™ chÃºng ta.</p>
<p>ChÃºng cÃ³ thá»ƒ táº¡o má»™t Executor báº±ng cÃ¡ch sá»­ dá»¥ng má»™t trong cÃ¡c phÆ°Æ¡ng thá»©c Ä‘Æ°á»£c cung cáº¥p bá»Ÿi lá»›p tiá»‡n Ã­chÂ <code>Executors</code>Â nhÆ° sau:</p>
<ul>
<li><strong>newSingleThreadExecutor()</strong>: trong ThreadPool chá»‰ cÃ³ 1 Thread vÃ  cÃ¡c task (nhiá»‡m vá»¥) sáº½ Ä‘Æ°á»£c xá»­ lÃ½ má»™t cÃ¡ch tuáº§n tá»±.</li>
<li><strong>newCachedThreadPool()</strong>: nhÆ° giáº£i thÃ­ch á»Ÿ trÃªn, nÃ³ sáº½ cÃ³ 1 sá»‘ lÆ°á»£ng nháº¥t Ä‘á»‹nh thread Ä‘á»ƒ sá»­ dá»¥ng láº¡i, nhÆ°ng váº«n sáº½ táº¡o má»›i thread náº¿u cáº§n. Máº·c Ä‘á»‹nh náº¿u má»™t Thread khÃ´ng Ä‘Æ°á»£c sá»­ dá»¥ng trong vÃ²ng 60 giÃ¢y thÃ¬ Thread Ä‘Ã³ sáº½ bá»‹ táº¯t.</li>
<li><strong>newFixedThreadPool(int n)</strong>: trong Pool chá»‰ cÃ³ n Thread Ä‘á»ƒ xá»­ lÃ½ nhiá»‡m vá»¥, cÃ¡c yÃªu cáº§u tá»›i sau bá»‹ Ä‘áº©y vÃ o hÃ ng Ä‘á»£i</li>
<li><strong>newScheduledThreadPool(int corePoolSize)</strong>: tÆ°Æ¡ng tá»± nhÆ°Â <code>newCachedThreadPool()</code>Â nhÆ°ng sáº½ cÃ³ thá»i gian delay giá»¯a cÃ¡c Thread.</li>
<li><strong>newSingleThreadScheduledExecutor()</strong>: tÆ°Æ¡ng tá»± nhÆ°Â <code>newSingleThreadExecutor()</code>Â nhÆ°ng sáº½ cÃ³ khoáº£ng thá»i gian delay giá»¯a cÃ¡c Thread.</li>
</ul>
<h3 id="code-cháº¡y-thá»­"><a class="header" href="#code-cháº¡y-thá»­"><strong>Code cháº¡y thá»­</strong></a></h3>
<p>ChÃºng ta sáº½ láº¥y vÃ­ dá»¥ Ä‘áº§u bÃ i Ä‘á»ƒ code luÃ´n nhÃ©.</p>
<p>Táº¡o má»™t class implementÂ <code>Runnable</code>Â Ä‘á»ƒ xá»­ lÃ½ request Ä‘áº¿n. (phÃ¢n biá»‡tÂ <code>Runnable</code>Â vÃ Â <code>Thread</code>Â nhÃ© cÃ¡c báº¡n)</p>
<pre><code class="language-java">public class RequestHandler implements Runnable {
    String name;
    public RequestHandler(String name){
        this.name = name;
    }

    @Override
    public void run() {
        try {
            // Báº¯t Ä‘áº§u xá»­ lÃ½ request Ä‘áº¿n
            System.out.println(Thread.currentThread().getName() + &quot; Starting process &quot; + name);
            // cho ngá»§ 500 milis Ä‘á»ƒ vÃ­ dá»¥ lÃ  quÃ¡ trÃ¬nh xá»­ lÃ½ máº¥t 0,5 s
            Thread.sleep(500);
            // Káº¿t thÃºc xá»­ lÃ½ request
            System.out.println(Thread.currentThread().getName() + &quot; Finished process &quot; + name);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
    }
}
</code></pre>
<h3 id="newsinglethreadexecutor"><a class="header" href="#newsinglethreadexecutor"><strong>newSingleThreadExecutor</strong></a></h3>
<pre><code class="language-java">import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;

public class SingleThreadPoolExample {
    public static void main(String[] args) {
        ExecutorService executor = Executors.newSingleThreadExecutor();

        // CÃ³ 100 request tá»›i cÃ¹ng lÃºc
        for (int i = 0; i &lt; 100; i++) {
            executor.execute(new RequestHandler(&quot;request-&quot; + i));
        }
        executor.shutdown(); // KhÃ´ng cho threadpool nháº­n thÃªm nhiá»‡m vá»¥ nÃ o ná»¯a

        while (!executor.isTerminated()) {
            // Chá» xá»­ lÃ½ háº¿t cÃ¡c request cÃ²n chá» trong Queue ...
        }
    }
}
// OUTPUT:
/*
..
..
pool-1-thread-1 Starting process request-98
pool-1-thread-1 Finished process request-98
pool-1-thread-1 Starting process request-99
pool-1-thread-1 Finished process request-99
*/
</code></pre>
<p>Cáº£ chÆ°Æ¡ng trÃ¬nh chá»‰ cÃ³ 1 pool, 1 thread duy nháº¥t, xá»­ lÃ½ toÃ n bá»™ request Ä‘áº¿n. CÃ¡i nÃ o Ä‘áº¿n sau thÃ¬ Ä‘á»£i thÃ´i.</p>
<h3 id="newfixedthreadpool"><a class="header" href="#newfixedthreadpool"><strong>newFixedThreadPool()</strong></a></h3>
<pre><code class="language-java">public class FixedThreadPoolExample {
    public static void main(String[] args) throws InterruptedException {
        ExecutorService executor = Executors.newFixedThreadPool(5);

        // CÃ³ 100 request tá»›i cÃ¹ng lÃºc

        for (int i = 0; i &lt; 100; i++) {
            executor.execute(new RequestHandler(&quot;request-&quot; + i));
        }
        executor.shutdown(); // KhÃ´ng cho threadpool nháº­n thÃªm nhiá»‡m vá»¥ nÃ o ná»¯a

        while (!executor.isTerminated()) {
            // Chá» xá»­ lÃ½ háº¿t cÃ¡c request cÃ²n chá» trong Queue ...
        }
    }
}
// OUTPUT:
/*
..
..
pool-1-thread-2 Finished process request-96
pool-1-thread-5 Starting process request-99
pool-1-thread-3 Finished process request-97
pool-1-thread-4 Finished process request-98
pool-1-thread-5 Finished process request-99
*/
</code></pre>
<p>Loáº¡i nÃ y thÃ¬ chÃºng ta cá»‘ Ä‘á»‹nh 5 thread, vÃ  nÃ³ cá»­ máº·c Ä‘á»‹nh nhÆ° váº­y mÃ  xÃ i thÃ´i, thiáº¿u thread thÃ¬ pháº£i chá» tá»›i khi cÃ³</p>
<h3 id="newcachedthreadpool"><a class="header" href="#newcachedthreadpool"><strong>newCachedThreadPool()</strong></a></h3>
<pre><code class="language-java">public class CachedThreadPoolExample {
    public static void main(String[] args) throws InterruptedException {
        ExecutorService executor = Executors.newCachedThreadPool();

        // CÃ³ 100 request tá»›i cÃ¹ng lÃºc

        for (int i = 0; i &lt; 100; i++) {
            executor.execute(new RequestHandler(&quot;request-&quot; + i));
            Thread.sleep(200);
        }
        executor.shutdown(); // KhÃ´ng cho threadpool nháº­n thÃªm nhiá»‡m vá»¥ nÃ o ná»¯a

        while (!executor.isTerminated()) {
            // Chá» xá»­ lÃ½ háº¿t cÃ¡c request cÃ²n chá» trong Queue ...
        }
    }
}

//OUTPUT:
/*
..
..
pool-1-thread-3 Starting process request-98
pool-1-thread-1 Finished process request-96
pool-1-thread-1 Starting process request-99
pool-1-thread-2 Finished process request-97
pool-1-thread-3 Finished process request-98
pool-1-thread-1 Finished process request-99
*/
</code></pre>
<p>CÃ³ chÃºt khá»Ÿi sáº¯c, chÆ°Æ¡ng trÃ¬nh cháº¡y nhanh hÆ¡n háº³n. VÃ¬ nÃ³ Ä‘Æ°á»£c táº¡o sá»‘ thread thoáº£i mÃ¡i náº¿u cáº§n :)))) Ráº¥t nguy hiá»ƒm. NhÆ°ng báº¡n sáº½ tháº¥y lÃ  cÃ³ chá»— nÃ³ sá»­ dá»¥ng láº¡i cÃ¡c thread Ä‘Ã£ xong trÆ°á»›c Ä‘Ã³.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="threadpoolexecutor-va-nguyen-tac-quan-ly-pool-size"><a class="header" href="#threadpoolexecutor-va-nguyen-tac-quan-ly-pool-size">ThreadPoolExecutor vaÌ€ nguyeÌ‚n taÌ†Ìc quaÌ‰n lyÌ pool size</a></h1>
<ul>
<li>KhÃ¡i niá»‡m</li>
<li>NguyÃªn táº¯c váº­n hÃ nh</li>
<li>Code vÃ­ dá»¥</li>
</ul>
<h3 id="giá»›i-thiá»‡u-2"><a class="header" href="#giá»›i-thiá»‡u-2"><strong>Giá»›i thiá»‡u</strong></a></h3>
<p><code>ThreadPoolExecutor</code>Â lÃ  má»™t class nÃ¢ng cao hÆ¡n cá»§a cÃ¡cÂ <code>ThreadPool</code>Â cÆ¡ báº£n trong gÃ³i java concurrent. Cá»¥ thá»ƒ cÃ¡c thá»ƒ loáº¡i ThreadPool khÃ¡c báº¡n xem á»Ÿ Ä‘Ã¢y:</p>
<ol>
<li>KhaÌi nieÌ£Ì‚m ThreadPool vaÌ€ Executor trong Java</li>
</ol>
<p>Äáº·c Ä‘iá»ƒm cá»§a cÃ¡c loáº¡iÂ <code>ThreadPool</code>Â thÃ´ng thÆ°á»ng Ä‘Æ°á»£c cung cáº¥p trongÂ <code>ExecutorService</code>Â lÃ  khÃ´ng Ä‘á»§ linh Ä‘á»™ng theo tÃ¬nh huá»‘ng. Ä‘iá»ƒn hÃ¬nh lÃ  bá»‹ fix sá»‘ lÆ°á»£ng thread, hoáº·c cho phÃ©p táº¡o quÃ¡ nhiá»u thread. NÃ³ thá»±c sá»± chÆ°a pháº£i phÆ°Æ¡ng Ã¡n tá»‘i Æ°u.</p>
<p><code>ThreadPoolExecutor</code>Â thÃ¬ khÃ¡c, má»™t phiÃªn báº£n nÃ¢ng cáº¥p hÆ¡n, cho phÃ©p chÃºng ta tÃ¹y biáº¿n sá»‘ lÆ°á»£ng Thread theo ká»‹ch báº£n. GiÃºp nÃ³ thÃ´ng minh hÆ¡n máº¥y cÃ¡i kia má»™t chÃºt.</p>
<p>NgoÃ i ra cÃ²n cÃ³Â <code>ThreadPoolTaskExecutor</code>Â doÂ <code>Spring Framework</code>Â cung cáº¥p cÅ©ng hoáº¡t Ä‘á»™ng tÆ°Æ¡ng tá»±</p>
<h3 id="khÃ¡i-niá»‡m-1"><a class="header" href="#khÃ¡i-niá»‡m-1"><strong>KhÃ¡i niá»‡m</strong></a></h3>
<p><code>ThreadPoolExecutor</code>Â vÃ Â <code>ThreadPoolTaskExecutor</code>Â cÅ©ng lÃ Â <code>Executor</code>Â nhÆ°ng nÃ³ cÃ³ thÃªm cÃ¡c tham sá»‘ nhÆ° sau:</p>
<ul>
<li><code>corePoolSize</code>: Sá»‘ lÆ°á»£ng Thread máº·c Ä‘á»‹nh trongÂ <code>Pool</code></li>
<li><code>maxPoolSize</code>: Sá»‘ lÆ°á»£ng tá»‘i Ä‘a Thread trongÂ <code>Pool</code></li>
<li><code>queueCapacity</code>: Sá»‘ lÆ°á»£ng tá»‘i da cá»§aÂ <code>BlockingQueue</code></li>
</ul>
<h3 id="nguyÃªn-táº¯c-váº­n-hÃ nh"><a class="header" href="#nguyÃªn-táº¯c-váº­n-hÃ nh"><strong>NguyÃªn táº¯c váº­n hÃ nh</strong></a></h3>
<p>VÃ­ dá»¥ vá»›iÂ <code>ThreadPoolExecutor</code>Â cÃ³:</p>
<ul>
<li><code>corePoolSize</code>: 5</li>
<li><code>maxPoolSize</code>: 15</li>
<li><code>queueCapacity</code>: 100</li>
</ul>
<ol>
<li>Khi cÃ³ request, nÃ³ sáº½ táº¡o trong Pool tá»‘i Ä‘a 5 thread (<code>corePoolSize</code>).</li>
<li>Khi sá»‘ lÆ°á»£ng thread vÆ°á»£t quÃ¡ 5 thread. NÃ³ sáº½ cho vÃ o hÃ ng Ä‘á»£i.</li>
<li>Khi sá»‘ lÆ°á»£ng hÃ ng Ä‘á»£i full 100 (<code>queueCapacity</code>). LÃºc nÃ y má»›i báº¯t Ä‘áº§u táº¡o thÃªm Thread má»›i.</li>
<li>Sá»‘ thread má»›i Ä‘Æ°á»£c táº¡o tá»‘i Ä‘a lÃ  15 (<code>maxPoolSize</code>).</li>
<li>Khi Request vÆ°á»£t quÃ¡ sá»‘ lÆ°á»£ng 15 thread. Request sáº½ bá»‹ tá»« chá»‘i!</li>
</ol>
<p>Vá»›i ká»‹ch báº£n nhÆ° tháº¿ nÃ y, báº¡n sáº½ luÃ´n tiáº¿t kiá»‡m Ä‘Æ°á»£c sá»‘ lÆ°á»£ng thread sá»­ dá»¥ng lÃ  5 trong trÆ°á»ng há»£p bÃ¬nh thÆ°á»ng. NhÆ°ng váº«n cÃ³ thá»ƒ handle lÃªn tá»›i 15 thread náº¿u server quÃ¡ táº£i.</p>
<p>Äiá»ƒm chÃºng ta hay nháº§m láº«n lÃ  Ä‘iá»u kiá»‡n Ä‘á»ƒ táº¡o thÃªm thread Ä‘Ã³ lÃ  khiÂ <strong>hÃ ng Ä‘á»£i pháº£i full</strong>. ÄÃºng váº­y, náº¿u hÃ ng Ä‘á»£i chÆ°a full, thÃ¬ cÃ³ nghÄ©a chÃºng ta chÆ°a quÃ¡ táº£i.</p>
<h3 id="code-vÃ­-dá»¥"><a class="header" href="#code-vÃ­-dá»¥"><strong>Code vÃ­ dá»¥</strong></a></h3>
<p>Táº¡o ra má»™t Runnable Ä‘á»ƒ xá»­ lÃ½ cÃ¡c nhiá»‡m vá»¥.</p>
<pre><code class="language-java">public class RequestHandler implements Runnable {
    String name;
    public RequestHandler(String name){
        this.name = name;
    }

    @Override
    public void run() {
        try {
            System.out.println(Thread.currentThread().getName() + &quot; Starting process &quot; + name);
            // Giáº£ sá»­ nhiá»‡m vá»¥ xá»­ lÃ½ háº¿t 0.5s
            Thread.sleep(500);
            System.out.println(Thread.currentThread().getName() + &quot; Finished process &quot; + name);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
    }
}
</code></pre>
<p>Táº¡o raÂ <code>ThreadPoolExecutor</code>Â Ä‘á»ƒ xá»­ lÃ½ 1000 request tá»›i dá»“n dáº­p.</p>
<pre><code class="language-java">public class ThreadPoolExecutorExample {
    public static void main(String[] args) {
        int corePoolSize = 5;
        int maximumPoolSize = 10;
        int queueCapacity = 100;
        ThreadPoolExecutor executor = new ThreadPoolExecutor(corePoolSize, // Sá»‘ corePoolSize
                                                             maximumPoolSize, // sá»‘ maximumPoolSize
                                                             10, // thá»i gian má»™t thread Ä‘Æ°á»£c sá»‘ng náº¿u khÃ´ng lÃ m gÃ¬
                                                             TimeUnit.SECONDS,
                                                             new ArrayBlockingQueue&lt;&gt;(queueCapacity)); // Blocking queue Ä‘á»ƒ cho request Ä‘á»£i
        // 1000 request Ä‘áº¿n dá»“n dáº­p, liá»n 1 phÃ¡t, khÃ´ng nghá»‰
        for (int i = 0; i &lt; 1000; i++) {
            executor.execute(new RequestHandler(&quot;request-&quot; + i));
        }
        executor.shutdown(); // KhÃ´ng cho threadpool nháº­n thÃªm nhiá»‡m vá»¥ nÃ o ná»¯a

        while (!executor.isTerminated()) {
            // Chá» xá»­ lÃ½ háº¿t cÃ¡c request cÃ²n chá» trong Queue ...
        }
    }
}

// OUTPUT
/*
..
..
pool-1-thread-3 Finished process request-96
pool-1-thread-5 Finished process request-97
pool-1-thread-4 Finished process request-98
pool-1-thread-8 Finished process request-100
pool-1-thread-2 Finished process request-99
pool-1-thread-6 Finished process request-102
pool-1-thread-7 Finished process request-101
pool-1-thread-9 Finished process request-104
pool-1-thread-10 Finished process request-103
*/
</code></pre>
<p>Báº¡n sáº½ tháº¥y lÃ  chÆ°Æ¡ng trÃ¬nh Ä‘Ã£ pháº£i sá»­ dá»¥ng tá»›i 10 thread Ä‘á»ƒ xá»­ lÃ½ háº¿t 1000 request cÃ¹ng 1 lÃºc. Nhá»› lÃ  cÃ¹ng 1 lÃºc nhÃ© cÃ¡c báº¡n, tháº¿ lÃ  nhiá»u rá»“i Ä‘Ã³. VÃ  theo nguyÃªn táº¯c. NÃ³ Ä‘Ã£ táº­n dá»¥ng háº¿tÂ <code>maxPoolSize</code>Â rá»“i. MÃ Â <code>queue</code>Â váº«n full. NÃªn cÃ¡c request khÃ´ng á»Ÿ trongÂ <code>queue</code>Â sáº½ bá»‹ reject. Dáº«n tá»›i chá»‰ sá»­ lÃ½ Ä‘Æ°á»£cÂ <code>104 request</code>Â mÃ  thÃ´i.</p>
<p>BÃ¢y giá», váº«n lÃ  vÃ­ dá»¥ nÃ y, nhÆ°ng má»—i request cÃ¡ch nhauÂ <code>50 milliseconds</code>Â thÃ¬ sáº½ nhÆ° nÃ o, dá»… thá»Ÿ hÆ¡n k? chá»‰ 0.05s thÃ´i.</p>
<pre><code class="language-java">for (int i = 0; i &lt; 1000; i++) {
    executor.execute(new RequestHandler(&quot;request-&quot; + i));
    Thread.sleep(50);
}
// OUTPUT:
/*
..
..
pool-1-thread-2 Finished process request-993
pool-1-thread-1 Finished process request-994
pool-1-thread-3 Finished process request-995
pool-1-thread-4 Finished process request-996
pool-1-thread-5 Finished process request-997
pool-1-thread-9 Finished process request-998
pool-1-thread-10 Finished process request-999
*/
</code></pre>
<p>Xá»­ lÃ½ gá»n gÃ ng, sáº¡ch sáº½ cÃ¡c báº¡n áº¡. Sá»©c máº¡nh cá»§aÂ <code>ThreadPoolExecutor</code>Â phÃ¡t huy rÃµ rá»‡t hÆ¡n. Táº­n dá»¥ng Ä‘Æ°á»£c 10 thread vÃ  queue váº«n cÃ²n chá»— nÃªn ráº¥t nhanh, khÃ¡c biá»‡t trong má»™t há»‡ thá»‘ng cÃ³ thá»ƒ Ä‘c tÃ­nh báº±ngÂ <code>milliseconds</code>Â nhÆ° váº­y Ä‘Ã³. náº¿u má»—i request cÃ¡ch nhauÂ <code>100 milliseconds</code>Â thÃ¬ nÃ³ chá»‰ cáº§n sá»­ dá»¥ng 5 thread thÃ´i.</p>
<p>toÃ n bá»™ code mÃ¬nh Ä‘á»ƒ táº¡i Github:Â CODE</p>
<p>ChÃºc cÃ¡c báº¡n há»c táº­p tá»‘t! ohoho</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="gioi-thieu-reactive-programming-voi-reactor"><a class="header" href="#gioi-thieu-reactive-programming-voi-reactor">GioÌ›Ìi thieÌ£Ì‚u Reactive Programming voÌ›Ìi Reactor</a></h1>
<h3 id="giá»›i-thiá»‡u-3"><a class="header" href="#giá»›i-thiá»‡u-3"><strong>Giá»›i thiá»‡u</strong></a></h3>
<p>CÃ¡c á»©ng dá»¥ng hiá»‡n nay yÃªu cáº§u má»™t tá»‘c Ä‘á»™ pháº£n há»“i cao Ä‘á»ƒ nÃ¢ng cao tráº£i nghiá»‡m ngÆ°á»i dÃ¹ng, giÃºp há»‡ thá»‘ng mÆ°á»£t mÃ , linh hoáº¡t, khÃ´ng bá»‹ Ä‘Ã³ng bÄƒng luá»“ng. CÃ¡c yÃªu cáº§u nÃ y cÅ©ng lÃ  káº¿t quáº£ hÆ°á»›ng tá»›i khi chÃºng ta sá»­ dá»¥ng mÃ´ hÃ¬nh láº­p trÃ¬nh theoÂ <strong>Reactive Programming</strong>.</p>
<p>Trong bÃ i viáº¿t nÃ y, chÃºng ta sáº½ cá»‘ gáº¯ng lÃ m sÃ¡ng tá» mÃ´ hÃ¬nh láº­p trÃ¬nh nÃ y thÃ´ng qua má»™t sá»‘ khÃ¡i niá»‡mÂ <code>Synchronous</code>Â vÃ Â <code>Asynchronous</code>Â ,Â <code>Blocking</code>Â vÃ Â <code>Non-Blocking</code>Â trÆ°á»›c.</p>
<h3 id="synchronous-vÃ -asynchronous"><a class="header" href="#synchronous-vÃ -asynchronous"><strong>Synchronous vÃ  Asynchronous</strong></a></h3>
<p><code>Synchronous</code>Â (Xá»­ lÃ½ Ä‘á»“ng bá»™): lÃ  xá»­ lÃ½ mÃ  chÆ°Æ¡ng trÃ¬nh sáº½ cháº¡y theo tá»«ng bÆ°á»›c, nghÄ©a lÃ  thá»±c hiá»‡n xong Ä‘oáº¡n code trÃªn má»›i tá»›i Ä‘oáº¡n code káº¿ tiáº¿p vÃ  sáº½ theo thá»© tá»± tá»« trÃªn xuá»‘ng dÆ°á»›i, tá»« trÃ¡i qua pháº£i. ÄÃ¢y cÅ©ng lÃ  nguyÃªn táº¯c cÆ¡ báº£n mÃ  cÃ¡c báº¡n Ä‘Ã£ Ä‘Æ°á»£c há»c.</p>
<p><code>Asynchronous</code>Â (Xá»­ lÃ½ báº¥t Ä‘á»“ng bá»™): NgÆ°á»£c láº¡i vá»›i xá»­ lÃ½ Ä‘á»“ng bá»™, nghÄ©a lÃ  chÆ°Æ¡ng trÃ¬nh cÃ³ thá»ƒ hoáº¡t Ä‘á»™ng nháº£y cÃ³c, function phÃ­a dÆ°á»›i cÃ³ thá»ƒ hoáº¡t Ä‘á»™ng mÃ  khÃ´ng cáº§n pháº£i chá» function hay má»™t Ä‘oáº¡n code nÃ o Ä‘Ã³ phÃ­a trÃªn thá»±c hiá»‡n xong. DÆ°á»›i Ä‘Ã¢y lÃ  minh há»a cho viá»‡c lÃ m viá»‡c vá»›i dá»¯ liá»‡u Ä‘á»“ng bá»™ vÃ  báº¥t Ä‘á»“ng bá»™ :</p>
<p>!image</p>
<p>NhÆ° ta tháº¥y náº¿u cÃ¡c cÃ´ng viá»‡c khÃ´ng liÃªn quan Ä‘áº¿n nhau thÃ¬ báº¥t Ä‘á»“ng bá»™ giÃºp ta tiáº¿t kiá»‡m thá»i gian xá»­ lÃ½ hÆ¡n vÃ  mang láº¡i cho ngÆ°á»i dÃ¹ng tráº£i nghiá»‡m tá»‘t hÆ¡n.</p>
<h3 id="blocking-vÃ -non-blocking"><a class="header" href="#blocking-vÃ -non-blocking"><strong>Blocking vÃ  Non-Blocking</strong></a></h3>
<p>ChÃºng ta cÃ³ thá»ƒ hiá»ƒu má»™t cÃ¡ch Ä‘Æ¡n giáº£n khi chÃºng ta muá»‘n dáº¥y má»™t danh sÃ¡chÂ <code>Student</code>.</p>
<p>Láº­p trÃ¬nh theo mÃ´ hÃ¬nhÂ <code>Blocking</code>Â thÃ¬ pháº£i chá» Ä‘á»£i chÆ°Æ¡ng trÃ¬nh thá»±c hiá»‡n láº¥y táº¥t cáº£Â <code>Student</code>Â rá»“i má»›i thá»±c hiá»‡n cÃ¡c thao tÃ¡c tiáº¿p theo, hay Ä‘Æ°á»£c gá»i lÃ  bá»‹ Ä‘Ã³ng bÄƒng luá»“ng chá» quÃ¡ trÃ¬nh Ä‘Ã³ng gÃ³i táº¥t cáº£Â <code>Student</code>Â hoÃ n táº¥t. Do Ä‘Ã³ sáº½ dáº«n tá»‘n thá»i gian chá» Ä‘á»£i náº¿u sá»‘ lÆ°á»£ng danh sÃ¡ch ráº¥t lá»›n.</p>
<p>Láº­p trÃ¬nh theo mÃ´ hÃ¬nhÂ <code>Non-Blocking</code>Â thÃ¬ hoáº¡t Ä‘á»™ng ngÆ°á»£c láº¡i, khÃ´ng cáº§n pháº£i chá» Ä‘á»£i hoÃ n thiá»‡n cáº£ danh sÃ¡chÂ <code>Student</code>Â mÃ  vá»›i má»—iÂ <code>Student</code>Â nÃ o Ä‘Æ°á»£c Ä‘Æ°a ra thÃ¬ thá»±c hiá»‡n thao tÃ¡c luÃ´n vá»›i nÃ³. Äiá»u nÃ y dáº«n tá»›i khÃ´ng bá»‹ Ä‘Ã³ng bÄƒng luá»“ng, ká»ƒ cáº£ sá»‘ lÆ°á»£ng danh sÃ¡ch lá»›n.</p>
<h3 id="reactive-programming"><a class="header" href="#reactive-programming"><strong>Reactive Programming</strong></a></h3>
<p>NÃ³i má»™t cÃ¡ch ngáº¯n gá»n,Â <strong>Reactive Programming</strong>Â lÃ  mÃ´ hÃ¬nh láº­p trÃ¬nh mÃ  á»Ÿ Ä‘Ã³ dá»¯ liá»‡u Ä‘Æ°á»£c truyá»n táº£i dÆ°á»›i dáº¡ng luá»“ng ( stream). MÃ´ hÃ¬nh nÃ y dÆ°a trÃªn nguyÃªn táº¯cÂ <code>Asynchronous</code>Â vÃ Â <code>Non-Blocking</code>Â Ä‘á»ƒ lÃ m viá»‡c vá»›i dá»¯ liá»‡u.</p>
<p>DÆ°á»›i Ä‘Ã¢y lÃ  má»™t sá»‘ khÃ¡i niá»‡m mÃ  báº¡n cáº§n pháº£i biáº¿t khi lÃ m viá»‡c vá»›i mÃ´ hÃ¬nh nÃ y:</p>
<p><strong>Publisher:</strong>Â LÃ  nhÃ  cung cáº¥p dá»¯ liá»‡u, hoáº·c lÃ  nÆ¡i phÃ¡t ra nguá»“n dá»¯ liá»‡u.</p>
<p><strong>Subscriber:</strong>Â Láº¯ng ngheÂ <strong>Publisher</strong>, yÃªu cáº§u dá»¯ liá»‡u má»›i. Hay Ä‘Æ°á»£c gá»i LÃ  ngÆ°á»i tiÃªu thá»¥ dá»¯ liá»‡u.</p>
<p><strong>Backpressure:</strong>Â LÃ  kháº£ nÄƒng mÃ Â <strong>Subscriber</strong>Â cho phÃ©pÂ <strong>Publisher</strong>Â cÃ³ thá»ƒ xá»­ lÃ½ bao nhiÃªu yÃªu cáº§u táº¡i thá»i Ä‘iá»ƒm Ä‘Ã³. Bá»Ÿi vÃ¬Â <strong>Subscriber</strong>Â chá»‹u trÃ¡ch nhiá»‡m vá» luá»“ng dá»¯ liá»‡u, khÃ´ng pháº£iÂ <strong>Publisher</strong>Â vÃ¬ nÃ³ chá»‰ cung cáº¥p dá»¯ liá»‡u.</p>
<p><strong>Stream:</strong>Â Luá»“ng dá»¯ liá»‡u bao gá»“m cÃ¡c dá»¯ liá»‡u tráº£ vá» , cÃ¡c lá»—i xáº£y ra vÃ  luá»“ng nÃ y pháº£i lÃ  luá»“ng báº¥t Ä‘á»“ng bá»™.</p>
<p>NhÆ° váº­y dá»¯ liá»‡u cá»§a chÃºng ra sáº½ Ä‘Æ°á»£c chuyá»ƒn thÃ nh má»™t dÃ²ng (data stream) do Ä‘Ã³ trÃ¡nh Ä‘Æ°á»£c viá»‡c bá»‹ blocking vÃ  cÃ¡c dá»¯ liá»‡u phÃ¡t ra thÃ¬ Ä‘á»u Ä‘Æ°á»£c subcriber láº¯ng nghe dáº«n Ä‘áº¿n quÃ¡ trÃ¬nh xá»­ lÃ½ vÃ  bÃ¡o lá»—i diá»…n ra má»™t cÃ¡ch Ä‘Æ¡n giáº£n hÆ¡n.</p>
<h3 id="reactor"><a class="header" href="#reactor"><strong>Reactor</strong></a></h3>
<p><strong>Reactor</strong>Â lÃ  má»™t ná»n táº£ng Ä‘á»ƒ ta triá»ƒn khai viá»‡c láº­p trÃ¬nh theo phong cÃ¡chÂ <strong>reactive programming</strong>. NÃ³ Ä‘Æ°á»£c tÃ­ch há»£p trá»±c tiáº¿p vá»›i Java 8 funcion APIs nhÆ°Â <code>CompletableFuture</code>,Â <code>Stream</code>,Â <code>Duration</code>.</p>
<p><strong>Reactor</strong>Â cung cáº¥p 2 loáº¡i vá»Â <strong>Publisher</strong>Â :</p>
<p><code>Flux</code>: lÃ  má»™t steam phÃ¡t ra tá»« 0...n pháº§n tá»­.</p>
<p>!image</p>
<p><code>Mono</code>: lÃ  má»™t steam phÃ¡t ra tá»« 0...1 pháº§n tá»­.</p>
<p>!image</p>
<p>Váº­y lÃ  cÃ¡c báº¡n cÃ³ thá»ƒ hiá»ƒu Ä‘Æ°á»£cÂ <strong>Reactive Programming</strong>Â pháº£i khÃ´ng nÃ o :D. CÃ¡c bÃ i viáº¿t tá»›i chÃºng ta sáº½ Ä‘i sÃ¢u hÆ¡n vá» cÃ¡c thá»±c thi cÅ©ng nhÆ° cÃ¡cÂ <code>function</code>Â mÃ Â <strong>Reactor</strong>Â há»— trá»£. HÃ£y chÃº Ã½ theo dÃµi vÃ  Ä‘á»«ng quÃªn nháº­n xÃ©t Ä‘á»ƒ chÃºng tÃ´i cÃ³ thá»ƒ cáº£i thiá»‡n cÃ¡c bÃ i viáº¿t tá»‘t hÆ¡n.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="gioi-thieu-reactor-core"><a class="header" href="#gioi-thieu-reactor-core">GioÌ›Ìi thieÌ£Ì‚u Reactor Core</a></h1>
<ul>
<li>Maven Dependencies</li>
<li>Táº¡o ra má»™t luá»“ng dá»¯ liá»‡u</li>
<li>Subscribe()</li>
<li>So sÃ¡nh vá»›i Streams Java 8</li>
<li>Backpressure</li>
<li>Concurrency</li>
<li>Káº¿t luáº­n</li>
</ul>
<h3 id="tá»•ng-quan"><a class="header" href="#tá»•ng-quan"><strong>Tá»•ng Quan</strong></a></h3>
<p><strong>Reactor Core</strong>Â lÃ  má»™t thá»± viá»‡n Java 8 implement mÃ´ hÃ¬nhÂ <strong>Reactive Programming</strong>. NÃ³ Ä‘Æ°á»£c xÃ¢y dá»±ng dá»±a trÃªnÂ <strong>Reactive Streams Specification</strong>Â - má»™t tiÃªu chuáº©n Ä‘á»ƒ xÃ¢y dá»±ng á»©ng dá»¥ngÂ <code>Reactive</code>.</p>
<p>Trong bÃ i viáº¿t nÃ y, chÃºng ta sáº½ Ä‘i tá»«ng bÆ°á»›c nhá» thÃ´ng quaÂ <code>Reactor</code>Â cho Ä‘áº¿n khi cÃ³ cÃ¡i nhÃ¬n toÃ n cáº£nh cÅ©ng nhÆ° cÃ¡ch thá»±c thi cá»§aÂ <strong>Reactor core</strong>.</p>
<h3 id="maven-dependencies"><a class="header" href="#maven-dependencies"><strong>Maven Dependencies</strong></a></h3>
<p>ÄÃ¢y lÃ  thÆ° viá»‡n cá»§aÂ <code>Reactor</code>, chÃºng ta cÃ³ thá»ƒ láº¥y thÆ° viá»‡n má»›i nháº¥t táº¡iÂ Ä‘Ã¢y</p>
<pre><code>&lt;dependency&gt;&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;
    &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;
    &lt;version&gt;3.2.8.RELEASE&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<h3 id="táº¡o-ra-má»™t-luá»“ng-dá»¯-liá»‡u"><a class="header" href="#táº¡o-ra-má»™t-luá»“ng-dá»¯-liá»‡u"><strong>Táº¡o ra má»™t luá»“ng dá»¯ liá»‡u</strong></a></h3>
<p>Äá»ƒ cÃ³ má»™t á»©ng dá»±ng pháº£n á»©ng (reactive), Ä‘iá»u Ä‘áº§u tiÃªn chÃºng ta cáº§n pháº£i lÃ m lÃ  táº¡o ra má»™t luá»“ng dá»¯ liá»‡u. KhÃ´ng cÃ³ dá»¯ liá»‡u nÃ y chÃºng ta sáº½ khÃ´ng cÃ³ báº¥t cá»© Ä‘iá»u gÃ¬ Ä‘á»ƒ pháº£n á»©ng, Ä‘Ã³ lÃ  lÃ½ do táº¡i sao Ä‘Ã¢y lÃ  bÆ°á»›c Ä‘áº§u tiÃªn.</p>
<p><code>Reactor core</code>Â cung cáº¥p 2 loáº¡i dá»¯ liá»‡u cho phÃ©p chÃºng ta thá»±c hiá»‡n Ä‘iá»u nÃ y.</p>
<p><strong>Flux</strong></p>
<p>CÃ¡ch Ä‘áº§u tiÃªn Ä‘Ã³ lÃ  dÃ¹ngÂ <code>Flux</code>.Â <code>Flux</code>Â lÃ  má»™t luá»“ng cÃ³ thá»ƒ phÃ¡t raÂ <strong>0..n</strong>Â pháº§n tá»­. VÃ­ dá»¥ táº¡o Ä‘Æ¡n giáº£n:</p>
<pre><code class="language-java">Flux&lt;Integer&gt; just = Flux.just(1,2,3,4);
</code></pre>
<p><strong>Mono</strong></p>
<p>CÃ¡ch thá»© hai Ä‘Ã³ lÃ Â <code>Mono</code>.Â <code>Mono</code>Â lÃ  má»™t luá»“ng cÃ³ thá»ƒ phÃ¡t raÂ <strong>0..1</strong>Â pháº§n tá»­. NÃ³ hoáº¡t Ä‘á»™ng gáº§n giá»‘ng há»‡ nhÆ°Â <code>Flux</code>, chá»‰ lÃ  bá»‹ giá»›i háº¡n khÃ´ng quÃ¡ má»™t pháº§n tá»­. VÃ­ dá»¥:</p>
<pre><code class="language-java">Mono&lt;String&gt; just = Mono.just(&quot;atomPtit&quot;);
</code></pre>
<p>Äiá»u lÆ°u Ã½ ráº±ng cáº£Â <code>Flux</code>Â vÃ Â <code>Mono</code>Â Ä‘á» Ä‘Æ°á»£c triá»ƒn khai tá»« interfaceÂ <code>Publisher</code>. Cáº£ hai Ä‘á»u tuáº§n thá»§ tiÃªu chuáº©nÂ <code>Reactive</code>, chÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng interface nhÆ° sau:</p>
<pre><code class="language-java">Publisher&lt;String&gt; just = Mono.just(&quot;foo&quot;);
</code></pre>
<h3 id="subscribe"><a class="header" href="#subscribe"><strong>Subscribe()</strong></a></h3>
<p>HÃ£y luÃ´n ghi nhá»› ráº±ng:Â <strong>KhÃ´ng cÃ³ gÃ¬ xáº£y ra cho Ä‘áº¿n khi subscribe()</strong>Â .</p>
<p>TrongÂ <code>reactor</code>, khi báº¡n viáº¿t má»™tÂ <code>Publisher</code>, dá»¯ liá»‡u khÃ´ng báº¯t Ä‘áº§u Ä‘Æ°á»£c bÆ¡m vÃ o theo máº·c Ä‘á»‹nh. Thay vÃ o Ä‘Ã³, báº¡n táº¡o má»™t mÃ´ táº£ trá»«u tÆ°á»£ng vá» quy Ä‘á»‹nh khÃ´ng Ä‘á»“ng bá»™ cá»§a báº¡n(há»— trá»£ tÃ¡i sá»­ dá»¥ng).</p>
<p>Äá»ƒ hiá»ƒu rÃµ luá»“ng hoáº¡t Ä‘á»™ng hÃ£y theo dÃµi qua vÃ­ dá»¥ Ä‘Æ¡n giáº£n sau.</p>
<pre><code>&lt;dependency&gt;
    &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;
    &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;
    &lt;version&gt;3.2.8.RELEASE&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;
    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;
    &lt;version&gt;1.1.3&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<p>ChÃºng ta thÃªm thÆ° viá»‡nÂ <code>logback</code>. Äiá»u nÃ y sáº½ giÃºp chÃºng ta ghi nháº­t kÃ½ Ä‘áº§u ra cá»§a quÃ¡ trÃ¬nh hoáº¡t Ä‘á»™ngÂ <code>reactor</code>Â tá»« Ä‘Ã³ hiá»ƒu rÃµ hÆ¡n vá» luá»“ng dá»¯ liá»‡u.</p>
<pre><code class="language-java">public class ReactorCode {
    public static void main(String[] args) {
        List&lt;Integer&gt; elements = new ArrayList&lt;&gt;();
        Flux.just(1, 2, 3, 4)
                .log()
                .subscribe(elements::add);
    }
}

// OUTPUT:
/*
23:02:16.996 [main] DEBUG reactor.util.Loggers$LoggerFactory - Using Slf4j logging framework
23:02:17.014 [main] INFO  reactor.Flux.Array.1 - | onSubscribe([Synchronous Fuseable] FluxArray.ArraySubscription)
23:02:17.017 [main] INFO  reactor.Flux.Array.1 - | request(unbounded)
23:02:17.018 [main] INFO  reactor.Flux.Array.1 - | onNext(1)
23:02:17.018 [main] INFO  reactor.Flux.Array.1 - | onNext(2)
23:02:17.018 [main] INFO  reactor.Flux.Array.1 - | onNext(3)
23:02:17.018 [main] INFO  reactor.Flux.Array.1 - | onNext(4)
23:02:17.019 [main] INFO  reactor.Flux.Array.1 - | onComplete()
*/
</code></pre>
<p>HÃ£y nhÃ¬n vÃ o pháº§n output, má»i thá»© Ä‘á»u cháº¡y trÃªn main thread. BÃ¢y giá» chugn ta Ä‘i xem rÃµ tá»«ng dÃ²ng thá»±c thi: 1.Â <code>onSubscribe()</code>Â - Äiá»u nÃ y Ä‘Æ°á»£c gá»i thi chÃºng ra Ä‘Äƒng kÃ½ (subscriber()) luá»“ng</p>
<ol>
<li><code>request(unbounded)</code>Â - Khi chÃºng ta gá»i Ä‘Äƒng kÃ½, thÃ¬ hÃ m nÃ y Ä‘Æ°á»£c cháº¡y ngáº§m nháº±m Ã½ nghÄ©a táº¡o Ä‘Äƒng kÃ½. Trong trÆ°á»ng há»£p nÃ y cháº¡y máº·c Ä‘á»‹nh lÃ  unbounded (khÃ´ng giá»›i háº¡n), nghÄ©a lÃ  nÃ³ yÃªu cáº§u má»i pháº§n tá»­ cÃ³ sáºµn.</li>
<li><code>onNext()</code>Â - HÃ m nÃ y Ä‘Æ°á»£c gá»i cho má»i pháº§n tá»­ Ä‘Æ¡n.</li>
<li><code>onComplete()</code>Â - HÃ m nÃ y Ä‘Æ°á»£c gá»i sau cÃ¹ng sau khi nháº­n Ä‘Æ°á»£c pháº§n tá»­ cuá»‘i cÃ¹ng. Trong thá»±c cÃ³ thá»ƒ xáº£y ra cÃ¡c hÃ m khÃ¡c nhÆ°Â <code>onError()</code>, cÃ¡i mÃ  cÃ³ thá»ƒ Ä‘Æ°á»£c gá»i khi xáº£y ra má»™t exception.</li>
</ol>
<h3 id="so-sÃ¡nh-vá»›i-streams-java-8"><a class="header" href="#so-sÃ¡nh-vá»›i-streams-java-8"><strong>So sÃ¡nh vá»›i Streams Java 8</strong></a></h3>
<p>CÃ³ váº» nhiá»u ngÆ°á»i váº«n Ä‘ang nghÄ© sá»± tÆ°Æ¡ng Ä‘á»“ng vá»›i Stream trong Java 8:</p>
<pre><code class="language-java">List&lt;Integer&gt; collected = Stream.of(1, 2, 3, 4)
  .collect(toList());
</code></pre>
<p>Sá»± khÃ¡c biáº¿t cá»‘t lÃµi lÃ Â <code>Reactive</code>Â lÃ  má»™t hÃ¬nhÂ <strong>push</strong>Â (Ä‘áº©y) , trong khi Stream Java 8 lÃ  mÃ´ hÃ¬nhÂ <strong>pull</strong>Â (kÃ©o)</p>
<p>Streams Java 8 lÃ Â <code>terminal</code>Â - kÃ©o táº¥t cáº£ dá»¯ liá»‡u vÃ  tráº£ vá» má»™t káº¿t quáº£. Vá»›iÂ <code>Reactive</code>, chÃºng ta cÃ³ má»™t luá»“ng vÃ´ háº¡n Ä‘áº¿n tá»« má»™t nguá»“i tÃ i nguyÃªn bÃªn ngoÃ i, vá»›i nhiá»u ngÆ°á»i subscribe(). ChÃºng ta cÅ©ng cÃ³ thá»ƒ lÃ m nhá»¯ng viá»‡c nhÆ° káº¿t há»£p cÃ¡c luá»“ng, tiá»u tiáº¿t luá»“ng vÃ Â <code>backpressure</code>.</p>
<h3 id="backpressure"><a class="header" href="#backpressure"><strong>Backpressure</strong></a></h3>
<p>Trong vÃ­ dá»¥ trÃªn, ngÆ°á»i Ä‘Äƒng kÃ½ nÃ³i vá»›iÂ <code>Publisher</code>Â Ä‘áº©y tá»«ng pháº§n tá»­ má»™t. Äiá»u nÃ y cÃ³ thá»ƒ trá»Ÿ nÃªn quÃ¡ táº£i cho ngÆ°á»i Ä‘Äƒng kÃ½ pháº£i tiÃªu thá»¥ háº¿t táº¥t cáº£ tÃ i nguyÃªn cá»§a nÃ³.</p>
<p><strong>Backpressure</strong>Â Ä‘Æ¡n giáº£n chá»‰ lÃ  báº£o vá»›iÂ <code>Publisher</code>Â gá»­i cho nÃ³ Ã­t dá»¯ liá»‡u hÆ¡n Ä‘á»ƒ ngÄƒn cháº·n nÃ³ bá»‹ quÃ¡ táº£i.</p>
<p>VÃ­ dá»¥ dÆ°á»›i Ä‘Ã¢y, chÃºng ta sáº½ yÃªu cáº§u chá»‰ gá»­i 2 pháº§n tá»« cÃ¹ng má»™t lÃºc báº±ng cÃ¡ch sá»­ dá»¥ngÂ <code>request ()</code>:</p>
<pre><code class="language-java">Flux.just(1, 2, 3, 4)
  .log()
  .subscribe(new Subscriber&lt;Integer&gt;() {
    private Subscription s;
    int onNextAmount;

    @Override
    public void onSubscribe(Subscription s) {
        this.s = s;
        s.request(2);
    }

    @Override
    public void onNext(Integer integer) {
        elements.add(integer);
        onNextAmount++;
        if (onNextAmount % 2 == 0) {
            s.request(2);
        }
    }

    @Override
    public void onError(Throwable t) {}

    @Override
    public void onComplete() {}
});

//OUTPUT
/*
23:31:15.395 [main] INFO  reactor.Flux.Array.1 - | onSubscribe([Synchronous Fuseable] FluxArray.ArraySubscription)
23:31:15.397 [main] INFO  reactor.Flux.Array.1 - | request(2)
23:31:15.397 [main] INFO  reactor.Flux.Array.1 - | onNext(1)
23:31:15.398 [main] INFO  reactor.Flux.Array.1 - | onNext(2)
23:31:15.398 [main] INFO  reactor.Flux.Array.1 - | request(2)
23:31:15.398 [main] INFO  reactor.Flux.Array.1 - | onNext(3)
23:31:15.398 [main] INFO  reactor.Flux.Array.1 - | onNext(4)
23:31:15.398 [main] INFO  reactor.Flux.Array.1 - | request(2)
23:31:15.398 [main] INFO  reactor.Flux.Array.1 - | onComplete()
*/
</code></pre>
<p>BÃ¢y giá» chÃºng ta nhÃ¬n tháº¥y hÃ mÂ <code>request()</code>Â Ä‘Æ°á»£c gá»i trÆ°á»›c, tiáº¿p theo Ä‘Ã³ lÃ  2 hÃ mÂ <code>onNext()</code>Â thá»±c hiá»‡n, sau Ä‘Ã³ láº¡i lÃ Â <code>request()</code>.</p>
<h3 id="concurrency"><a class="header" href="#concurrency"><strong>Concurrency</strong></a></h3>
<p>Táº¥t cáº£ cÃ¡c vÃ­ dá»¥ trÃªn chÃºng ta Ä‘á»u Ä‘ang cháº¡y trÃªn má»™t luá»“ng chÃ­nh. Tuy nhiÃªn, chÃºng ta cÃ³ thá»ƒ kiá»ƒm soÃ¡t luá»“ng nÃ o mÃ  code cá»§a chÃºng ta cháº¡y náº¿u chÃºng ta muá»‘n. CÃ¡c intefaceÂ <code>Scheduler</code>Â cung cáº¥p má»™t sá»± trá»«u tÆ°á»£ng vá»›iÂ <code>asynchronous</code>.</p>
<pre><code class="language-java">public class ReactorCode {
    public static void main(String[] args) {
        ExecutorService service = Executors.newFixedThreadPool(10);
        Flux.just(1, 2, 3, 4)
                .log()
                .subscribeOn(Schedulers.fromExecutorService(service))
                .subscribe();

        Flux.just(5, 6, 7, 8)
                .log()
                .subscribeOn(Schedulers.fromExecutorService(service))
                .subscribe();
    }
}

//OUTPUT
/*
23:48:02.972 [main] DEBUG reactor.util.Loggers$LoggerFactory - Using Slf4j logging framework
23:48:02.996 [pool-1-thread-2] INFO  reactor.Flux.Array.2 - | onSubscribe([Synchronous Fuseable] FluxArray.ArraySubscription)
23:48:02.996 [pool-1-thread-1] INFO  reactor.Flux.Array.1 - | onSubscribe([Synchronous Fuseable] FluxArray.ArraySubscription)
23:48:03.000 [pool-1-thread-2] INFO  reactor.Flux.Array.2 - | request(unbounded)
23:48:03.000 [pool-1-thread-1] INFO  reactor.Flux.Array.1 - | request(unbounded)
23:48:03.001 [pool-1-thread-1] INFO  reactor.Flux.Array.1 - | onNext(1)
23:48:03.001 [pool-1-thread-2] INFO  reactor.Flux.Array.2 - | onNext(5)
23:48:03.001 [pool-1-thread-1] INFO  reactor.Flux.Array.1 - | onNext(2)
23:48:03.001 [pool-1-thread-2] INFO  reactor.Flux.Array.2 - | onNext(6)
23:48:03.001 [pool-1-thread-1] INFO  reactor.Flux.Array.1 - | onNext(3)
23:48:03.001 [pool-1-thread-2] INFO  reactor.Flux.Array.2 - | onNext(7)
23:48:03.001 [pool-1-thread-1] INFO  reactor.Flux.Array.1 - | onNext(4)
23:48:03.001 [pool-1-thread-2] INFO  reactor.Flux.Array.2 - | onNext(8)
23:48:03.002 [pool-1-thread-1] INFO  reactor.Flux.Array.1 - | onComplete()
23:48:03.002 [pool-1-thread-2] INFO  reactor.Flux.Array.2 - | onComplete()
*/
</code></pre>
<p>á» Ä‘Ã¢y chÃºng ta dÃ¹ngÂ ExecutorService, 2 luá»“ng code thá»±c hiá»‡n song song trÃªn 2 thread khÃ¡c nhau, Ä‘iá»u mÃ  Ä‘Ã£ chá»©ng minh báº±ng output.</p>
<h3 id="káº¿t-luáº­n"><a class="header" href="#káº¿t-luáº­n"><strong>Káº¿t luáº­n</strong></a></h3>
<p>Sau bÃ i viáº¿t nÃ y, chÃºng tÃ´i Ä‘Ã£ cÃ³ cÃ¡i nhÃ¬n tá»•ng quan vá»Â <code>Reactor Core</code>. Tá»« cÃ¡c táº¡o má»™tÂ <code>Publisher</code>Â , cÃ¡c Ä‘Äƒng kÃ½, backpressure cÅ©ng nhÆ° xá»­ lÃ½ khÃ´ng Ä‘á»“ng bá»™. ÄÃ¢y cÅ©ng lÃ  ná»n táº£ng Ä‘á»ƒ cho chÃºng tÃ´i viáº¿t cÃ¡i bÃ i viáº¿t khÃ¡c liÃªn quan vá»Â <code>Reactor Core</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="báº¡n-thá»±c-sá»±-Ä‘Ã£-biáº¿t-khi-nÃ o-dÃ¹ng-interface-khi-nÃ o-dÃ¹ng-abstract"><a class="header" href="#báº¡n-thá»±c-sá»±-Ä‘Ã£-biáº¿t-khi-nÃ o-dÃ¹ng-interface-khi-nÃ o-dÃ¹ng-abstract">Báº¡n thá»±c sá»± Ä‘Ã£ biáº¿t khi nÃ o dÃ¹ng Interface khi nÃ o dÃ¹ng Abstract?</a></h1>
<h3 id="tá»•ng-quan-1"><a class="header" href="#tá»•ng-quan-1">Tá»•ng quan</a></h3>
<p>Trong java, chÃºng ta cÃ³ <code>class</code> <code>abstract</code> vÃ  má»™t <code>Interface</code>, ai cÅ©ng biáº¿t má»™t class cÃ³ thá»ƒ <code>impements</code> nhiá»u <code>Interface</code> vÃ  chá»‰ káº¿ thá»«a Ä‘Æ°á»£c má»™t <code>class</code> <code>abstract</code>. NhÆ°ng báº¡n thá»±c sá»± Ä‘Ã£ biáº¿t khi nÃ o thÃ¬ ta dÃ¹ng <code>Interface</code>, khi nÃ o dÃ¹ng <code>Abstract</code>. ChÆ°a ká»ƒ báº¯t Ä‘áº§u tá»« Java 8 cÃ³ sá»± thay Ä‘á»•i vá» <code>Interface</code> cÃ ng lÃ m khÃ³ phÃ¢n biá»‡t giá»¯a hai loáº¡i nÃ y.</p>
<p>Trong bÃ i viáº¿t nÃ y chÃºng tÃ´i sáº½ Ä‘i so sÃ¡nh má»™t sá»‘ tÃ­nh cháº¥t cá»§a 2 loáº¡i nÃ y, sau Ä‘Ã³ lÃ  Ä‘Æ°a ra vÃ­ dá»¥ Ä‘Æ¡n giáº£i Ä‘á»ƒ cÃ¡c báº¡n hÃ¬nh dung rÃµ nháº¥t. Cuá»‘i cÃ¹ng lÃ  hiá»ƒu khi nÃ o thÃ¬ dÃ¹ng chÃºng.</p>
<h3 id="sá»±-khÃ¡c-nhau-giá»¯a-interface-vÃ -abstract"><a class="header" href="#sá»±-khÃ¡c-nhau-giá»¯a-interface-vÃ -abstract">Sá»± khÃ¡c nhau giá»¯a Interface vÃ  Abstract</a></h3>
<ol>
<li>Methods: Class <code>abstract</code> cÃ³ cÃ¡c phÆ°Æ¡ng thá»©c abstract vÃ  non-abstract. Trong khi <code>Interface</code> chá»‰ cÃ³ phÆ°Æ¡ng thá»©c abstract, tá»« Java 8, thÃ¬ Interface cÃ³ thÃªm 2 loáº¡i phÆ°Æ¡ng thá»©c lÃ  <code>default</code> vÃ  <code>static</code>.</li>
<li>Variables: Class <code>abstract</code> cÃ³ thá»ƒ cÃ³ cÃ¡c biáº¿n final, non-final, static vÃ  non-static. Trong khi <code>Interface</code> chá»‰ cÃ³ cÃ¡c biáº¿n static vÃ  final.</li>
<li>Implementation: Class <code>abstract</code> cÃ³ thá»ƒ implement cÃ¡c Interface. Trong khi <code>Interface</code> thÃ¬ khÃ´ng thá»ƒ implement class abstract.</li>
<li>Inheritance: Class <code>abstract</code> cÃ³ thá»ƒ káº¿ thá»«a Ä‘Æ°á»£c má»™t class khÃ¡c. Trong khi <code>Interface</code> cÃ³ thá»ƒ káº¿ thá»«a Ä‘Æ°á»£c nhiá»u Interface khÃ¡c.</li>
<li>Accessibility: cÃ¡c thÃ nh viÃªn trong <code>Interface</code> kiáº¿u máº·c Ä‘á»‹nh lÃ  <code>public</code>. Trong khi class <code>abstract</code> thÃ¬ láº¡i cÃ³ thá»ƒ lÃ  private, protected,..</li>
</ol>
<p><strong><em>Nguá»“n: <a href="https://loda.me">https://loda.me</a> - cÃ²n nhiá»u cÃ¡i hay ho láº¯m!</em></strong></p>
<h3 id="abstract-lÃ -gÃ¬"><a class="header" href="#abstract-lÃ -gÃ¬">Abstract lÃ  gÃ¬?</a></h3>
<p>Abstract(trá»«u tÆ°á»£ng) nghÄ©a lÃ  má»™t cÃ¡i gÃ¬ Ä‘Ã³ khÃ´ng hoÃ n toÃ n cá»¥ thá»ƒ, nÃ³ chá»‰ lÃ  má»™t Ã½ tÆ°á»Ÿng hoáº·c Ã½ chÃ­nh cá»§a má»™t cÃ¡i gÃ¬ Ä‘Ã³ mÃ  khÃ´ng cÃ³ báº£n triá»ƒn khai cá»¥ thá»ƒ. VÃ¬ váº­y Class abstract chá»‰ lÃ  má»™t cáº¥u trÃºc hoáº·c hÆ°á»›ng dáº«n Ä‘Æ°á»£c táº¡o cho cÃ¡c class cá»¥ thá»ƒ khÃ¡c.</p>
<p>ChÃºng ta cÃ³ thá»ƒ nÃ³i ráº±ng má»™t class abstract lÃ  linh há»“n cá»§a má»™t class cá»¥ thá»ƒ, vÃ  rÃµ rÃ ng má»™t cÆ¡ thá»ƒ (class) khÃ´ng thá»ƒ cÃ³ hai linh há»“n. ÄÃ¢y cÅ©ng lÃ  lÃ½ do Java khÃ´ng há»— trá»£ nhiá»u káº¿ thá»«a cho cÃ¡c class abstract.</p>
<p>HÃ£y nhÃ¬n vÃ o class abstract sau:
<em>Xe.class</em></p>
<pre><code>public abstract class Xe {
    private String dongCo;
     abstract void khoiDongDongCo();
     abstract void dungDongco();
}

</code></pre>
<p>ChÃºng tÃ´i táº¡o má»™t class abstract <code>Xe</code> cÃ³ thuá»™c tÃ­nh lÃ  <code>Ä‘á»™ng cÆ¡</code>, vÃ  cÃ¡c phÆ°Æ¡ng thá»©c khá»Ÿi Ä‘á»™ng/ dá»«ng Ä‘á»™ng cÆ¡. <code>Xe</code> lÃ  má»™t cÃ¡i gÃ¬ Ä‘Ã³ khÃ´ng cá»¥ thá»ƒ, nÃ³ cÃ³ thá»ƒ lÃ  Ã´ tÃ´, xe mÃ¡y, ... vÃ  rÃµ rÃ ng khÃ´ng cÃ³ <code>Xe</code> nÃ o mÃ  khÃ´ng tá»“n táº¡i Ä‘á»™ng cÆ¡ vÃ  cÆ¡ cháº¿ khá»Ÿi Ä‘á»™ng/dá»«ng Ä‘á»™ng cÆ¡ cáº£.</p>
<p><em>Oto.class</em></p>
<pre><code>public class Oto extends Xe {
    @Override
    void khoiDongDongCo() {
        System.out.println(&quot;Khá»Ÿi Ä‘á»™ng Ä‘á»™ng cÆ¡ cá»§a Ã´tÃ´&quot;);
    }

    @Override
    void dungDongco() {
        System.out.println(&quot;Dá»«ng Ä‘á»™ng cÆ¡ cá»§a Ã´tÃ´&quot;);
    }
}

</code></pre>
<h3 id="interface-lÃ -gÃ¬"><a class="header" href="#interface-lÃ -gÃ¬">Interface lÃ  gÃ¬?</a></h3>
<p>Interface (Giao diá»‡n) lÃ  má»™t hÃ¬nh thá»©c, giá»‘ng nhÆ° má»™t há»£p Ä‘á»“ng, nÃ³ khÃ´ng thá»ƒ tá»± lÃ m báº¥t cá»© Ä‘iá»u gÃ¬. NhÆ°ng khi cÃ³ má»™t class kÃ½ káº¿t há»£p Ä‘á»“ng (implement Interface) nÃ y, thÃ¬ class Ä‘Ã³ pháº£i tuÃ¢n theo há»£p Ä‘á»“ng nÃ y.</p>
<p>Trong Interface, chÃºng tÃ´i Ä‘á»‹nh nghÄ©a cÃ¡c hÃ nh vi cá»§a má»™t class sáº½ thá»±c hiá»‡n. Má»™t class cÃ³ thá»ƒ cÃ³ má»™t sá»‘ cÃ¡ch hÃ nh vi khÃ¡c nhau, cÅ©ng giá»‘ng nhÆ° nÃ³ cÃ³ thá»ƒ kÃ½ káº¿t Ä‘Æ°á»£c vá»›i nhiá»u há»£p Ä‘á»“ng khÃ¡c nhau. ÄÃ³ cÅ©ng lÃ  lÃ½ do táº¡i sao Java cho phÃ©p implement nhiá»u Interface.</p>
<p>Tiáº¿p ná»‘i vÃ­ dá»¥ trÃªn, <code>Xe</code> cÃ³ thá»ƒ di chuyá»ƒn, vÃ¬ váº­y chÃºng tÃ´i táº¡o má»™t Interface HÃ nh Ä‘á»™ng di chuyá»ƒn vÃ  class <code>Oto</code> implement nÃ³.</p>
<p><em>HanhDongDiChuyen.class</em></p>
<pre><code>public interface HanhDongDiChuyen {
    void diChuyen();
}

</code></pre>
<p>ÄÃ¢y lÃ  nhá»¯ng hÃ nh vi cá»§a <code>Oto</code>, chá»© khÃ´ng thuá»™c tÃ­nh sáºµn cÃ³ cá»§a nÃ³: <strong>Ã”tÃ´ lÃ  xe hÆ¡i, ngay cáº£ khi nÃ³ khÃ´ng thá»ƒ di chuyá»ƒn Ä‘Æ°á»£c!</strong></p>
<p><em>Oto.class</em></p>
<pre><code>public class Oto extends Xe implements HanhDongDiChuyen{
    @Override
    void khoiDongDongCo() {
        System.out.println(&quot;Khá»Ÿi Ä‘á»™ng Ä‘á»™ng cÆ¡ cá»§a Ã´tÃ´&quot;);
    }

    @Override
    void dungDongco() {
        System.out.println(&quot;Dá»«ng Ä‘á»™ng cÆ¡ cá»§a Ã´tÃ´&quot;);
    }

    @Override
    public void diChuyen() {
        System.out.println(&quot;Ã”tÃ´ Ä‘ang di chuyá»ƒn&quot;);
    }
}

</code></pre>
<h3 id="khi-nÃ o-nÃªn-dÃ¹ng"><a class="header" href="#khi-nÃ o-nÃªn-dÃ¹ng">Khi nÃ o nÃªn dÃ¹ng?</a></h3>
<ol>
<li>Class abstract Ä‘áº¡i diá»‡n cho má»‘i quan há»‡ &quot;IS - A&quot; (Ã”tÃ´ lÃ  Xe)</li>
<li>Interface Ä‘áº¡i diá»‡n cho má»‘i quan há»‡ &quot;like - A&quot; (Ã” tÃ´ cÃ³ thá»ƒ chuyá»ƒn Ä‘á»™ng).</li>
<li>Táº¡o má»™t class abstract khi báº¡n Ä‘ang cung cáº¥p cÃ¡c hÆ°á»›ng dáº«n cho má»™t class cá»¥ thá»ƒ.</li>
<li>Táº¡o Interface khi chÃºng ta cung cáº¥p cÃ¡c hÃ nh vi bá»• sung cho class cá»¥ thá»ƒ vÃ  nhá»¯ng hÃ nh vÃ¬ nÃ y khÃ´ng báº¯t buá»™c Ä‘á»‘i vá»›i clas Ä‘Ã³.</li>
</ol>
<h3 id="káº¿t-luáº­n-1"><a class="header" href="#káº¿t-luáº­n-1">Káº¿t luáº­n</a></h3>
<p>Má»¥c Ä‘Ã­ch cá»§a bÃ i viáº¿t nÃ y lÃ  Ä‘á»ƒ giÃºp báº¡n hiá»ƒu vÃ  náº¯m vá»¯ng class abstract, Interface vÃ  ká»‹ch báº£n sá»­ dá»¥ng. ThÃ´ng qua ná»• lá»±c toÃ n bá»™ bÃ i viáº¿t cá»§a chÃºng tÃ´i, chÃºng tÃ´i tin cháº¯c ráº±ng báº¡n Ä‘Ã£ hiá»ƒu Ä‘Æ°á»£c Ä‘iá»u gÃ¬ Ä‘Ã³. Cuá»‘i cÃ¹ng, cáº£m Æ¡n báº¡n Ä‘Ã£ Ä‘á»c bÃ i viáº¿t.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="java-concurrency-pháº§n-1-thread"><a class="header" href="#java-concurrency-pháº§n-1-thread">Java Concurrency (Pháº§n 1): Thread</a></h1>
<p>Source: <a href="https://viblo.asia/p/java-concurrency-phan-1-thread-GAWVpevY405">Java Concurrency (Pháº§n 1): Thread</a></p>
<h2 id="1-giá»›i-thiá»‡u"><a class="header" href="#1-giá»›i-thiá»‡u">1. Giá»›i thiá»‡u</a></h2>
<p>Láº­p trÃ¬nh Ä‘á»“ng thá»i (concurrency) trong Java Ä‘á» cáº­p Ä‘áº¿n kháº£ nÄƒng cá»§a má»™t chÆ°Æ¡ng trÃ¬nh Java thá»±c thi nhiá»u tÃ¡c vá»¥ Ä‘á»“ng thá»i hoáº·c song song, táº­n dá»¥ng tá»‘i Ä‘a cÃ¡c bá»™ xá»­ lÃ½ (CPU) Ä‘a lÃµi (core) hiá»‡n Ä‘áº¡i. Khi cÃ¡c á»©ng dá»¥ng ngÃ y cÃ ng trá»Ÿ nÃªn phá»©c táº¡p vÃ  Ä‘Ã²i há»i hiá»‡u suáº¥t cao hÆ¡n, láº­p trÃ¬nh Ä‘á»“ng thá»i trá»Ÿ thÃ nh yáº¿u tá»‘ thiáº¿t yáº¿u Ä‘á»ƒ cáº£i thiá»‡n hiá»‡u nÄƒng, kháº£ nÄƒng pháº£n há»“i vÃ  kháº£ nÄƒng má»Ÿ rá»™ng.
Java cung cáº¥p má»™t bá»™ cÃ´ng cá»¥ vÃ  cÃ¡c thÆ° viá»‡n phong phÃº giÃºp cÃ¡c nhÃ  phÃ¡t triá»ƒn táº¡o ra cÃ¡c á»©ng dá»¥ng Ä‘á»“ng thá»i, quáº£n lÃ½ nhiá»u luá»“ng (threads) vÃ  Ä‘iá»u phá»‘i cÃ¡c tÃ¡c vá»¥ má»™t cÃ¡ch hiá»‡u quáº£. Trong bÃ i viáº¿t nÃ y, chÃºng sáº½ khÃ¡m phÃ¡ cÃ¡c khÃ¡i niá»‡m cÆ¡ báº£n vá» láº­p trÃ¬nh Ä‘á»“ng thá»i trong Java.</p>
<p><img src="https://images.viblo.asia/full/dab66ffc-6006-45b9-a745-5e5a9f09d9da.png" alt="image.png" /></p>
<h2 id="2-Äá»‹nh-nghÄ©a-thread"><a class="header" href="#2-Äá»‹nh-nghÄ©a-thread">2. Äá»‹nh nghÄ©a Thread</a></h2>
<p>Má»™t thread lÃ  má»™t Ä‘Æ¡n vá»‹ thá»±c thi nhá» hÆ¡n má»™t process. <strong>Má»™t process cÃ³ thá»ƒ táº¡o ra nhiá»u thread trong quÃ¡ trÃ¬nh thá»±c thi</strong>. Táº¥t cáº£ cÃ¡c thread trong cÃ¹ng má»™t process sáº½ chia sáº», <strong>dÃ¹ng chung má»™t sá»‘ vÃ¹ng nhá»› vá»›i nhau</strong> (heap memory, static variables, metaspace, â€¦ pháº§n nÃ y mÃ¬nh sáº½ chia sáº» cá»¥ thá»ƒ hÆ¡n á»Ÿ má»™t bÃ i viáº¿t khÃ¡c). VÃ¬ váº­y, viá»‡c giao tiáº¿p giá»¯a cÃ¡c thread khÃ¡ Ä‘Æ¡n giáº£n vÃ  dá»… dÃ ng hÆ¡n so vá»›i giao tiáº¿p giá»¯a cÃ¡c process. NgoÃ i ra, viá»‡c táº¡o má»›i/há»§y thread Ä‘Æ¡n giáº£n vÃ  tá»‘n Ã­t cÃ´ng hÆ¡n so vá»›i viá»‡c táº¡o má»›i/há»§y má»™t process. VÃ¬ cÃ¡c lÃ½ do nÃ y, thread cÃ²n Ä‘Æ°á»£c gá»i lÃ  lightweight process.</p>
<p><img src="https://images.viblo.asia/full/cb4fb02e-990b-4290-bdb3-c7b3e9d030a1.png" alt="image.png" /></p>
<h2 id="3-cÃ¡ch-khá»Ÿi-táº¡o-thread"><a class="header" href="#3-cÃ¡ch-khá»Ÿi-táº¡o-thread">3. CÃ¡ch khá»Ÿi táº¡o thread</a></h2>
<p>ÄÃ¢y lÃ  má»™t cÃ¢u há»i thÆ°á»ng hay gáº·p trong phá»ng váº¥n. Báº¡n cÃ³ thá»ƒ tham kháº£o hoáº·c tráº£ lá»i nhÆ° sau:
Ta cÃ³ thá»ƒ phÃ¢n loáº¡i cÃ¡c cÃ¡ch khá»Ÿi táº¡o thread nhÆ° sau:</p>
<h3 id="31-táº¡o-trá»±c-tiáº¿p-thread"><a class="header" href="#31-táº¡o-trá»±c-tiáº¿p-thread">3.1. Táº¡o trá»±c tiáº¿p thread</a></h3>
<p>sá»­ dá»¥ng <code>new Thread().start()</code>.</p>
<pre><code>new Thread(() -&gt; resource.counter++).start();

</code></pre>
<h3 id="32-khai-bÃ¡o-thread-execution-method"><a class="header" href="#32-khai-bÃ¡o-thread-execution-method">3.2. Khai bÃ¡o Thread execution method</a></h3>
<h4 id="321-káº¿-thá»«a-class-thread"><a class="header" href="#321-káº¿-thá»«a-class-thread">3.2.1. Káº¿ thá»«a class Thread</a></h4>
<p>ÄÃ¢y lÃ  má»™t cÃ¡ch phá»• biáº¿n. ChÃºng ta táº¡o ra má»™t class má»›i káº¿ thá»«a class Thread vÃ  ghi Ä‘Ã¨ method run nhÆ° sau:</p>
<pre><code>public class ExtendsThread extends Thread {
    @Override
    public void run() {
        System.out.println(&quot;Do something&quot;);
    }

    public static void main(String[] args) {
        new ExtendsThread().start();
    }
}

</code></pre>
<h4 id="322-triá»ƒn-khai-interface-runnable"><a class="header" href="#322-triá»ƒn-khai-interface-runnable">3.2.2. Triá»ƒn khai interface Runnable</a></h4>
<p>ÄÃ¢y cÅ©ng lÃ  má»™t cÃ¡ch phá»• biáº¿n, implement Runnable interface vÃ  override method run, nhÆ° sau:</p>
<pre><code>public class ImplementsRunnable implements Runnable {
    @Override
    public void run() {
        System.out.println(&quot;Do something&quot;);
    }

    public static void main(String[] args) {
        ImplementsRunnable runnable = new ImplementsRunnable();
        new Thread(runnable).start();
    }
}

</code></pre>
<h4 id="323-triá»ƒn-khai-interface-callable"><a class="header" href="#323-triá»ƒn-khai-interface-callable">3.2.3. Triá»ƒn khai interface Callable</a></h4>
<p>TÆ°Æ¡ng tá»± nhÆ° method trÆ°á»›c, ngoáº¡i trá»« method nÃ y cÃ³ thá»ƒ nháº­n giÃ¡ trá»‹ tráº£ vá» sau khi Thread Ä‘Æ°á»£c thá»±c thi, nhÆ° sau:</p>
<pre><code>public class ImplementsCallable implements Callable&lt;String&gt; {
    @Override
    public String call() throws Exception {
        System.out.println(&quot;Do something&quot;);
        return &quot;test&quot;;
    }

    public static void main(String[] args) throws Exception {
        ImplementsCallable callable = new ImplementsCallable();
        FutureTask&lt;String&gt; futureTask = new FutureTask&lt;&gt;(callable);
        new Thread(futureTask).start();
        System.out.println(futureTask.get());
    }
}

</code></pre>
<h4 id="324-sá»­-dá»¥ng-class-áº©n-danh-hoáº·c-biá»ƒu-thá»©c-lambda"><a class="header" href="#324-sá»­-dá»¥ng-class-áº©n-danh-hoáº·c-biá»ƒu-thá»©c-lambda">3.2.4. Sá»­ dá»¥ng class áº©n danh hoáº·c biá»ƒu thá»©c Lambda</a></h4>
<pre><code>public class UseAnonymousClass {
    public static void main(String[] args) {
        new Thread(new Runnable() {
            @Override
            public void run() {
                System.out.println(&quot;AnonymousClass&quot;);
            }
        }).start();

        new Thread(() -&gt;
                System.out.println(&quot;Lambda&quot;)
        ).start();
    }
}

</code></pre>
<h3 id="33-táº¡o-giÃ¡n-tiáº¿p-thread"><a class="header" href="#33-táº¡o-giÃ¡n-tiáº¿p-thread">3.3. Táº¡o giÃ¡n tiáº¿p thread</a></h3>
<h4 id="331-sá»­-dá»¥ng-thread-pool-cá»§a-executorservice"><a class="header" href="#331-sá»­-dá»¥ng-thread-pool-cá»§a-executorservice">3.3.1. Sá»­ dá»¥ng thread pool cá»§a ExecutorService</a></h4>
<pre><code>public class UseExecutorService {
    public static void main(String[] args) {
        ExecutorService poolA = Executors.newFixedThreadPool(2);
        poolA.execute(() -&gt; {
            System.out.println(&quot;do something&quot;);
        });
}

</code></pre>
<h4 id="332-sá»­-dá»¥ng-thread-pool-hoáº·c-stream-song-song-parallel-stream"><a class="header" href="#332-sá»­-dá»¥ng-thread-pool-hoáº·c-stream-song-song-parallel-stream">3.3.2. Sá»­ dá»¥ng thread pool hoáº·c Stream song song (parallel stream)</a></h4>
<pre><code>public class UseForkJoinPool {
    public static void main(String[] args) {
        ForkJoinPool forkJoinPool = new ForkJoinPool();
        forkJoinPool.execute( () -&gt; {
            System.out.println(&quot;Do something&quot;);
        });

        List&lt;String&gt; list = Arrays.asList(&quot;e1&quot;);
        list.parallelStream().forEach(System.out::println);
    }
}

</code></pre>
<h4 id="333-sá»­-dá»¥ng-completablefuture"><a class="header" href="#333-sá»­-dá»¥ng-completablefuture">3.3.3. Sá»­ dá»¥ng CompletableFuture</a></h4>
<pre><code>public class UseCompletableFuture {
    public static void main(String[] args) throws InterruptedException {
        CompletableFuture&lt;String&gt; cf = CompletableFuture.supplyAsync(() -&gt; {
            System.out.println(&quot;5......&quot;);
            return &quot;test&quot;;
        });
        Thread.sleep(1000);
    }
}

</code></pre>
<h4 id="334-sá»­-dá»¥ng-class-timer"><a class="header" href="#334-sá»­-dá»¥ng-class-timer">3.3.4. Sá»­ dá»¥ng class Timer</a></h4>
<pre><code>public class UseTimer {
    public static void main(String[] args) {
        Timer timer = new Timer();

        timer.schedule(new TimerTask() {
            @Override
            public void run() {
                System.out.println(&quot;9......&quot;);
            }
        }, 0, 1000);
    }
}

</code></pre>
<p>Java chá»‰ cÃ³ má»™t cÃ¡ch Ä‘á»ƒ táº¡o thread má»™t cÃ¡ch trá»±c tiáº¿p, Ä‘Ã³ lÃ  thÃ´ng qua viá»‡c táº¡o new Thread().start(). Do Ä‘Ã³, cho dÃ¹ sá»­ dá»¥ng phÆ°Æ¡ng thá»©c nÃ o thÃ¬ cuá»‘i cÃ¹ng nÃ³ cÅ©ng phá»¥ thuá»™c vÃ o new Thread().start(). CÃ¡c Ä‘á»‘i tÆ°á»£ng Runnable, Callable, â€¦ chá»‰ lÃ  pháº§n thÃ¢n cá»§a Thread, tá»©c lÃ  tÃ¡c vá»¥ Ä‘Æ°á»£c cung cáº¥p cho Thread Ä‘á»ƒ thá»±c thi.</p>
<h2 id="4-tráº¡ng-thÃ¡i-cá»§a-thread"><a class="header" href="#4-tráº¡ng-thÃ¡i-cá»§a-thread">4. Tráº¡ng thÃ¡i cá»§a thread</a></h2>
<p><img src="https://images.viblo.asia/full/9e0a1831-55d3-48d9-8f04-21ab8bb96b91.png" alt="thread-status.png" /></p>
<p>Táº¡i má»™t thá»i Ä‘iá»ƒm, má»™t thread trong Java chá»‰ cÃ³ thá»ƒ á»Ÿ má»™t trong sÃ¡u tráº¡ng thÃ¡i trong vÃ²ng Ä‘á»i cá»§a nÃ³:</p>
<ul>
<li><code>NEW</code>: Khi Ä‘á»‘i tÆ°á»£ng thread Ä‘Æ°á»£c táº¡o, nÃ³ sáº½ chuyá»ƒn sang tráº¡ng thÃ¡i NEW, cháº³ng háº¡n nhÆ°: Thread t = new MyThread();</li>
<li><code>RUNNABLE</code>: Tráº¡ng thÃ¡i sáºµn sÃ ng Ä‘á»ƒ cháº¡y. Ta cÃ³ thá»ƒ hiá»ƒu, nÃ³ sáº½ Ä‘Æ°á»£c chia thÃ nh 2 trÆ°á»ng há»£p nhá» hÆ¡n: <strong>Ä‘ang cháº¡y hoáº·c Ä‘ang chá» Ä‘á»ƒ cháº¡y</strong>. VÃ­ dá»¥, khi sau, ta gá»i method start(), thread Ä‘Ã³ cÃ³ thá»ƒ chÆ°a cháº¡y Ä‘Æ°á»£c ngay mÃ  pháº£i Ä‘á»£i CPU schedule Ä‘á»ƒ cháº¡y.</li>
<li><code>BLOCKED</code>: Tráº¡ng thÃ¡i bá»‹ cháº·n, thread A Ä‘ang cá»‘ giÃ nh khÃ³a (lock) nhÆ°ng khoÃ¡ Ä‘ang giá»¯a bá»Ÿi thread B, thread A pháº£i Ä‘á»£i, bá»‹ blocked cho Ä‘áº¿n khi khoÃ¡ Ä‘Æ°á»£c giáº£i phÃ³ng.</li>
<li><code>TIME_WAITING</code>: Tráº¡ng thÃ¡i chá» cÃ³ thá»i gian chá», cÃ³ thá»ƒ tá»± Ä‘á»™ng quay trá»Ÿ láº¡i tráº¡ng thÃ¡i RUNNABLE sau khoáº£ng thá»i gian xÃ¡c Ä‘á»‹nh.</li>
<li><code>WAITING</code>: Tráº¡ng thÃ¡i chá», biá»ƒu thá»‹ ráº±ng thread A Ä‘ang chá» cÃ¡c thread khÃ¡c thá»±c hiá»‡n má»™t sá»‘ hÃ nh Ä‘á»™ng cá»¥ thá»ƒ, nhÆ° (notification) thÃ´ng bÃ¡o cho thread A hoáº·c (interruption) ngáº¯t thread A. KhÃ¡c vá»›i TIME_WAITING, tráº¡ng thÃ¡i WAITING khÃ´ng cÃ³ thá»i gian timeout, chá»‰ Ä‘Æ°á»£c wakeup khi cÃ³ thÃ´ng bÃ¡o tá»« thread khÃ¡c.</li>
<li><code>TERMINATED</code>: Tráº¡ng thÃ¡i káº¿t thÃºc, biá»ƒu thá»‹ ráº±ng thread Ä‘Ã£ hoÃ n thÃ nh cÃ´ng viá»‡c hoáº·c dá»«ng lai do gáº·p exception.</li>
</ul>
<h2 id="5-cÃ¡c-method-cÆ¡-báº£n-cá»§a-thread"><a class="header" href="#5-cÃ¡c-method-cÆ¡-báº£n-cá»§a-thread">5. CÃ¡c method cÆ¡ báº£n cá»§a thread</a></h2>
<h3 id="51-start"><a class="header" href="#51-start">5.1. start()</a></h3>
<p>Method start() khá»Ÿi táº¡o viá»‡c thá»±c thi má»™t thread. NÃ³ gá»i phÆ°Æ¡ng thá»©c run() Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh trong class thread hoáº·c runnable object. Thread sáº½ chuyá»ƒn tá»« tráº¡ng thÃ¡i NEW sang tráº¡ng thÃ¡i RUNNABLE sau khi method nÃ y Ä‘Æ°á»£c gá»i.</p>
<pre><code>public class Main {
    public static void main(String[] args) {
        Thread myThread = new Thread(new MyRunnable());
        myThread.start();
    }
}

</code></pre>
<h3 id="52-run"><a class="header" href="#52-run">5.2. run()</a></h3>
<p>Method run() chá»©a mÃ£ sáº½ Ä‘Æ°á»£c thá»±c thi trong luá»“ng.</p>
<pre><code>class MyRunnable implements Runnable {
    public void run() {
        System.out.println(&quot;This is a runnable.&quot;);
    }
}

</code></pre>
<h3 id="53-sleep-vÃ -wait"><a class="header" href="#53-sleep-vÃ -wait">5.3. sleep() vÃ  wait()</a></h3>
<p>Method <code>sleep()</code> lÃ m cho thread hiá»‡n Ä‘ang thá»±c thi á»Ÿ cháº¿ Ä‘á»™ ngá»§ (TIMED_WAITING) trong 1 khoáº£ng thá»i gian Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh (tÃ­nh báº±ng milliseconds).</p>
<p>Method wait() khiáº¿n thread hiá»‡n táº¡i Ä‘á»£i cho Ä‘áº¿n khi má»™t thread khÃ¡c gá»i notify() hoáº·c notifyAll() trÃªn cÃ¹ng má»™t object. Thread sáº½ chuyá»ƒn tá»« tráº¡ng thÃ¡i RUNNABLE sang tráº¡ng thÃ¡i WAITING náº¿u dÃ¹ng wait() khÃ´ng truyá»n thÃªm thá»i gian timeout, cÃ²n náº¿u truyá»n thÃªm thá»i gian timeout - wait(timeout) thÃ¬ thread sáº½ á»Ÿ tráº¡ng thÃ¡i <code>TIMED_WAITING</code>.</p>
<p>Sá»± khÃ¡c biá»‡t giá»¯a 2 method:</p>
<ul>
<li><strong>Method wait() cáº§n Ä‘Æ°á»£c Ä‘áº·t trong synchronized code, cÃ²n sleep() thÃ¬ khÃ´ng.</strong></li>
<li>Method sleep() khÃ´ng giáº£i phÃ³ng khÃ³a, trong khi method wait() sáº½ giáº£i phÃ³ng khÃ³a.</li>
<li>Method wait() thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng cho tÆ°Æ¡ng tÃ¡c/giao tiáº¿p giá»¯a cÃ¡c thread, cÃ²n sleep() thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ táº¡m dá»«ng thá»±c thi.</li>
<li>Sau khi method wait() Ä‘Æ°á»£c gá»i, thread sáº½ khÃ´ng tá»± Ä‘á»™ng thá»©c dáº­y; cáº§n má»™t luá»“ng khÃ¡c gá»i method notify() hoáº·c notifyAll() trÃªn cÃ¹ng má»™t Ä‘á»‘i tÆ°á»£ng Ä‘á»ƒ Ä‘Ã¡nh thá»©c luá»“ng Ä‘Ã³. Sau khi method sleep() Ä‘Æ°á»£c thá»±c thi, thread sáº½ tá»± Ä‘á»™ng thá»©c dáº­y (RUNNABLE).</li>
<li>sleep() lÃ  má»™t method static cá»§a class Thread, cÃ²n wait() lÃ  má»™t method cá»§a class Object.</li>
</ul>
<h3 id="54-notify-vÃ -notifyall"><a class="header" href="#54-notify-vÃ -notifyall">5.4. notify() vÃ  notifyAll()</a></h3>
<p>notify(): Ä‘á»‘i vá»›i táº¥t cáº£ cÃ¡c thread Ä‘ang chá» object monitor báº±ng cÃ¡ch sá»­ dá»¥ng báº¥t ká»³ method wait() nÃ o, method notify() thÃ´ng bÃ¡o cho má»™t trong sá»‘ cÃ¡c thread Ä‘Ã³ thá»©c dáº­y. <strong>Viá»‡c lá»±a chá»n chÃ­nh xÃ¡c thread nÃ o Ä‘Æ°á»£c Ä‘Ã¡nh thá»©c lÃ  máº«u nhiÃªn vÃ  chÃºng ta khÃ´ng thá»ƒ kiá»ƒm soÃ¡t Ä‘Æ°á»£c</strong> thread Ä‘Æ°á»£c Ä‘Ã¡nh thá»©c.
notifyAll(): PhÆ°Æ¡ng phÃ¡p nÃ y chá»‰ Ä‘Æ¡n giáº£n Ä‘Ã¡nh thá»©c táº¥t cáº£ cÃ¡c thread Ä‘ang chá» trÃªn object monitor.
MÃ¬nh sáº½ nÃ³i chi tiáº¿t hÆ¡n vá» cÃ¡c method nÃ y trong bÃ i giao tiáº¿p giá»¯a cÃ¡c threads.</p>
<h3 id="55-yield"><a class="header" href="#55-yield">5.5. yield()</a></h3>
<p>Method yield() lÃ m cho thread hiá»‡n Ä‘ang thá»±c thi táº¡m dá»«ng vÃ  cho phÃ©p cÃ¡c thread khÃ¡c thá»±c thi.
Má»i ngÆ°á»i lÆ°u Ã½, Ä‘Ã¢y chá»‰ lÃ  hint cho scheduler táº¡m dá»«ng thread, scheduler cÃ³ thá»ƒ bá» qua cÃ¡i hint nÃ y.
Method nÃ y cÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ tÃ¡i hiá»‡n bug do race condition. Tuy nhiÃªn, method nÃ y hiáº¿m khi Ä‘Æ°á»£c sá»­ dá»¥ng vÃ  <strong>mÃ¬nh recommend khÃ´ng dÃ¹ng method nÃ y trong production code</strong>.</p>
<h3 id="56-join"><a class="header" href="#56-join">5.6. join()</a></h3>
<p>Method <code>join()</code> cho phÃ©p má»™t thread chá» Ä‘á»£i má»™t thread khÃ¡c hoÃ n thÃ nh. Äiá»u nÃ y cÃ³ thá»ƒ há»¯u Ã­ch khi báº¡n cáº§n Ä‘áº£m báº£o hoÃ n thÃ nh má»™t sá»‘ nhiá»‡m vá»¥ nháº¥t Ä‘á»‹nh trÆ°á»›c khi tiáº¿p tá»¥c. Khi thread A gá»i method <code>join()</code> cá»§a thread B, thread A sáº½ chuyá»ƒn sang tráº¡ng thÃ¡i chá» ( <code>RUNNABLE â†’ WAITING</code>). NÃ³ váº«n á»Ÿ tráº¡ng thÃ¡i chá» cho Ä‘áº¿n khi thread B káº¿t thÃºc.</p>
<p>Giáº£ sá»­ báº¡n cáº§n thá»±c hiá»‡n má»™t sá»‘ lá»‡nh gá»i API Ä‘áº¿n cÃ¡c endpoints khÃ¡c nhau láº¥y dá»¯ liá»‡u Ä‘á»“ng thá»i. Má»—i lá»‡nh gá»i API Ä‘Æ°á»£c thá»±c hiá»‡n trong má»™t thread riÃªng biá»‡t vÃ  báº¡n muá»‘n Ä‘á»£i cho Ä‘áº¿n khi táº¥t cáº£ cÃ¡c thread hoÃ n thÃ nh yÃªu cáº§u API cá»§a chÃºng trÆ°á»›c khi tá»•ng há»£p (aggregate) káº¿t quáº£.</p>
<pre><code>String[] apiEndpoints = {
    &quot;https://api.example.com/data1&quot;,
    &quot;https://api.example.com/data2&quot;,
    &quot;https://api.example.com/data3&quot;
};

List&lt;Thread&gt; threads = new ArrayList&lt;&gt;();

List&lt;String&gt; results = new ArrayList&lt;&gt;();

for (String endpoint : apiEndpoints) {
    Thread thread = new Thread(() -&gt; {
        String response = makeApiCall(endpoint);
        synchronized (results) {
            results.add(response);
        }
    });
    threads.add(thread);
    thread.start();
}

// Wait for all threads to complete
try {
    for (Thread thread : threads) {
        thread.join();
    }
} catch (InterruptedException e) {
    e.printStackTrace();
}

// Process and aggregate results
results.forEach(response -&gt; System.out.println(&quot;API response: &quot; + response));

</code></pre>
<p>Náº¿u má»i ngÆ°á»i tháº¥y bÃ i viáº¿t há»¯u Ã­ch thÃ¬ nhá» má»i ngÆ°á»i share Ä‘á»ƒ ná»™i dung cá»§a Ronin Ä‘Æ°á»£c nhiá»u ngÆ°á»i biáº¿t hÆ¡n.</p>
<p>CÃ¡m Æ¡n má»i ngÆ°á»i. ğŸ™</p>
<hr />
<p>ğŸ§‘â€ğŸ’» 150+ Ronin Engineers: <a href="https://roninhub.com/">https://roninhub.com/</a></p>
<p>âœï¸ System Design VN: <a href="https://fb.com/groups/systemdesign.vn">https://fb.com/groups/systemdesign.vn</a></p>
<p>ğŸ“š TÃ i liá»‡u khÃ¡c: <a href="https://roninhub.com/tai-lieu">https://roninhub.com/tai-lieu</a></p>
<p>ğŸ¬ Youtube: <a href="https://youtube.com/@ronin-engineer">https://youtube.com/@ronin-engineer</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="java-8optional"><a class="header" href="#java-8optional">ã€ŒJava 8ã€Optional</a></h1>
<p><code>Java 8</code>Â ra Ä‘á»i cÃ¹ng vá»›i má»™t class má»›i tÃªn lÃ Â <code>Optional</code>. Nhiá»‡m vá»¥ cá»§a nÃ³ lÃ  kiá»ƒm soÃ¡tÂ <code>null</code>Â há»™ chÃºng ta.</p>
<h3 id="khÃ¡i-niá»‡m-optional"><a class="header" href="#khÃ¡i-niá»‡m-optional"><strong>KhÃ¡i niá»‡m Optional</strong></a></h3>
<p><code>Optional&lt;T&gt;</code>Â lÃ  má»™t Ä‘á»‘i tÆ°á»£ngÂ <code>Generic</code>, nhiá»‡m vá»¥ chÃ­nh cá»§a nÃ³ lÃ Â <strong>bá»c</strong>Â hayÂ <strong>wrapper</strong>Â láº¥y má»™t object khÃ¡c. NÃ³ chá»‰ chá»©a Ä‘Æ°á»£c má»™t object duy nháº¥t bÃªn trong.</p>
<p>Viá»‡c báº¡n láº¥y giÃ¡ trá»‹ cá»§a object bÃ¢y giá» sáº½ thÃ´ng quaÂ <code>Optional</code>Â vÃ  náº¿u object Ä‘Ã³Â <code>null</code>Â cÅ©ng khÃ´ng sao, vÃ¬ tháº±ngÂ <code>Optional</code>Â kiá»ƒm soÃ¡t nÃ³ cháº·t cháº½ hÆ¡n lÃ Â <code>if else</code>.</p>
<p>VÃ­ dá»¥ báº¡n cÃ³ má»™t Ä‘á»‘i tÆ°á»£ng báº¥t ká»³:</p>
<p>Khi chÃºng ta thá»±c hiá»‡n cÃ¡c thao tÃ¡c, chÃºng ta cÃ³ thá»ƒ kiá»ƒm tra nhÆ° tháº¿ nÃ y:</p>
<p>Hmmm..... trÃ´ng tháº¿ nÃ y thÃ¬ khÃ¡c Ä‘áº¿ch gÃ¬Â <code>if (str != null)</code>Â =))) Nhiá»u báº¡n sáº½ tá»± nghÄ©. ÄÃºng lÃ  nhÆ° váº­y, náº¿u nÃ³ chá»‰ lÃ m Ä‘Æ°á»£c Ä‘áº¿n Ä‘Ã¢y, thÃ¬ thÃ´i.. nghá»‰ má»‹a Ä‘ee huhu :((</p>
<p>BÃ¢y giá» mÃ¬nh sáº½ giá»›i thiá»‡u tá»«ng tÃ­nh nÄƒng láº§n lÆ°á»£t cá»§aÂ <code>Optional</code>Â Ä‘á»ƒ báº¡n tháº¥y nÃ³ kÃ¬ diá»‡u nhÆ° nÃ o.</p>
<h3 id="ifpresent"><a class="header" href="#ifpresent"><strong>ifPresent</strong></a></h3>
<p><code>ifPresent</code>Â nháº­n vÃ o má»™tÂ <code>Consumer</code>, nÃ³ cÅ©ng chá»‰ lÃ Â <code>Functional Interface</code>Â thÃ´i cÃ¡c báº¡n. Nháº­n vÃ o má»™t Ä‘á»‘i tÆ°á»£ng vÃ  thao tÃ¡c trÃªn nÃ³, khÃ´ng return gÃ¬ cáº£.</p>
<p>Náº¿u báº¡n chÆ°a rÃµÂ <code>Functional Interface</code>Â vÃ Â <code>Lambda Expression</code>Â thÃ¬ báº¡n cÃ³ thá»ƒ xem ngay Ä‘Ã¢y, dá»… hiá»ƒu lÃ©m:</p>
<p>Functional Interfaces &amp; Lambda Expressions cuÌ›Ì£c deÌ‚Ìƒ hieÌ‚Ì‰u</p>
<h3 id="orelse-vÃ -orelseget"><a class="header" href="#orelse-vÃ -orelseget"><strong>orElse() vÃ  orElseGet()</strong></a></h3>
<p><code>orElse()</code>Â láº¥y ra object trongÂ <code>Optional</code>. Náº¿uÂ <code>null</code>, tráº£ vá» giÃ¡ trá»‹ máº·c Ä‘á»‹nh do báº¡n quy Ä‘á»‹nh</p>
<p><code>orElseGet()</code>Â TÆ°Æ¡ng tá»±Â <code>orElse()</code>Â nhÆ°ng tráº£ ra báº±ngÂ <code>Supplier interface</code></p>
<h3 id="map"><a class="header" href="#map"><strong>map()</strong></a></h3>
<p><code>map()</code>Â giÃºp chÃºng ta biáº¿n Ä‘á»•i Ä‘á»‘i tÆ°á»£ng bÃªn trongÂ <code>Optional</code>.</p>
<p>mÃ¬nh sáº½ vÃ­ dá»¥ báº±ng code dá»… hiá»ƒu hÆ¡n.</p>
<p><code>code</code>Â trÃ´ng sÃ¡ng sá»§a hÆ¡n nhiá»u pháº£i khÃ´ng báº¡n :3</p>
<p>Trong code á»Ÿ trÃªn sá»­ dá»¥ngÂ <code>Method reference</code>, khÃ¡i niá»‡m nÃ y mÃ¬nh Ä‘Ã£ nÃ³i chi tiáº¿t táº¡i Ä‘Ã¢y:</p>
<p>HÆ°á»›ng dáº«n Method Reference vÃ  Lambda Expressions</p>
<p>KhÃ¡i niá»‡mÂ <code>map()</code>Â mÃ¬nh cÃ³ nÃ³i chi tiáº¿t táº¡i Ä‘Ã¢y:</p>
<p>Stream Trong Java 8 cá»±c dá»… hiá»ƒu!</p>
<h3 id="filter"><a class="header" href="#filter"><strong>filter()</strong></a></h3>
<p><code>filter()</code>Â giÃºp chÃºng ta kiá»ƒm tra giÃ¡ trá»‹ trongÂ <code>Optional</code>Â náº¿u khÃ´ng thá»a mÃ£n Ä‘iá»u kiá»‡n, tráº£ vá»Â <code>empty()</code></p>
<p>Tá»›i Ä‘Ã¢y mÃ¬nh Ä‘Ã£ giá»›i thiá»‡u xong vá»›i cÃ¡c báº¡n cÃ¡c tÃ­nh nÄƒng khÃ¡ hay ho cá»§aÂ <code>Optional</code>. NgoÃ i viá»‡c giÃºp chÃºng ta kiá»ƒm soÃ¡tÂ <code>NullException</code>Â thÃ¬ cÃ²n giÃºpÂ <code>code</code>Â cá»§a chÃºng ta sÃ¡ng sá»§a hÆ¡n ráº¥t nhiá»u vÃ  thuáº­n tiá»‡n hÆ¡n trong nhiá»u trÆ°á»ng há»£p yÃªu cáº§u Ä‘iá»u kiá»‡n phá»©c táº¡p</p>
<p>ChÃºc cÃ¡c báº¡n há»c táº­p thÃ nh cÃ´ng. VÃ  chá»› quÃªn like vÃ  share á»§ng há»™ nhÃ¡ ahihi :3</p>
<pre><code class="language-java">String str = null;
// Táº¡o ra má»™t Ä‘á»‘i tÆ°á»£ng Optional
Optional&lt;String&gt; optional = Optional.ofNullable(str);
// BÃ¢y giá» Optional Ä‘Ã£ wrap láº¥y cÃ¡i str.
</code></pre>
<pre><code class="language-java">if (optional.isPresent()) {
    System.out.println(opt.get()); // láº¥y ra cÃ¡i str mÃ¬nh Ä‘Ã£ wrapper
}
</code></pre>
<pre><code class="language-java">optional.ifPresent(s -&gt; System.out.println(s));
</code></pre>
<pre><code class="language-java">String b = optional.orElse(&quot;GiÃ¡ trá»‹ máº·c Ä‘á»‹nh&quot;);
</code></pre>
<pre><code class="language-java">String b = optional.orElseGet(() -&gt; {
    StringBuilder sb = new StringBuilder();
    // Thao tÃ¡c phá»©c táº¡p
    return sb.toString();
});
</code></pre>
<pre><code class="language-java">class Outfit{
    public String type;

    public String getType() { return type; }
}

class Girl{
    private Outfit outfit;

    public Outfit getOutfit() { return outfit; }
}

public String getOutfitType(Girl girl){
    return Optional.ofNullable(girl) // Táº¡o ra Optional wrap láº¥y girl
        .map(Girl::getOutfit) // náº¿u girl != null thÃ¬ láº¥y outfit ra xem kakaka :3 ngÆ°á»£c láº¡i tráº£ ra Optional.empty()
        .map(Outfit::getType) // náº¿u outfit != null thÃ¬ láº¥y ra xem type cá»§a nÃ³
        .orElse(&quot;KhÃ´ng máº·c gÃ¬&quot;); // Náº¿u cuá»‘i cÃ¹ng lÃ  Optional.empty() thÃ¬ tráº£ ra ngoÃ i KhÃ´ng máº·c gÃ¬.
}
</code></pre>
<pre><code class="language-java">public String getOutfitType(Girl girl){
    return Optional.ofNullable(girl) // Táº¡o ra Optional wrap láº¥y girl
        .map(Girl::getOutfit)
        .map(Outfit::getType)
        .filter(s -&gt; s.contains(&quot;bikini&quot;)) // NÃ³ chá»‰ cháº¥p nháº­n giÃ¡ trá»‹ bikini, cÃ²n láº¡i dÃ¹ khÃ¡c null thÃ¬ váº«n tráº£ ra ngoÃ i lÃ  Optiional.empty()
        .orElse(&quot;KhÃ´ng máº·c gÃ¬&quot;); // Náº¿u cuá»‘i cÃ¹ng lÃ  Optional.empty() thÃ¬ tráº£ ra ngoÃ i &quot;KhÃ´ng máº·c gÃ¬&quot;.
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="kho-lÆ°u-trá»¯-java-snippets"><a class="header" href="#kho-lÆ°u-trá»¯-java-snippets">Kho lÆ°u trá»¯ Java snippets</a></h1>
<p>Láº¥y tá»« <a href="https://github.com/iluwatar/30-seconds-of-java">iluwatar/30-seconds-of-java</a> vÃ  ráº¥t nhiá»u nguá»“n khÃ¡c nhau Ä‘á»ƒ tá»•ng há»£p vÃ  sá»­ dá»¥ng.</p>
<p>Repo nÃ y sáº½ khÃ´ng chá»©a Ä‘áº§y Ä‘á»§ toÃ n bá»™ cÃ¡c pháº§n tá»‡p vÃ  thÆ° má»¥c khÃ¡c cá»§a dá»± Ã¡n (Bao gá»“m <code>src/test</code>, <code>pom.xml</code> vÃ  tÆ°Æ¡ng tá»±). Báº¡n vui lÃ²ng ghÃ© qua Repository gá»‘c Ä‘á»ƒ nghá»‹ch nha.</p>
<p>Má»™t sá»‘ cÃ¡c <em>kho lÆ°u trá»¯</em> khÃ¡c:</p>
<ul>
<li><a href="java/snippets/kho-khac/van-de-hang-ngay.html">Má»™t sá»‘ Ä‘oáº¡n Java cho cÃ¡c váº¥n Ä‘á» hÃ ng ngÃ y</a></li>
<li><a href="https://java-design-patterns.com/">Java Design Patterns</a></li>
<li><a href="https://groups.inf.ed.ac.uk/cup/javaGithub/">GitHub Java Corpus</a> - Ráº¥t nhiá»u dá»± Ã¡n Java Ä‘á»ƒ há»c. Báº¡n cÃ³ thá»ƒ táº£i luÃ´n <a href="https://groups.inf.ed.ac.uk/cup/javaGithub/top_projects.tar.gz">top_projects.tar.gz 5.3MB</a> hoáº·c náº¿u Ä‘Æ°á»ng dáº«n trÃªn khÃ´ng Ä‘Æ°á»£c thÃ¬ <a href="java/snippets/archive/top_projects.tar.gz">báº¥m vÃ o Ä‘Ã¢y</a></li>
</ul>
<p><strong>LÆ°u Ã½:</strong> CÃ¡c pháº§n ná»™i dung Ä‘Æ°á»£c lÆ°u trong Repository nÃ y chá»‰ mang tÃ­nh cháº¥t lÆ°u trá»¯ vÃ  chia sáº». MÃ¬nh chá»‰ lÃ  ngÆ°á»i tá»•ng há»£p láº¡i thÃ´i.</p>
<h2 id="algorithm"><a class="header" href="#algorithm">Algorithm</a></h2>
<h3 id="binary-search-in-2d-array"><a class="header" href="#binary-search-in-2d-array">Binary Search In 2d Array</a></h3>
<pre><code class="language-java">public class BinarySearchIn2dArraySnippet {

  /**
  * Search an item with binarySearch algorithm.
  *
  * @param matrix should be sorted
  * @param target an item to search
  * @return if location of item is found, otherwise return {-1,-1}
  */
  public static int[] binarySearchIn2darr(int[][] matrix, int target) {
    int rows = matrix.length - 1;
    int cols = matrix[0].length - 1;

    if (rows == 1) {
      return binarySearch(matrix, target, 0, 0, cols);
    }

    int rstart = 0;
    int rend = rows;
    int cmid = cols / 2;

    while (rstart &lt; rend - 1) {
      int rmid = rstart + (rend - rstart) / 2;
      if (matrix[rmid][cmid] &gt; target) {
        rend = rmid;
      } else if (matrix[rmid][cmid] &lt; target) {
        rstart = rmid;
      } else {
        return new int[]{rmid, cmid};
      }
    }
    if (matrix[rstart][cmid] == target) {
      return new int[]{rstart, cmid};
    }
    if (matrix[rend][cmid] == target) {
      return new int[]{rend, cmid};
    }
    if (target &lt;= matrix[rstart][cmid - 1]) {
      return binarySearch(matrix, target, rstart, 0, cmid - 1);
    }
    if (target &gt;= matrix[rstart][cmid + 1]) {
      return binarySearch(matrix, target, rstart, cmid + 1, cols);
    }
    if (target &lt;= matrix[rend][cmid - 1]) {
      return binarySearch(matrix, target, rend, 0, cmid - 1);
    }
    if (target &lt;= matrix[rend][cmid + 1]) {
      return binarySearch(matrix, target, rend, cmid + 1, cols);
    }
    return new int[]{-1, -1};
  }

  static int[] binarySearch(int[][] matrix, int target, int row, int cstart, int cend) {
    while (cstart &lt;= cend) {
      int cmid = cstart + (cend - cstart) / 2;
      if (matrix[row][cmid] &gt; target) {
        cend = cmid - 1;
      } else if (matrix[row][cmid] &lt; target) {
        cstart = cend + 1;
      } else {
        return new int[]{row, cmid};
      }
    }
    return new int[]{-1, -1};
  }
}
</code></pre>
<h3 id="binary-search"><a class="header" href="#binary-search">Binary Search</a></h3>
<pre><code class="language-java">public class BinarySearchSnippet {

  /**
   * Search an item with binarySearch algorithm.
   *
   * @param arr sorted array to search
   * @param item an item to search
   * @return if item is found, return the index position of the array item otherwise return -1
   */

  public static int binarySearch(int[] arr, int left, int right, int item) {
    if (right &gt;= left) {
      int mid = left + (right - left) / 2;
      if (arr[mid] == item) {
        return mid;
      }

      if (arr[mid] &gt; item) {
        return binarySearch(arr, left, mid - 1, item);
      }

      return binarySearch(arr, mid + 1, right, item);
    }
    return -1;
  }   
}
</code></pre>
<h3 id="bubble-sort"><a class="header" href="#bubble-sort">Bubble Sort</a></h3>
<pre><code class="language-java">public class BubbleSortSnippet {

  /**
   * Sort an array with bubbleSort algorithm.
   *
   * @param arr array to sort
   */
  public static void bubbleSort(int[] arr) {
    var lastIndex = arr.length - 1;

    for (var j = 0; j &lt; lastIndex; j++) {
      for (var i = 0; i &lt; lastIndex - j; i++) {
        if (arr[i] &gt; arr[i + 1]) {
          var tmp = arr[i];
          arr[i] = arr[i + 1];
          arr[i + 1] = tmp;
        }
      }
    }
  }
}
</code></pre>
<h3 id="counting-sort"><a class="header" href="#counting-sort">Counting Sort</a></h3>
<pre><code class="language-java">public class CountingSortSnippet {

  /**
   * Sort an array having zero or positive numbers with countingSort algorithm.
   *
   * @param arr array to sort
   */
  public static void countingSort(int[] arr) {
    var max = Arrays.stream(arr).max().getAsInt();

    var count = new int[max + 1];

    for (var num : arr) {
      count[num]++;
    }

    for (var i = 1; i &lt;= max; i++) {
      count[i] += count[i - 1];
    }

    var sorted = new int[arr.length];
    for (var i = arr.length - 1; i &gt;= 0; i--) {
      var cur = arr[i];
      sorted[count[cur] - 1] = cur;
      count[cur]--;
    }

    var index = 0;
    for (var num : sorted) {
      arr[index++] = num;
    }
  }
}
</code></pre>
<h3 id="cycle-sort"><a class="header" href="#cycle-sort">Cycle Sort</a></h3>
<pre><code class="language-java">public class CycleSortSnippet {

  /**
   * Sort an array with cycleSort algorithm.
   *
   * @param arr array to sort
   */
  public static int[] cycleSort(int[] arr) {
    int n = arr.length;
    int i = 0;
    while (i &lt; n) {
      int correctpos = arr[i] - 1;
      if (arr[i] != arr[correctpos]) {
        int temp = arr[i];
        arr[i] = arr[correctpos];
        arr[correctpos] = temp;
      } else {
        i++;
      }
    }
    return arr;
  }
}
</code></pre>
<h3 id="insertion-sort"><a class="header" href="#insertion-sort">Insertion Sort</a></h3>
<pre><code class="language-java">public class InsertionSortSnippet {

  /**
   * Sort an array with insertionSort algorithm.
   *
   * @param arr array to sort
   */
  public static void insertionSort(int[] arr) {
    for (var i = 1; i &lt; arr.length; i++) {
      var tmp = arr[i];
      var j = i - 1;

      while (j &gt;= 0 &amp;&amp; arr[j] &gt; tmp) {
        arr[j + 1] = arr[j];
        j--;
      }
      arr[j + 1] = tmp;
    }
  }
}
</code></pre>
<h3 id="linear-search-in-2d-array"><a class="header" href="#linear-search-in-2d-array">Linear Search In 2d Array</a></h3>
<pre><code class="language-java">public class LinearSearchIn2dArraySnippet {

  /**
   * Search an item with linearSearch algorithm.
   *
   * @param arr    array to search
   * @param target an item to search
   * @return if location of target is found,otherwise return {-1,-1}
   */

  public static int[] linearSearch2dArray(int[][] arr, int target) {

    for (int i = 0; i &lt; arr.length; i++) {
      for (int j = 0; j &lt; arr[i].length; j++) {
        if (arr[i][j] == target) {
          return new int[]{i, j};
        }
      }
    }
    return new int[]{-1, -1};
  }
}
</code></pre>
<h3 id="linear-search"><a class="header" href="#linear-search">Linear Search</a></h3>
<pre><code class="language-java">public class LinearSearchSnippet {

  /**
   * Search an item with linearSearch algorithm.
   *
   * @param arr array to search
   * @param item an item to search
   * @return if item is found, return the index position of the array item otherwise return -1
   */
  public static int linearSearch(int[] arr, int item) {
    for (int i = 0; i &lt; arr.length; i++) {
      if (item == arr[i]) {
        return i;
      }
    }
    return -1;
  }
}
</code></pre>
<h3 id="luhn-mod-n"><a class="header" href="#luhn-mod-n">Luhn Mod N</a></h3>
<pre><code class="language-java">public class LuhnModnSnippet {

  private static final String CODE_POINTS = &quot;0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;

  /**
   * Generates a check character using the Luhn mod N algorithm.
   *
   * @param character the input string consisting of valid alphanumeric characters
   * @return the generated check character
   * @throws IllegalArgumentException if the input contains invalid characters
   */
  public static int codePointFromCharacter(char character) {
    if (CODE_POINTS.indexOf(character) == -1) {
      throw new IllegalArgumentException(&quot;Invalid character: &quot; + character);
    }
    return CODE_POINTS.indexOf(character);
  }

  /**
   * Converts a code point to its corresponding character.
   *
   * @param codePoint the code point to be converted
   * @return the character representation of the code point
   * @throws IllegalArgumentException if the code point is out of range.
   */
  public static char characterFromCodePoint(int codePoint) {
    if (codePoint &lt; 0 || codePoint &gt;= CODE_POINTS.length()) {
      throw new IllegalArgumentException(&quot;Invalid code point: &quot; + codePoint);
    }
    return CODE_POINTS.charAt(codePoint);
  }

  public static int numberOfValidInputCharacters() {
    return CODE_POINTS.length();
  }

  /**
   * Helper method to calculate the sum for both check character generation and validation.
   *
   * @param input the input string
   * @param factorStart the initial factor to start with (1 or 2)
   * @return the calculated sum, reminder, and the numberOfValidInputCharacters
   */
  private static int[] calculateSum(String input, int factorStart) {
    if (input == null || input.isEmpty()) {
      throw new IllegalArgumentException(&quot;Input cannot be empty&quot;);
    }

    int factor = factorStart;
    int sum = 0;
    int n = numberOfValidInputCharacters();

    for (int i = input.length() - 1; i &gt;= 0; i--) {
      int codePoint = codePointFromCharacter(input.charAt(i));
      int addend = factor * codePoint;
      factor = (factor == 2) ? 1 : 2;
      addend = (addend / n) + (addend % n);
      sum += addend;
    }
    return new int[]{sum, sum % n, n};
  }

  /**
   * Generates a check character for the given input string using the Luhn mod N algorithm.
   *
   * @param input the input string (non-empty)
   * @return the generated check character
   * @throws IllegalArgumentException if the input is null or empty
   */
  public static char generateCheckCharacter(String input) {
    int[] result = calculateSum(input, 2);
    return characterFromCodePoint((result[2] - result[1]) % result[2]);
  }

  /**
   * Validates a check character by applying the Luhn mod N algorithm.
   *
   * @param input the input string (including the check character)
   * @return true if the input passes validation, false otherwise
   * @throws IllegalArgumentException if the input is null or empty
   */
  public static boolean validateCheckCharacter(String input) {
    int[] result = calculateSum(input, 1);
    return (result[1] == 0);
  }
}
</code></pre>
<h3 id="merge-sort"><a class="header" href="#merge-sort">Merge Sort</a></h3>
<pre><code class="language-java">public class MergeSortSnippet {
  /**
   * Sort an array with qmergesort algorithm.
   *
   * @param arr   array to sort
   * @low low index where to begin sort (e.g. 0)
   * @high high index where to end sort (e.g. array length - 1)
   */

  public static void mergeSort(int[] arr, int low, int high) {
    if (low &gt;= high) {
      return;
    }
    var mid = (low + high) / 2;
    mergeSort(arr, low, mid);
    mergeSort(arr, mid + 1, high);
    merge(arr, low, high, mid);
  }

  private static void merge(int[] arr, int low, int high, int mid) {
    int[] temp = new int[(high - low + 1)];
    var i = low;
    var j = mid + 1;
    var k = 0;

    while (i &lt;= mid &amp;&amp; j &lt;= high) {
      if (arr[i] &lt; arr[j]) {
        temp[k++] = arr[i];
        i++;
      } else {
        temp[k++] = arr[j];
        j++;
      }
    }

    while (i &lt;= mid) {
      temp[k++] = arr[i];
      i++;
    }

    while (j &lt;= high) {
      temp[k++] = arr[j];
      j++;
    }

    for (int m = 0, n = low; m &lt; temp.length; m++, n++) {
      arr[n] = temp[m];
    }
  }
}
</code></pre>
<h3 id="quick-sort"><a class="header" href="#quick-sort">Quick Sort</a></h3>
<pre><code class="language-java">public class QuickSortSnippet {

  /**
   * Sort an array with quicksort algorithm.
   *
   * @param arr   array to sort
   * @param left  left index where to begin sort (e.g. 0)
   * @param right right index where to end sort (e.g. array length - 1)
   */
  public static void quickSort(int[] arr, int left, int right) {
    var pivotIndex = left + (right - left) / 2;
    var pivotValue = arr[pivotIndex];
    var i = left;
    var j = right;
    while (i &lt;= j) {
      while (arr[i] &lt; pivotValue) {
        i++;
      }
      while (arr[j] &gt; pivotValue) {
        j--;
      }
      if (i &lt;= j) {
        var tmp = arr[i];
        arr[i] = arr[j];
        arr[j] = tmp;
        i++;
        j--;
      }
      if (left &lt; i) {
        quickSort(arr, left, j);
      }
      if (right &gt; i) {
        quickSort(arr, i, right);
      }
    }
  }
}
</code></pre>
<h3 id="selection-sort"><a class="header" href="#selection-sort">Selection Sort</a></h3>
<pre><code class="language-java">public class SelectionSortSnippet {

  /**
   * Sort an array with selectionSort algorithm.
   *
   * @param arr array to sort
   */
  public static void selectionSort(int[] arr) {
    var len = arr.length;

    for (var i = 0; i &lt; len - 1; i++) {
      var minIndex = i;

      for (var j = i + 1; j &lt; len; j++) {
        if (arr[j] &lt; arr[minIndex]) {
          minIndex = j;
        }
      }

      var tmp = arr[minIndex];
      arr[minIndex] = arr[i];
      arr[i] = tmp;
    }
  }
}
</code></pre>
<h3 id="sieve-of-eratosthenes"><a class="header" href="#sieve-of-eratosthenes">Sieve of Eratosthenes</a></h3>
<pre><code class="language-java">public class SieveOfEratosthenesSnippet {
  /**
   * Search an item with binarySearch algorithm.
   *
   * @param n range of number.
   * @return isPrime boolean array where prime number 0 to n are mark true.
   */
  public static boolean[] sieveOfEratosthenes(int n) {
    boolean[] isPrime = new boolean[n + 1];
    for (int i = 0; i &lt; isPrime.length; i++) {
      isPrime[i] = true;
    }

    for (int i = 2; i * i &lt;= n; i++) {
      if (isPrime[i] == true) {
        for (int j = i * i; j &lt;= n; j += i) {
          isPrime[j] = false;
        }
      }
    }

    return isPrime;
  }
}
</code></pre>
<h3 id="verhoeff"><a class="header" href="#verhoeff">Verhoeff</a></h3>
<pre><code class="language-java">public class VerhoeffSnippet {

    private static final int[][] d = {
            {0, 1, 2, 3, 4, 5, 6, 7, 8, 9},
            {1, 0, 3, 2, 5, 4, 7, 6, 9, 8},
            {2, 3, 0, 1, 6, 7, 4, 5, 8, 9},
            {3, 2, 1, 0, 7, 6, 5, 4, 9, 8},
            {4, 5, 6, 7, 0, 1, 2, 3, 8, 9},
            {5, 4, 7, 6, 1, 0, 3, 2, 9, 8},
            {6, 7, 4, 5, 2, 3, 0, 1, 8, 9},
            {7, 6, 5, 4, 3, 2, 1, 0, 9, 8},
            {8, 9, 8, 9, 8, 9, 8, 9, 0, 1},
            {9, 8, 9, 8, 9, 8, 9, 8, 1, 0}
    };

    private static final int[][] p = {
            {0, 1, 2, 3, 4, 5, 6, 7, 8, 9},
            {1, 5, 7, 6, 2, 8, 3, 0, 9, 4},
            {5, 8, 0, 3, 7, 9, 6, 1, 4, 2},
            {8, 9, 1, 6, 0, 4, 3, 5, 2, 7},
            {9, 4, 5, 3, 1, 2, 6, 8, 7, 0},
            {4, 2, 8, 6, 5, 7, 3, 9, 0, 1},
            {2, 7, 9, 3, 8, 0, 6, 4, 1, 5},
            {7, 0, 4, 6, 9, 1, 3, 2, 5, 8}
    };

    private static final int[] inv = {0, 4, 3, 2, 1, 5, 6, 7, 8, 9};

    /**
     * Validates a number using the Verhoeff checksum algorithm.
     *
     * @param num the numeric string to validate
     * @return true if the number is valid according to Verhoeff algorithm, false otherwise
     */
    public static boolean validateVerhoeff(String num) {
        int c = 0;
        int length = num.length();

        // Adjust index for validation of the full number (including check digit)
        for (int i = 0; i &lt; length; i++) {
            int digit = Character.getNumericValue(num.charAt(length - i - 1));
            c = d[c][p[(i + 1) % 8][digit]]; // Correct permutation index
        }

        return c == 0; // Final checksum must be zero
    }

    /**
     * Generates a Verhoeff check digit for a given numeric string.
     *
     * @param num the numeric string for which to generate the check digit
     * @return the generated Verhoeff check digit as a string
     */
    public static String generateVerhoeff(String num) {
        int c = 0;
        int length = num.length();

        for (int i = 0; i &lt; length; i++) {
            int digit = Character.getNumericValue(num.charAt(length - i - 1));
            c = d[c][p[(i % 8)][digit]];
        }

        return Integer.toString(inv[c]);
    }

}
</code></pre>
<h2 id="array"><a class="header" href="#array">Array</a></h2>
<h3 id="all-equal"><a class="header" href="#all-equal">All Equal</a></h3>
<pre><code class="language-java">public class AllEqualSnippet {

  /**
   * Returns true if all elements in array are equal.
   *
   * @param arr the array to check (not null)
   * @param &lt;T&gt; the element type
   * @return true if all elements in the array are equal
   */
  public static &lt;T&gt; boolean allEqual(T[] arr) {
    return Arrays.stream(arr).distinct().count() == 1;
  }
}
</code></pre>
<h3 id="array-concat"><a class="header" href="#array-concat">Array Concat</a></h3>
<pre><code class="language-java">public class ArrayConcatSnippet {

  /**
   * Generic 2 array concatenation Credits: Joachim Sauer https://stackoverflow.com/questions/80476/how-can-i-concatenate-two-arrays-in-java
   *
   * @param first  is the first array (not null)
   * @param second is the second array (not null)
   * @param &lt;T&gt;    the element type
   * @return concatenated array
   */
  public static &lt;T&gt; T[] arrayConcat(T[] first, T[] second) {
    var result = Arrays.copyOf(first, first.length + second.length);
    System.arraycopy(second, 0, result, first.length, second.length);
    return result;
  }
}
</code></pre>
<h3 id="array-mean"><a class="header" href="#array-mean">Array Mean</a></h3>
<pre><code class="language-java">public class ArrayMeanSnippet {

  /**
   * Returns the mean of the integers in the array.
   *
   * @param arr the array of integers (not null)
   * @return a double representing the mean of the array
   */
  public static double arrayMean(int[] arr) {
    return (double) Arrays.stream(arr).sum() / arr.length;
  }
}
</code></pre>
<h3 id="array-median"><a class="header" href="#array-median">Array Median</a></h3>
<pre><code class="language-java">public class ArrayMedianSnippet {

  /**
   * Returns the median of the array.
   *
   * @param arr the array of integers (not null)
   * @return a double representing the median of the array
   */
  public static double arrayMedian(int[] arr) {
    Arrays.sort(arr);
    var mid = arr.length / 2;
    return arr.length % 2 != 0 ? (double) arr[mid] : (double) (arr[mid] + arr[mid - 1]) / 2;
  }
}
</code></pre>
<h3 id="array-mode-in-place"><a class="header" href="#array-mode-in-place">Array Mode In Place</a></h3>
<pre><code class="language-java">public class ArrayModeInPlaceSnippet {

  /**
  * Returns the mode of the array.
  *
  * @param arr array to find mode in it
  * @return mode of array
  */
  public static int modeArrayInPlace(int[] arr) {
    if (arr.length == 0) {
      return 0;
    }

    Arrays.sort(arr);

    int mode = arr[0];
    int maxcount = 1;
    int count = 1;

    for (int i = 1; i &lt; arr.length; i++) {
      if (arr[i] == arr[i - 1]) {
        count++;
      } else {
        if (count &gt; maxcount) {
          maxcount = count;
          mode = arr[i - 1];
        }
        count = 1;
      }
    }
    if (count &gt; maxcount) {
      mode = arr[arr.length - 1];
    }
    return mode;
  }
}
</code></pre>
<h3 id="array-mode"><a class="header" href="#array-mode">Array Mode</a></h3>
<pre><code class="language-java">public class ArrayModeSnippet {

    /**
     * Private constructor to prevent instantiation.
     */
    private ArrayModeSnippet() {
        throw new IllegalStateException(&quot;Utility class&quot;);
    }

    /**
     * Returns the mode(s) of the array.
     * If multiple modes exist, it returns them in a list.
     */
    public static List&lt;Integer&gt; modeArray(int[] arr) {
        int maxCount = 0;
        HashMap&lt;Integer, Integer&gt; frequencyMap = new HashMap&lt;&gt;();
        for (int num : arr) {
            frequencyMap.put(num, frequencyMap.getOrDefault(num, 0) + 1);
            maxCount = Math.max(maxCount, frequencyMap.get(num));
        }
        List&lt;Integer&gt; modes = new ArrayList&lt;&gt;();
        for (Map.Entry&lt;Integer, Integer&gt; entry : frequencyMap.entrySet()) {
            if (entry.getValue() == maxCount) {
                modes.add(entry.getKey());
            }
        }
        return modes;
    }
}
</code></pre>
<h3 id="array-sum"><a class="header" href="#array-sum">Array Sum</a></h3>
<pre><code class="language-java">public class ArraySumSnippet {

  /**
   * Returns sum of the integers in the array.
   *
   * @param arr the array of integers (not null)
   * @return the sum of the elements from the array
   */
  public static int arraySum(int[] arr) {
    return Arrays.stream(arr).sum();
  }
}
</code></pre>
<h3 id="find-max"><a class="header" href="#find-max">Find Max</a></h3>
<pre><code class="language-java">public class FindMaxSnippet {

  /**
   * Returns the maximum integer from the array using reduction.
   *
   * @param arr the array of integers (not null)
   * @return the maximum element from the array
   */
  public static int findMax(int[] arr) {
    return Arrays.stream(arr).reduce(Integer.MIN_VALUE, Integer::max);
  }
}
</code></pre>
<h3 id="find-min"><a class="header" href="#find-min">Find Min</a></h3>
<pre><code class="language-java">public class FindMinSnippet {
 
  /**
    * Returns the minimum integer from the array using reduction.
    *
    * @param arr the array of integers (not null)
    * @return the minimum element from the array
    */
  public static int findMin(int[] arr) {
    return Arrays.stream(arr).reduce(Integer.MAX_VALUE, Integer::min);
  }
}
</code></pre>
<h3 id="multi-array-concatenation"><a class="header" href="#multi-array-concatenation">Multi Array Concatenation</a></h3>
<pre><code class="language-java">public class MultiArrayConcatenationSnippet {

  /**
   * Generic N array concatenation Credits: Joachim Sauer https://stackoverflow.com/questions/80476/how-can-i-concatenate-two-arrays-in-java
   *
   * @param first is the first array (not null)
   * @param rest  the rest of the arrays (optional)
   * @param &lt;T&gt;   the element type
   * @return concatenated array
   */
  public static &lt;T&gt; T[] multiArrayConcat(T[] first, T[]... rest) {
    var totalLength = first.length;
    for (var array : rest) {
      totalLength += array.length;
    }
    var result = Arrays.copyOf(first, totalLength);
    var offset = first.length;
    for (var array : rest) {
      System.arraycopy(array, 0, result, offset, array.length);
      offset += array.length;
    }
    return result;
  }
}
</code></pre>
<h3 id="reverse-array"><a class="header" href="#reverse-array">Reverse Array</a></h3>
<pre><code class="language-java">public class ReverseArraySnippet {

  /**
   * The function then reverses the elements of the array between the starting and ending
   * indices using a while loop and a temporary variable `temp`. Finally, the function returns
   * the reversed array.
   *
   * @param array a array
   * @param start start index array
   * @param end end index array
   * @return reverses elements in the array
   * @throws IllegalArgumentException if the [start] index is greater
   *         than the [end] index or if the array is null
   **/
  public static &lt;T&gt; T[] reverseArray(T[] array, int start, int end) {
    if (start &gt; end || array == null) {
      throw new
              IllegalArgumentException(&quot;Invalid argument!&quot;);
    }
    int minimumSizeArrayForReversal = 2;
    if (start == end || array.length &lt; minimumSizeArrayForReversal) {
      return array;
    }
    while (start &lt; end) {
      T temp = array[start];
      array[start] = array[end];
      array[end] = temp;
      start++;
      end--;
    }
    return array;
  }
}
</code></pre>
<h2 id="class"><a class="header" href="#class">Class</a></h2>
<h3 id="creating-object"><a class="header" href="#creating-object">Creating Object</a></h3>
<pre><code class="language-java">public class CreatingObjectSnippet {

  /**
   * Create object using reflection.
   *
   * @param cls fully qualified name of class includes the package name as String
   * @return object
   * @throws NoSuchMethodException if a method that does not exist at runtime.
   * @throws IllegalAccessException &lt;p&gt;if an currently executing method does not have access to
   *     the definition of the specified class, field, method or constructor&lt;/p&gt;
   * @throws InvocationTargetException &lt;p&gt;InvocationTargetException is a checked exception
   *     that wraps an exception thrown by an invoked method or constructor.&lt;/p&gt;
   * @throws InstantiationException &lt;p&gt;when an method tries to create an instance of a class
   *     using the newInstance method in class Class.&lt;/p&gt;
   * @throws ClassNotFoundException &lt;p&gt;when an application tries to load in a class
   *     through its string name.&lt;/p&gt;
   */
  public static Object createObject(String cls)
          throws NoSuchMethodException,
          IllegalAccessException,
          InvocationTargetException,
          InstantiationException,
          ClassNotFoundException {
    var objectClass = Class.forName(cls);
    var objectConstructor = objectClass.getConstructor();
    return objectConstructor.newInstance();
  }
}
</code></pre>
<h3 id="get-all-field-names"><a class="header" href="#get-all-field-names">Get All Field Names</a></h3>
<pre><code class="language-java">public class GetAllFieldNamesSnippet {

  /**
   * Print all declared field names of the class or the interface the class extends.
   *
   * @param clazz Tested class
   * @return list of names of all fields
   */
  public static List&lt;String&gt; getAllFieldNames(final Class&lt;?&gt; clazz) {
    var fields = new ArrayList&lt;String&gt;();
    var currentClazz = clazz;
    while (currentClazz != null) {
      fields.addAll(
          Arrays.stream(currentClazz.getDeclaredFields())
              .filter(field -&gt; !field.isSynthetic())
              .map(Field::getName)
              .collect(Collectors.toList()));
      currentClazz = currentClazz.getSuperclass();
    }
    return fields;
  }
}
</code></pre>
<h3 id="get-all-methods"><a class="header" href="#get-all-methods">Get All Methods</a></h3>
<pre><code class="language-java">public class GetAllMethodsSnippet {

  /**
   * Print all declared methods of the class.
   *
   * @param cls Tested class
   * @return list of methods name
   */
  public static List&lt;String&gt; getAllMethods(final Class&lt;?&gt; cls) {
    return Arrays.stream(cls.getDeclaredMethods())
        .map(Method::getName)
        .collect(Collectors.toList());
  }
}
</code></pre>
<h3 id="get-all-public-field-names"><a class="header" href="#get-all-public-field-names">Get All Public Field Names</a></h3>
<pre><code class="language-java">public class GetAllPublicFieldNamesSnippet {

  /**
   * Print all declared public field names of the class or the interface the class extends.
   *
   * @param clazz Tested class
   * @return list of name of public fields
   */
  public static List&lt;String&gt; getAllPublicFieldNames(final Class&lt;?&gt; clazz) {
    return Arrays.stream(clazz.getFields())
        .map(Field::getName)
        .collect(Collectors.toList());
  }
}
</code></pre>
<h2 id="date"><a class="header" href="#date">Date</a></h2>
<h3 id="add-days-to-date"><a class="header" href="#add-days-to-date">Add Days To Date</a></h3>
<pre><code class="language-java">public class AddDaysToDateSnippet {

  /**
   * Add days to given date.
   *
   * @param date given date
   * @param noOfDays number of days to add
   * @return modified date
   */
  public static Date addDaysToDate(Date date, int noOfDays) {
    if (date != null) {
      Calendar cal = Calendar.getInstance();
      cal.setTime(date);
      cal.add(Calendar.DAY_OF_MONTH, noOfDays);
      return cal.getTime();
    }
    return null;
  }

  /**
   * Add days to local date.
   *
   * @param date given local date
   * @param noOfDays number of days to add
   * @return modified date
   */
  public static LocalDate addDaysToLocalDate(LocalDate date, long noOfDays) {
    return date != null ? date.plusDays(noOfDays) : null;
  }
}
</code></pre>
<h3 id="date-difference"><a class="header" href="#date-difference">Date Difference</a></h3>
<pre><code class="language-java">public class DateDifferenceSnippet {

  /**
  * This function calculates the number of years between two LocalDate objects.
  * If the result is negative, it returns the absolute value of the difference.
  *
  * @param firstTime  The first LocalDate object representing the starting date
  * @param secondTime The second LocalDate object representing the ending date
  * @return The number of years between the two LocalDate objects as a long data type
  */
  public static long getYearsDifference(LocalDate firstTime, LocalDate secondTime) {
    var yearsDifference = ChronoUnit.YEARS.between(firstTime, secondTime);
    return Math.abs(yearsDifference);
  }

  /**
   * This function calculates the number of months between two LocalDate objects.
   * If the result is negative, it returns the absolute value of the difference.
   *
   * @param firstTime  The first LocalDate object representing the starting date
   * @param secondTime The second LocalDate object representing the ending date
   * @return The number of months between the two LocalDate objects as a long data type
   */
  public static long getMonthsDifference(LocalDate firstTime, LocalDate secondTime) {
    var monthsDifference = ChronoUnit.MONTHS.between(firstTime, secondTime);
    return Math.abs(monthsDifference);
  }

  /**
   * This function calculates the number of days between two LocalDate objects.
   * If the result is negative, it returns the absolute value of the difference.
   *
   * @param firstTime  The first LocalDate object representing the starting date
   * @param secondTime The second LocalDate object representing the ending date
   * @return The number of days between the two LocalDate objects as a long data type
   */
  public static long getDaysDifference(LocalDate firstTime, LocalDate secondTime) {
    var daysDifference = ChronoUnit.DAYS.between(firstTime, secondTime);
    return Math.abs(daysDifference);
  }
}
</code></pre>
<h2 id="encoding"><a class="header" href="#encoding">Encoding</a></h2>
<h3 id="base64decode"><a class="header" href="#base64decode">Base64Decode</a></h3>
<pre><code class="language-java">public class Base64DecodeSnippet {

  /**
   * Decodes a Base64 encoded string to the actual representation.
   *
   * @param input base64 encoded string
   * @return decoded string
   */
  public static String decodeBase64(String input) {
    return new String(Base64.getDecoder().decode(input.getBytes()));
  }
}
</code></pre>
<h3 id="base64encode"><a class="header" href="#base64encode">Base64Encode</a></h3>
<pre><code class="language-java">public class Base64EncodeSnippet {
  /**
   * Encodes the input string to a Base64 encoded string.
   *
   * @param input string to be encoded
   * @return base64 encoded string
   */
  public static String encodeBase64(String input) {
    return Base64.getEncoder().encodeToString(input.getBytes());
  }
}
</code></pre>
<h2 id="file"><a class="header" href="#file">File</a></h2>
<h3 id="list-all-files"><a class="header" href="#list-all-files">List All Files</a></h3>
<pre><code class="language-java">public class ListAllFilesSnippet {

  /**
   * Recursively list all the files in directory.
   *
   * @param path the path to start the search from
   * @return list of all files
   */
  public static List&lt;File&gt; listAllFiles(String path) {
    var all = new ArrayList&lt;File&gt;();
    var list = new File(path).listFiles();
    if (list != null) {  // In case of access error, list is null
      for (var f : list) {
        if (f.isDirectory()) {
          all.addAll(listAllFiles(f.getAbsolutePath()));
        } else {
          all.add(f.getAbsoluteFile());
        }
      }
    }
    return all;
  }
}
</code></pre>
<h3 id="list-directories"><a class="header" href="#list-directories">List Directories</a></h3>
<pre><code class="language-java">public class ListDirectoriesSnippet {

  /**
   * List directories.
   *
   * @param path the path where to look
   * @return array of File
   */
  public static File[] listDirectories(String path) {
    return new File(path).listFiles(File::isDirectory);
  }
}
</code></pre>
<h3 id="list-files-in-directory"><a class="header" href="#list-files-in-directory">List Files In Directory</a></h3>
<pre><code class="language-java">public class ListFilesInDirectorySnippet {

  /**
   * List files in directory.
   *
   * @param folder the path where to look
   * @return array of File
   */
  public static File[] listFilesInDirectory(String folder) {
    return new File(folder).listFiles(File::isFile);
  }
}
</code></pre>
<h3 id="read-lines"><a class="header" href="#read-lines">Read Lines</a></h3>
<pre><code class="language-java">public class ReadLinesSnippet {

  /**
   * Read file as list of strings.
   *
   * @param filename the filename to read from
   * @return list of strings
   * @throws IOException if an I/O error occurs
   */
  public static List&lt;String&gt; readLines(String filename) throws IOException {
    return Files.readAllLines(Paths.get(filename));
  }
}
</code></pre>
<h3 id="zip-directory"><a class="header" href="#zip-directory">Zip Directory</a></h3>
<pre><code class="language-java">public class ZipDirectorySnippet {

  /**
   * Zip a complete directory.
   *
   * @param srcDirectoryName The path to the directory to be zipped
   * @param zipFileName The location and name of the zipped file.
   * @throws IOException if an I/O error occurs
   * */
  public static void zipDirectory(String srcDirectoryName, String zipFileName) throws IOException {
    var srcDirectory = new File(srcDirectoryName);
    try (
        var fileOut = new FileOutputStream(zipFileName);
        var zipOut = new ZipOutputStream(fileOut)
    ) {
      zipFile(srcDirectory, srcDirectory.getName(), zipOut);
    }
  }

  /**
   * Utility function which either zips a single file, or recursively calls itself for 
   * a directory to traverse down to the files contained within it.
   *
   * @param fileToZip The file as a resource
   * @param fileName The actual name of the file
   * @param zipOut The output stream to which all data is being written
   * */
  public static void zipFile(File fileToZip, String fileName, ZipOutputStream zipOut) 
      throws IOException {
    if (fileToZip.isHidden()) { // Ignore hidden files as standard
      return;
    }
    if (fileToZip.isDirectory()) {
      if (fileName.endsWith(&quot;/&quot;)) {
        zipOut.putNextEntry(new ZipEntry(fileName)); // To be zipped next
        zipOut.closeEntry();
      } else {
        // Add the &quot;/&quot; mark explicitly to preserve structure while unzipping action is performed
        zipOut.putNextEntry(new ZipEntry(fileName + &quot;/&quot;));
        zipOut.closeEntry();
      }
      var children = fileToZip.listFiles();
      for (var childFile : children) { // Recursively apply function to all children
        zipFile(childFile, fileName + &quot;/&quot; + childFile.getName(), zipOut);
      }
      return;
    }
    try (
        var fis = new FileInputStream(fileToZip) // Start zipping once we know it is a file
    ) {
      var zipEntry = new ZipEntry(fileName);
      zipOut.putNextEntry(zipEntry);
      var bytes = new byte[1024];
      var length = 0;
      while ((length = fis.read(bytes)) &gt;= 0) {
        zipOut.write(bytes, 0, length);
      }
    }
  }
}
</code></pre>
<h3 id="zip-file"><a class="header" href="#zip-file">Zip File</a></h3>
<pre><code class="language-java">public class ZipFileSnippet {

  /**
   * Zip single file.
   *
   * @param srcFilename the filename of the source file
   * @param zipFilename the filename of the destination zip file
   * @throws IOException if an I/O error occurs
   */
  public static void zipFile(String srcFilename, String zipFilename) throws IOException {
    var srcFile = new File(srcFilename);
    try (
            var fileOut = new FileOutputStream(zipFilename);
            var zipOut = new ZipOutputStream(fileOut);
            var fileIn = new FileInputStream(srcFile)
    ) {
      var zipEntry = new ZipEntry(srcFile.getName());
      zipOut.putNextEntry(zipEntry);
      final var bytes = new byte[1024];
      int length;
      while ((length = fileIn.read(bytes)) &gt;= 0) {
        zipOut.write(bytes, 0, length);
      }
    }
  }
}
</code></pre>
<h3 id="zip-files"><a class="header" href="#zip-files">Zip Files</a></h3>
<pre><code class="language-java">public class ZipFilesSnippet {

  /**
   * Zip multiples files.
   *
   * @param srcFilenames array of source file names
   * @param zipFilename  the filename of the destination zip file
   * @throws IOException if an I/O error occurs
   */
  public static void zipFiles(String[] srcFilenames, String zipFilename) throws IOException {
    try (
            var fileOut = new FileOutputStream(zipFilename);
            var zipOut = new ZipOutputStream(fileOut)
    ) {
      for (String srcFilename : srcFilenames) {
        var srcFile = new File(srcFilename);
        try (var fileIn = new FileInputStream(srcFile)) {
          var zipEntry = new ZipEntry(srcFile.getName());
          zipOut.putNextEntry(zipEntry);
          final var bytes = new byte[1024];
          int length;
          while ((length = fileIn.read(bytes)) &gt;= 0) {
            zipOut.write(bytes, 0, length);
          }
        }
      }
    }
  }
}
</code></pre>
<h2 id="io"><a class="header" href="#io">I/O</a></h2>
<h3 id="inputstream-to-string"><a class="header" href="#inputstream-to-string">InputStream To String</a></h3>
<pre><code class="language-java">public class InputStreamToStringSnippet {

  /**
   * Convert InputStream to String.
   *
   * @param inputStream InputStream to convert
   * @return String
   */
  public static String inputStreamToString(InputStream inputStream) {
    return new BufferedReader(new InputStreamReader(inputStream, StandardCharsets.UTF_8))
            .lines().collect(Collectors.joining(System.lineSeparator()));
  }
}
</code></pre>
<h3 id="read-file-snippet"><a class="header" href="#read-file-snippet">Read File Snippet</a></h3>
<pre><code class="language-java">public class ReadFileSnippet {

  /**
   * Read file using stream and return list of string lines.
   *
   * @param fileName file to read
   * @throws FileNotFoundException if an I/O error occurs
   */
  public static List&lt;String&gt; readFile(String fileName) throws FileNotFoundException {
    try (Stream&lt;String&gt; stream = new BufferedReader(new FileReader(fileName)).lines()) {
      return stream.collect(Collectors.toList());
    }
  }
}
</code></pre>
<h2 id="math"><a class="header" href="#math">Math</a></h2>
<h3 id="dice-throw"><a class="header" href="#dice-throw">Dice Throw</a></h3>
<pre><code class="language-java">public class DiceThrow {

  private static Random random = new Random();

  /**
  * Enum for standardized sided dice (4,6,8,10,12 and 20).
  */
  public enum DiceSides {

    FOUR(4), SIX(6), EIGHT(8), TEN(10), TWELVE(12), TWENTY(20);

    private final int diSides;

    DiceSides(int diceSides) {
      this.diSides = diceSides;
    }

    /**
     * Returns the number of sides of a dice.
     *
     * @return int denoting number of sides of a dice
     */
    public int getDiceSides() {
      return this.diSides;
    }

  }

  /**
  * Returns the sum of sides for the given number of sides of each dice.
  *
  * @param noOfDice number of dice
  * @param sides sides of a dice
  * @return int sum of sides for number of dice
  */
  public static int throwDice(int noOfDice, DiceSides sides) {

    int sum = 0;
    for (int i = 0; i &lt; noOfDice; i++) {
      sum = sum + (1 + random.nextInt(sides.getDiceSides()));
    }
    return sum;
  }
}
</code></pre>
<h3 id="elo-rating"><a class="header" href="#elo-rating">Elo Rating</a></h3>
<pre><code class="language-java">public class EloRatingSnippet {

  static final int BASE = 400; //Two types are popular - 400 and 480. We will choose 400 here
  static final int RATING_ADJUSTMENT_FACTOR = 32; //32 is the standard for Beginner Games

  /**
   * Elo Rating Snippet to calculate result after a single match.
   *
   * @param firstPlayerRating Rating of the first player.
   * @param secondPlayerRating Rating of the second player.
   * @param result Result of the match, always considered with respect to the first player.
   *               1 indicates a win, 0.5 indicates a draw and 0 indicates a loss.
   * @return Returns the new rating of the first player.
   */
  public static double calculateMatchRating(double firstPlayerRating, double secondPlayerRating,
      double result) {
    double ratingDiff = ((secondPlayerRating - firstPlayerRating) * 1.0) / BASE;
    double logisticDiff = Math.pow(10, ratingDiff);
    double firstPlayerExpectedScore = 1.0 / (1 + logisticDiff);
    double firstPlayerActualScore = result;
    double newRating = firstPlayerRating + RATING_ADJUSTMENT_FACTOR * (firstPlayerActualScore 
                       - firstPlayerExpectedScore);
    return newRating;
  }
}
</code></pre>
<h3 id="even-odd"><a class="header" href="#even-odd">Even Odd</a></h3>
<pre><code class="language-java">public class EvenOdd {

  /**
   * Returns string denoting number is odd or even.
   *
   * @param num To check whether its even or odd
   * @return string denoting its even or odd
   */
  public static String evenodd(int num) {
    if (num % 2 == 0) {
      return &quot;even&quot;;
    } else {
      return &quot;odd&quot;;
    }
  }
}
</code></pre>
<h3 id="factorial"><a class="header" href="#factorial">Factorial</a></h3>
<pre><code class="language-java">public class FactorialSnippet {

  /**
   * Factorial. Works only for small numbers
   *
   * @param number for which factorial is to be calculated for
   * @return factorial
   */
  public static int factorial(int number) {
    var result = 1;
    for (var factor = 2; factor &lt;= number; factor++) {
      result *= factor;
    }
    return result;
  }

  /**
   * Factorial. Example of what the recursive implementation looks like.
   *
   * @param number for which factorial is to be calculated for
   * @return factorial
   */
  public static int recursiveFactorial(int number) {
    var initial = 0;
    if (number == initial) {
      return initial + 1;
    }
    return number * recursiveFactorial(number - 1);
  }
}
</code></pre>
<h3 id="fibonacci"><a class="header" href="#fibonacci">Fibonacci</a></h3>
<pre><code class="language-java">public class FibonacciSnippet {

  /**
   * Recursive Fibonacci series. Works only for small n and is spectacularly inefficient
   *
   * @param n given number
   * @return fibonacci number for given n
   */
  public static int fibonacci(int n) {
    if (n &lt;= 1) {
      return n;
    } else {
      return fibonacci(n - 1) + fibonacci(n - 2);
    }
  }

  /**
   * Fibonacci series using dynamic programming. Works for larger ns as well.
   *
   * @param n given number
   * @return fibonacci number for given n
   */
  public static int fibonacciBig(int n) {
      int previous = 0;
      int current = 1;
      for (int i = 0; i &lt; n - 1; i++) {
          int t = previous + current;
          previous = current;
          current = t;
      }

      return current;
  }

  /**
   * Example of what an iterative implementation of Fibonacci looks like.
   *
   * @param number given number
   * @return fibonacci number for given n
   */
  public static int iterativeFibonacci(int number) {
    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();
    list.add(0);
    list.add(1);
    for (int i = 2; i &lt; number + 1; i++) {
      list.add(list.get(i - 2) + list.get(i - 1));
    }
    return list.get(number);
  }
}
</code></pre>
<h3 id="greatest-common-divisor"><a class="header" href="#greatest-common-divisor">Greatest Common Divisor</a></h3>
<pre><code class="language-java">public class GreatestCommonDivisorSnippet {

  /**
   * Greatest common divisor calculation.
   *
   * @param a one of the numbers whose gcd is to be computed
   * @param b other number whose gcd is to be computed
   * @return gcd of the two numbers
   */
  public static int gcd(int a, int b) {
    if (b == 0) {
      return a;
    }
    return gcd(b, a % b);
  }
}
</code></pre>
<h3 id="haversine-formula"><a class="header" href="#haversine-formula">Haversine Formula</a></h3>
<pre><code class="language-java">public class HaversineFormulaSnippet {

  // Radius of sphere on which the points are, in this case Earth.
  private static final double SPHERE_RADIUS_IN_KM = 6372.8;

  /**
   * Haversine formula for calculating distance between two latitude, longitude points.
   *
   * @param latA Latitude of point A
   * @param longA Longitude of point A
   * @param latB Latitude of point B
   * @param longB Longitude of point B
   * @return the distance between the two points.
   */
  public static double findHaversineDistance(double latA, double longA, double latB, double longB) {
    if (!isValidLatitude(latA)
        || !isValidLatitude(latB)
        || !isValidLongitude(longA)
        || !isValidLongitude(longB)) {
      throw new IllegalArgumentException();
    }

    // Calculate the latitude and longitude differences
    var latitudeDiff = Math.toRadians(latB - latA);
    var longitudeDiff = Math.toRadians(longB - longA);

    var latitudeA = Math.toRadians(latA);
    var latitudeB = Math.toRadians(latB);

    // Calculating the distance as per haversine formula
    var a = Math.pow(Math.sin(latitudeDiff / 2), 2)
            + Math.pow(Math.sin(longitudeDiff / 2), 2) * Math.cos(latitudeA) * Math.cos(latitudeB);
    var c = 2 * Math.asin(Math.sqrt(a));
    return SPHERE_RADIUS_IN_KM * c;
  }

  // Check for valid latitude value
  private static boolean isValidLatitude(double latitude) {
    return latitude &gt;= -90 &amp;&amp; latitude &lt;= 90;
  }

  // Check for valid longitude value
  private static boolean isValidLongitude(double longitude) {
    return longitude &gt;= -180 &amp;&amp; longitude &lt;= 180;
  }
}
</code></pre>
<h3 id="least-common-multiple"><a class="header" href="#least-common-multiple">Least Common Multiple</a></h3>
<pre><code class="language-java">public class LeastCommonMultipleSnippet {
  /**
   * Least common multiple  calculation.
   *
   * @param a one of the numbers whose lcm is to be computed
   * @param b other number whose lcm is to be computed
   * @return lcm of the two numbers
   */
  public static int lcm(int a, int b) {
    int max = a &gt; b ? a : b;
    int min = a &lt; b ? a : b;
    for (int i = 1; i &lt;= min; i += 1) {
      int prod = max * i;
      if (prod % min == 0) {
        return prod;
      }
    }
    return max * min;
  }
}
</code></pre>
<h3 id="luhn"><a class="header" href="#luhn">Luhn</a></h3>
<pre><code class="language-java">public class LuhnSnippet {

  /**
   * Calculates checksum for a given number with Luhn's algorithm. Works only on non-negative
   * integers not greater than {@link Long#MAX_VALUE} i.e., all numbers with a maximum of 18
   * digits, plus 19-digit-long numbers start with 1..8 (also some with 9, too). For
   * demonstration purposes, algorithm is not optimized for efficiency.
   *
   * @param num number whose checksum is to be calculated
   * @return checksum value for num
   * @see &lt;a href=&quot;https://patents.google.com/patent/US2950048A&quot;&gt;Hans P. LUHN's patent US2950048A&lt;/a&gt;
   * @see &lt;a href=&quot;https://en.wikipedia.org/wiki/Luhn_algorithm&quot;&gt;Luhn algorithm on Wikipedia&lt;/a&gt;
   */
  public static int calculateLuhnChecksum(long num) {
    if (num &lt; 0) {
      throw new IllegalArgumentException(&quot;Non-negative numbers only.&quot;);
    }
    final var numStr = String.valueOf(num);

    var sum = 0;
    var isOddPosition = true;
    // Loop on digits of numStr from right to left.
    for (var i = numStr.length() - 1; i &gt;= 0; i--) {
      final var digit = Integer.parseInt(Character.toString(numStr.charAt(i)));
      final var substituteDigit = (isOddPosition ? 2 : 1) * digit;

      final var tensPlaceDigit = substituteDigit / 10;
      final var onesPlaceDigit = substituteDigit % 10;
      sum += tensPlaceDigit + onesPlaceDigit;

      isOddPosition = !isOddPosition;
    }
    final var checksumDigit = (10 - (sum % 10)) % 10;
    // Outermost modulus handles edge case `num = 0`.
    return checksumDigit;
  }
}
</code></pre>
<h3 id="natural-number-binary-conversion"><a class="header" href="#natural-number-binary-conversion">Natural Number Binary Conversion</a></h3>
<pre><code class="language-java">public class NaturalNumberBinaryConversionSnippet {

  /**
   * Convert natural number to binary string. Only supports positive integers.Throws exception
   * for negative integers
   *
   * @param naturalNumber given number
   * @return Binary string representation of naturalNumber
   */
  public static String toBinary(long naturalNumber) {
    if (naturalNumber &lt; 0) {
      throw new NumberFormatException(&quot;Negative Integer, this snippet only accepts &quot;
              + &quot;positive integers&quot;);
    }
    if (naturalNumber == 0) {
      return &quot;0&quot;;
    }
    final Stack&lt;Long&gt; binaryBits =
            Stream.iterate(naturalNumber, n -&gt; n &gt; 0, n -&gt; n / 2).map(n -&gt; n % 2)
                    .collect(Stack::new, Stack::push, Stack::addAll);
    return Stream.generate(binaryBits::pop)
            .limit(binaryBits.size()).map(String::valueOf).collect(Collectors.joining());
  }

  /**
   * Convert binary string representation to Long valued Integer. Throws exception if input
   * string contains characters other than '0' and '1'
   *
   * @param binary given number
   * @return Unsigned Long value for the binary number
   */
  public static Long fromBinary(String binary) {
    binary.chars().filter(c -&gt; c != '0' &amp;&amp; c != '1').findFirst().ifPresent(in -&gt; {
      throw new NumberFormatException(
              &quot;Binary string contains values other than '0' and '1'&quot;);
    });
    return IntStream.range(0, binary.length())
            .filter(in -&gt; binary.charAt(binary.length() - 1 - in) == '1')
            .mapToLong(in -&gt; ((long) 0b1) &lt;&lt; in).sum();
  }
}
</code></pre>
<h3 id="perform-lottery"><a class="header" href="#perform-lottery">Perform Lottery</a></h3>
<pre><code class="language-java">public class PerformLotterySnippet {

  /**
   * Generate random lottery numbers.
   *
   * @param numNumbers    how many performLottery numbers are available (e.g. 49)
   * @param numbersToPick how many numbers the player needs to pick (e.g. 6)
   * @return array with the random numbers
   */
  public static Integer[] performLottery(int numNumbers, int numbersToPick) {
    var numbers = new ArrayList&lt;Integer&gt;();
    for (var i = 0; i &lt; numNumbers; i++) {
      numbers.add(i + 1);
    }
    Collections.shuffle(numbers);
    return numbers.subList(0, numbersToPick).toArray(new Integer[numbersToPick]);
  }
}
</code></pre>
<h3 id="prime-number"><a class="header" href="#prime-number">Prime Number</a></h3>
<pre><code class="language-java">public class PrimeNumberSnippet {

  /**
   * Checks if given number is a prime number. Prime number is a number that is greater than 1 and
   * divided by 1 or itself only Credits: https://en.wikipedia.org/wiki/Prime_number
   *
   * @param number number to check prime
   * @return true if prime
   */
  public static boolean isPrime(int number) {
    //if number &lt; 2 its not a prime number
    if (number &lt; 2) {
      return false;
    }
    // 2 and 3 are prime numbers
    if (number &lt; 3) {
      return true;
    }
    // check if n is a multiple of 2
    if (number % 2 == 0) {
      return false;
    }
    // if not, then just check the odds
    for (var i = 3; i * i &lt;= number; i += 2) {
      if (number % i == 0) {
        return false;
      }
    }
    return true;
  }
}
</code></pre>
<h3 id="random-number"><a class="header" href="#random-number">Random Number</a></h3>
<pre><code class="language-java">public class RandomNumber {

  private RandomNumber() {}
    
  private static Random random = new Random();
    
  /**
   * Return a random number between two given numbers.
   *
   * @param start Starting point to find the random number
   * @param end Ending point to find the random number
   * @return Number denoting the random number generated
   */
  public static &lt;T extends Number&gt; Number getRandomNumber(T start, T end) {
    
      if (start instanceof Byte &amp;&amp; end instanceof Byte) {
        return (byte) (start.byteValue()
                + random.nextInt(end.byteValue() - start.byteValue() + 1));
      } else if (start instanceof Short &amp;&amp; end instanceof Short) {
        return (short) (start.shortValue()
                + random.nextInt(end.shortValue() - start.shortValue() + 1));
      } else if (start instanceof Integer &amp;&amp; end instanceof Integer) {
        return start.intValue()
                + random.nextInt(end.intValue() - start.intValue() + 1);
      } else if (start instanceof Long &amp;&amp; end instanceof Long) {
        return start.longValue()
                + (long) (random.nextDouble() * end.longValue() - start.longValue() + 1);
      } else if (start instanceof Float &amp;&amp; end instanceof Float) {
        return start.floatValue()
                + random.nextFloat() * (end.floatValue() - start.floatValue());
      } else if (start instanceof Double &amp;&amp; end instanceof Double) {
        return start.doubleValue()
                + random.nextDouble() * (end.doubleValue() - start.doubleValue());
      } else {
        throw new IllegalArgumentException(&quot;Invalid Numbers As Arguments &quot;
                + start.getClass() + &quot; and &quot; + end.getClass());
        }
    }
}
</code></pre>
<h3 id="square-root"><a class="header" href="#square-root">Square Root</a></h3>
<pre><code class="language-java">public class SquareRoot {

  /**
   * Returns square root of a number.
   *
   * @param num To find SquareRoot
   * @param p   precision till how many decimal numbers we want accurate ans
   */
  public static double sqrt(int num, int p) {
    int start = 0;
    int end = num;
    double root = 0.0;

    while (start &lt;= end) {
      int mid = start + (end - start) / 2;

      if ((mid * mid) &gt; num) {
        end = mid - 1;
      } else if ((mid * mid) &lt; num) {
        start = mid + 1;
      } else {
        return mid;
      }
    }
    double incr = 0.1;
    for (int i = 0; i &lt; p; i++) {
      while (root * root &lt; num) {
        root = root + incr;
      }
      root = root - incr;
      incr = incr / 10;
    }
    return root;
  }
}
</code></pre>
<h2 id="media"><a class="header" href="#media">Media</a></h2>
<h3 id="capture-screen"><a class="header" href="#capture-screen">Capture Screen</a></h3>
<pre><code class="language-java">public class CaptureScreenSnippet {

  /**
   * Capture screenshot and save it to PNG file. Credits: https://viralpatel.net/blogs/how-to-take-screen-shots-in-java-taking-screenshots-java/
   *
   * @param filename the name of the file
   * @throws AWTException if the platform configuration does not allow low-level input control
   * @throws IOException  if an I/O error occurs
   */
  public static void captureScreen(String filename) throws AWTException, IOException {
    var screenSize = Toolkit.getDefaultToolkit().getScreenSize();
    var screenRectangle = new Rectangle(screenSize);
    var robot = new Robot();
    var image = robot.createScreenCapture(screenRectangle);
    ImageIO.write(image, &quot;png&quot;, new File(filename));
  }
}
</code></pre>
<h2 id="network"><a class="header" href="#network">Network</a></h2>
<h3 id="http-get"><a class="header" href="#http-get">HTTP GET</a></h3>
<pre><code class="language-java">public class HttpGetSnippet {

  /**
   * Performs HTTP GET request.
   *
   * @param uri the URI of the connection
   * @return response object
   * @throws Exception i/o error, interruption error, etc
   */
  public static HttpResponse&lt;String&gt; httpGet(String uri) throws Exception {
    var client = HttpClient.newHttpClient();
    var request = HttpRequest.newBuilder()
            .uri(URI.create(uri))
            .build();
    return client.send(request, HttpResponse.BodyHandlers.ofString());
  }
}
</code></pre>
<h3 id="http-post"><a class="header" href="#http-post">HTTP POST</a></h3>
<pre><code class="language-java">public class HttpPostSnippet {

  /**
   * Performs HTTP POST request. Credits https://stackoverflow.com/questions/3324717/sending-http-post-request-in-java
   *
   * @param address   the URL of the connection in String format, like &quot;http://www.google.com&quot;
   * @param arguments the body of the POST request, as a HashMap
   * @return response object
   * @throws IOException          if an I/O error occurs
   * @throws InterruptedException if the operation is interrupted
   */
  public static HttpResponse&lt;String&gt; httpPost(String address, HashMap&lt;String, String&gt; arguments)
          throws IOException, InterruptedException {
    var sj = new StringJoiner(&quot;&amp;&quot;);
    for (var entry : arguments.entrySet()) {
      sj.add(URLEncoder.encode(entry.getKey(), StandardCharsets.UTF_8) + &quot;=&quot;
              + URLEncoder.encode(entry.getValue(), StandardCharsets.UTF_8));
    }

    var out = sj.toString().getBytes(StandardCharsets.UTF_8);
    var request = HttpRequest.newBuilder()
            .uri(URI.create(address))
            .headers(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded; charset=UTF-8&quot;)
            .POST(HttpRequest.BodyPublishers.ofByteArray(out))
            .build();

    return HttpClient.newHttpClient().send(request, HttpResponse.BodyHandlers.ofString());
  }
}
</code></pre>
<h2 id="string"><a class="header" href="#string">String</a></h2>
<h3 id="anagram"><a class="header" href="#anagram">Anagram</a></h3>
<pre><code class="language-java">public class AnagramSnippet {

  /**
   * Checks if two words are anagrams (contains same characters with same frequency in any order).
   *
   * @param s1 The first string to be checked
   * @param s2 The second string to be checked
   * @return true if they are anagrams of each other
   */
  public static boolean isAnagram(String s1, String s2) {
    var l1 = s1.length();
    var l2 = s2.length();

    if (l1 != l2) {
      return false;
    }

    var arr1 = new int[256];
    var arr2 = new int[256];
    
    for (var i = 0; i &lt; l1; i++) {
      arr1[s1.charAt(i)]++;
      arr2[s2.charAt(i)]++;
    }
    return Arrays.equals(arr1, arr2);
  }
}
</code></pre>
<h3 id="common-letters"><a class="header" href="#common-letters">Common Letters</a></h3>
<pre><code class="language-java">public class CommonLettersSnippet {

  /**
   * Find Common Characters inside given two strings.
   *
   * @param firstStr  first string
   * @param secondStr second string
   * @return Common Characters.
   */
  public static String getCommonLetters(String firstStr, String secondStr) {
    Set&lt;String&gt; commonLetters = new HashSet&lt;&gt;();
    for (Character currentCharacter : firstStr.toCharArray()) {
      if (isCommonLetter(secondStr, currentCharacter)) {
        commonLetters.add(currentCharacter.toString());
      }
    }
    return String.join(&quot; &quot;, commonLetters);
  }

  private static boolean isCommonLetter(String str, Character character) {
    return str.contains(character.toString()) &amp;&amp; Character.isLetter(character);
  }
}
</code></pre>
<h3 id="compare-version"><a class="header" href="#compare-version">Compare Version</a></h3>
<pre><code class="language-java">public class CompareVersionSnippet {

  private static final String EXTRACT_VERSION_REGEX = &quot;.*?((?&lt;!\\w)\\d+([.-]\\d+)*).*&quot;;

  /**
   * Compares two version strings.
   * Credits: https://stackoverflow.com/a/6702000/6645088 and https://stackoverflow.com/a/44592696/6645088
   *
   * @param v1 the first version string to compare
   * @param v2 the second version string to compare
   * @return the value {@code 0} if the two strings represent same versions;
   *     a value less than {@code 0} if {@code v1} is greater than {@code v2}; and
   *     a value greater than {@code 0} if {@code v2} is greater than {@code v1}
   */
  public static int compareVersion(String v1, String v2) {
    var components1 = getVersionComponents(v1);
    var components2 = getVersionComponents(v2);
    int length = Math.max(components1.length, components2.length);
    for (int i = 0; i &lt; length; i++) {
      Integer c1 = i &lt; components1.length ? Integer.parseInt(components1[i]) : 0;
      Integer c2 = i &lt; components2.length ? Integer.parseInt(components2[i]) : 0;
      int result = c1.compareTo(c2);
      if (result != 0) {
        return result;
      }
    }
    return 0;
  }

  private static String[] getVersionComponents(String version) {
    return version.replaceAll(EXTRACT_VERSION_REGEX, &quot;$1&quot;).split(&quot;\\.&quot;);
  }
}
</code></pre>
<h3 id="duplicate-character"><a class="header" href="#duplicate-character">Duplicate Character</a></h3>
<pre><code class="language-java">public class DuplicateCharacterSnippet {

  /**
   * Remove Duplicate Characters from a string.
   *
   * @param str The string to be processed
   * @return A string with no duplicate characters
   */

  public static String removeDuplicateCharacters(String str) {
    char[] charsOfStr = str.toCharArray();
    Set&lt;String&gt; uniqueCharacters = new HashSet&lt;&gt;();
    for (char character : charsOfStr) {
      uniqueCharacters.add(String.valueOf(character));
    }
    return String.join(&quot;&quot;, uniqueCharacters);
  }
}
</code></pre>
<h3 id="levenshtein-distance"><a class="header" href="#levenshtein-distance">Levenshtein Distance</a></h3>
<pre><code class="language-java">public class LevenshteinDistanceSnippet {

  /**
   * Find the Levenshtein distance between two words. https://en.wikipedia.org/wiki/Levenshtein_distance
   *
   * @param word1 first word
   * @param word2 second word
   * @return distance
   */
  public static int findLevenshteinDistance(String word1, String word2) {
    // If word2 is empty, removing
    int[][] ans = new int[word1.length() + 1][word2.length() + 1];
    for (int i = 0; i &lt;= word1.length(); i++) {
      ans[i][0] = i;
    }
    // if word1 is empty, adding
    for (int i = 0; i &lt;= word2.length(); i++) {
      ans[0][i] = i;
    }
    // None is empty
    for (int i = 1; i &lt;= word1.length(); i++) {
      for (int j = 1; j &lt;= word2.length(); j++) {
        int min = Math.min(Math.min(ans[i][j - 1], ans[i - 1][j]), ans[i - 1][j - 1]);
        ans[i][j] = word1.charAt(i - 1) == word2.charAt(j - 1) ? ans[i - 1][j - 1] : min + 1;
      }
    }
    return ans[word1.length()][word2.length()];
  }
}
</code></pre>
<h3 id="lindenmayer-system"><a class="header" href="#lindenmayer-system">Lindenmayer System</a></h3>
<pre><code class="language-java">public class LindenmayerSystemSnippet {
  /**
   * Generates an L-system string based on axiom, production rules, and a number of iterations.
   *
   * @param axiom           initial string to begin the L-system
   * @param productionRules map of character rules where each symbol can be replaced with a string
   * @param iterations      number of iterations to apply the production rules
   * @return the generated string after all iterations
   */
  public static String generateLindenmayerSystem(
          String axiom,
          Map&lt;Character, String&gt; productionRules,
          int iterations
  ) {
    String current = axiom;

    for (int i = 0; i &lt; iterations; i++) {
      StringBuilder nextIteration = new StringBuilder(current.length() * 2);

      // Replace each symbol with the corresponding production rule or the symbol itself
      current.chars()
          .mapToObj(c -&gt; (char) c)
          .forEach(symbol -&gt;
                  nextIteration.append(
                          productionRules.getOrDefault(symbol, String.valueOf(symbol))
                  )
          );

      current = nextIteration.toString();
    }
    return current;
  }
}
</code></pre>
<h3 id="max-character-count"><a class="header" href="#max-character-count">Max Character Count</a></h3>
<pre><code class="language-java">public class MaxCharacterCountSnippet {

  /**
   * The maximum count of times a specific character appears in a string.
   *
   * @param str ÙA specific string
   * @param character A specific character
   * @return the maximum count of one character
   */

  public static int getMaxCharacterCount(String str, char character) {
    int characterCount = 0;
    int maxCharacterCount = 0;
    for (int i = 0; i &lt; str.length(); i++) {
      if ((str.charAt(i)) == character) {
        characterCount++;
        maxCharacterCount = Math.max(maxCharacterCount, characterCount);
      } else {
        characterCount = 0;
      }
    }
    return maxCharacterCount;
  }
}
</code></pre>
<h3 id="palindrome-check"><a class="header" href="#palindrome-check">Palindrome Check</a></h3>
<pre><code class="language-java">public class PalindromCheckSnippet {

  /**
   * Checks if given string is palindrome (same forward and backward). Skips non-letter characters
   * Credits: https://github.com/kousen/java_8_recipes
   *
   * @param s string to check
   * @return true if palindrome
   */
  public static boolean isPalindrome(String s) {
    for (int i = 0, j = s.length() - 1; i &lt; j; i++, j--) {
      while (i &lt; j &amp;&amp; !Character.isLetter(s.charAt(i))) {
        i++;
      }
      while (i &lt; j &amp;&amp; !Character.isLetter(s.charAt(j))) {
        j--;
      }

      if (Character.toLowerCase(s.charAt(i)) != Character.toLowerCase(s.charAt(j))) {
        return false;
      }
    }

    return true;
  }
}
</code></pre>
<h3 id="reverse-string"><a class="header" href="#reverse-string">Reverse String</a></h3>
<pre><code class="language-java">public class ReverseStringSnippet {

  /**
   * Reverse string.
   *
   * @param s the string to reverse
   * @return reversed string
   */
  public static String reverseString(String s) {
    return new StringBuilder(s).reverse().toString();
  }
}
</code></pre>
<h3 id="string-to-date"><a class="header" href="#string-to-date">String To Date</a></h3>
<pre><code class="language-java">public class StringToDateSnippet {

  /**
   * Convert string to date.
   *
   * @param date   the date string
   * @param format expected date format
   * @return Date
   * @throws ParseException in case of an unparseable date string
   */
  public static Date stringToDate(String date, String format) throws ParseException {
    var simpleDateFormat = new SimpleDateFormat(format);
    return simpleDateFormat.parse(date);
  }
}
</code></pre>
<h3 id="kmp-substring-search-algorithm"><a class="header" href="#kmp-substring-search-algorithm">KMP Substring Search Algorithm</a></h3>
<pre><code class="language-java">public class KMPSubstringSearchSnippet {

    /**
     * Implements the Knuth-Morris-Pratt (KMP) algorithm to find the index of the first occurrence of a substring in a given text.
     *
     * @param text The text in which the substring is to be searched.
     * @param pattern The substring pattern to search for.
     * @return The index of the first occurrence of the pattern in the text, or -1 if the pattern is not found.
     */
    public static int kmpSearch(String text, String pattern) {
        if (pattern == null || pattern.length() == 0) {
            return 0; // Trivial case: empty pattern
        }

        int[] lps = computeLPSArray(pattern);
        int i = 0; // index for text
        int j = 0; // index for pattern

        while (i &lt; text.length()) {
            if (pattern.charAt(j) == text.charAt(i)) {
                i++;
                j++;
            }

            if (j == pattern.length()) {
                return i - j; // Found pattern at index (i - j)
            } else if (i &lt; text.length() &amp;&amp; pattern.charAt(j) != text.charAt(i)) {
                if (j != 0) {
                    j = lps[j - 1]; // Use the LPS array to skip characters
                } else {
                    i++; // If no match and j is 0, move to the next character in text
                }
            }
        }
        return -1; // Pattern not found
    }

    /**
     * Computes the LPS (Longest Prefix Suffix) array for the pattern, which indicates the longest proper prefix which is also a suffix.
     *
     * @param pattern The pattern for which the LPS array is to be computed.
     * @return The LPS array.
     */
    private static int[] computeLPSArray(String pattern) {
        int length = 0;
        int i = 1;
        int[] lps = new int[pattern.length()];
        lps[0] = 0; // LPS for the first character is always 0

        while (i &lt; pattern.length()) {
            if (pattern.charAt(i) == pattern.charAt(length)) {
                length++;
                lps[i] = length;
                i++;
            } else {
                if (length != 0) {
                    length = lps[length - 1]; // Fall back to the previous LPS value
                } else {
                    lps[i] = 0;
                    i++;
                }
            }
        }
        return lps;
    }
}
</code></pre>
<h2 id="thread"><a class="header" href="#thread">Thread</a></h2>
<h3 id="thread-pool"><a class="header" href="#thread-pool">Thread Pool</a></h3>
<h3 id="thread-1"><a class="header" href="#thread-1">Thread</a></h3>
<pre><code class="language-java">public class ThreadSnippet {

  /**
   * Creates and returns a new thread with the task assigned to it (task will be performed parallel to the main thread).
   *
   * @param task the task to be executed by this thread
   * @return new thread with task assigned to it.
   */
  public static Thread createThread(Runnable task) {
    return new Thread(task);
  }
}
</code></pre>
<pre><code class="language-java">public class ThreadPool {

  /**
   * &lt;p&gt;Creates pool of threads. Where the pool is the size of the number of processors
   * available to the Java virtual machine.&lt;/p&gt;
   *
   * @return the newly created thread pool
   */
  public static ExecutorService createFixedThreadPool() {
    return Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors());
  }
}
</code></pre>
<h3 id="damm-algorithm"><a class="header" href="#damm-algorithm">Damm Algorithm</a></h3>
<pre><code class="language-java">public class DammSnippet {

  /**
   * Private constructor to prevent instantiation of utility class.
   */
  private DammSnippet() {
    throw new UnsupportedOperationException(&quot;Utility class - instantiation is not allowed.&quot;);
  }
  private static final int[][] matrix = new int[][] {
          { 0, 3, 1, 7, 5, 9, 8, 6, 4, 2 },
          { 7, 0, 9, 2, 1, 5, 4, 8, 6, 3 },
          { 4, 2, 0, 6, 8, 7, 1, 3, 5, 9 },
          { 1, 7, 5, 0, 9, 8, 3, 4, 2, 6 },
          { 6, 1, 2, 3, 0, 4, 5, 9, 7, 8 },
          { 3, 6, 7, 4, 2, 0, 9, 5, 8, 1 },
          { 5, 8, 6, 9, 7, 2, 0, 1, 3, 4 },
          { 8, 9, 4, 5, 3, 6, 2, 0, 1, 7 },
          { 9, 4, 3, 8, 6, 1, 7, 2, 0, 5 },
          { 2, 5, 8, 1, 4, 3, 6, 7, 9, 0 }
  };
  public static int calculateCheckSumDigit(String number) {
    if (number == null || number.isEmpty()) {
      throw new IllegalArgumentException(&quot;Input number cannot be null or empty.&quot;);
    }

    int interim = 0;
    for (int index = 0; index &lt; number.length(); index++) {
      char currCh = number.charAt(index);
      if (!Character.isDigit(currCh)) {
        throw new IllegalArgumentException(&quot;Input number contains invalid characters: &quot; + number);
      }

      int currentIndex = currCh - '0';
      interim = matrix[interim][currentIndex];
    }

    return interim;
  }
  public static int calculateCheckSumDigit(int number) {
    return calculateCheckSumDigit(String.valueOf(number));
  }
  public static int calculateCheckSumDigit(long number) {
    return calculateCheckSumDigit(String.valueOf(number));
  }
  public static String generateCheckSum(String number) {
    int checkSumDigit = calculateCheckSumDigit(number);
    return number + checkSumDigit;
  }
  public static int generateCheckSum(int number) {
    int checkSumDigit = calculateCheckSumDigit(number);
    return (number * 10) + checkSumDigit;
  }
  public static long generateCheckSum(long number) {
    int checkSumNumber = calculateCheckSumDigit(number);
    return (number * 10) + checkSumNumber;
  }
  public static boolean validate(String number) {
    return calculateCheckSumDigit(number) == 0;
  }
  public static boolean validate(int number) {
    return calculateCheckSumDigit(number) == 0;
  }
  public static boolean validate(long number) {
    return calculateCheckSumDigit(number) == 0;
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h3 id="binarysearchin2darraysnippet"><a class="header" href="#binarysearchin2darraysnippet">BinarySearchIn2dArraySnippet</a></h3>
<pre><code class="language-java">package algorithm;

/**
 * BinarySearchIn2dArraySnippet.
 */
public class BinarySearchIn2dArraySnippet {

  /**
  * Search an item with binarySearch algorithm.
  *
  * @param matrix should be sorted
  * @param target an item to search
  * @return if location of item is found, otherwise return {-1,-1}
  */
  public static int[] binarySearchIn2darr(int[][] matrix, int target) {
    int rows = matrix.length - 1;
    int cols = matrix[0].length - 1;

    if (rows == 1) {
      return binarySearch(matrix, target, 0, 0, cols);
    }

    int rstart = 0;
    int rend = rows;
    int cmid = cols / 2;

    while (rstart &lt; rend - 1) {
      int rmid = rstart + (rend - rstart) / 2;
      if (matrix[rmid][cmid] &gt; target) {
        rend = rmid;
      } else if (matrix[rmid][cmid] &lt; target) {
        rstart = rmid;
      } else {
        return new int[]{rmid, cmid};
      }
    }
    if (matrix[rstart][cmid] == target) {
      return new int[]{rstart, cmid};
    }
    if (matrix[rend][cmid] == target) {
      return new int[]{rend, cmid};
    }
    if (target &lt;= matrix[rstart][cmid - 1]) {
      return binarySearch(matrix, target, rstart, 0, cmid - 1);
    }
    if (target &gt;= matrix[rstart][cmid + 1]) {
      return binarySearch(matrix, target, rstart, cmid + 1, cols);
    }
    if (target &lt;= matrix[rend][cmid - 1]) {
      return binarySearch(matrix, target, rend, 0, cmid - 1);
    }
    if (target &lt;= matrix[rend][cmid + 1]) {
      return binarySearch(matrix, target, rend, cmid + 1, cols);
    }
    return new int[]{-1, -1};
  }

  static int[] binarySearch(int[][] matrix, int target, int row, int cstart, int cend) {
    while (cstart &lt;= cend) {
      int cmid = cstart + (cend - cstart) / 2;
      if (matrix[row][cmid] &gt; target) {
        cend = cmid - 1;
      } else if (matrix[row][cmid] &lt; target) {
        cstart = cend + 1;
      } else {
        return new int[]{row, cmid};
      }
    }
    return new int[]{-1, -1};
  }
}
</code></pre>
<h3 id="binarysearchsnippet"><a class="header" href="#binarysearchsnippet">BinarySearchSnippet</a></h3>
<pre><code class="language-java">package algorithm;

/**
 * BinarySearchSnippet.
 */
public class BinarySearchSnippet {

  /**
   * Search an item with binarySearch algorithm.
   *
   * @param arr sorted array to search
   * @param item an item to search
   * @return if item is found, return the index position of the array item otherwise return -1
   */

  public static int binarySearch(int[] arr, int left, int right, int item) {
    if (right &gt;= left) {
      int mid = left + (right - left) / 2;
      if (arr[mid] == item) {
        return mid;
      }

      if (arr[mid] &gt; item) {
        return binarySearch(arr, left, mid - 1, item);
      }

      return binarySearch(arr, mid + 1, right, item);
    }
    return -1;
  }
}
</code></pre>
<h3 id="bubblesortsnippet"><a class="header" href="#bubblesortsnippet">BubbleSortSnippet</a></h3>
<pre><code class="language-java">package algorithm;

/**
 * BubbleSortSnippet.
 */
public class BubbleSortSnippet {

  /**
   * Sort an array with bubbleSort algorithm.
   *
   * @param arr array to sort
   */
  public static void bubbleSort(int[] arr) {
    var lastIndex = arr.length - 1;

    for (var j = 0; j &lt; lastIndex; j++) {
      for (var i = 0; i &lt; lastIndex - j; i++) {
        if (arr[i] &gt; arr[i + 1]) {
          var tmp = arr[i];
          arr[i] = arr[i + 1];
          arr[i + 1] = tmp;
        }
      }
    }
  }
}
</code></pre>
<h3 id="countingsortsnippet"><a class="header" href="#countingsortsnippet">CountingSortSnippet</a></h3>
<pre><code class="language-java">package algorithm;

import java.util.Arrays;

/**
 * CountingSortSnippet.
 */
public class CountingSortSnippet {

  /**
   * Sort an array having zero or positive numbers with countingSort algorithm.
   *
   * @param arr array to sort
   */
  public static void countingSort(int[] arr) {
    var max = Arrays.stream(arr).max().getAsInt();

    var count = new int[max + 1];

    for (var num : arr) {
      count[num]++;
    }

    for (var i = 1; i &lt;= max; i++) {
      count[i] += count[i - 1];
    }

    var sorted = new int[arr.length];
    for (var i = arr.length - 1; i &gt;= 0; i--) {
      var cur = arr[i];
      sorted[count[cur] - 1] = cur;
      count[cur]--;
    }

    var index = 0;
    for (var num : sorted) {
      arr[index++] = num;
    }
  }
}
</code></pre>
<h3 id="cyclesortsnippet"><a class="header" href="#cyclesortsnippet">CycleSortSnippet</a></h3>
<pre><code class="language-java">package algorithm;

/**
 * CycleSortSnippet.
 */
public class CycleSortSnippet {

  /**
   * Sort an array with cycleSort algorithm.
   *
   * @param arr array to sort
   */
  public static int[] cycleSort(int[] arr) {
    int n = arr.length;
    int i = 0;
    while (i &lt; n) {
      int correctpos = arr[i] - 1;
      if (arr[i] != arr[correctpos]) {
        int temp = arr[i];
        arr[i] = arr[correctpos];
        arr[correctpos] = temp;
      } else {
        i++;
      }
    }
    return arr;
  }
}
</code></pre>
<h3 id="dammsnippet"><a class="header" href="#dammsnippet">DammSnippet</a></h3>
<pre><code class="language-java">package algorithm;

/**
 * The implementation of the Damm algorithm based on the details on
 * &lt;a href=&quot;https://en.wikipedia.org/wiki/Damm_algorithm&quot;&gt;Wikipedia&lt;/a&gt;.
 *
 * &lt;p&gt;The Damm algorithm is used for error detection and generates a checksum
 * that can detect single-digit errors and adjacent transposition errors.&lt;/p&gt;
 *
 */
public class DammSnippet {

  /**
   * Private constructor to prevent instantiation of utility class.
   */
  private DammSnippet() {
    throw new UnsupportedOperationException(&quot;Utility class - instantiation is not allowed.&quot;);
  }

  /**
   * The quasigroup table used by the Damm algorithm.
   */
  private static final int[][] matrix = new int[][] {
          { 0, 3, 1, 7, 5, 9, 8, 6, 4, 2 },
          { 7, 0, 9, 2, 1, 5, 4, 8, 6, 3 },
          { 4, 2, 0, 6, 8, 7, 1, 3, 5, 9 },
          { 1, 7, 5, 0, 9, 8, 3, 4, 2, 6 },
          { 6, 1, 2, 3, 0, 4, 5, 9, 7, 8 },
          { 3, 6, 7, 4, 2, 0, 9, 5, 8, 1 },
          { 5, 8, 6, 9, 7, 2, 0, 1, 3, 4 },
          { 8, 9, 4, 5, 3, 6, 2, 0, 1, 7 },
          { 9, 4, 3, 8, 6, 1, 7, 2, 0, 5 },
          { 2, 5, 8, 1, 4, 3, 6, 7, 9, 0 }
  };

  /**
   * Calculates the Damm checksum digit for the given number.
   *
   * @param number the input number as a string
   * @return the calculated checksum digit
   * @throws IllegalArgumentException if the input is null, empty, or contains non-digit characters
   */
  public static int calculateCheckSumDigit(String number) {
    if (number == null || number.isEmpty()) {
      throw new IllegalArgumentException(&quot;Input number cannot be null or empty.&quot;);
    }

    int interim = 0;
    for (int index = 0; index &lt; number.length(); index++) {
      char currCh = number.charAt(index);
      if (!Character.isDigit(currCh)) {
        throw new IllegalArgumentException(&quot;Input number contains invalid characters: &quot; + number);
      }

      int currentIndex = currCh - '0';
      interim = matrix[interim][currentIndex];
    }

    return interim;
  }

  /**
   * Calculates the Damm checksum digit for the given number.
   *
   * @param number the input number as an integer
   * @return the calculated checksum digit
   */
  public static int calculateCheckSumDigit(int number) {
    return calculateCheckSumDigit(String.valueOf(number));
  }

  /**
   * Calculates the Damm checksum digit for the given number.
   *
   * @param number the input number as a long
   * @return the calculated checksum digit
   */
  public static int calculateCheckSumDigit(long number) {
    return calculateCheckSumDigit(String.valueOf(number));
  }

  /**
   * Appends the calculated checksum digit to the given number as a string.
   *
   * @param number the input number as a string
   * @return the original number with the checksum digit appended
   * @throws IllegalArgumentException if the input is null, empty, or contains non-digit characters
   */
  public static String generateCheckSum(String number) {
    int checkSumDigit = calculateCheckSumDigit(number);
    return number + checkSumDigit;
  }

  /**
   * Appends the calculated checksum digit to the given number as an integer.
   *
   * @param number the input number as an integer
   * @return the original number with the checksum digit appended
   */
  public static int generateCheckSum(int number) {
    int checkSumDigit = calculateCheckSumDigit(number);
    return (number * 10) + checkSumDigit;
  }

  /**
   * Appends the calculated checksum digit to the given number as a long.
   *
   * @param number the input number as a long
   * @return the original number with the checksum digit appended
   */
  public static long generateCheckSum(long number) {
    int checkSumNumber = calculateCheckSumDigit(number);
    return (number * 10) + checkSumNumber;
  }

  /**
   * Validates the given number by checking if the checksum digit is correct.
   *
   * @param number the input number as a string
   * @return {@code true} if the number is valid, {@code false} otherwise
   * @throws IllegalArgumentException if the input is null, empty, or contains non-digit characters
   */
  public static boolean validate(String number) {
    return calculateCheckSumDigit(number) == 0;
  }

  /**
   * Validates the given number by checking if the checksum digit is correct.
   *
   * @param number the input number as an integer
   * @return {@code true} if the number is valid, {@code false} otherwise
   */
  public static boolean validate(int number) {
    return calculateCheckSumDigit(number) == 0;
  }

  /**
   * Validates the given number by checking if the checksum digit is correct.
   *
   * @param number the input number as a long
   * @return {@code true} if the number is valid, {@code false} otherwise
   */
  public static boolean validate(long number) {
    return calculateCheckSumDigit(number) == 0;
  }
}
</code></pre>
<h3 id="insertionsortsnippet"><a class="header" href="#insertionsortsnippet">InsertionSortSnippet</a></h3>
<pre><code class="language-java">package algorithm;

/**
 * InsertionSortSnippet.
 */
public class InsertionSortSnippet {

  /**
   * Sort an array with insertionSort algorithm.
   *
   * @param arr array to sort
   */
  public static void insertionSort(int[] arr) {
    for (var i = 1; i &lt; arr.length; i++) {
      var tmp = arr[i];
      var j = i - 1;

      while (j &gt;= 0 &amp;&amp; arr[j] &gt; tmp) {
        arr[j + 1] = arr[j];
        j--;
      }
      arr[j + 1] = tmp;
    }
  }
}
</code></pre>
<h3 id="linearsearchin2darraysnippet"><a class="header" href="#linearsearchin2darraysnippet">LinearSearchIn2dArraySnippet</a></h3>
<pre><code class="language-java">package algorithm;

/**
 * LinearSearchIn2dArraySnippet.
 */
public class LinearSearchIn2dArraySnippet {

  /**
   * Search an item with linearSearch algorithm.
   *
   * @param arr    array to search
   * @param target an item to search
   * @return if location of target is found,otherwise return {-1,-1}
   */

  public static int[] linearSearch2dArray(int[][] arr, int target) {

    for (int i = 0; i &lt; arr.length; i++) {
      for (int j = 0; j &lt; arr[i].length; j++) {
        if (arr[i][j] == target) {
          return new int[]{i, j};
        }
      }
    }
    return new int[]{-1, -1};
  }
}
</code></pre>
<h3 id="linearsearchsnippet"><a class="header" href="#linearsearchsnippet">LinearSearchSnippet</a></h3>
<pre><code class="language-java">package algorithm;

/**
 * LinearSearchSnippet.
 */
public class LinearSearchSnippet {

  /**
   * Search an item with linearSearch algorithm.
   *
   * @param arr array to search
   * @param item an item to search
   * @return if item is found, return the index position of the array item otherwise return -1
   */
  public static int linearSearch(int[] arr, int item) {
    for (int i = 0; i &lt; arr.length; i++) {
      if (item == arr[i]) {
        return i;
      }
    }
    return -1;
  }
}
</code></pre>
<h3 id="luhnmodnsnippet"><a class="header" href="#luhnmodnsnippet">LuhnModnSnippet</a></h3>
<pre><code class="language-java">package algorithm;

/**
 * LuhnModnSnippet.
 */
public class LuhnModnSnippet {

  private static final String CODE_POINTS = &quot;0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;

  /**
   * Generates a check character using the Luhn mod N algorithm.
   *
   * @param character the input string consisting of valid alphanumeric characters
   * @return the generated check character
   * @throws IllegalArgumentException if the input contains invalid characters
   */
  public static int codePointFromCharacter(char character) {
    if (CODE_POINTS.indexOf(character) == -1) {
      throw new IllegalArgumentException(&quot;Invalid character: &quot; + character);
    }
    return CODE_POINTS.indexOf(character);
  }

  /**
   * Converts a code point to its corresponding character.
   *
   * @param codePoint the code point to be converted
   * @return the character representation of the code point
   * @throws IllegalArgumentException if the code point is out of range.
   */
  public static char characterFromCodePoint(int codePoint) {
    if (codePoint &lt; 0 || codePoint &gt;= CODE_POINTS.length()) {
      throw new IllegalArgumentException(&quot;Invalid code point: &quot; + codePoint);
    }
    return CODE_POINTS.charAt(codePoint);
  }

  public static int numberOfValidInputCharacters() {
    return CODE_POINTS.length();
  }

  /**
   * Helper method to calculate the sum for both check character generation and validation.
   *
   * @param input the input string
   * @param factorStart the initial factor to start with (1 or 2)
   * @return the calculated sum, reminder, and the numberOfValidInputCharacters
   */
  private static int[] calculateSum(String input, int factorStart) {
    if (input == null || input.isEmpty()) {
      throw new IllegalArgumentException(&quot;Input cannot be empty&quot;);
    }

    int factor = factorStart;
    int sum = 0;
    int n = numberOfValidInputCharacters();

    for (int i = input.length() - 1; i &gt;= 0; i--) {
      int codePoint = codePointFromCharacter(input.charAt(i));
      int addend = factor * codePoint;
      factor = (factor == 2) ? 1 : 2;
      addend = (addend / n) + (addend % n);
      sum += addend;
    }
    return new int[]{sum, sum % n, n};
  }

  /**
   * Generates a check character for the given input string using the Luhn mod N algorithm.
   *
   * @param input the input string (non-empty)
   * @return the generated check character
   * @throws IllegalArgumentException if the input is null or empty
   */
  public static char generateCheckCharacter(String input) {
    int[] result = calculateSum(input, 2);
    return characterFromCodePoint((result[2] - result[1]) % result[2]);
  }

  /**
   * Validates a check character by applying the Luhn mod N algorithm.
   *
   * @param input the input string (including the check character)
   * @return true if the input passes validation, false otherwise
   * @throws IllegalArgumentException if the input is null or empty
   */
  public static boolean validateCheckCharacter(String input) {
    int[] result = calculateSum(input, 1);
    return (result[1] == 0);
  }
}
</code></pre>
<h3 id="mergesortsnippet"><a class="header" href="#mergesortsnippet">MergeSortSnippet</a></h3>
<pre><code class="language-java">package algorithm;

/**
 * MergeSortSnippet.
 */
public class MergeSortSnippet {  
  /**
     * Sort an array with qmergesort algorithm.
     *
     * @param arr   array to sort
     * @low low index where to begin sort (e.g. 0)
     * @high high index where to end sort (e.g. array length - 1)
     */

  public static void mergeSort(int[] arr, int low, int high) {
    if (low &gt;= high) {
      return;
    }
    var mid = (low + high) / 2;
    mergeSort(arr, low, mid);
    mergeSort(arr, mid + 1, high);
    merge(arr, low, high, mid);
  }

  private static void merge(int[] arr, int low, int high, int mid) {
    int[] temp = new int[(high - low + 1)];
    var i = low;
    var j = mid + 1;
    var k = 0;

    while (i &lt;= mid &amp;&amp; j &lt;= high) {
      if (arr[i] &lt; arr[j]) {
        temp[k++] = arr[i];
        i++;
      } else {
        temp[k++] = arr[j];
        j++;
      }
    }

    while (i &lt;= mid) {
      temp[k++] = arr[i];
      i++;
    }

    while (j &lt;= high) {
      temp[k++] = arr[j];
      j++;
    }

    for (int m = 0, n = low; m &lt; temp.length; m++, n++) {
      arr[n] = temp[m];
    }
  }
}
</code></pre>
<h3 id="quicksortsnippet"><a class="header" href="#quicksortsnippet">QuickSortSnippet</a></h3>
<pre><code class="language-java">package algorithm;

/**
 * QuickSortSnippet.
 */
public class QuickSortSnippet {

  /**
   * Sort an array with quicksort algorithm.
   *
   * @param arr   array to sort
   * @param left  left index where to begin sort (e.g. 0)
   * @param right right index where to end sort (e.g. array length - 1)
   */
  public static void quickSort(int[] arr, int left, int right) {
    var pivotIndex = left + (right - left) / 2;
    var pivotValue = arr[pivotIndex];
    var i = left;
    var j = right;
    while (i &lt;= j) {
      while (arr[i] &lt; pivotValue) {
        i++;
      }
      while (arr[j] &gt; pivotValue) {
        j--;
      }
      if (i &lt;= j) {
        var tmp = arr[i];
        arr[i] = arr[j];
        arr[j] = tmp;
        i++;
        j--;
      }
      if (left &lt; i) {
        quickSort(arr, left, j);
      }
      if (right &gt; i) {
        quickSort(arr, i, right);
      }
    }
  }
}
</code></pre>
<h3 id="selectionsortsnippet"><a class="header" href="#selectionsortsnippet">SelectionSortSnippet</a></h3>
<pre><code class="language-java">package algorithm;

/**
 * SelectionSortSnippet.
 */
public class SelectionSortSnippet {

  /**
   * Sort an array with selectionSort algorithm.
   *
   * @param arr array to sort
   */
  public static void selectionSort(int[] arr) {
    var len = arr.length;

    for (var i = 0; i &lt; len - 1; i++) {
      var minIndex = i;

      for (var j = i + 1; j &lt; len; j++) {
        if (arr[j] &lt; arr[minIndex]) {
          minIndex = j;
        }
      }

      var tmp = arr[minIndex];
      arr[minIndex] = arr[i];
      arr[i] = tmp;
    }
  }
}
### SieveOfEratosthenesSnippet

```java
package algorithm;

/**
 * SieveOfEratosthenesSnippet.
 */
public class SieveOfEratosthenesSnippet {
  /**
   * Search an item with binarySearch algorithm.
   *
   * @param n range of number.
   * @return isPrime boolean array where prime number 0 to n are mark true.
   */
  public static boolean[] sieveOfEratosthenes(int n) {
    boolean[] isPrime = new boolean[n + 1];
    for (int i = 0; i &lt; isPrime.length; i++) {
      isPrime[i] = true;
    }

    for (int i = 2; i * i &lt;= n; i++) {
      if (isPrime[i] == true) {
        for (int j = i * i; j &lt;= n; j += i) {
          isPrime[j] = false;
        }
      }
    }

    return isPrime;
  }
}
</code></pre>
<h3 id="verhoeffsnippet"><a class="header" href="#verhoeffsnippet">VerhoeffSnippet</a></h3>
<pre><code class="language-java">package algorithm;

/**
 * VerhoeffSnippet.
 */
public class VerhoeffSnippet {

  private static final int[][] d = {
          {0, 1, 2, 3, 4, 5, 6, 7, 8, 9},
          {1, 0, 3, 2, 5, 4, 7, 6, 9, 8},
          {2, 3, 0, 1, 6, 7, 4, 5, 8, 9},
          {3, 2, 1, 0, 7, 6, 5, 4, 9, 8},
          {4, 5, 6, 7, 0, 1, 2, 3, 8, 9},
          {5, 4, 7, 6, 1, 0, 3, 2, 9, 8},
          {6, 7, 4, 5, 2, 3, 0, 1, 8, 9},
          {7, 6, 5, 4, 3, 2, 1, 0, 9, 8},
          {8, 9, 8, 9, 8, 9, 8, 9, 0, 1},
          {9, 8, 9, 8, 9, 8, 9, 8, 1, 0}
  };

  private static final int[][] p = {
          {0, 1, 2, 3, 4, 5, 6, 7, 8, 9},
          {1, 5, 7, 6, 2, 8, 3, 0, 9, 4},
          {5, 8, 0, 3, 7, 9, 6, 1, 4, 2},
          {8, 9, 1, 6, 0, 4, 3, 5, 2, 7},
          {9, 4, 5, 3, 1, 2, 6, 8, 7, 0},
          {4, 2, 8, 6, 5, 7, 3, 9, 0, 1},
          {2, 7, 9, 3, 8, 0, 6, 4, 1, 5},
          {7, 0, 4, 6, 9, 1, 3, 2, 5, 8}
  };

  private static final int[] inv = {0, 4, 3, 2, 1, 5, 6, 7, 8, 9};

  /**
   * Validates a number using the Verhoeff checksum algorithm.
   *
   * @param num the numeric string to validate
   * @return true if the number is valid according to Verhoeff algorithm, false otherwise
   */
  public static boolean validateVerhoeff(String num) {
    int c = 0;
    int length = num.length();

    // Adjust index for validation of the full number (including check digit)
    for (int i = 0; i &lt; length; i++) {
      int digit = Character.getNumericValue(num.charAt(length - i - 1));
      c = d[c][p[(i + 1) % 8][digit]]; // Correct permutation index
    }

    return c == 0; // Final checksum must be zero
  }

  /**
   * Generates a Verhoeff check digit for a given numeric string.
   *
   * @param num the numeric string for which to generate the check digit
   * @return the generated Verhoeff check digit as a string
   */
  public static String generateVerhoeff(String num) {
    int c = 0;
    int length = num.length();

    for (int i = 0; i &lt; length; i++) {
      int digit = Character.getNumericValue(num.charAt(length - i - 1));
      c = d[c][p[(i % 8)][digit]];
    }

    return Integer.toString(inv[c]);
  }

}

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="array-1"><a class="header" href="#array-1">Array</a></h1>
<h3 id="allequalsnippet"><a class="header" href="#allequalsnippet">AllEqualSnippet</a></h3>
<pre><code class="language-java">package array;

import java.util.Arrays;

/**
 * AllEqualSnippet.
 */
public class AllEqualSnippet {

  /**
   * Returns true if all elements in array are equal.
   *
   * @param arr the array to check (not null)
   * @param &lt;T&gt; the element type
   * @return true if all elements in the array are equal
   */
  public static &lt;T&gt; boolean allEqual(T[] arr) {
    return Arrays.stream(arr).distinct().count() == 1;
  }
}
</code></pre>
<h3 id="arrayconcatsnippet"><a class="header" href="#arrayconcatsnippet">ArrayConcatSnippet</a></h3>
<pre><code class="language-java">package array;

import java.util.Arrays;

/**
 * ArrayConcatSnippet.
 */
public class ArrayConcatSnippet {

  /**
   * Generic 2 array concatenation Credits: Joachim Sauer https://stackoverflow.com/questions/80476/how-can-i-concatenate-two-arrays-in-java
   *
   * @param first  is the first array (not null)
   * @param second is the second array (not null)
   * @param &lt;T&gt;    the element type
   * @return concatenated array
   */
  public static &lt;T&gt; T[] arrayConcat(T[] first, T[] second) {
    var result = Arrays.copyOf(first, first.length + second.length);
    System.arraycopy(second, 0, result, first.length, second.length);
    return result;
  }
}
</code></pre>
<h3 id=""><a class="header" href="#"></a></h3>
<pre><code class="language-java">package array;

import java.util.Arrays;

/**
 * ArrayMeanSnippet.
 */
public class ArrayMeanSnippet {

  /**
   * Returns the mean of the integers in the array.
   *
   * @param arr the array of integers (not null)
   * @return a double representing the mean of the array
   */
  public static double arrayMean(int[] arr) {
    return (double) Arrays.stream(arr).sum() / arr.length;
  }
}
</code></pre>
<h3 id="arraymediansnippet"><a class="header" href="#arraymediansnippet">ArrayMedianSnippet</a></h3>
<pre><code class="language-java">package array;

import java.util.Arrays;

/**
 * ArrayMedianSnippet.
 */
public class ArrayMedianSnippet {

  /**
   * Returns the median of the array.
   *
   * @param arr the array of integers (not null)
   * @return a double representing the median of the array
   */
  public static double arrayMedian(int[] arr) {
    Arrays.sort(arr);
    var mid = arr.length / 2;
    return arr.length % 2 != 0 ? (double) arr[mid] : (double) (arr[mid] + arr[mid - 1]) / 2;
  }
}
</code></pre>
<h3 id="arraymodesnippet"><a class="header" href="#arraymodesnippet">ArrayModeSnippet</a></h3>
<pre><code class="language-java">package array;

import java.util.Arrays;

/**
 * ArrayModeSnippet.
 */
public class ArrayModeInPlaceSnippet {

  /**
  * Returns the mode of the array.
  *
  * @param arr array to find mode in it
  * @return mode of array
  */
  public static int modeArrayInPlace(int[] arr) {
    if (arr.length == 0) {
      return 0;
    }

    Arrays.sort(arr);

    int mode = arr[0];
    int maxcount = 1;
    int count = 1;

    for (int i = 1; i &lt; arr.length; i++) {
      if (arr[i] == arr[i - 1]) {
        count++;
      } else {
        if (count &gt; maxcount) {
          maxcount = count;
          mode = arr[i - 1];
        }
        count = 1;
      }
    }
    if (count &gt; maxcount) {
      mode = arr[arr.length - 1];
    }
    return mode;
  }
}
</code></pre>
<h3 id="arraymodesnippet-1"><a class="header" href="#arraymodesnippet-1">ArrayModeSnippet</a></h3>
<pre><code class="language-java">package array;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
/**
 * ArrayModeSnippet.
 */

public class ArrayModeSnippet {

  /**
   * Private constructor to prevent instantiation.
   */
  private ArrayModeSnippet() {
    throw new IllegalStateException(&quot;Utility class&quot;);
  }

  /**
   * Returns the mode(s) of the array.
   * If multiple modes exist, it returns them in a list.
   */
  public static List&lt;Integer&gt; modeArray(int[] arr) {
    int maxCount = 0;
    HashMap&lt;Integer, Integer&gt; frequencyMap = new HashMap&lt;&gt;();
    for (int num : arr) {
      frequencyMap.put(num, frequencyMap.getOrDefault(num, 0) + 1);
      maxCount = Math.max(maxCount, frequencyMap.get(num));
    }
    List&lt;Integer&gt; modes = new ArrayList&lt;&gt;();
    for (Map.Entry&lt;Integer, Integer&gt; entry : frequencyMap.entrySet()) {
      if (entry.getValue() == maxCount) {
        modes.add(entry.getKey());
      }
    }
    return modes;
  }
}
</code></pre>
<h3 id="arraysumsnippet"><a class="header" href="#arraysumsnippet">ArraySumSnippet</a></h3>
<pre><code class="language-java">package array;

import java.util.Arrays;

/**
 * ArraySumSnippet.
 */
public class ArraySumSnippet {

  /**
   * Returns sum of the integers in the array.
   *
   * @param arr the array of integers (not null)
   * @return the sum of the elements from the array
   */
  public static int arraySum(int[] arr) {
    return Arrays.stream(arr).sum();
  }
}
</code></pre>
<h3 id="findmaxsnippet"><a class="header" href="#findmaxsnippet">FindMaxSnippet</a></h3>
<pre><code class="language-java">package array;

import java.util.Arrays;

/**
 * FindMaxSnippet.
 */
public class FindMaxSnippet {

  /**
   * Returns the maximum integer from the array using reduction.
   *
   * @param arr the array of integers (not null)
   * @return the maximum element from the array
   */
  public static int findMax(int[] arr) {
    return Arrays.stream(arr).reduce(Integer.MIN_VALUE, Integer::max);
  }
}
</code></pre>
<h3 id="findminsnippet"><a class="header" href="#findminsnippet">FindMinSnippet</a></h3>
<pre><code class="language-java">package array;

import java.util.Arrays;
 
/**
  * FindMinSnippet.
  */
public class FindMinSnippet {
 
  /**
    * Returns the minimum integer from the array using reduction.
    *
    * @param arr the array of integers (not null)
    * @return the minimum element from the array
    */
  public static int findMin(int[] arr) {
    return Arrays.stream(arr).reduce(Integer.MAX_VALUE, Integer::min);
  }
}
 
### MultiArrayConcatenationSnippet

```java
package array;

import java.util.Arrays;

/**
 * MultiArrayConcatenationSnippet.
 */
public class MultiArrayConcatenationSnippet {

  /**
   * Generic N array concatenation Credits: Joachim Sauer https://stackoverflow.com/questions/80476/how-can-i-concatenate-two-arrays-in-java
   *
   * @param first is the first array (not null)
   * @param rest  the rest of the arrays (optional)
   * @param &lt;T&gt;   the element type
   * @return concatenated array
   */
  public static &lt;T&gt; T[] multiArrayConcat(T[] first, T[]... rest) {
    var totalLength = first.length;
    for (var array : rest) {
      totalLength += array.length;
    }
    var result = Arrays.copyOf(first, totalLength);
    var offset = first.length;
    for (var array : rest) {
      System.arraycopy(array, 0, result, offset, array.length);
      offset += array.length;
    }
    return result;
  }
}
</code></pre>
<h3 id="reversearraysnippet"><a class="header" href="#reversearraysnippet">ReverseArraySnippet</a></h3>
<pre><code class="language-java">package array;

/**
 * ReverseArraySnippet.
 */
public class ReverseArraySnippet {

  /**
   * The function then reverses the elements of the array between the starting and ending
   * indices using a while loop and a temporary variable `temp`. Finally, the function returns
   * the reversed array.
   *
   * @param array a array
   * @param start start index array
   * @param end end index array
   * @return reverses elements in the array
   * @throws IllegalArgumentException if the [start] index is greater
   *         than the [end] index or if the array is null
   **/
  public static &lt;T&gt; T[] reverseArray(T[] array, int start, int end) {
    if (start &gt; end || array == null) {
      throw new
              IllegalArgumentException(&quot;Invalid argument!&quot;);
    }
    int minimumSizeArrayForReversal = 2;
    if (start == end || array.length &lt; minimumSizeArrayForReversal) {
      return array;
    }
    while (start &lt; end) {
      T temp = array[start];
      array[start] = array[end];
      array[end] = temp;
      start++;
      end--;
    }
    return array;
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cls"><a class="header" href="#cls">CLS</a></h1>
<h3 id="creatingobjectsnippet"><a class="header" href="#creatingobjectsnippet">CreatingObjectSnippet</a></h3>
<pre><code class="language-java">package cls;

import java.lang.reflect.InvocationTargetException;

/**
 * CreatingObjectSnippet.
 */
public class CreatingObjectSnippet {

  /**
   * Create object using reflection.
   *
   * @param cls fully qualified name of class includes the package name as String
   * @return object
   * @throws NoSuchMethodException if a method that does not exist at runtime.
   * @throws IllegalAccessException &lt;p&gt;if an currently executing method does not have access to
   *     the definition of the specified class, field, method or constructor&lt;/p&gt;
   * @throws InvocationTargetException &lt;p&gt;InvocationTargetException is a checked exception
   *     that wraps an exception thrown by an invoked method or constructor.&lt;/p&gt;
   * @throws InstantiationException &lt;p&gt;when an method tries to create an instance of a class
   *     using the newInstance method in class Class.&lt;/p&gt;
   * @throws ClassNotFoundException &lt;p&gt;when an application tries to load in a class
   *     through its string name.&lt;/p&gt;
   */
  public static Object createObject(String cls)
          throws NoSuchMethodException,
          IllegalAccessException,
          InvocationTargetException,
          InstantiationException,
          ClassNotFoundException {
    var objectClass = Class.forName(cls);
    var objectConstructor = objectClass.getConstructor();
    return objectConstructor.newInstance();
  }
}
</code></pre>
<h3 id="getallfieldnamessnippet"><a class="header" href="#getallfieldnamessnippet">GetAllFieldNamesSnippet</a></h3>
<pre><code class="language-java">package cls;

import java.lang.reflect.Field;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;
import java.util.stream.Collectors;

/**
 * GetAllFieldNamesSnippet.
 */
public class GetAllFieldNamesSnippet {

  /**
   * Print all declared field names of the class or the interface the class extends.
   *
   * @param clazz Tested class
   * @return list of names of all fields
   */
  public static List&lt;String&gt; getAllFieldNames(final Class&lt;?&gt; clazz) {
    var fields = new ArrayList&lt;String&gt;();
    var currentClazz = clazz;
    while (currentClazz != null) {
      fields.addAll(
          Arrays.stream(currentClazz.getDeclaredFields())
              .filter(field -&gt; !field.isSynthetic())
              .map(Field::getName)
              .collect(Collectors.toList()));
      currentClazz = currentClazz.getSuperclass();
    }
    return fields;
  }
}
</code></pre>
<h3 id="getallmethodssnippet"><a class="header" href="#getallmethodssnippet">GetAllMethodsSnippet</a></h3>
<pre><code class="language-java">package cls;

import java.lang.reflect.Method;
import java.util.Arrays;
import java.util.List;
import java.util.stream.Collectors;

/**
 * GetAllMethodsSnippet.
 */
public class GetAllMethodsSnippet {

  /**
   * Print all declared methods of the class.
   *
   * @param cls Tested class
   * @return list of methods name
   */
  public static List&lt;String&gt; getAllMethods(final Class&lt;?&gt; cls) {
    return Arrays.stream(cls.getDeclaredMethods())
        .map(Method::getName)
        .collect(Collectors.toList());
  }
}
</code></pre>
<h3 id="getallpublicfieldnamessnippet"><a class="header" href="#getallpublicfieldnamessnippet">GetAllPublicFieldNamesSnippet</a></h3>
<pre><code class="language-java">package cls;

import java.lang.reflect.Field;
import java.util.Arrays;
import java.util.List;
import java.util.stream.Collectors;

/**
 * GetAllPublicFieldNamesSnippet.
 */
public class GetAllPublicFieldNamesSnippet {

  /**
   * Print all declared public field names of the class or the interface the class extends.
   *
   * @param clazz Tested class
   * @return list of name of public fields
   */
  public static List&lt;String&gt; getAllPublicFieldNames(final Class&lt;?&gt; clazz) {
    return Arrays.stream(clazz.getFields())
        .map(Field::getName)
        .collect(Collectors.toList());
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="date-1"><a class="header" href="#date-1">Date</a></h1>
<h3 id="adddaystodatesnippet"><a class="header" href="#adddaystodatesnippet">AddDaysToDateSnippet</a></h3>
<pre><code class="language-java">package date;

import java.time.LocalDate;
import java.time.ZoneId;
import java.util.Calendar;
import java.util.Date;

/**
 * AddDaysToDateSnippet.
 */
public class AddDaysToDateSnippet {

  /**
   * Add days to given date.
   *
   * @param date given date
   * @param noOfDays number of days to add
   * @return modified date
   */
  public static Date addDaysToDate(Date date, int noOfDays) {
    if (date != null) {
      Calendar cal = Calendar.getInstance();
      cal.setTime(date);
      cal.add(Calendar.DAY_OF_MONTH, noOfDays);
      return cal.getTime();
    }
    return null;
  }

  /**
   * Add days to local date.
   *
   * @param date given local date
   * @param noOfDays number of days to add
   * @return modified date
   */
  public static LocalDate addDaysToLocalDate(LocalDate date, long noOfDays) {
    return date != null ? date.plusDays(noOfDays) : null;
  }
}
</code></pre>
<h3 id="datedifferencesnippet"><a class="header" href="#datedifferencesnippet">DateDifferenceSnippet</a></h3>
<pre><code class="language-java">package date;

import java.time.LocalDate;
import java.time.temporal.ChronoUnit;

/**
 * DateDifferenceSnippet.
 */

public class DateDifferenceSnippet {

  /**
  * This function calculates the number of years between two LocalDate objects.
  * If the result is negative, it returns the absolute value of the difference.
  *
  * @param firstTime  The first LocalDate object representing the starting date
  * @param secondTime The second LocalDate object representing the ending date
  * @return The number of years between the two LocalDate objects as a long data type
  */
  public static long getYearsDifference(LocalDate firstTime, LocalDate secondTime) {
    var yearsDifference = ChronoUnit.YEARS.between(firstTime, secondTime);
    return Math.abs(yearsDifference);
  }

  /**
   * This function calculates the number of months between two LocalDate objects.
   * If the result is negative, it returns the absolute value of the difference.
   *
   * @param firstTime  The first LocalDate object representing the starting date
   * @param secondTime The second LocalDate object representing the ending date
   * @return The number of months between the two LocalDate objects as a long data type
   */
  public static long getMonthsDifference(LocalDate firstTime, LocalDate secondTime) {
    var monthsDifference = ChronoUnit.MONTHS.between(firstTime, secondTime);
    return Math.abs(monthsDifference);
  }

  /**
   * This function calculates the number of days between two LocalDate objects.
   * If the result is negative, it returns the absolute value of the difference.
   *
   * @param firstTime  The first LocalDate object representing the starting date
   * @param secondTime The second LocalDate object representing the ending date
   * @return The number of days between the two LocalDate objects as a long data type
   */
  public static long getDaysDifference(LocalDate firstTime, LocalDate secondTime) {
    var daysDifference = ChronoUnit.DAYS.between(firstTime, secondTime);
    return Math.abs(daysDifference);
  }
}

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h3 id="base64decodesnippet"><a class="header" href="#base64decodesnippet">Base64DecodeSnippet</a></h3>
<pre><code class="language-java">package encoding;

import java.util.Base64;

/**
 * Base64DecodeSnippet.
 */
public class Base64DecodeSnippet {

  /**
   * Decodes a Base64 encoded string to the actual representation.
   *
   * @param input base64 encoded string
   * @return decoded string
   */
  public static String decodeBase64(String input) {
    return new String(Base64.getDecoder().decode(input.getBytes()));
  }
}
</code></pre>
<h3 id="base64encodesnippet"><a class="header" href="#base64encodesnippet">Base64EncodeSnippet</a></h3>
<pre><code class="language-java">package encoding;

import java.util.Base64;

/**
 * Base64EncodeSnippet.
 */
public class Base64EncodeSnippet {
  /**
   * Encodes the input string to a Base64 encoded string.
   *
   * @param input string to be encoded
   * @return base64 encoded string
   */
  public static String encodeBase64(String input) {
    return Base64.getEncoder().encodeToString(input.getBytes());
  }
}

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h3 id="listallfilessnippet"><a class="header" href="#listallfilessnippet">ListAllFilesSnippet</a></h3>
<pre><code class="language-java">package file;

import java.io.File;
import java.util.ArrayList;
import java.util.List;

/**
 * ListAllFilesSnippet.
 */
public class ListAllFilesSnippet {

  /**
   * Recursively list all the files in directory.
   *
   * @param path the path to start the search from
   * @return list of all files
   */
  public static List&lt;File&gt; listAllFiles(String path) {
    var all = new ArrayList&lt;File&gt;();
    var list = new File(path).listFiles();
    if (list != null) {  // In case of access error, list is null
      for (var f : list) {
        if (f.isDirectory()) {
          all.addAll(listAllFiles(f.getAbsolutePath()));
        } else {
          all.add(f.getAbsoluteFile());
        }
      }
    }
    return all;
  }
}
</code></pre>
<h3 id="listdirectoriessnippet"><a class="header" href="#listdirectoriessnippet">ListDirectoriesSnippet</a></h3>
<pre><code class="language-java">package file;

import java.io.File;

/**
 * ListDirectoriesSnippet.
 */
public class ListDirectoriesSnippet {

  /**
   * List directories.
   *
   * @param path the path where to look
   * @return array of File
   */
  public static File[] listDirectories(String path) {
    return new File(path).listFiles(File::isDirectory);
  }
}
</code></pre>
<h3 id="listfilesindirectorysnippet"><a class="header" href="#listfilesindirectorysnippet">ListFilesInDirectorySnippet</a></h3>
<pre><code class="language-java">package file;

import java.io.File;

/**
 * ListFilesInDirectorySnippet.
 */
public class ListFilesInDirectorySnippet {

  /**
   * List files in directory.
   *
   * @param folder the path where to look
   * @return array of File
   */
  public static File[] listFilesInDirectory(String folder) {
    return new File(folder).listFiles(File::isFile);
  }
}
</code></pre>
<h3 id="readlinessnippet"><a class="header" href="#readlinessnippet">ReadLinesSnippet</a></h3>
<pre><code class="language-java">package file;

import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.Paths;
import java.util.List;

/**
 * ReadLinesSnippet.
 */
public class ReadLinesSnippet {

  /**
   * Read file as list of strings.
   *
   * @param filename the filename to read from
   * @return list of strings
   * @throws IOException if an I/O error occurs
   */
  public static List&lt;String&gt; readLines(String filename) throws IOException {
    return Files.readAllLines(Paths.get(filename));
  }
}
</code></pre>
<h3 id="zipdirectorysnippet"><a class="header" href="#zipdirectorysnippet">ZipDirectorySnippet</a></h3>
<pre><code class="language-java">package file;

import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;
import java.util.zip.ZipEntry;
import java.util.zip.ZipOutputStream;

/**
 * ZipDirectorySnippet.
 */
public class ZipDirectorySnippet {

  /**
   * Zip a complete directory.
   *
   * @param srcDirectoryName The path to the directory to be zipped
   * @param zipFileName The location and name of the zipped file.
   * @throws IOException if an I/O error occurs
   * */
  public static void zipDirectory(String srcDirectoryName, String zipFileName) throws IOException {
    var srcDirectory = new File(srcDirectoryName);
    try (
        var fileOut = new FileOutputStream(zipFileName);
        var zipOut = new ZipOutputStream(fileOut)
    ) {
      zipFile(srcDirectory, srcDirectory.getName(), zipOut);
    }
  }

  /**
   * Utility function which either zips a single file, or recursively calls itself for 
   * a directory to traverse down to the files contained within it.
   *
   * @param fileToZip The file as a resource
   * @param fileName The actual name of the file
   * @param zipOut The output stream to which all data is being written
   * */
  public static void zipFile(File fileToZip, String fileName, ZipOutputStream zipOut) 
      throws IOException {
    if (fileToZip.isHidden()) { // Ignore hidden files as standard
      return;
    }
    if (fileToZip.isDirectory()) {
      if (fileName.endsWith(&quot;/&quot;)) {
        zipOut.putNextEntry(new ZipEntry(fileName)); // To be zipped next
        zipOut.closeEntry();
      } else {
        // Add the &quot;/&quot; mark explicitly to preserve structure while unzipping action is performed
        zipOut.putNextEntry(new ZipEntry(fileName + &quot;/&quot;));
        zipOut.closeEntry();
      }
      var children = fileToZip.listFiles();
      for (var childFile : children) { // Recursively apply function to all children
        zipFile(childFile, fileName + &quot;/&quot; + childFile.getName(), zipOut);
      }
      return;
    }
    try (
        var fis = new FileInputStream(fileToZip) // Start zipping once we know it is a file
    ) {
      var zipEntry = new ZipEntry(fileName);
      zipOut.putNextEntry(zipEntry);
      var bytes = new byte[1024];
      var length = 0;
      while ((length = fis.read(bytes)) &gt;= 0) {
        zipOut.write(bytes, 0, length);
      }
    }
  }
}
</code></pre>
<h3 id="zipfilesnippet"><a class="header" href="#zipfilesnippet">ZipFileSnippet</a></h3>
<pre><code class="language-java">package file;

import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;
import java.util.zip.ZipEntry;
import java.util.zip.ZipOutputStream;

/**
 * ZipFileSnippet.
 */
public class ZipFileSnippet {

  /**
   * Zip single file.
   *
   * @param srcFilename the filename of the source file
   * @param zipFilename the filename of the destination zip file
   * @throws IOException if an I/O error occurs
   */
  public static void zipFile(String srcFilename, String zipFilename) throws IOException {
    var srcFile = new File(srcFilename);
    try (
            var fileOut = new FileOutputStream(zipFilename);
            var zipOut = new ZipOutputStream(fileOut);
            var fileIn = new FileInputStream(srcFile)
    ) {
      var zipEntry = new ZipEntry(srcFile.getName());
      zipOut.putNextEntry(zipEntry);
      final var bytes = new byte[1024];
      int length;
      while ((length = fileIn.read(bytes)) &gt;= 0) {
        zipOut.write(bytes, 0, length);
      }
    }
  }
}
</code></pre>
<h3 id="zipfilessnippet"><a class="header" href="#zipfilessnippet">ZipFilesSnippet</a></h3>
<pre><code class="language-java">package file;

import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;
import java.util.zip.ZipEntry;
import java.util.zip.ZipOutputStream;

/**
 * ZipFilesSnippet.
 */
public class ZipFilesSnippet {

  /**
   * Zip multiples files.
   *
   * @param srcFilenames array of source file names
   * @param zipFilename  the filename of the destination zip file
   * @throws IOException if an I/O error occurs
   */
  public static void zipFiles(String[] srcFilenames, String zipFilename) throws IOException {
    try (
            var fileOut = new FileOutputStream(zipFilename);
            var zipOut = new ZipOutputStream(fileOut)
    ) {
      for (String srcFilename : srcFilenames) {
        var srcFile = new File(srcFilename);
        try (var fileIn = new FileInputStream(srcFile)) {
          var zipEntry = new ZipEntry(srcFile.getName());
          zipOut.putNextEntry(zipEntry);
          final var bytes = new byte[1024];
          int length;
          while ((length = fileIn.read(bytes)) &gt;= 0) {
            zipOut.write(bytes, 0, length);
          }
        }
      }
    }
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="io-1"><a class="header" href="#io-1">IO</a></h1>
<h3 id="inputstreamtostringsnippet"><a class="header" href="#inputstreamtostringsnippet">InputStreamToStringSnippet</a></h3>
<pre><code class="language-java">package io;

import java.io.BufferedReader;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.nio.charset.StandardCharsets;
import java.util.stream.Collectors;

/**
 * InputStreamToStringSnippet.
 */
public class InputStreamToStringSnippet {

  /**
   * Convert InputStream to String.
   *
   * @param inputStream InputStream to convert
   * @return String
   */
  public static String inputStreamToString(InputStream inputStream) {
    return new BufferedReader(new InputStreamReader(inputStream, StandardCharsets.UTF_8))
            .lines().collect(Collectors.joining(System.lineSeparator()));
  }
}
</code></pre>
<h3 id="readfilesnippet"><a class="header" href="#readfilesnippet">ReadFileSnippet</a></h3>
<pre><code class="language-java">package io;

import java.io.BufferedReader;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.util.List;
import java.util.stream.Collectors;
import java.util.stream.Stream;

/**
 * ReadFileSnippet.
 */
public class ReadFileSnippet {

  /**
   * Read file using stream and return list of string lines.
   *
   * @param fileName file to read
   * @throws FileNotFoundException if an I/O error occurs
   */
  public static List&lt;String&gt; readFile(String fileName) throws FileNotFoundException {
    try (Stream&lt;String&gt; stream = new BufferedReader(new FileReader(fileName)).lines()) {
      return stream.collect(Collectors.toList());
    }
  }
}

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h3 id="dicethrow"><a class="header" href="#dicethrow">DiceThrow</a></h3>
<pre><code class="language-java">package math;

import java.util.Random;

/**
 * Sum of Dice throw (Eg. 3d6 - 3 dice having 6 sides).
 */
public class DiceThrow {

  private static Random random = new Random();

  /**
  * Enum for standardized sided dice (4,6,8,10,12 and 20).
  */
  public enum DiceSides {

    FOUR(4), SIX(6), EIGHT(8), TEN(10), TWELVE(12), TWENTY(20);

    private final int diSides;

    DiceSides(int diceSides) {
      this.diSides = diceSides;
    }

    /**
     * Returns the number of sides of a dice.
     *
     * @return int denoting number of sides of a dice
     */
    public int getDiceSides() {
      return this.diSides;
    }

  }

  /**
  * Returns the sum of sides for the given number of sides of each dice.
  *
  * @param noOfDice number of dice
  * @param sides sides of a dice
  * @return int sum of sides for number of dice
  */
  public static int throwDice(int noOfDice, DiceSides sides) {

    int sum = 0;
    for (int i = 0; i &lt; noOfDice; i++) {
      sum = sum + (1 + random.nextInt(sides.getDiceSides()));
    }
    return sum;
  }
}
</code></pre>
<h3 id="eloratingsnippet"><a class="header" href="#eloratingsnippet">EloRatingSnippet</a></h3>
<pre><code class="language-java">package math;

/**
 * EloRatingSnippet.
 */
public class EloRatingSnippet {

  static final int BASE = 400; //Two types are popular - 400 and 480. We will choose 400 here
  static final int RATING_ADJUSTMENT_FACTOR = 32; //32 is the standard for Beginner Games

  /**
   * Elo Rating Snippet to calculate result after a single match.
   *
   * @param firstPlayerRating Rating of the first player.
   * @param secondPlayerRating Rating of the second player.
   * @param result Result of the match, always considered with respect to the first player.
   *               1 indicates a win, 0.5 indicates a draw and 0 indicates a loss.
   * @return Returns the new rating of the first player.
   */
  public static double calculateMatchRating(double firstPlayerRating, double secondPlayerRating,
      double result) {
    double ratingDiff = ((secondPlayerRating - firstPlayerRating) * 1.0) / BASE;
    double logisticDiff = Math.pow(10, ratingDiff);
    double firstPlayerExpectedScore = 1.0 / (1 + logisticDiff);
    double firstPlayerActualScore = result;
    double newRating = firstPlayerRating + RATING_ADJUSTMENT_FACTOR * (firstPlayerActualScore 
                       - firstPlayerExpectedScore);
    return newRating;
  }
}
</code></pre>
<h3 id="evenodd"><a class="header" href="#evenodd">EvenOdd</a></h3>
<pre><code class="language-java">package math;

/**
 * EvenOdd.
 */
public class EvenOdd {

  /**
   * Returns string denoting number is odd or even.
   *
   * @param num To check whether its even or odd
   * @return string denoting its even or odd
   */
  public static String evenodd(int num) {
    if (num % 2 == 0) {
      return &quot;even&quot;;
    } else {
      return &quot;odd&quot;;
    }
  }
}
</code></pre>
<h3 id="factorialsnippet"><a class="header" href="#factorialsnippet">FactorialSnippet</a></h3>
<pre><code class="language-java">package math;

/**
 * FactorialSnippet.
 */
public class FactorialSnippet {

  /**
   * Factorial. Works only for small numbers
   *
   * @param number for which factorial is to be calculated for
   * @return factorial
   */
  public static int factorial(int number) {
    var result = 1;
    for (var factor = 2; factor &lt;= number; factor++) {
      result *= factor;
    }
    return result;
  }

  /**
   * Factorial. Example of what the recursive implementation looks like.
   *
   * @param number for which factorial is to be calculated for
   * @return factorial
   */
  public static int recursiveFactorial(int number) {
    var initial = 0;
    if (number == initial) {
      return initial + 1;
    }
    return number * recursiveFactorial(number - 1);
  }
}
</code></pre>
<h3 id="fibonaccisnippet"><a class="header" href="#fibonaccisnippet">FibonacciSnippet</a></h3>
<pre><code class="language-java">package math;

import java.util.ArrayList;
import java.util.List;

/**
 * FibonacciSnippet.
 */
public class FibonacciSnippet {

  /**
   * Recursive Fibonacci series. Works only for small n and is spectacularly inefficient
   *
   * @param n given number
   * @return fibonacci number for given n
   */
  public static int fibonacci(int n) {
    if (n &lt;= 1) {
      return n;
    } else {
      return fibonacci(n - 1) + fibonacci(n - 2);
    }
  }

  /**
   * Fibonacci series using dynamic programming. Works for larger ns as well.
   *
   * @param n given number
   * @return fibonacci number for given n
   */
  public static int fibonacciBig(int n) {
    int previous = 0;
    int current = 1;
    for (int i = 0; i &lt; n - 1; i++) {
      int t = previous + current;
      previous = current;
      current = t;
    }

    return current;
  }

  /**
   * Example of what an iterative implementation of Fibonacci looks like.
   *
   * @param number given number
   * @return fibonacci number for given n
   */
  public static int iterativeFibonacci(int number) {
    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();
    list.add(0);
    list.add(1);
    for (int i = 2; i &lt; number + 1; i++) {
      list.add(list.get(i - 2) + list.get(i - 1));
    }
    return list.get(number);
  }
}
</code></pre>
<h3 id="greatestcommondivisorsnippet"><a class="header" href="#greatestcommondivisorsnippet">GreatestCommonDivisorSnippet</a></h3>
<pre><code class="language-java">package math;

/**
 * GreatestCommonDivisorSnippet.
 */
public class GreatestCommonDivisorSnippet {

  /**
   * Greatest common divisor calculation.
   *
   * @param a one of the numbers whose gcd is to be computed
   * @param b other number whose gcd is to be computed
   * @return gcd of the two numbers
   */
  public static int gcd(int a, int b) {
    if (b == 0) {
      return a;
    }
    return gcd(b, a % b);
  }
}
</code></pre>
<h3 id="haversineformulasnippet"><a class="header" href="#haversineformulasnippet">HaversineFormulaSnippet</a></h3>
<pre><code class="language-java">package math;

/**
 * HaversineFormulaSnippet.
 */
public class HaversineFormulaSnippet {

  // Radius of sphere on which the points are, in this case Earth.
  private static final double SPHERE_RADIUS_IN_KM = 6372.8;

  /**
   * Haversine formula for calculating distance between two latitude, longitude points.
   *
   * @param latA Latitude of point A
   * @param longA Longitude of point A
   * @param latB Latitude of point B
   * @param longB Longitude of point B
   * @return the distance between the two points.
   */
  public static double findHaversineDistance(double latA, double longA, double latB, double longB) {
    if (!isValidLatitude(latA)
        || !isValidLatitude(latB)
        || !isValidLongitude(longA)
        || !isValidLongitude(longB)) {
      throw new IllegalArgumentException();
    }

    // Calculate the latitude and longitude differences
    var latitudeDiff = Math.toRadians(latB - latA);
    var longitudeDiff = Math.toRadians(longB - longA);

    var latitudeA = Math.toRadians(latA);
    var latitudeB = Math.toRadians(latB);

    // Calculating the distance as per haversine formula
    var a = Math.pow(Math.sin(latitudeDiff / 2), 2)
            + Math.pow(Math.sin(longitudeDiff / 2), 2) * Math.cos(latitudeA) * Math.cos(latitudeB);
    var c = 2 * Math.asin(Math.sqrt(a));
    return SPHERE_RADIUS_IN_KM * c;
  }

  // Check for valid latitude value
  private static boolean isValidLatitude(double latitude) {
    return latitude &gt;= -90 &amp;&amp; latitude &lt;= 90;
  }

  // Check for valid longitude value
  private static boolean isValidLongitude(double longitude) {
    return longitude &gt;= -180 &amp;&amp; longitude &lt;= 180;
  }
}
</code></pre>
<h3 id="leastcommonmultiplesnippet"><a class="header" href="#leastcommonmultiplesnippet">LeastCommonMultipleSnippet</a></h3>
<pre><code class="language-java">package math;

/**
 * LeastCommonMultipleSnippet.
 */
public class LeastCommonMultipleSnippet {
  /**
   * Least common multiple  calculation.
   *
   * @param a one of the numbers whose lcm is to be computed
   * @param b other number whose lcm is to be computed
   * @return lcm of the two numbers
   */
  public static int lcm(int a, int b) {
    int max = a &gt; b ? a : b;
    int min = a &lt; b ? a : b;
    for (int i = 1; i &lt;= min; i += 1) {
      int prod = max * i;
      if (prod % min == 0) {
        return prod;
      }
    }
    return max * min;
  }
}
</code></pre>
<h3 id="luhnsnippet"><a class="header" href="#luhnsnippet">LuhnSnippet</a></h3>
<pre><code class="language-java">package math;

/**
 * LuhnSnippet.
 */
public class LuhnSnippet {

  /**
   * Calculates checksum for a given number with Luhn's algorithm. Works only on non-negative
   * integers not greater than {@link Long#MAX_VALUE} i.e., all numbers with a maximum of 18
   * digits, plus 19-digit-long numbers start with 1..8 (also some with 9, too). For
   * demonstration purposes, algorithm is not optimized for efficiency.
   *
   * @param num number whose checksum is to be calculated
   * @return checksum value for num
   * @see &lt;a href=&quot;https://patents.google.com/patent/US2950048A&quot;&gt;Hans P. LUHN's patent US2950048A&lt;/a&gt;
   * @see &lt;a href=&quot;https://en.wikipedia.org/wiki/Luhn_algorithm&quot;&gt;Luhn algorithm on Wikipedia&lt;/a&gt;
   */
  public static int calculateLuhnChecksum(long num) {
    if (num &lt; 0) {
      throw new IllegalArgumentException(&quot;Non-negative numbers only.&quot;);
    }
    final var numStr = String.valueOf(num);

    var sum = 0;
    var isOddPosition = true;
    // Loop on digits of numStr from right to left.
    for (var i = numStr.length() - 1; i &gt;= 0; i--) {
      final var digit = Integer.parseInt(Character.toString(numStr.charAt(i)));
      final var substituteDigit = (isOddPosition ? 2 : 1) * digit;

      final var tensPlaceDigit = substituteDigit / 10;
      final var onesPlaceDigit = substituteDigit % 10;
      sum += tensPlaceDigit + onesPlaceDigit;

      isOddPosition = !isOddPosition;
    }
    final var checksumDigit = (10 - (sum % 10)) % 10;
    // Outermost modulus handles edge case `num = 0`.
    return checksumDigit;
  }
}
</code></pre>
<h3 id="naturalnumberbinaryconversionsnippet"><a class="header" href="#naturalnumberbinaryconversionsnippet">NaturalNumberBinaryConversionSnippet</a></h3>
<pre><code class="language-java">package math;

import java.util.Stack;
import java.util.stream.Collectors;
import java.util.stream.IntStream;
import java.util.stream.Stream;

/**
 * NaturalNumberBinaryConversionSnippet.
 */
public class NaturalNumberBinaryConversionSnippet {

  /**
   * Convert natural number to binary string. Only supports positive integers.Throws exception
   * for negative integers
   *
   * @param naturalNumber given number
   * @return Binary string representation of naturalNumber
   */
  public static String toBinary(long naturalNumber) {
    if (naturalNumber &lt; 0) {
      throw new NumberFormatException(&quot;Negative Integer, this snippet only accepts &quot;
              + &quot;positive integers&quot;);
    }
    if (naturalNumber == 0) {
      return &quot;0&quot;;
    }
    final Stack&lt;Long&gt; binaryBits =
            Stream.iterate(naturalNumber, n -&gt; n &gt; 0, n -&gt; n / 2).map(n -&gt; n % 2)
                    .collect(Stack::new, Stack::push, Stack::addAll);
    return Stream.generate(binaryBits::pop)
            .limit(binaryBits.size()).map(String::valueOf).collect(Collectors.joining());
  }

  /**
   * Convert binary string representation to Long valued Integer. Throws exception if input
   * string contains characters other than '0' and '1'
   *
   * @param binary given number
   * @return Unsigned Long value for the binary number
   */
  public static Long fromBinary(String binary) {
    binary.chars().filter(c -&gt; c != '0' &amp;&amp; c != '1').findFirst().ifPresent(in -&gt; {
      throw new NumberFormatException(
              &quot;Binary string contains values other than '0' and '1'&quot;);
    });
    return IntStream.range(0, binary.length())
            .filter(in -&gt; binary.charAt(binary.length() - 1 - in) == '1')
            .mapToLong(in -&gt; ((long) 0b1) &lt;&lt; in).sum();
  }
}
</code></pre>
<h3 id="performlotterysnippet"><a class="header" href="#performlotterysnippet">PerformLotterySnippet</a></h3>
<pre><code class="language-java">package math;

import java.util.ArrayList;
import java.util.Collections;

/**
 * PerformLotterySnippet.
 */
public class PerformLotterySnippet {

  /**
   * Generate random lottery numbers.
   *
   * @param numNumbers    how many performLottery numbers are available (e.g. 49)
   * @param numbersToPick how many numbers the player needs to pick (e.g. 6)
   * @return array with the random numbers
   */
  public static Integer[] performLottery(int numNumbers, int numbersToPick) {
    var numbers = new ArrayList&lt;Integer&gt;();
    for (var i = 0; i &lt; numNumbers; i++) {
      numbers.add(i + 1);
    }
    Collections.shuffle(numbers);
    return numbers.subList(0, numbersToPick).toArray(new Integer[numbersToPick]);
  }
}
</code></pre>
<h3 id="primenumbersnippet"><a class="header" href="#primenumbersnippet">PrimeNumberSnippet</a></h3>
<pre><code class="language-java">package math;

/**
 * PrimeNumberSnippet.
 */
public class PrimeNumberSnippet {

  /**
   * Checks if given number is a prime number. Prime number is a number that is greater than 1 and
   * divided by 1 or itself only Credits: https://en.wikipedia.org/wiki/Prime_number
   *
   * @param number number to check prime
   * @return true if prime
   */
  public static boolean isPrime(int number) {
    //if number &lt; 2 its not a prime number
    if (number &lt; 2) {
      return false;
    }
    // 2 and 3 are prime numbers
    if (number &lt; 3) {
      return true;
    }
    // check if n is a multiple of 2
    if (number % 2 == 0) {
      return false;
    }
    // if not, then just check the odds
    for (var i = 3; i * i &lt;= number; i += 2) {
      if (number % i == 0) {
        return false;
      }
    }
    return true;
  }
}
</code></pre>
<h3 id="randomnumber"><a class="header" href="#randomnumber">RandomNumber</a></h3>
<pre><code class="language-java">package math;

import java.util.Random;

/**
 * Random Number between given two values.
 * Supported Data types - Byte, Short, Integer, Long, Float and Double.
 */
public class RandomNumber {

  private RandomNumber() {}

  private static Random random = new Random();

  /**
  * Return a random number between two given numbers.
  *
  * @param start Starting point to find the random number
  * @param end Ending point to find the random number
  * @return Number denoting the random number generated
  */
  public static &lt;T extends Number&gt; Number getRandomNumber(T start, T end) {

    if (start instanceof Byte &amp;&amp; end instanceof Byte) {
      return (byte) (start.byteValue()
              + random.nextInt(end.byteValue() - start.byteValue() + 1));
    } else if (start instanceof Short &amp;&amp; end instanceof Short) {
      return (short) (start.shortValue()
              + random.nextInt(end.shortValue() - start.shortValue() + 1));
    } else if (start instanceof Integer &amp;&amp; end instanceof Integer) {
      return start.intValue()
              + random.nextInt(end.intValue() - start.intValue() + 1);
    } else if (start instanceof Long &amp;&amp; end instanceof Long) {
      return start.longValue()
              + (long) (random.nextDouble() * end.longValue() - start.longValue() + 1);
    } else if (start instanceof Float &amp;&amp; end instanceof Float) {
      return start.floatValue()
              + random.nextFloat() * (end.floatValue() - start.floatValue());
    } else if (start instanceof Double &amp;&amp; end instanceof Double) {
      return start.doubleValue()
              + random.nextDouble() * (end.doubleValue() - start.doubleValue());
    } else {
      throw new IllegalArgumentException(&quot;Invalid Numbers As Arguments &quot;
              + start.getClass() + &quot; and &quot; + end.getClass());
    }
  }
}


### SquareRoot

```java
package math;

/**
 * SquareRoot.
 */
public class SquareRoot {

  /**
   * Returns square root of a number.
   *
   * @param num To find SquareRoot
   * @param p   precision till how many decimal numbers we want accurate ans
   */
  public static double sqrt(int num, int p) {
    int start = 0;
    int end = num;
    double root = 0.0;

    while (start &lt;= end) {
      int mid = start + (end - start) / 2;

      if ((mid * mid) &gt; num) {
        end = mid - 1;
      } else if ((mid * mid) &lt; num) {
        start = mid + 1;
      } else {
        return mid;
      }
    }
    double incr = 0.1;
    for (int i = 0; i &lt; p; i++) {
      while (root * root &lt; num) {
        root = root + incr;
      }
      root = root - incr;
      incr = incr / 10;
    }
    return root;
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="media-1"><a class="header" href="#media-1">Media</a></h1>
<h3 id="capturescreensnippet"><a class="header" href="#capturescreensnippet">CaptureScreenSnippet</a></h3>
<pre><code class="language-java">package media;

import java.awt.AWTException;
import java.awt.Rectangle;
import java.awt.Robot;
import java.awt.Toolkit;
import java.io.File;
import java.io.IOException;
import javax.imageio.ImageIO;

/**
 * CaptureScreenSnippet.
 */
public class CaptureScreenSnippet {

  /**
   * Capture screenshot and save it to PNG file. Credits: https://viralpatel.net/blogs/how-to-take-screen-shots-in-java-taking-screenshots-java/
   *
   * @param filename the name of the file
   * @throws AWTException if the platform configuration does not allow low-level input control
   * @throws IOException  if an I/O error occurs
   */
  public static void captureScreen(String filename) throws AWTException, IOException {
    var screenSize = Toolkit.getDefaultToolkit().getScreenSize();
    var screenRectangle = new Rectangle(screenSize);
    var robot = new Robot();
    var image = robot.createScreenCapture(screenRectangle);
    ImageIO.write(image, &quot;png&quot;, new File(filename));
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h3 id="httpgetsnippet"><a class="header" href="#httpgetsnippet">HttpGetSnippet</a></h3>
<pre><code class="language-java">package network;

import java.net.URI;
import java.net.http.HttpClient;
import java.net.http.HttpRequest;
import java.net.http.HttpResponse;

/**
 * HttpGetSnippet.
 */
public class HttpGetSnippet {

  /**
   * Performs HTTP GET request.
   *
   * @param uri the URI of the connection
   * @return response object
   * @throws Exception i/o error, interruption error, etc
   */
  public static HttpResponse&lt;String&gt; httpGet(String uri) throws Exception {
    var client = HttpClient.newHttpClient();
    var request = HttpRequest.newBuilder()
            .uri(URI.create(uri))
            .build();
    return client.send(request, HttpResponse.BodyHandlers.ofString());
  }
}
</code></pre>
<h3 id="httppostsnippet"><a class="header" href="#httppostsnippet">HttpPostSnippet</a></h3>
<pre><code class="language-java">package network;

import java.io.IOException;
import java.net.URI;
import java.net.URLEncoder;
import java.net.http.HttpClient;
import java.net.http.HttpRequest;
import java.net.http.HttpResponse;
import java.nio.charset.StandardCharsets;
import java.util.HashMap;
import java.util.StringJoiner;

/**
 * HttpPostSnippet.
 */
public class HttpPostSnippet {

  /**
   * Performs HTTP POST request. Credits https://stackoverflow.com/questions/3324717/sending-http-post-request-in-java
   *
   * @param address   the URL of the connection in String format, like &quot;http://www.google.com&quot;
   * @param arguments the body of the POST request, as a HashMap
   * @return response object
   * @throws IOException          if an I/O error occurs
   * @throws InterruptedException if the operation is interrupted
   */
  public static HttpResponse&lt;String&gt; httpPost(String address, HashMap&lt;String, String&gt; arguments)
          throws IOException, InterruptedException {
    var sj = new StringJoiner(&quot;&amp;&quot;);
    for (var entry : arguments.entrySet()) {
      sj.add(URLEncoder.encode(entry.getKey(), StandardCharsets.UTF_8) + &quot;=&quot;
              + URLEncoder.encode(entry.getValue(), StandardCharsets.UTF_8));
    }

    var out = sj.toString().getBytes(StandardCharsets.UTF_8);
    var request = HttpRequest.newBuilder()
            .uri(URI.create(address))
            .headers(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded; charset=UTF-8&quot;)
            .POST(HttpRequest.BodyPublishers.ofByteArray(out))
            .build();

    return HttpClient.newHttpClient().send(request, HttpResponse.BodyHandlers.ofString());
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h3 id="anagramsnippet"><a class="header" href="#anagramsnippet">AnagramSnippet</a></h3>
<pre><code class="language-java">package string;

import java.util.Arrays;

/**
 * AnagramSnippet.
 */
public class AnagramSnippet {

  /**
   * Checks if two words are anagrams (contains same characters with same frequency in any order).
   *
   * @param s1 The first string to be checked
   * @param s2 The second string to be checked
   * @return true if they are anagrams of each other
   */
  public static boolean isAnagram(String s1, String s2) {
    var l1 = s1.length();
    var l2 = s2.length();

    if (l1 != l2) {
      return false;
    }

    var arr1 = new int[256];
    var arr2 = new int[256];
    
    for (var i = 0; i &lt; l1; i++) {
      arr1[s1.charAt(i)]++;
      arr2[s2.charAt(i)]++;
    }
    return Arrays.equals(arr1, arr2);
  }
}
</code></pre>
<h3 id="commonletterssnippet"><a class="header" href="#commonletterssnippet">CommonLettersSnippet</a></h3>
<pre><code class="language-java">package string;

import java.util.HashSet;
import java.util.Set;

/**
 * CommonLettersSnippet.
 */
public class CommonLettersSnippet {

  /**
   * Find Common Characters inside given two strings.
   *
   * @param firstStr  first string
   * @param secondStr second string
   * @return Common Characters.
   */
  public static String getCommonLetters(String firstStr, String secondStr) {
    Set&lt;String&gt; commonLetters = new HashSet&lt;&gt;();
    for (Character currentCharacter : firstStr.toCharArray()) {
      if (isCommonLetter(secondStr, currentCharacter)) {
        commonLetters.add(currentCharacter.toString());
      }
    }
    return String.join(&quot; &quot;, commonLetters);
  }

  private static boolean isCommonLetter(String str, Character character) {
    return str.contains(character.toString()) &amp;&amp; Character.isLetter(character);
  }
}
</code></pre>
<h3 id="compareversionsnippet"><a class="header" href="#compareversionsnippet">CompareVersionSnippet</a></h3>
<pre><code class="language-java">package string;

/**
 * CompareVersionSnippet.
 */
public class CompareVersionSnippet {

  private static final String EXTRACT_VERSION_REGEX = &quot;.*?((?&lt;!\\w)\\d+([.-]\\d+)*).*&quot;;

  /**
   * Compares two version strings.
   * Credits: https://stackoverflow.com/a/6702000/6645088 and https://stackoverflow.com/a/44592696/6645088
   *
   * @param v1 the first version string to compare
   * @param v2 the second version string to compare
   * @return the value {@code 0} if the two strings represent same versions;
   *     a value less than {@code 0} if {@code v1} is greater than {@code v2}; and
   *     a value greater than {@code 0} if {@code v2} is greater than {@code v1}
   */
  public static int compareVersion(String v1, String v2) {
    var components1 = getVersionComponents(v1);
    var components2 = getVersionComponents(v2);
    int length = Math.max(components1.length, components2.length);
    for (int i = 0; i &lt; length; i++) {
      Integer c1 = i &lt; components1.length ? Integer.parseInt(components1[i]) : 0;
      Integer c2 = i &lt; components2.length ? Integer.parseInt(components2[i]) : 0;
      int result = c1.compareTo(c2);
      if (result != 0) {
        return result;
      }
    }
    return 0;
  }

  private static String[] getVersionComponents(String version) {
    return version.replaceAll(EXTRACT_VERSION_REGEX, &quot;$1&quot;).split(&quot;\\.&quot;);
  }
}
</code></pre>
<h3 id="duplicatecharactersnippet"><a class="header" href="#duplicatecharactersnippet">DuplicateCharacterSnippet</a></h3>
<pre><code class="language-java">package string;

import java.util.HashSet;
import java.util.Set;

/**
 * DuplicateCharacterSnippet.
 */
public class DuplicateCharacterSnippet {

  /**
   * Remove Duplicate Characters from a string.
   *
   * @param str The string to be processed
   * @return A string with no duplicate characters
   */

  public static String removeDuplicateCharacters(String str) {
    char[] charsOfStr = str.toCharArray();
    Set&lt;String&gt; uniqueCharacters = new HashSet&lt;&gt;();
    for (char character : charsOfStr) {
      uniqueCharacters.add(String.valueOf(character));
    }
    return String.join(&quot;&quot;, uniqueCharacters);
  }
}
</code></pre>
<h3 id="kmpsubstringsearchsnippet"><a class="header" href="#kmpsubstringsearchsnippet">KmpSubstringSearchSnippet</a></h3>
<pre><code class="language-java">package string;

/**
 * KmpSubstringSearchSnippet.
 */

public class KmpSubstringSearchSnippet {
 
  /**
   * Implements the Knuth-Morris-Pratt (KMP) algorithm to find the of a substring.
   *
   * @param text The text in which the substring is to be searched.
   * @param pattern The substring pattern to search for.
   * @return The index of the first occurrence, or -1 if the pattern is not found.
   */
  public static int kmpSearch(String text, String pattern) {
    if (pattern == null || pattern.length() == 0) {
      return 0; // Trivial case: empty pattern
    }
 
    int[] lps = computeLpsArray(pattern);
    int i = 0; // index for text
    int j = 0; // index for pattern
 
    while (i &lt; text.length()) {
      if (pattern.charAt(j) == text.charAt(i)) {
        i++;
        j++;
      }
 
      if (j == pattern.length()) {
        return i - j; // Found pattern at index (i - j)
      } else if (i &lt; text.length() &amp;&amp; pattern.charAt(j) != text.charAt(i)) {
        if (j != 0) {
          j = lps[j - 1]; // Use the LPS array to skip characters
        } else {
          i++; // If no match and j is 0, move to the next character in text
        }
      }
    }
    return -1; // Pattern not found
  }
 
  /**
  * Computes the LPS (Longest Prefix Suffix) array, which indicates the longest proper prefix.
  *
  * @param pattern The pattern for which the LPS array is to be computed.
  * @return The LPS array.
  */
  private static int[] computeLpsArray(String pattern) {
    int length = 0;
    int i = 1;
    int[] lps = new int[pattern.length()];
    lps[0] = 0; // LPS for the first character is always 0
 
    while (i &lt; pattern.length()) {
      if (pattern.charAt(i) == pattern.charAt(length)) {
        length++;
        lps[i] = length;
        i++;
      } else {
        if (length != 0) {
          length = lps[length - 1]; // Fall back to the previous LPS value
        } else {
          lps[i] = 0;
          i++;
        }
      }
    }
    return lps;
  }
} 

### LevenshteinDistanceSnippet

```java
package string;

/**
 * LevenshteinDistanceSnippet.
 */
public class LevenshteinDistanceSnippet {

  /**
   * Find the Levenshtein distance between two words. https://en.wikipedia.org/wiki/Levenshtein_distance
   *
   * @param word1 first word
   * @param word2 second word
   * @return distance
   */
  public static int findLevenshteinDistance(String word1, String word2) {
    // If word2 is empty, removing
    int[][] ans = new int[word1.length() + 1][word2.length() + 1];
    for (int i = 0; i &lt;= word1.length(); i++) {
      ans[i][0] = i;
    }
    // if word1 is empty, adding
    for (int i = 0; i &lt;= word2.length(); i++) {
      ans[0][i] = i;
    }
    // None is empty
    for (int i = 1; i &lt;= word1.length(); i++) {
      for (int j = 1; j &lt;= word2.length(); j++) {
        int min = Math.min(Math.min(ans[i][j - 1], ans[i - 1][j]), ans[i - 1][j - 1]);
        ans[i][j] = word1.charAt(i - 1) == word2.charAt(j - 1) ? ans[i - 1][j - 1] : min + 1;
      }
    }
    return ans[word1.length()][word2.length()];
  }
}
</code></pre>
<h3 id="lsystemsnippet"><a class="header" href="#lsystemsnippet">LSystemSnippet</a></h3>
<pre><code class="language-java">package string;

import java.util.Map;

/**
 * LSystemSnippet.
 */
public class LindenmayerSystemSnippet {
  /**
   * Generates an L-system string based on axiom, production rules, and a number of iterations.
   *
   * @param axiom           initial string to begin the L-system
   * @param productionRules map of character rules where each symbol can be replaced with a string
   * @param iterations      number of iterations to apply the production rules
   * @return the generated string after all iterations
   */
  public static String generateLindenmayerSystem(
          String axiom,
          Map&lt;Character, String&gt; productionRules,
          int iterations
  ) {
    String current = axiom;

    for (int i = 0; i &lt; iterations; i++) {
      StringBuilder nextIteration = new StringBuilder(current.length() * 2);

      // Replace each symbol with the corresponding production rule or the symbol itself
      current.chars()
          .mapToObj(c -&gt; (char) c)
          .forEach(symbol -&gt;
                  nextIteration.append(
                          productionRules.getOrDefault(symbol, String.valueOf(symbol))
                  )
          );

      current = nextIteration.toString();
    }
    return current;
  }
}
</code></pre>
<h3 id="maxcharactercountsnippet"><a class="header" href="#maxcharactercountsnippet">MaxCharacterCountSnippet</a></h3>
<pre><code class="language-java">package string;

/**
 * MaxCharacterCountSnippet.
 */
public class MaxCharacterCountSnippet {

  /**
   * The maximum count of times a specific character appears in a string.
   *
   * @param str ÙA specific string
   * @param character A specific character
   * @return the maximum count of one character
   */

  public static int getMaxCharacterCount(String str, char character) {
    int characterCount = 0;
    int maxCharacterCount = 0;
    for (int i = 0; i &lt; str.length(); i++) {
      if ((str.charAt(i)) == character) {
        characterCount++;
        maxCharacterCount = Math.max(maxCharacterCount, characterCount);
      } else {
        characterCount = 0;
      }
    }
    return maxCharacterCount;
  }
}
</code></pre>
<h3 id="palindromchecksnippet"><a class="header" href="#palindromchecksnippet">PalindromCheckSnippet</a></h3>
<pre><code class="language-java">package string;

/**
 * PalindromCheckSnippet.
 */
public class PalindromCheckSnippet {

  /**
   * Checks if given string is palindrome (same forward and backward). Skips non-letter characters
   * Credits: https://github.com/kousen/java_8_recipes
   *
   * @param s string to check
   * @return true if palindrome
   */
  public static boolean isPalindrome(String s) {
    for (int i = 0, j = s.length() - 1; i &lt; j; i++, j--) {
      while (i &lt; j &amp;&amp; !Character.isLetter(s.charAt(i))) {
        i++;
      }
      while (i &lt; j &amp;&amp; !Character.isLetter(s.charAt(j))) {
        j--;
      }

      if (Character.toLowerCase(s.charAt(i)) != Character.toLowerCase(s.charAt(j))) {
        return false;
      }
    }

    return true;
  }
}
</code></pre>
<h3 id="reversstringsnippet"><a class="header" href="#reversstringsnippet">ReversStringSnippet</a></h3>
<pre><code class="language-java">package string;

/**
 * ReversStringSnippet.
 */
public class ReverseStringSnippet {

  /**
   * Reverse string.
   *
   * @param s the string to reverse
   * @return reversed string
   */
  public static String reverseString(String s) {
    return new StringBuilder(s).reverse().toString();
  }
}
</code></pre>
<h3 id="stringtodatesnippet"><a class="header" href="#stringtodatesnippet">StringToDateSnippet</a></h3>
<pre><code class="language-java">package string;

import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Date;

/**
 * StringToDateSnippet.
 */
public class StringToDateSnippet {

  /**
   * Convert string to date.
   *
   * @param date   the date string
   * @param format expected date format
   * @return Date
   * @throws ParseException in case of an unparseable date string
   */
  public static Date stringToDate(String date, String format) throws ParseException {
    var simpleDateFormat = new SimpleDateFormat(format);
    return simpleDateFormat.parse(date);
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h3 id="threadpool"><a class="header" href="#threadpool">ThreadPool</a></h3>
<pre><code class="language-java">package thread;

import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;

/**
 * ThreadPool.
 */
public class ThreadPool {

  /**
   * &lt;p&gt;Creates pool of threads. Where the pool is the size of the number of processors
   * available to the Java virtual machine.&lt;/p&gt;
   *
   * @return the newly created thread pool
   */
  public static ExecutorService createFixedThreadPool() {
    return Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors());
  }
}
</code></pre>
<h3 id="threadsnippet"><a class="header" href="#threadsnippet">ThreadSnippet</a></h3>
<pre><code class="language-java">package thread;

/**
 * ThreadSnippet.
 */
public class ThreadSnippet {

  /**
   * Creates and returns a new thread with the task assigned to it
   * (task will be performed parallel to the main thread).
   *
   * @param task the task to be executed by this thread
   * @return new thread with task assigned to it.
   */
  public static Thread createThread(Runnable task) {
    return new Thread(task);
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="hÆ°á»›ng-dáº«n-spring-boot"><a class="header" href="#hÆ°á»›ng-dáº«n-spring-boot">HÆ°á»›ng dáº«n Spring Boot</a></h1>
<p>MÃ¬nh lÆ°u láº¡i má»™t pháº§n ná»™i dung trang cá»§a loda-kun vá», do trang Ä‘Ã£ khÃ´ng cÃ²n ná»¯a nÃªn Ä‘Ã¢y lÃ  báº£n Backup láº¡i. Báº¡n cÃ³ thá»ƒ truy cáº­p vÃ o <a href="https://github.com/loda-kun">trang Github cá»§a tÃ¡c giáº£ gá»‘c</a>. CÃ¡c bÃ i viáº¿t trong Ä‘Ã¢y Ä‘Ã£ Ä‘Æ°á»£c sá»­a láº¡i vÃ  tá»‘i Æ°u vá» máº·t ná»™i dung Ä‘á»ƒ thuáº­n tiá»‡n cho viá»‡c sá»­ dá»¥ng cÃ¡ nhÃ¢n. Báº¡n cÃ³ thá»ƒ Ä‘á»c toÃ n bá»™ ná»™i dung khÃ³a há»c nÃ y trÃªn viblo cá»§a Nguyá»…n HoÃ ng Nam.</p>
<p>Má»™t framework máº¡nh máº½ mÃ  báº¥t kÃ¬ Java Developer nÃ o cÅ©ng pháº£i biáº¿t! Báº¯t Ä‘áº§u nÃ o! Pháº§n source code cÃ³ thá»ƒ Ä‘á»c trÃªn <a href="https://github.com/loda-kun/spring-boot-learning">loda-kun/spring-boot-learning</a></p>
<h3 id="bÃ i-há»c-1"><a class="header" href="#bÃ i-há»c-1">BÃ i há»c</a></h3>
<ul>
<li>ğŸ¦½ [core] <a href="spring-boot/core1.html">KhÃ¡i niá»‡m tight-coupling (liÃªn káº¿t rÃ ng buá»™c) vÃ  cÃ¡ch loosely coupled</a></li>
<li>ğŸŒ› [core] <a href="spring-boot/core2.html">Giáº£i thÃ­ch Dependency Injection (DI) vÃ  IoC báº±ng Ngá»c Trinh</a></li>
<li>ğŸ“– [SB1] <a href="spring-boot/sb1.html">HÆ°á»›ng dáº«n @Component vÃ  @Autowired</a></li>
<li>â˜ï¸ [SB2] <a href="spring-boot/sb2.html">@Autowired - @Primary - @Qualifier</a></li>
<li>ğŸš¤ [SB3] <a href="spring-boot/sb3.html">Spring Bean Life Cycle + @PostConstruct vÃ  @PreDestroy</a></li>
<li>ğŸŒŸ [SB4] <a href="spring-boot/sb4.html">@Component vs @Service vs @Repository</a></li>
<li>ğŸ“ƒ [SB5] <a href="spring-boot/sb5.html">Component Scan lÃ  gÃ¬?</a></li>
<li>ğŸ“¹ [SB6] <a href="spring-boot/sb6.html">@Configuration vÃ  @Bean</a></li>
<li>ğŸšŒ [SB7] <a href="spring-boot/sb7.html">Spring Boot Application Config vÃ  @Value</a></li>
<li>ğŸ“ [SB8] <a href="spring-boot/sb8.html">Táº¡o Web Helloworld vá»›i @Controller + Thymeleaf</a></li>
<li>ğŸ§µ [SB9] <a href="spring-boot/sb9.html">Giáº£i thÃ­ch cÃ¡ch Thymeleaf váº­n hÃ nh + Expression + Demo Full</a></li>
<li>ğŸ² [SB10] <a href="spring-boot/sb10.html">@RequestMapping + @PostMapping + @ModelAttribute + @RequestParam + Web To-Do vá»›i Thymeleaf</a></li>
<li>ğŸ [SB11] <a href="spring-boot/sb11.html">HÆ°á»›ng dáº«n Spring Boot JPA + MySQL</a></li>
<li>ğŸº [SB12] <a href="spring-boot/sb12.html">Spring JPA Method + @Query</a></li>
<li>ğŸ“º [SB13] <a href="spring-boot/sb13.html">Chi tiáº¿t Spring Boot + Thymeleaf + MySQL + i18n + Web Demo</a></li>
<li>ğŸ–Šï¸ [SB14] <a href="spring-boot/sb14.html">Restful API + @RestController + @PathVariable + @RequestBody</a></li>
<li>ğŸš‰ [SB15] <a href="spring-boot/sb15.html">Exception Handling @ExceptionHandler + @RestControllerAdvice / @ControllerAdvice + @ResponseStatus</a></li>
<li>ğŸ“° [SB16] <a href="spring-boot/sb16.html">HÆ°á»›ng dáº«n sá»­ dá»¥ng @ConfigurationPropertie</a></li>
<li>ğŸŒˆ [SB17] <a href="spring-boot/sb17.html">Cháº¡y nhiá»u mÃ´i trÆ°á»ng vá»›i Spring Profile</a></li>
<li>ğŸ—ºï¸ [SB18] <a href="spring-boot/sb18.html">HÆ°á»›ng dáº«n chi tiáº¿t Test Spring Boot</a></li>
<li>ğŸ”© [SB19] <a href="spring-boot/sb19.html">HÆ°á»›ng dáº«n chi tiáº¿t Test Spring Boot (Pháº§n 2)</a></li>
<li>ğŸ“  [SB20] <a href="spring-boot/sb20.html">HÆ°á»›ng dáº«n toÃ n táº­p Mockito</a></li>
<li>ğŸ· [SB21] <a href="spring-boot/sb21.html">HÆ°á»›ng dáº«n táº¡o Bean cÃ³ Ä‘iá»u kiá»‡n vá»›i @Conditional</a></li>
<li>ğŸ¯ [SB22] <a href="spring-boot/sb22.html">HÆ°á»›ng dáº«n tá»± táº¡o custom @Conditional</a></li>
<li>ğŸ—ï¸ [SB23] <a href="spring-boot/sb23.html">Xá»­ lÃ½ sá»± kiá»‡n vá»›i @EventListener + @Async</a></li>
<li>ğŸ˜… [SB24] <a href="spring-boot/sb24.html">RESTful API Document Táº¡o vá»›i Spring Boot + Swagger</a></li>
<li>ğŸ›³ï¸ [SB25] <a href="spring-boot/sb25.html">RESTful API Document vá»›i Spring Boot + OpenApi 3.0</a></li>
<li>âš”ï¸ã€ŒJpaã€<a href="spring-boot/jpa1.html">Hibernate lÃ  gÃ¬?</a></li>
<li>ğŸŠã€ŒJpaã€<a href="spring-boot/jpa2.html">HÆ°á»›ng dáº«n sá»­ dá»¥ng Specification (Pháº§n 1)</a></li>
<li>ğŸª‚ã€ŒJpaã€<a href="spring-boot/jpa3.html">HÆ°á»›ng dáº«n sá»­ dá»¥ng @OneToOne</a></li>
<li>ğŸš…ã€ŒJpaã€<a href="spring-boot/jpa4.html">@OneToMany vÃ  @ManyToOne</a></li>
<li>ğŸ›µã€ŒJpaã€<a href="spring-boot/jpa5.html">HÆ°á»›ng dáº«n @ManyToMany</a></li>
<li>ğŸ†ã€ŒJpaã€<a href="spring-boot/jpa6.html">HÆ°á»›ng dáº«n Query phÃ¢n trang báº±ng Pageable (Pháº§n 1)</a></li>
<li>ğŸªŸã€ŒJpaã€<a href="spring-boot/jpa7.html">HÆ°á»›ng dáº«n sá»­ dá»¥ng Criteria API trong Hibernate</a></li>
<li>ğŸ“ˆã€ŒJpaã€<a href="spring-boot/jpa8.html">HÆ°á»›ng dáº«n sá»­ dá»¥ng Criteria API trong Hibernate (Pháº§n 2)</a></li>
<li>ğŸ§ºã€ŒJpaã€<a href="spring-boot/jpa9.html">HÆ°á»›ng dáº«n tá»± táº¡o Validator Ä‘á»ƒ kiá»ƒm tra Model &amp; Entity</a></li>
<li>ğŸŸï¸ [SS] <a href="spring-boot/ss1.html">HÆ°á»›ng dáº«n Spring Security cÆ¡ báº£n, dá»… hiá»ƒu</a></li>
<li>â›³ [SS] <a href="spring-boot/ss2.html">HÆ°á»›ng dáº«n Spring Security + Jpa Hibernate</a></li>
<li>ğŸ [SS] <a href="spring-boot/ss3.html">HÆ°á»›ng dáº«n Spring Security + JWT (Json Web Token) + Hibernate</a></li>
<li>â›½ <a href="spring-boot/redis.html">HÆ°á»›ng dáº«n Spring Boot + Redis</a></li>
</ul>
<p>ChÃºc cÃ¡c báº¡n há»c táº­p hiá»‡u quáº£!</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="khÃ¡i-niá»‡m-tightly-coupled-liÃªn-káº¿t-rÃ ng-buá»™c-vÃ -cÃ¡ch-Ä‘á»ƒ-loosely-coupled"><a class="header" href="#khÃ¡i-niá»‡m-tightly-coupled-liÃªn-káº¿t-rÃ ng-buá»™c-vÃ -cÃ¡ch-Ä‘á»ƒ-loosely-coupled">KhÃ¡i niá»‡m tightly-coupled (liÃªn káº¿t rÃ ng buá»™c) vÃ  cÃ¡ch Ä‘á»ƒ loosely-coupled</a></h1>
<h3 id="Äá»‹nh-nghÄ©a"><a class="header" href="#Äá»‹nh-nghÄ©a">Äá»‹nh nghÄ©a</a></h3>
<ul>
<li><strong>Tight-coupling</strong> hay &quot;liÃªn káº¿t rÃ ng buá»™c&quot; lÃ  má»™t khÃ¡i niá»‡m trong Java Ã¡m chá»‰ viá»‡c má»‘i quan há»‡ giá»¯a cÃ¡c Class quÃ¡ cháº·t cháº½. Khi yÃªu cáº§u thay Ä‘á»•i logic hay má»™t class bá»‹ lá»—i sáº½ dáº«n tá»›i áº£nh hÆ°á»Ÿng tá»›i toÃ n bá»™ cÃ¡c Class khÃ¡c.</li>
<li><strong>loosely-coupled</strong> lÃ  cÃ¡ch Ã¡m chá»‰ viá»‡c lÃ m giáº£m bá»›t sá»± phá»¥ thuá»™c giá»¯a cÃ¡c Class vá»›i nhau.</li>
</ul>
<h3 id="vÃ­-dá»¥-dá»…-hiá»ƒu"><a class="header" href="#vÃ­-dá»¥-dá»…-hiá»ƒu"><strong>VÃ­ dá»¥ dá»… hiá»ƒu</strong></a></h3>
<p>Láº¥y má»™t vÃ­ dá»¥:</p>
<p>Báº¡n cÃ³ má»™t Class thá»±c thi má»™t nhiá»‡m vá»¥ cá»±c ká»³ phá»©c táº¡p, vÃ  má»™t trong sá»‘ Ä‘Ã³ lÃ  viá»‡c sáº¯p xáº¿p dá»¯ liá»‡u trÆ°á»›c khi xá»­ lÃ½.</p>
<h3 id="cÃ¡ch-code-level-1"><a class="header" href="#cÃ¡ch-code-level-1"><strong>CÃ¡ch code level 1:</strong></a></h3>
<pre><code>public class BubbleSortAlgorithm{

    public void sort(int[] array) {
        // TODO: Add your logic here
        System.out.println(&quot;ÄÃ£ sáº¯p xáº¿p báº±ng thuáº­t toÃ¡n sx ná»•i bá»t&quot;);
    }
}

public class VeryComplexService {
    private BubbleSortAlgorithm bubbleSortAlgorithm = new BubbleSortAlgorithm();
    
    public VeryComplexService(){

    }

    public void complexBusiness(int array[]){
        bubbleSortAlgorithm.sort(array);
        // TODO: more logic here
    }
}
</code></pre>
<p>Vá»›i cÃ¡ch lÃ m á»Ÿ trÃªn, <code>VeryComplexService</code> Ä‘Ã£ hoÃ n thiá»‡n Ä‘Æ°á»£c nhiá»‡m vá»¥, tuy nhiÃªn, khi cÃ³ yÃªu cáº§u <strong>thay Ä‘á»•i</strong> thuáº­t toÃ¡n sáº¯p xáº¿p sang <code>QuickSort</code> thÃ¬ nghe váº» chÃºng ta sáº½ pháº£i sá»­a láº¡i hoÃ n toÃ n cáº£ 2 Class trÃªn.</p>
<p>NgoÃ i ra <code>BubbleSortAlgorithm</code> sáº½ chá»‰ tá»“n táº¡i náº¿u <code>VeryComplexService</code> tá»“n táº¡i, vÃ¬ <code>VeryComplexService</code> táº¡o Ä‘á»‘i tÆ°á»£ng <code>BubbleSortAlgorithm</code> bÃªn trong nÃ³ (hay nÃ³i cÃ¡ch khÃ¡c lÃ  sá»± sá»‘ng cháº¿t cá»§a <code>BubbleSortAlgorithm</code> sáº½ do <code>VeryComplexService</code> quyáº¿t Ä‘á»‹nh), theo nhÆ° cÃ¡ch implement nÃ y, nÃ³ lÃ  liÃªn káº¿t ráº¥t cháº·t vá»›i nhau.</p>
<h3 id="cÃ¡ch-lÃ m-level-2"><a class="header" href="#cÃ¡ch-lÃ m-level-2"><strong>CÃ¡ch lÃ m level 2:</strong></a></h3>
<pre><code>public interface SortAlgorithm {
    /**
     * Sáº¯p xáº¿p máº£ng Ä‘áº§u vÃ o
     * @param array
     */
    public void sort(int array[]);
}

public class BubbleSortAlgorithm implements SortAlgorithm{

    @Override
    public void sort(int[] array) {
        // TODO: Add your logic here
        System.out.println(&quot;ÄÃ£ sáº¯p xáº¿p báº±ng thuáº­t toÃ¡n sx ná»•i bá»t&quot;);
    }
}

public class VeryComplexService {
    private SortAlgorithm sortAlgorithm;
    public VeryComplexService(){
        sortAlgorithm = new BubbleSortAlgorithm();
    }

    public void complexBusiness(int array[]){
        sortAlgorithm.sort(array);
        // TODO: more logic here
    }
}
</code></pre>
<p>Vá»›i cÃ¡ch lÃ m nÃ y, <code>VeryComplexService</code> sáº½ chá»‰ quan há»‡ vá»›i má»™t interface <code>SortAlgorithm</code>. Vá»›i cÃ¡ch nÃ y thÃ¬ má»—i quan há»‡ giáº£m bá»›t sá»± liÃªn káº¿t, nhÆ°ng nÃ³ khÃ´ng thay Ä‘á»•i Ä‘Æ°á»£c viá»‡c thuáº­t toÃ¡n váº«n Ä‘ang lÃ  <code>BubbleSortAlgorithm</code>.</p>
<h3 id="cÃ¡ch-lÃ m-level-3"><a class="header" href="#cÃ¡ch-lÃ m-level-3"><strong>CÃ¡ch lÃ m level 3:</strong></a></h3>
<pre><code>public interface SortAlgorithm {
    /**
     * Sáº¯p xáº¿p máº£ng Ä‘áº§u vÃ o
     * @param array
     */
    public void sort(int array[]);
}

public class BubbleSortAlgorithm implements SortAlgorithm{

    @Override
    public void sort(int[] array) {
        // TODO: Add your logic here
        System.out.println(&quot;ÄÃ£ sáº¯p xáº¿p báº±ng thuáº­t toÃ¡n sx ná»•i bá»t&quot;);
    }
}

public class QuicksortAlgorithm implements SortAlgorithm {
    @Override
    public void sort(int[] array) {
        // TODO: Add your logic here
        System.out.println(&quot;ÄÃ£ sáº¯p xáº¿p báº±ng thuáº­t sx nhanh&quot;);

    }
}

public class VeryComplexService {
    private SortAlgorithm sortAlgorithm;
    public VeryComplexService(SortAlgorithm sortAlgorithm){
        this.sortAlgorithm = sortAlgorithm;
    }

    public void complexBusiness(int array[]){
        sortAlgorithm.sort(array);
        // TODO: more logic here
    }
}

public static void main(String[] args) {
    SortAlgorithm bubbleSortAlgorithm = new BubbleSortAlgorithm();
    SortAlgorithm quickSortAlgorithm = new QuicksortAlgorithm();
    VeryComplexService business1 = new VeryComplexService(bubbleSortAlgorithm);
    VeryComplexService business2 = new VeryComplexService(quickSortAlgorithm);
}
</code></pre>
<p>CÃ¡ch thá»© ba nÃ y cÅ©ng lÃ  cÃ¡ch lÃ m phá»• biá»ƒn nháº¥t. Má»‘i liÃªn há»‡ giá»¯a 2 Class Ä‘Ã£ &quot;lá»ng láº»o&quot; hÆ¡n trÆ°á»›c ráº¥t nhiá»u. <code>VeryComplexService</code> sáº½ khÃ´ng quan tÃ¢m tá»›i viá»‡c thuáº­t toÃ¡n sáº¯p xÃ©p lÃ  gÃ¬ ná»¯a, mÃ  chá»‰ cáº§n táº­p trung vÃ o nghiá»‡p vá»¥. CÃ²n <code>SortAlgorithm</code> sáº½ Ä‘Æ°á»£c Ä‘Æ°a vÃ o tá»« bÃªn ngoÃ i tÃ¹y theo nhu cáº§u sá»­ dá»¥ng.</p>
<h3 id="dependency-injection"><a class="header" href="#dependency-injection"><strong>Dependency Injection</strong></a></h3>
<p>Sau khi báº¡n Ä‘Ã£ náº¯m Ä‘Æ°á»£c 2 khÃ¡i niá»‡m <strong>tight-coupling</strong> vÃ  <strong>loosely-coupled</strong> thÃ¬ sáº½ cÃ³ thá»ƒ hiá»ƒu dá»… dÃ ng khÃ¡i niá»‡m <strong>Dependency Injection</strong>. Má»™t trong nhá»¯ng nhÃ¢n tá»‘ chÃ­nh giÃºp cuá»™c Ä‘á»i láº­p trÃ¬nh Java cá»§a báº¡n trá»Ÿ nÃªn tÆ°Æ¡i sÃ¡ng hÆ¡n.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="giáº£i-thÃ­ch-dependency-injection-di-vÃ -ioc"><a class="header" href="#giáº£i-thÃ­ch-dependency-injection-di-vÃ -ioc">Giáº£i thÃ­ch Dependency Injection (DI) vÃ  IoC</a></h1>
<p>NhÆ°ng khÃ´ng pháº£i dÃ¹ng quáº£ minh há»a cá»§a Loda =)).</p>
<h3 id="dependency-injection-di"><a class="header" href="#dependency-injection-di">Dependency Injection (DI)</a></h3>
<p>Trong tÃ i liá»‡u cÃ³ nÃ³i tháº¿ nÃ y: <em>Dependency Injection is a design pattern,...</em>. Tháº¿ thÃ¬ báº¡n cÃ³ thá»ƒ hiá»ƒu nÃ´m na nÃ³ lÃ  má»™t phÆ°Æ¡ng phÃ¡p láº­p trÃ¬nh. DÆ°á»›i Ä‘Ã¢y lÃ  vÃ­ dá»¥ (Khum thÃ­ch vÃ­ dá»¥ cá»§a Loda nÃªn viáº¿t láº¡i chÃºt):</p>
<pre><code>public class BoDoi {
    private AK47 gun; // Má»—i chÃº bá»™ Ä‘á»™i sáº½ cáº§m AK47 khi Ä‘i ra ngoÃ i cháº³ng háº¡n
    public BoDoi(){
      gun = new AK47(); // Khi anh bá»™ Ä‘á»™i ra ngoÃ i, anh sáº½ vÃ¡c theo kháº©u AK47
    }
}
</code></pre>
<p>TrÆ°á»›c háº¿t, qua Ä‘oáº¡n code nÃ y, báº¡n sáº½ tháº¥y lÃ  khi báº¡n táº¡o ra má»™t anh <code>BoDoi</code>, báº¡n sáº½ táº¡o ra thÃªm 1 kháº©u <code>AK47</code> Ä‘i kÃ¨m vá»›i anh áº¥y. LÃºc nÃ y,<code>AK47</code> tá»“n táº¡i mang Ã½ nghÄ©a lÃ  dependency (phá»¥ thuá»™c) cá»§a <code>BoDoi</code>.</p>
<p>Khi khá»Ÿi táº¡o thuá»™c tÃ­nh nhÆ° nÃ y, báº¡n vÃ´ tÃ¬nh táº¡o ra má»™t Ä‘iá»ƒm tháº¯t nÃºt trong chÆ°Æ¡ng trÃ¬nh cá»§a mÃ¬nh, giáº£ sá»­, <code>BoDoi</code> muá»‘n cáº§m M4A1 hay AWP hoáº·c cáº§n gÃ¬ cáº§m sÃºng khi Ä‘i mua bia cÆ¡ chá»©? Báº¡n sáº½ pháº£i thay class <code>AK47</code> thÃ nh <code>M4A1</code> hay <code>TayKhÃ´ng</code> Æ°?</p>
<p>Hay nguy hiá»ƒm hÆ¡n, kháº©u <code>AK47</code> bá»‹ há»ng? (code lá»›p <code>AK47</code> khÃ´ng hoáº¡t Ä‘á»™ng?) nÃ³ sáº½ áº£nh hÆ°á»Ÿng trá»±c tiáº¿p tá»›i chÃº bá»™ Ä‘á»™i <code>BoDoi</code>.</p>
<p>Váº¥n Ä‘á» lÃ  á»Ÿ Ä‘Ã³, nguyÃªn táº¯c lÃ :</p>
<blockquote>
<p>CÃ¡c Class khÃ´ng nÃªn phá»¥ thuá»™c vÃ o cÃ¡c káº¿ thá»«a cáº¥p tháº¥p, mÃ  nÃªn phá»¥ thuá»™c vÃ o Abstraction (lá»›p trá»«u tÆ°á»£ng).</p>
</blockquote>
<p>Nghe hÆ¡i khÃ³ hiá»ƒu. BÃ¢y giá» mÃ¬nh thay Ä‘oáº¡n code nhÆ° nÃ y:</p>
<pre><code>// Má»™t interface cho viá»‡c dÃ¹ng sÃºng
public interface EquipGun {
  public void equip();
}

// Má»™t object cáº¥p tháº¥p, implement cá»§a EquipGun
public class AK47 implements EquipGun {
  public void equip() {
    System.out.println(&quot;ÄÃ£ Ä‘eo AK47&quot;);
  }
}

// BÃ¢y giá» BoDoi chá»‰ phá»¥ thuá»™c vÃ o EquipGun. náº¿u muá»‘n thay Ä‘á»•i sÃºng cá»§a anh áº¥y, chÃºng ta chá»‰ cáº§n cho EquipGun má»™t thá»ƒ hiá»‡n má»›i.

public class BoDoi {
    private EquipGun equipGun;
    public BoDoi() {
      equipGun = new AK47();
    }
}
</code></pre>
<p>Tá»›i Ä‘Ã¢y, chÃºng ta má»›i chá»‰ <code>Abtract</code> hÃ³a thuá»™c tÃ­nh cá»§a <code>BoDoi</code> mÃ  thÃ´i, cÃ²n thá»±c táº¿, <code>BoDoi</code> váº«n Ä‘ang bá»‹ gáº¯n vá»›i má»™t kháº©u <code>AK47</code> duy nháº¥t. Váº­y muá»‘n thay sÃºng cho anh áº¥y, báº¡n pháº£i lÃ m nhÆ° nÃ o.</p>
<p>Pháº£i sá»­a <code>code</code> thÃªm chÃºt ná»¯a:</p>
<pre><code>public class BoDoi{
    private EquipGun gun;
    public BoDoi(EquipGun anything){
      this.gun = anything // Táº¡o ra má»™t anh BoDoi, vá»›i sÃºng tÃ¹y biáº¿n
      // KhÃ´ng bá»‹ phá»¥ thuá»™c quÃ¡ nhiá»u vÃ o thá»i Ä‘iá»ƒm khá»Ÿi táº¡o, hay code.
    }
}

public class Main {
  public static void main(String[] args) {
    EquipGun AK47 = new AK47(); // Táº¡o ra Ä‘á»‘i tÆ°á»£ng AK47 á»Ÿ ngoÃ i Ä‘á»‘i tÆ°á»£ng
    BoDoi truongAnhNgoc = new BoDoi(AK47); // Cho anh Ä‘eo sÃºng khi Ä‘Æ°á»£c khá»Ÿi táº¡o
  }
}
</code></pre>
<p>Vá»›i Ä‘oáº¡n code á»Ÿ trÃªn, chÃºng ta Ä‘Ã£_gáº§n nhÆ° tÃ¡ch Ä‘Æ°á»£c <code>AK47</code> ra hoÃ n toÃ n khá»i <code>BoDoi</code>. Ä‘iá»u nÃ y lÃ m giáº£m sá»± phá»¥ thuá»™c giá»¯a<code>BoDoi</code>vÃ <code>AK47</code>. MÃ  tÄƒng tÃ­nh tÃ¹y biáº¿n, linh hoáº¡t cho<code>code</code>.</p>
<p>BÃ¢y giá» <code>BoDoi</code> sáº½ hoáº¡t Ä‘á»™ng vá»›i <code>EquipGun</code> mÃ  thÃ´i. VÃ  <code>EquipGun</code> á»Ÿ Ä‘Ã¢u ra? ChÃºng ta táº¡o ra vÃ  Ä‘Æ°a nÃ³ vÃ o <code>(Inject)</code> anh <code>BoDoi</code>.</p>
<p>KhÃ¡i niá»‡m <code>Dependency Injection</code> tá»« Ä‘Ã¢y mÃ  ra~</p>
<blockquote>
<p>Dependency Injection lÃ  viá»‡c cÃ¡c Object nÃªn phá»¥ thuá»™c vÃ o cÃ¡c Abstract Class vÃ  thá»ƒ hiá»‡n chi tiáº¿t cá»§a nÃ³ sáº½ Ä‘Æ°á»£c Inject vÃ o Ä‘á»‘i tÆ°á»£ng lÃºc runtime.</p>
</blockquote>
<p>BÃ¢y giá» muá»‘n <code>BoDoi</code> dÃ¹ng sÃºng gÃ¬ khÃ¡c, báº¡n chá»‰ cáº§n táº¡o má»™t Class káº¿ thá»«a <code>EquipGun</code> vÃ  <em>Inject</em> (dá»‹ch lÃ  <em>TiÃªm vÃ o</em> cÅ©ng Ä‘Æ°á»£c) nÃ³ vÃ o <code>BoDoi</code> lÃ  xong!</p>
<p>CÃ¡c cÃ¡ch Ä‘á»ƒ <em>Inject dependency</em> vÃ o má»™t Ä‘á»‘i tÆ°á»£ng cÃ³ thá»ƒ ká»ƒ Ä‘áº¿n nhÆ° sau:</p>
<ul>
<li>Constructor Injection: CÃ¡i nÃ y chÃ­nh lÃ  vÃ­ dá»¥ cá»§a mÃ¬nh, tiÃªm dependency ngay vÃ o<code>Contructor</code> cho tiá»‡n.</li>
<li>Setter Injection:  XÃ i <code>BoDoi.setEquipGun(new P2000())</code> (Round Ä‘áº§u chá»‰ cáº§n P2000 thÃ´i)</li>
<li>Interface Injection : Má»—i <code>Class</code> muá»‘n inject cÃ¡i gÃ¬, thÃ¬ pháº£i <em>implement</em> má»™t<code>Interface</code> cÃ³ chá»©a má»™t hÃ m <code>inject(xx)</code> (Gáº§n nhÆ° thay tháº¿ cho setter Ã½ báº¡n). Rá»“i báº¡n muá»‘n inject gÃ¬ Ä‘Ã³ thÃ¬ gá»i cÃ¡i hÃ m <code>inject(xx)</code> ra. CÃ¡ch nÃ y hÆ¡i dÃ i vÃ  khÃ³ cho ngÆ°á»i má»›i.</li>
</ul>
<h3 id="inversion-of-control"><a class="header" href="#inversion-of-control">Inversion of Control</a></h3>
<p><code>Dependency Injection</code> giÃºp chÃºng ta dá»… dÃ ng má»Ÿ rá»™ng <code>code</code> vÃ  giáº£m sá»± phá»¥ thuá»™c giá»¯a cÃ¡c dependency vá»›i nhau. Tuy nhiÃªn, lÃºc nÃ y, khi code báº¡n sáº½ pháº£i kiÃªm thÃªm nhiá»‡m vá»¥ <code>Inject dependency (tiÃªm sá»± phá»¥ thuá»™c)</code>. Thá»­ tÆ°á»Ÿng tÆ°á»£ng má»™t <code>Class</code> cÃ³ hÃ ng chá»¥c dependency thÃ¬ báº¡n sáº½ pháº£i tá»± tay inject tá»«ng Ã½ cÃ¡i. Viá»‡c nÃ y láº¡i dáº«n tá»›i khÃ³ khÄƒn trong viá»‡c code, quáº£n lÃ½ code vÃ  dependency</p>
<pre><code>public static void main(String[] args) {
    EquipGun AK47 = new AK47();
    AoChongDan gucci = new AoChongDan();
    MuBaoHiem muCoi = new MuBaoHiem();
    BoDoi truongAnhNgoc = new BoDoi(AK47, gucci, muCoi);
}
</code></pre>
<p>BÃ¢y giá» giáº£ sá»­, chÃºng ta Ä‘á»‹nh nghÄ©a trÆ°á»›c toÃ n bá»™ cÃ¡c <code>dependency</code> cÃ³ trong Project, mÃ´ táº£ nÃ³ vÃ  tá»‘ng nÃ³ vÃ o 1 cÃ¡i <code>kho</code> vÃ  giao cho má»™t tháº±ng tÃªn lÃ  <code>framework</code> quáº£n lÃ½. Báº¥t ká»³ cÃ¡c <code>Class</code> nÃ o khi khá»Ÿi táº¡o, nÃ³ cáº§n dependency gÃ¬, thÃ¬ cÃ¡i <code>framework</code> nÃ y sáº½ tá»± tÃ¬m trong <code>kho</code> rá»“i <em>inject</em> vÃ o Ä‘á»‘i tÆ°á»£ng thay chÃºng ta. sáº½ tiá»‡n hÆ¡n pháº£i khÃ´ng?</p>
<p>VÃ , Ä‘Ã³ cÅ©ng chÃ­nh lÃ  nguyÃªn lÃ½ chÃ­nh cá»§a<code>Inversion of Control (IOC)</code>-<code>Äáº£o chiá»u sá»± Ä‘iá»u khiá»ƒn</code></p>
<p>NguyÃªn vÄƒn Wiki:</p>
<blockquote>
<p>Inversion of Control is a programming principle. flow of control within the application is not controlled by the application itself, but rather by the underlying framework.</p>
</blockquote>
<p>Khi Ä‘Ã³, code chÃºng ta sáº½ chá»‰ cáº§n nhÆ° nÃ y, Ä‘á»ƒ láº¥y ra 1 Ä‘á»‘i tÆ°á»£ng:</p>
<pre><code>@Override
public void run(String... args) throws Exception {
    BoDoi BoDoi = context.getBean(BoDoi.class);
}
</code></pre>
<p>Äá»‘i vá»›i <code>Java</code> thÃ¬ cÃ³ má»™t sá»‘ Framework há»— trá»£ chÃºng ta<code>Inversion of Control (IOC)</code>. ThÆ°á»ng thÃ¬ dÃ¹ng luÃ´n Spring framework. </p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="component-vÃ -autowired"><a class="header" href="#component-vÃ -autowired">@Component vÃ  @Autowired</a></h1>
<p><a href="https://viblo.asia/p/spring-boot-1-huong-dan-atcomponent-va-atautowired-E375zXvJZGW">ÄÆ°á»ng dáº«n bÃ i viáº¿t</a></p>
<p>ThÆ°á»ng thÃ¬ giá» Ä‘Ã£ cÃ³ <a href="https://start.spring.io/">Spring Initializr</a> rá»“i nÃªn thÃªm dá»± Ã¡n má»›i ráº¥t dá»…!</p>
<h3 id="viá»‡c-cháº¡y-á»©ng-dá»¥ng-spring-boot"><a class="header" href="#viá»‡c-cháº¡y-á»©ng-dá»¥ng-spring-boot">Viá»‡c cháº¡y á»©ng dá»¥ng Spring Boot</a></h3>
<p>ChÆ°Æ¡ng trÃ¬nh cháº¡y á»Ÿ hÃ m <code>main()</code> vÃ  cáº§n thÃªm annotation <code>@SpringBootApplication</code> trÃªn class chÃ­nh vÃ  gá»i <code>SpringApplication.run(App.class, args);</code> Ä‘á»ƒ cháº¡y project (Cho Spring Boot biáº¿t <code>main()</code> á»Ÿ chá»— nÃ o). <code>SpringApplication.run(App.class, args)</code> chÃ­nh lÃ  cÃ¢u lá»‡nh Ä‘á»ƒ táº¡o ra <em>container</em>. Sau Ä‘Ã³ nÃ³ tÃ¬m toÃ n bá»™ cÃ¡c <em>dependency</em> trong project cá»§a báº¡n vÃ  Ä‘Æ°a vÃ o Ä‘Ã³.</p>
<pre><code class="language-java">import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.ApplicationContext;

@SpringBootApplication
public class App {
    public static void main(String[] args) {
        // ApplicationContext chá»©a toÃ n bá»™ dependency trong project.
        SpringApplication.run(App.class, args);
    }
}
</code></pre>
<p>Spring Ä‘áº·t tÃªn cho:</p>
<ul>
<li><em>container</em> lÃ  <code>ApplicationContext</code></li>
<li><em>dependency</em> lÃ  <code>Bean</code> (Äá»ƒ biáº¿t cÃ¡i nÃ o lÃ  <em>dependency</em> thÃ¬ dÃ¹ng <code>@Component</code>)</li>
</ul>
<h3 id="component"><a class="header" href="#component">@Component</a></h3>
<p>@Component lÃ  má»™t Annotation (chÃº thÃ­ch) Ä‘Ã¡nh dáº¥u trÃªn cÃ¡c Class Ä‘á»ƒ giÃºp Spring biáº¿t nÃ³ lÃ  má»™t Bean. </p>
<p>Trong quÃ¡ trÃ¬nh dÃ² cÃ¡c <em>classes</em>, khi gáº·p má»™t class Ä‘Æ°á»£c Ä‘Ã¡nh dáº¥u <code>@Component</code> thÃ¬ nÃ³ sáº½ táº¡o ra má»™t instance vÃ  Ä‘Æ°a vÃ o <code>ApplicationContext</code> Ä‘á»ƒ quáº£n lÃ½.</p>
<pre><code class="language-java">// ApplicationContext chÃ­nh lÃ  container, chá»©a toÃ n bá»™ cÃ¡c Bean
ApplicationContext context = SpringApplication.run(App.class, args);
// Khi cháº¡y xong, lÃºc nÃ y context sáº½ chá»©a cÃ¡c Bean cÃ³ Ä‘Ã¡nh
// dáº¥u @Component.
// Láº¥y Bean ra báº±ng cÃ¡ch
Outfit outfit = context.getBean(Outfit.class);
// In ra Ä‘á»ƒ xem thá»­ nÃ³ lÃ  gÃ¬
System.out.println(&quot;Instance: &quot; + outfit);
// xÃ i hÃ m wear()
outfit.wear();
// Output
// [1] Instance: me.loda.spring.helloworld.Bikini@1e1f6d9d
// [2] Máº·c bikini
</code></pre>
<p>Danh sÃ¡ch cÃ¡c bÆ°á»›c Ä‘Æ¡n giáº£n lÃ :</p>
<ol>
<li>Cháº¡y <code>SpringApplication.run(App.class, args);</code></li>
<li>DÃ² tÃ¬m cÃ¡c Classes cÃ¹ng cáº¥p.</li>
<li>Tháº¥y Class Ä‘Æ°á»£c Ä‘Ã¡nh dáº¥u báº±ng <code>@Component</code> thÃ¬ táº¡o <code>new Customer()</code> cháº³ng háº¡n vÃ  Ä‘Æ°a vÃ o Context (Hay <code>ApplicationContext</code>)</li>
</ol>
<h3 id="autowired"><a class="header" href="#autowired">@Autowired</a></h3>
<pre><code>@Component
public class TuiXach {

    @Autowired
    Money tien;

    public TuiXach (Money tien) {
        this.tien = tien;
    }
}
</code></pre>
<p>TÃ´i Ä‘Ã¡nh dáº¥u thuá»™c tÃ­nh <code>Money</code> (Tiá»n) cá»§a <code>TuiXach</code> (TÃºi xÃ¡ch) bá»Ÿi Annotation <code>@Autowired</code>. Äiá»u nÃ y nÃ³i vá»›i Spring Boot hÃ£y tá»± <em>inject</em> (tiÃªm) má»™t instance cá»§a <code>Money</code> vÃ o thuá»™c tÃ­nh nÃ y khi khá»Ÿi táº¡o <code>TuiXach</code> (Thuá»™c tÃ­nh Ä‘Æ°á»£c Ä‘Ã¡nh dáº¥u lÃ  <code>@Autowired</code> trong Class Ä‘Æ°á»£c Ä‘Ã¡nh dáº¥u lÃ  <code>Component</code>).</p>
<h3 id="singleton"><a class="header" href="#singleton">Singleton</a></h3>
<p>Äiá»u Ä‘áº·c biá»‡t lÃ  cÃ¡c <code>Bean</code> Ä‘Æ°á»£c quáº£n lÃ½ bÃªn trong <code>ApplicationContext</code> Ä‘á»u lÃ  singleton.</p>
<p>Táº¥t cáº£ nhá»¯ng <code>Bean</code> Ä‘Æ°á»£c quáº£n lÃ½ trong <code>ApplicationContext</code> Ä‘á»u chá»‰ Ä‘Æ°á»£c táº¡o ra má»™t láº§n duy nháº¥t vÃ  khi cÃ³ <code>Class</code> yÃªu cáº§u <code>@Autowired</code> thÃ¬ nÃ³ sáº½ láº¥y Ä‘á»‘i tÆ°á»£ng cÃ³ sáºµn trong <code>ApplicationContext</code> Ä‘á»ƒ <em>inject</em> vÃ o.</p>
<p>Trong trÆ°á»ng há»£p báº¡n muá»‘n má»—i láº§n sá»­ dá»¥ng lÃ  má»™t instance hoÃ n toÃ n má»›i. ThÃ¬ hÃ£y Ä‘Ã¡nh dáº¥u <code>@Component</code> Ä‘Ã³ báº±ng <code>@Scope(&quot;prototype&quot;)</code></p>
<h3 id="inject-lÃ -cÃ¡i-quÃ¡i-gÃ¬-váº­y"><a class="header" href="#inject-lÃ -cÃ¡i-quÃ¡i-gÃ¬-váº­y">Inject lÃ  cÃ¡i quÃ¡i gÃ¬ váº­y?</a></h3>
<p>ÄÃ¢y khÃ´ng pháº£i lÃ  pháº§n hÆ°á»›ng dáº«n cá»§a loda, nhÆ°ng mÃ¬nh váº«n chÆ°a hiá»ƒu <em>inject</em> (vá» cÆ¡ báº£n nghÄ©a lÃ  tiÃªm) lÃ  gÃ¬? Thá»­ láº¥y vÃ­ dá»¥ vá» truyá»n dá»‹ch.</p>
<p><em>Truyá»n nÆ°á»›c biá»ƒn cÃ²n gá»i lÃ  truyá»n dá»‹ch lÃ  phÆ°Æ¡ng phÃ¡p Ä‘Æ°a nhá» giá»t muá»‘i vÃ  cÃ¡c cháº¥t Ä‘iá»‡n giáº£i vÃ o cÆ¡ thá»ƒ báº±ng Ä‘Æ°á»ng tÄ©nh máº¡ch khi cÃ³ chá»‰ Ä‘á»‹nh cá»§a bÃ¡c sÄ©.</em></p>
<p>Khi Ä‘Ã³ thÃ nh cÃ¡c <em>giá»t muá»‘i vÃ  cÃ¡c cháº¥t Ä‘iá»‡n giáº£i</em> sáº½ Ä‘Æ°á»£c <em>inject</em> vÃ  trá»Ÿ thÃ nh <em>thuá»™c tÃ­nh</em> trong báº¡n. Má»—i má»™t Class trong Java cÅ©ng nhÆ° báº¡n, lÃ  má»™t <em>Ä‘á»‘i tÆ°á»£ng</em> (dm giáº£i thÃ­ch ngu quÃ¡ mÃ  tÃ­nh láº¥y vÃ­ dá»¥ Peter Park Ä‘Æ°á»£c nhá»‡n chÃ­ch vÃ  thÃ nh Spider Man thÃ¬ cÃ³ pháº£i hay khÃ´ng???)</p>
<p><em>Dependency Injection</em> cho phÃ©p &quot;inject&quot; (tiÃªm) nhá»¯ng dependencies vÃ o má»™t Ä‘á»‘i tÆ°á»£ng. Thay vÃ¬ Ä‘á»‘i tÆ°á»£ng pháº£i tá»± táº¡o ra nhá»¯ng Dependencies cá»§a chÃ­nh nÃ³. Äiá»u nÃ y sáº½ giÃºp giáº£m kháº£ nÄƒng phá»¥ thuá»™c giá»¯a nhá»¯ng thÃ nh pháº§n. </p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="autowired---primary---qualifier"><a class="header" href="#autowired---primary---qualifier">@Autowired - @Primary - @Qualifier</a></h1>
<p>Trong bÃ i viáº¿t nÃ y chÃºng ta sáº½ cÃ¹ng tÃ¬m hiá»ƒu cÃ¡chÂ <code>@Autowá»‰ed</code>Â váº­n hÃ nh vÃ  cÃ¡ch sá»­ dá»¥ng 2 AnnotationÂ <code>@Primary</code>,Â <code>@Qualifier</code>.</p>
<h3 id="cÃ¡ch-inject-bean-cá»§a-spring"><a class="header" href="#cÃ¡ch-inject-bean-cá»§a-spring">CÃ¡ch inject Bean cá»§a Spring</a></h3>
<p><code>@Autowired</code>Â Ä‘Ã¡nh dáº¥u cho Spring biáº¿t ráº±ng sáº½ tá»± Ä‘á»™ng inject bean tÆ°Æ¡ng á»©ng vÃ o vá»‹ trÃ­ Ä‘Æ°á»£c Ä‘Ã¡nh dáº¥u.</p>
<pre><code>@Component
public class Girl {
    // ÄÃ¡nh dáº¥u Ä‘á»ƒ Spring inject má»™t Ä‘á»‘i tÆ°á»£ng Outfit vÃ o Ä‘Ã¢y
    @Autowired
    Outfit outfit;

    // public Girl(Outfit outfit) {
    //     this.outfit = outfit;
    // }

    // GET
    // SET
}
</code></pre>
<p>Sau khi tÃ¬m tháº¥y má»™t class Ä‘Ã¡nh dáº¥uÂ <code>@Component</code>. thÃ¬ quÃ¡ trÃ¬nh injectÂ <code>Bean</code>Â xáº£y ra theo cÃ¡ch nhÆ° sau:</p>
<ol>
<li>Náº¿uÂ <code>Class</code>Â khÃ´ng cÃ³ hÃ m Constructor hay Setter. ThÃ¬ sáº½ sá»­ dá»¥ngÂ Java ReflectionÂ Ä‘á»ƒ Ä‘Æ°a Ä‘á»‘i tÆ°á»£ng vÃ o thuá»™c tÃ­nh cÃ³ Ä‘Ã¡nh dáº¥uÂ <code>@Autowired</code>.</li>
<li>Náº¿u cÃ³ hÃ m Constructor thÃ¬ sáº½ inject Bean vÃ o bá»Ÿi tham sá»‘ cá»§a hÃ m</li>
<li>Náº¿u cÃ³ hÃ m Setter thÃ¬ sáº½ inject Bean vÃ o bá»Ÿi tham sá»‘ cá»§a hÃ m</li>
</ol>
<p>NhÆ° vÃ­ dá»¥ á»Ÿ trÃªn tÃ´i Ä‘Ã£ sá»­ dá»¥ng cÃ¡ch Java Reflection Ä‘á»ƒ injectÂ <code>Bean</code>Â vÃ o classÂ <code>Girl</code>. </p>
<p>Báº¡n cÅ©ng cÃ³ thá»ƒ gáº¯nÂ <code>@Autowired</code>Â lÃªn trÃªn method, thay vÃ¬ thuá»™c tÃ­nh, chá»©c nÄƒng cÅ©ng váº«n tÆ°Æ¡ng tá»±, nÃ³ sáº½ tÃ¬m Bean phÃ¹ há»£p vá»›i method Ä‘Ã³ vÃ  truyá»n vÃ o.</p>
<pre><code class="language-java">@Component
public class Girl {

    // ÄÃ¡nh dáº¥u Ä‘á»ƒ Spring inject má»™t Ä‘á»‘i tÆ°á»£ng Outfit vÃ o Ä‘Ã¢y
    @Autowired
    Outfit outfit;

    // Spring sáº½ inject outfit thÃ´ng qua Constructor trÆ°á»›c
    public Girl() { }

    // Náº¿u khÃ´ng tÃ¬m tháº¥y Constructor thoáº£ mÃ£n, nÃ³ sáº½ thÃ´ng qua setter
    public void setOutfit(Outfit outfit) {
        this.outfit = outfit;
    }

    @Autowired
    // Náº¿u khÃ´ng tÃ¬m tháº¥y Constructor thoáº£ mÃ£n, nÃ³ sáº½ thÃ´ng qua setter, 
    // náº¿u v thÃ¬ Ä‘á»«ng gáº¯n Autowired á»Ÿ properties á»Ÿ trÃªn nha
    public void setOutfit(Outfit outfit) {
        this.outfit = outfit;
    }

    // GET
    // SET
}
</code></pre>
<p>Náº¿u khÃ´ng sá»­ dá»¥ngÂ <code>@Autowired</code>Â thÃ¬ báº¡n pháº£i cÃ³ má»™t Constructor thay tháº¿, hoáº·c má»™t Setter tÆ°Æ¡ng á»©ng. KhÃ¡ nhiá»u cÃ¡c Ä‘á»“ng chÃ­ gá»£i Ã½ khÃ´ng dÃ¹ng <code>@Autowired</code> vÃ  thay tháº¿ báº±ng:</p>
<pre><code class="language-java">@Component
public class Calculator {
   private Multiplier multiplier;
   // CÃ¡i lÃ y lÃ  constructor
   public Calculator(Multiplier multiplier) {
      this.multiplier = multiplier;
   }
}
</code></pre>
<h3 id="váº¥n-Ä‘á»-cá»§a-autowired"><a class="header" href="#váº¥n-Ä‘á»-cá»§a-autowired">Váº¥n Ä‘á» cá»§a @Autowired</a></h3>
<p>Trong thá»±c táº¿, sáº½ cÃ³ trÆ°á»ng há»£p chÃºng ta sá»­ dá»¥ngÂ <code>@Autowired</code>Â khiÂ <strong>Spring Boot</strong>Â cÃ³ chá»©a 2 Bean cÃ¹ng loáº¡i trong Context. LÃºc nÃ y thÃ¬Â <strong>Spring</strong>Â sáº½ bá»‘i rá»‘i vÃ  khÃ´ng biáº¿t sá»­ dá»¥ng Bean nÃ o Ä‘á»ƒ inject vÃ o Ä‘á»‘i tÆ°á»£ng.</p>
<h3 id="primary"><a class="header" href="#primary"><strong>@Primary</strong></a></h3>
<p>CÃ¡ch giáº£i quyáº¿t thá»© nháº¥t lÃ  sá»­ dá»¥ng AnnotationÂ <code>@Primary</code>. <code>@Primary</code>Â lÃ  annotation Ä‘Ã¡nh dáº¥u trÃªn má»™t Bean, giÃºp nÃ³Â <strong>luÃ´n Ä‘Æ°á»£c Æ°u tiÃªn lá»±a</strong>Â chá»n trong trÆ°á»ng há»£p cÃ³ nhiá»u Bean cÃ¹ng loáº¡i trong Context.</p>
<p>Trong vÃ­ dá»¥ á»Ÿ trÃªn, náº¿u chÃºng ta Ä‘á»ƒÂ <code>Suit</code>Â lÃ  primary. ThÃ¬ chÆ°Æ¡ng trÃ¬nh sáº½ cháº¡y bÃ¬nh thÆ°á»ng. VÃ  hiá»ƒn nhiÃªnÂ <code>Outfit</code>Â bÃªn trongÂ <code>Girl</code>Â sáº½ lÃ Â <code>Suit</code>.</p>
<p>Cháº¡y thá»­ chÆ°Æ¡ng trÃ¬nh:</p>
<pre><code class="language-java">// ===========================================================================
@Component
@Primary
public class Suit implements Outfit {
    @Override
    public void wear() {
        System.out.println(&quot;Äang máº·c Ã¢u phá»¥c&quot;);
    }
}
// ===========================================================================
@SpringBootApplication
public class App {
    public static void main(String[] args) {
        // ApplicationContext chÃ­nh lÃ  container, chá»©a toÃ n bá»™ cÃ¡c Bean
        ApplicationContext context = SpringApplication.run(App.class, args);
        // Khi cháº¡y xong, lÃºc nÃ y context sáº½ chá»©a cÃ¡c Bean cÃ³ Ä‘Ã¡nh
        // dáº¥u @Component.
        Girl girl = context.getBean(Girl.class);
        System.out.println(&quot;Girl Instance: &quot; + girl);
        System.out.println(&quot;Girl Outfit: &quot; + girl.outfit);
        girl.outfit.wear();
    }
}
// ===========================================================================
// Output:
// Girl Instance: me.loda.spring.helloprimaryqualifier.Girl@eb9a089
// Girl Outfit: me.loda.spring.helloprimaryqualifier.Naked@1688653c
// Äang máº·c Ã¢u phá»¥c
</code></pre>
<h3 id="qualifier"><a class="header" href="#qualifier"><strong>@Qualifier</strong></a></h3>
<p>CÃ¡ch thá»© hai, lÃ  sá»­ dá»¥ng AnnotationÂ <code>@Qualifier</code>. <code>@Qualifier</code>Â xÃ¡c Ä‘á»‹nh tÃªn cá»§a má»™t Bean mÃ  báº¡n muá»‘n chá»‰ Ä‘á»‹nh inject.</p>
<p>VÃ­ dá»¥:</p>
<pre><code class="language-java">@Component(&quot;suit&quot;)
public class Suit implements Outfit {
    @Override
    public void wear() {
        System.out.println(&quot;Máº·c Ã¢u phá»¥c&quot;);
    }
}

// ==============================================
@Component
public class Girl {

    Outfit outfit;

    // ÄÃ¡nh dáº¥u Ä‘á»ƒ Spring inject má»™t Ä‘á»‘i tÆ°á»£ng Outfit vÃ o Ä‘Ã¢y
    public Girl(@Qualifier(&quot;suit&quot;) Outfit outfit) {
        // Spring sáº½ inject outfit thÃ´ng qua Constructor Ä‘áº§u tiÃªn
        // NgoÃ i ra, nÃ³ sáº½ tÃ¬m Bean cÃ³ @Qualifier(&quot;naked&quot;) trong context Ä‘á»ƒ á»‹nject
        this.outfit = outfit;
    }
    // GET
    // SET
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="spring-bean-life-cycle--postconstruct-vÃ -predestroy"><a class="header" href="#spring-bean-life-cycle--postconstruct-vÃ -predestroy">Spring Bean Life Cycle + @PostConstruct vÃ  @PreDestroy</a></h1>
<p>TÃ¬m hiá»ƒu vá» vÃ²ng Ä‘á»i cá»§a Bean</p>
<h3 id="postconstruct"><a class="header" href="#postconstruct">@PostConstruct</a></h3>
<p><code>@PostConstruct</code>Â Ä‘Æ°á»£c Ä‘Ã¡nh dáº¥u trÃªn má»™t method duy nháº¥t bÃªn trongÂ <code>Bean</code>.Â </p>
<p><code>IoC Container</code>Â hoáº·cÂ <code>ApplicationContext</code>Â sáº½ gá»i hÃ m nÃ yÂ sau khiÂ má»™tÂ <code>Bean</code>Â Ä‘Æ°á»£c táº¡o ra vÃ  quáº£n lÃ½.</p>
<pre><code>@Component
public class Girl {
    
    @PostConstruct
    public void postConstruct(){
        System.out.println(&quot;\t&gt;&gt; Äá»‘i tÆ°á»£ng Girl sau khi khá»Ÿi táº¡o xong sáº½ cháº¡y hÃ m nÃ y&quot;);
    }
}
</code></pre>
<h3 id="predestroy"><a class="header" href="#predestroy">@PreDestroy</a></h3>
<p><code>@PreDestroy</code>Â Ä‘Æ°á»£c Ä‘Ã¡nh dáº¥u trÃªn má»™t method duy nháº¥t bÃªn trongÂ <code>Bean</code>.Â </p>
<p><code>IoC Container</code>Â hoáº·cÂ <code>ApplicationContext</code>Â sáº½ gá»i hÃ m nÃ yÂ trÆ°á»›c khiÂ má»™tÂ <code>Bean</code>Â bá»‹ xÃ³a hoáº·c khÃ´ng Ä‘Æ°á»£c quáº£n lÃ½ ná»¯a.</p>
<pre><code>@Component
public class Girl {

    @PreDestroy
    public void preDestroy(){
        System.out.println(&quot;\t&gt;&gt; Äá»‘i tÆ°á»£ng Girl trÆ°á»›c khi bá»‹ destroy thÃ¬ cháº¡y hÃ m nÃ y&quot;);
    }
}
</code></pre>
<h3 id="bean-life-cycle"><a class="header" href="#bean-life-cycle">Bean Life Cycle</a></h3>
<p>Spring BootÂ tá»« thá»i Ä‘iá»ƒm cháº¡y láº§n Ä‘áº§u tá»›i khiÂ <em>shutdown</em>Â thÃ¬ cÃ¡cÂ <code>Bean</code>Â nÃ³ quáº£n lÃ½ sáº½ cÃ³ má»™t vÃ²ng Ä‘á»i Ä‘Æ°á»£c biá»ƒu diá»…n nhÆ° áº£nh dÆ°á»›i Ä‘Ã¢y.</p>
<p><img src="https://images.viblo.asia/2380e7ca-0b97-4be3-9054-27430b29e150.jpg" alt="" /></p>
<p>NhÃ¬n cÃ³ váº» loáº±ng ngoáº±ng, trong series cÄƒn báº£n nÃ y, báº¡n cÃ³ láº½ sáº½ chá»‰ cáº§n hiá»ƒu nhÆ° sau:</p>
<ol>
<li>KhiÂ <code>IoC Container</code>Â (<code>ApplicationContext</code>) tÃ¬m tháº¥y má»™t Bean cáº§n quáº£n lÃ½, nÃ³ sáº½ khá»Ÿi táº¡o báº±ngÂ <code>Constructor</code>.</li>
<li>inject dependencies vÃ oÂ <code>Bean</code>Â báº±ng Setter, vÃ  thá»±c hiá»‡n cÃ¡c quÃ¡ trÃ¬nh cÃ i Ä‘áº·t khÃ¡c vÃ oÂ <code>Bean</code>Â nhÆ°Â <code>setBeanName</code>,Â <code>setBeanClassLoader</code>, v.v..</li>
<li>HÃ m Ä‘Ã¡nh dáº¥uÂ <code>@PostConstruct</code>Â Ä‘Æ°á»£c gá»i</li>
<li>Tiá»n xá»­ lÃ½ sau khiÂ <code>@PostConstruct</code>Â Ä‘Æ°á»£c gá»i.</li>
<li><code>Bean</code>Â sáºµn sÃ ng Ä‘á»ƒ hoáº¡t Ä‘á»™ng</li>
<li>Náº¿uÂ <code>IoC Container</code>Â khÃ´ng quáº£n lÃ½ bean ná»¯a hoáº·c bá»‹ shutdown nÃ³ sáº½ gá»i hÃ mÂ <code>@PreDestroy</code>Â trongÂ <code>Bean</code></li>
<li>XÃ³aÂ <code>Bean</code>.</li>
</ol>
<h3 id="vÃ­-dá»¥"><a class="header" href="#vÃ­-dá»¥">VÃ­ dá»¥</a></h3>
<p>ChÃºng ta táº¡o ra classÂ <code>Girl</code>Â bao gá»“m:</p>
<pre><code class="language-java">import org.springframework.stereotype.Component;
import javax.annotation.PostConstruct;
import javax.annotation.PreDestroy;

@Component
public class Girl {

    @PostConstruct
    public void postConstruct(){
        System.out.println(&quot;\t&gt;&gt; Äá»‘i tÆ°á»£ng Girl sau khi khá»Ÿi táº¡o xong sáº½ cháº¡y hÃ m nÃ y&quot;);
    }

    @PreDestroy
    public void preDestroy(){
        System.out.println(&quot;\t&gt;&gt; Äá»‘i tÆ°á»£ng Girl trÆ°á»›c khi bá»‹ destroy thÃ¬ cháº¡y hÃ m nÃ y&quot;);
    }
}
</code></pre>
<p>In ra mÃ n hÃ¬nh quÃ¡ Spring Boot cháº¡y láº§n Ä‘áº§u cho tá»›i khi shutdown:</p>
<pre><code class="language-java">import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.ApplicationContext;
import org.springframework.context.ConfigurableApplicationContext;

@SpringBootApplication
public class App {
    public static void main(String[] args) {
        // ApplicationContext chÃ­nh lÃ  container, chá»©a toÃ n bá»™ cÃ¡c Bean
        System.out.println(&quot;&gt; TrÆ°á»›c khi IoC Container Ä‘Æ°á»£c khá»Ÿi táº¡o&quot;);
        ApplicationContext context = SpringApplication.run(App.class, args);
        System.out.println(&quot;&gt; Sau khi IoC Container Ä‘Æ°á»£c khá»Ÿi táº¡o&quot;);
        // Khi cháº¡y xong, lÃºc nÃ y context sáº½ chá»©a cÃ¡c Bean cÃ³ Ä‘Ã¡nh
        // dáº¥u @Component.
        Girl girl = context.getBean(Girl.class);
        System.out.println(&quot;&gt; TrÆ°á»›c khi IoC Container destroy Girl&quot;);
        ((ConfigurableApplicationContext) context).getBeanFactory().destroyBean(girl);
        System.out.println(&quot;&gt; Sau khi IoC Container destroy Girl&quot;);

    }
}
</code></pre>
<p>Output:</p>
<pre><code>&gt; TrÆ°á»›c khi IoC Container Ä‘Æ°á»£c khá»Ÿi táº¡o
&gt; TrÆ°á»›c khi IoC Container Ä‘Æ°á»£c khá»Ÿi táº¡o
	&gt;&gt; Äá»‘i tÆ°á»£ng Girl sau khi khá»Ÿi táº¡o xong sáº½ cháº¡y hÃ m nÃ y
&gt; Sau khi IoC Container Ä‘Æ°á»£c khá»Ÿi táº¡o
&gt; TrÆ°á»›c khi IoC Container destroy Girl
	&gt;&gt; Äá»‘i tÆ°á»£ng Girl trÆ°á»›c khi bá»‹ destroy thÃ¬ cháº¡y hÃ m nÃ y
&gt; Sau khi IoC Container destroy Girl
</code></pre>
<p>Báº¡n sáº½ tháº¥y dÃ²ngÂ <em>&quot;TrÆ°á»›c khi IoC Container Ä‘Æ°á»£c khá»Ÿi táº¡o&quot;</em>Â Ä‘Æ°á»£c cháº¡y 2 láº§n. Äiá»u nÃ y xáº£y ra bá»Ÿi vÃ¬ hÃ mÂ App.main(args)Â Ä‘Æ°á»£c cháº¡y 2 láº§n!</p>
<p>Láº§n Ä‘áº§u lÃ  do chÃºng ta cháº¡y. Láº§n thá»© hai lÃ  doÂ Spring BootÂ cháº¡y sau khi nÃ³ Ä‘Æ°á»£c gá»iÂ <code>SpringApplication.run(App.class, args)</code>. ÄÃ¢y lÃ  lÃºc mÃ Â IoC ContainerÂ (<code>ApplicationContext</code>) Ä‘Æ°á»£c táº¡o ra vÃ  Ä‘i tÃ¬mÂ <code>Bean</code>.</p>
<h3 id="Ã-nghÄ©a"><a class="header" href="#Ã-nghÄ©a">Ã nghÄ©a.</a></h3>
<p><code>@PostConstruct</code>Â vÃ Â <code>@PreDestroy</code>Â lÃ  2 Annotation cá»±c ká»³ Ã½ nghÄ©a, náº¿u báº¡n náº¯m Ä‘Æ°á»£c vÃ²ng Ä‘á»i cá»§a má»™tÂ <code>Bean</code>, báº¡n cÃ³ thá»ƒ táº­n dá»¥ng nÃ³ Ä‘á»ƒ lÃ m cÃ¡c nhiá»‡m vá»¥ riÃªng nhÆ° setting, thÃªm giÃ¡ trá»‹ máº·c Ä‘á»‹nh trong thuá»™c tÃ­nh sau khi táº¡o, xÃ³a dá»¯ liá»‡u trÆ°á»›c khi xÃ³a, v.v.. Ráº¥t nhiá»u chá»©c nÄƒng khÃ¡c tÃ¹y theo nhu cáº§u.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="component-vs-service-vs-repository"><a class="header" href="#component-vs-service-vs-repository">@Component vs @Service vs @Repository</a></h1>
<h3 id="kiáº¿n-trÃºc-trong-spring-boot"><a class="header" href="#kiáº¿n-trÃºc-trong-spring-boot">Kiáº¿n trÃºc trong Spring Boot</a></h3>
<p>Kiáº¿n trÃºc MVC trong Spring Boot Ä‘Æ°á»£c xÃ¢y dá»±ng dá»±a trÃªn tÆ° tÆ°á»Ÿng &quot;Ä‘á»™c láº­p&quot; káº¿t há»£p vá»›i cÃ¡c nguyÃªn lÃ½ thiáº¿t káº¿ hÆ°á»›ng Ä‘á»‘i tÆ°á»£ng (má»™t Ä‘áº¡i diá»‡n tiÃªu biá»ƒu lÃ  Dependency Inversion). </p>
<p>Äá»™c láº­p á»Ÿ Ä‘Ã¢y Ã¡m chá»‰ viá»‡c cÃ¡c layer phá»¥c vá»¥ cÃ¡c má»¥c Ä‘Ã­ch nháº¥t Ä‘á»‹nh, khi muá»‘n thá»±c hiá»‡n má»™t cÃ´ng viá»‡c ngoÃ i pháº¡m vi thÃ¬ sáº½ Ä‘Æ°a cÃ´ng viá»‡c xuá»‘ng cÃ¡c layer tháº¥p hÆ¡n.</p>
<p>Kiáº¿n trÃºc Controller - Service - Repository chia project thÃ nh 3 lá»›p:</p>
<ul>
<li>Consumer Layer hay Controller:Â lÃ  táº§ng giao tiáº¿p vá»›i bÃªn ngoÃ i vÃ  handler cÃ¡c request tá»« bÃªn ngoÃ i tá»›i há»‡ thá»‘ng.</li>
<li>Service Layer:Â Thá»±c hiá»‡n cÃ¡c nghiá»‡p vá»¥ vÃ  xá»­ lÃ½ logic</li>
<li>Repository Layer: Chá»‹u trÃ¡ch nhiá»‡m giao tiáº¿p vá»›i cÃ¡c DB, thiáº¿t bá»‹ lÆ°u trá»¯, xá»­ lÃ½ query vÃ  tráº£ vá» cÃ¡c kiá»ƒu dá»¯ liá»‡u mÃ  táº§ng Service yÃªu cáº§u.</li>
</ul>
<h3 id="controller-vs-service-vs-repository"><a class="header" href="#controller-vs-service-vs-repository">@Controller vs @Service vs @Repository</a></h3>
<p>Äá»ƒ phá»¥c vá»¥ cho kiáº¿n trÃºc á»Ÿ trÃªn,Â Spring BootÂ táº¡o ra 3 Annotation lÃ Â <code>@Controller</code>,Â <code>@Service</code>, <code>@Repository</code>Â Ä‘á»ƒ chÃºng ta cÃ³ thá»ƒ Ä‘Ã¡nh dáº¥u cÃ¡c táº§ng vá»›i nhau.</p>
<ul>
<li><code>@Service</code>Â ÄÃ¡nh dáº¥u má»™t Class lÃ  táº§ng Service, phá»¥c vá»¥ cÃ¡c logic nghiá»‡p vá»¥.</li>
<li><code>@Repository</code>Â ÄÃ¡nh dáº¥u má»™t Class LÃ  táº§ng Repository, phá»¥c vá»¥ truy xuáº¥t dá»¯ liá»‡u.</li>
</ul>
<h3 id="implement"><a class="header" href="#implement">Implement</a></h3>
<p>Cháº¡y chÆ°Æ¡ng trÃ¬nh:</p>
<pre><code class="language-java">import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.ApplicationContext;

@SpringBootApplication
public class App {

    public static void main(String[] args) {
        ApplicationContext context = SpringApplication.run(App.class, args);

        // Láº¥y ra bean GirlService
        GirlService girlService = context.getBean(GirlService.class);
        // Láº¥u ra random má»™t cÃ´ gÃ¡i tá»« táº§ng service
        Girl girl = girlService.getRandomGirl();
        // In ra mÃ n hÃ¬nh
        System.out.println(girl);

    }
}
</code></pre>
<h3 id="giáº£i-thÃ­ch"><a class="header" href="#giáº£i-thÃ­ch">Giáº£i thÃ­ch</a></h3>
<p>Vá» báº£n cháº¥tÂ <code>@Service</code>Â vÃ Â <code>@Repository</code>Â cÅ©ng chÃ­nh lÃ Â <code>@Component</code>. NhÆ°ng Ä‘áº·t tÃªn khÃ¡c nhau Ä‘á»ƒ giÃºp chÃºng ta phÃ¢n biá»‡t cÃ¡c táº§ng vá»›i nhau.</p>
<p>CÃ¹ng nhÃ¬n vÃ o source code cá»§a 2 Annotation nÃ y:</p>
<p><em>Service.java</em></p>
<pre><code class="language-java">@Target({ElementType.TYPE})
@Retention(RetentionPolicy.RUNTIME)
@Documented
@Component // CÅ©ng lÃ  má»™t @Component
public @interface Service {
    @AliasFor(
        annotation = Component.class
    )
    String value() default &quot;&quot;;
}
</code></pre>
<p><em>Repository.java</em></p>
<pre><code class="language-java">@Target({ElementType.TYPE})
@Retention(RetentionPolicy.RUNTIME)
@Documented
@Component
public @interface Repository {
    @AliasFor(
        annotation = Component.class
    )
    String value() default &quot;&quot;;
}
</code></pre>
<p>Trong cÃ¡c bÃ i Ä‘áº§u tiÃªn chÃºng ta Ä‘Ã£ biáº¿tÂ <code>@Component</code>Â Ä‘Ã¡nh dáº¥u cho Spring Boot biáº¿t Class Ä‘Ã³ lÃ Â <code>Bean</code>. VÃ  hiá»ƒn nhiÃªnÂ <code>@Service</code>Â vÃ Â <code>@Repository</code>Â cÅ©ng váº­y. VÃ¬ tháº¿ á»Ÿ vÃ­ dá»¥ trÃªn chÃºng ta cÃ³ thá»ƒ láº¥yÂ <code>GirlService</code>Â tá»«Â <code>ApplicationContext</code>. Vá» báº£n cháº¥t thÃ¬ báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng thay tháº¿ 3 AnnotationÂ <code>@Component</code>,Â <code>@Service</code>Â vÃ Â <code>@Repository</code>Â cho nhau mÃ  khÃ´ng áº£nh hÆ°á»Ÿng gÃ¬ tá»›i code cá»§a báº¡n cáº£. NÃ³ váº«n sáº½ hoáº¡t Ä‘á»™ng.</p>
<p>Tuy nhiÃªn tá»« gÃ³c Ä‘á»™ thiáº¿t káº¿ thÃ¬ chÃºng ta cáº§n phÃ¢n rÃµ 3 Annotation nÃ y cho cÃ¡c Class Ä‘áº£m nhiá»‡m Ä‘Ãºng nhiá»‡m vá»¥ cá»§a nÃ³.</p>
<ul>
<li><code>@Service</code>Â gáº¯n cho cÃ¡cÂ <code>Bean</code>Â Ä‘áº£m nhiá»‡m xá»­ lÃ½ logic</li>
<li><code>@Repository</code>Â gáº¯n cho cÃ¡cÂ <code>Bean</code>Â Ä‘áº£m nhiá»‡m giao tiáº¿p vá»›i DB</li>
<li><code>@Component</code>Â gáº¯n cho cÃ¡cÂ <code>Bean</code>Â khÃ¡c.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="component-scan-lÃ -gÃ¬"><a class="header" href="#component-scan-lÃ -gÃ¬">Component Scan lÃ  gÃ¬?</a></h1>
<p>ChÃºng ta sáº½ tÃ¬m hiá»ƒu thÃªm vá» cÃ¡chÂ Spring BootÂ tÃ¬m kiáº¿mÂ <code>Bean</code>Â trong project cá»§a báº¡n nhÆ° tháº¿ nÃ o.</p>
<h3 id="component-scan"><a class="header" href="#component-scan">Component Scan</a></h3>
<p>TrongÂ bÃ i 1Â tÃ´i cÃ³ Ä‘á» cáº­p má»™t láº§n vá» viá»‡cÂ Spring BootÂ khi cháº¡y sáº½ dÃ² tÃ¬m toÃ n bá»™ cÃ¡cÂ <em>Class cÃ¹ng cáº¥p</em>Â hoáº·c á»Ÿ trong cÃ¡cÂ <em>package tháº¥p hÆ¡n</em>Â vÃ  táº¡o ra Bean tá»« cÃ¡c Class tÃ¬m tháº¥y.</p>
<p>Trong trÆ°á»ng há»£p báº¡n muá»‘n tuá»³ chá»‰nh cáº¥u hÃ¬nh choÂ Spring BootÂ chá»‰ tÃ¬m kiáº¿m cÃ¡c bean trong má»™t package nháº¥t Ä‘á»‹nh thÃ¬ cÃ³ cÃ¡c cÃ¡ch sau Ä‘Ã¢y:</p>
<ol>
<li>Sá»­ dá»¥ngÂ <code>@ComponentScan</code></li>
<li>Sá»­ dá»¥ngÂ <code>scanBasePackages</code>Â tromgÂ <code>@SpringBootApplication</code>.</li>
</ol>
<p>Báº¡n cÃ³ thá»ƒ cáº¥u hÃ¬nh choÂ Spring BootÂ TÃ¬m kiáº¿m cÃ¡c Bean á»Ÿ nhiá»u package khÃ¡c nhau báº±ng cÃ¡ch</p>
<h3 id="cÃ¡ch-1componentscan"><a class="header" href="#cÃ¡ch-1componentscan">CÃ¡ch 1:<code>@ComponentScan</code></a></h3>
<pre><code class="language-java">@ComponentScan(&quot;me.loda.spring.componentscan.others&quot;)
// TÃ¬m nhiá»u package khÃ¡c nhau
// @ComponentScan({&quot;me.loda.spring.componentscan.others2&quot;,&quot;me.loda.spring.componentscan.others&quot;})

@SpringBootApplication
public class App {
    ...
}
</code></pre>
<h3 id="cÃ¡ch-2scanbasepackages"><a class="header" href="#cÃ¡ch-2scanbasepackages">CÃ¡ch 2:<code>scanBasePackages</code></a></h3>
<pre><code class="language-java">@SpringBootApplication(scanBasePackages = &quot;me.loda.spring.componentscan.others&quot;)
// TÃ¬m nhiá»u package khÃ¡c nhau
// @SpringBootApplication(scanBasePackages = {&quot;me.loda.spring.componentscan.others&quot;, &quot;me.loda.spring.componentscan.others2&quot;})
public class App {
  ...
}
</code></pre>
<p>Cáº£ 2 cÃ¡ch Ä‘á»u cho káº¿t quáº£ in ra mÃ n hÃ¬nh nhÆ° sau:</p>
<pre><code>Bean Girl khÃ´ng tá»“n táº¡i
Bean: OtherGirl.java
</code></pre>
<p>LÃºc nÃ y,Â Spring BootÂ chá»‰ tÃ¬m kiáº¿m cÃ¡c bean trong packageÂ <code>others</code>Â mÃ  thÃ´i. NÃªn khi láº¥y raÂ <code>Girl</code>Â thÃ¬ nÃ³ khÃ´ng tá»“n táº¡i trongÂ <code>Context</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="configuration-vÃ -bean"><a class="header" href="#configuration-vÃ -bean">@Configuration vÃ  @Bean</a></h1>
<h3 id="configuration-vÃ -bean-1"><a class="header" href="#configuration-vÃ -bean-1">@Configuration vÃ  @Bean</a></h3>
<p><code>@Configuration</code>Â lÃ  má»™t Annotation Ä‘Ã¡nh dáº¥u trÃªn má»™tÂ <code>Class</code>Â cho phÃ©pÂ Spring BootÂ biáº¿t Ä‘Æ°á»£c Ä‘Ã¢y lÃ  nÆ¡i Ä‘á»‹nh nghÄ©a ra cÃ¡cÂ <em>Bean</em>.</p>
<p><code>@Bean</code>Â lÃ  má»™t Annotation Ä‘Æ°á»£c Ä‘Ã¡nh dáº¥u trÃªn cÃ¡cÂ <code>method</code>Â cho phÃ©pÂ Spring BootÂ biáº¿t Ä‘Æ°á»£c Ä‘Ã¢y lÃ Â <em>Bean</em>Â vÃ  sáº½ thá»±c hiá»‡n Ä‘Æ°aÂ <em>Bean</em>Â nÃ y vÃ oÂ <code>Context</code>.</p>
<p><code>@Bean</code>Â sáº½ náº±m trong cÃ¡c class cÃ³ Ä‘Ã¡nh dáº¥uÂ <code>@Configuration</code>.</p>
<p>VÃ­ dá»¥:</p>
<p><em>SimpleBean.java</em></p>
<pre><code class="language-java">// Má»™t class cÆ¡ báº£n, khÃ´ng sá»­ dá»¥ng `@Component`

public class SimpleBean {
    private String username;

    public SimpleBean(String username) {
        setUsername(username);
    }

    @Override
    public String toString() {
        return &quot;This is a simple bean, name: &quot; + username;
    }
}
</code></pre>
<p><em>AppConfig.java</em></p>
<pre><code class="language-java">import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

@Configuration
public class AppConfig {
    @Bean
    SimpleBean simpleBeanConfigure(){
        // Khá»Ÿi táº¡o má»™t instance cá»§a SimpleBean vÃ  tráº£ ra ngoÃ i
        return new SimpleBean(&quot;loda&quot;);
    }
}
</code></pre>
<p><em>App.java</em></p>
<pre><code class="language-java">import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.ApplicationContext;

@SpringBootApplication
public class App {
    public static void main(String[] args) {
        ApplicationContext context = SpringApplication.run(App.class, args);
        // Láº¥y ra bean SimpleBean trong Context
        SimpleBean simpleBean = context.getBean(SimpleBean.class);
        // In ra mÃ n hÃ¬nh
        System.out.println(&quot;Simple Bean Example: &quot; + simpleBean.toString());
        // OUTPUT: Simple Bean Example: This is a simple bean, name: loda
    }
}
</code></pre>
<p>Báº¡n sáº½ tháº¥y lÃ Â <code>SimpleBean</code>Â lÃ  má»™t object Ä‘Æ°á»£c quáº£n lÃ½ trongÂ <code>Context</code>Â cá»§aÂ Spring Boot, máº·c dÃ¹ trong bÃ i nÃ y, chÃºng ta khÃ´ng há» sá»­ dá»¥ng tá»›i cÃ¡c khÃ¡i niá»‡mÂ <code>@Component</code>.</p>
<h3 id="hoáº¡t-Ä‘á»™ng-ná»n"><a class="header" href="#hoáº¡t-Ä‘á»™ng-ná»n">Hoáº¡t Ä‘á»™ng ná»n</a></h3>
<p>Äáº±ng sau chÆ°Æ¡ng trÃ¬nh,Â Spring BootÂ láº§n Ä‘áº§u khá»Ÿi cháº¡y, ngoÃ i viá»‡c Ä‘i tÃ¬m cÃ¡cÂ <code>@Component</code>Â thÃ¬ nÃ³ cÃ²n lÃ m má»™t nhiá»‡m vá»¥ ná»¯a lÃ  tÃ¬m cÃ¡c classÂ <code>@Configuration</code>.</p>
<ol>
<li>Äi tÃ¬m class cÃ³ Ä‘Ã¡nh dáº¥uÂ <code>@Configuration</code></li>
<li>Táº¡o ra Ä‘á»‘i tÆ°á»£ng tá»« class cÃ³ Ä‘Ã¡nh dáº¥uÂ <code>@Configuration</code></li>
<li>tÃ¬m cÃ¡c method cÃ³ Ä‘Ã¡nh dáº¥uÂ <code>@Bean</code>Â trong Ä‘á»‘i tÆ°á»£ng vá»«a táº¡o</li>
<li>Thá»±c hiá»‡n gá»i cÃ¡c method cÃ³ Ä‘Ã¡nh dáº¥uÂ <code>@Bean</code>Â Ä‘á»ƒ láº¥y ra cÃ¡cÂ <em>Bean</em>Â vÃ  Ä‘Æ°a vÃ o `Context.</li>
</ol>
<p>NgoÃ i ra, vá» báº£n cháº¥t,Â <code>@Configuration</code>Â cÅ©ng lÃ Â <code>@Component</code>. NÃ³ chá»‰ khÃ¡c á»Ÿ Ã½ nghÄ©a sá»­ dá»¥ng. (Giá»‘ng vá»›i viá»‡c class Ä‘Æ°á»£c Ä‘Ã¡nh dáº¥uÂ <code>@Service</code>Â chá»‰ nÃªn phá»¥c vá»¥ logic váº­y).</p>
<pre><code class="language-java">@Target({ElementType.TYPE})
@Retention(RetentionPolicy.RUNTIME)
@Documented
@Component // NÃ³ Ä‘Æ°á»£c Ä‘Ã¡nh dáº¥u lÃ  Component
public @interface Configuration {
    @AliasFor(
        annotation = Component.class
    )
    String value() default &quot;&quot;;
}
</code></pre>
<h3 id="cÃ³-Ã½-nghÄ©a-gÃ¬"><a class="header" href="#cÃ³-Ã½-nghÄ©a-gÃ¬">CÃ³ Ã½ nghÄ©a gÃ¬?</a></h3>
<p>Nhiá»u báº¡n sáº½ tá»± há»i ráº±ngÂ <code>@Configuration</code>Â vÃ Â <code>@Bean</code>Â sáº½ cÃ³ Ã½ nghÄ©a gÃ¬ khi chÃºng ta Ä‘Ã£ cÃ³Â <code>@Component</code>? Sao khÃ´ng Ä‘Ã¡nh dáº¥uÂ <code>SimpleBean</code>Â lÃ Â <code>@Component</code>Â cho nhanh?</p>
<p>CÃ¡c báº¡n tháº¯c máº¯c ráº¥t Ä‘Ãºng, vÃ  viá»‡c sá»­ dá»¥ngÂ <code>@Component</code>Â cÅ©ng hoÃ n toÃ n á»•n.</p>
<p>ThÃ´ng thÆ°á»ng thÃ¬ cÃ¡c class Ä‘Æ°á»£c Ä‘Ã¡nh dáº¥uÂ <code>@Component</code>Â Ä‘á»u cÃ³ thá»ƒ táº¡o tá»± Ä‘á»™ng vÃ  inject tá»± Ä‘á»™ng Ä‘Æ°á»£c.</p>
<p>Tuy nhiÃªn trong thá»±c táº¿, náº¿u má»™tÂ <code>Bean</code>Â cÃ³ quÃ¡ nhiá»u logic Ä‘á»ƒ khá»Ÿi táº¡o vÃ  cáº¥u hÃ¬nh, thÃ¬ chÃºng ta sáº½ sá»­ dá»¥ngÂ <code>@Configuration</code>Â vÃ Â <code>@Bean</code>Â Ä‘á»ƒ tá»± tay táº¡o raÂ <code>Bean</code>. Viá»‡c tá»± tay táº¡o raÂ <code>Bean</code>Â nhÆ° nÃ y cÃ³ thá»ƒ hiá»ƒu pháº§n nÃ o lÃ  chÃºng ta Ä‘angÂ <em>config</em>Â cho chÆ°Æ¡ng trÃ¬nh.</p>
<h3 id="vÃ­-dá»¥-1"><a class="header" href="#vÃ­-dá»¥-1">VÃ­ dá»¥</a></h3>
<p><a href="https://viblo.asia/p/spring-boot-6-atconfiguration-va-atbean-bJzKmyprK9N#_vi-du-5">Äá»c trong trang bÃ i viáº¿t</a></p>
<h3 id="bean-cÃ³-tham-sá»‘"><a class="header" href="#bean-cÃ³-tham-sá»‘">@Bean cÃ³ tham sá»‘</a></h3>
<p>Náº¿u method Ä‘Æ°á»£c Ä‘Ã¡nh dáº¥u bá»ŸiÂ <code>@Bean</code>Â cÃ³ tham sá»‘ truyá»n vÃ o, thÃ¬Â Spring BootÂ sáº½ tá»± inject cÃ¡c Bean Ä‘Ã£ cÃ³ trongÂ <code>Context</code>Â vÃ o lÃ m tham sá»‘.</p>
<p>VÃ­ dá»¥:</p>
<p><em>AppConfig.java</em></p>
<pre><code class="language-java">@Configuration
public class AppConfig {

    @Bean
    SimpleBean simpleBeanConfigure(){
        // Khá»Ÿi táº¡o má»™t instance cá»§a SimpleBean vÃ  tráº£ ra ngoÃ i
        return new SimpleBean(&quot;loda&quot;);
    }

    @Bean(&quot;mysqlConnector&quot;)
    DatabaseConnector mysqlConfigure(SimpleBean simpleBean) { // SimpleBean Ä‘Æ°á»£c tá»± Ä‘á»™ng inject vÃ o.
        DatabaseConnector mySqlConnector = new MySqlConnector();
        mySqlConnector.setUrl(&quot;jdbc:mysql://host1:33060/&quot; + simpleBean.getUsername());
        // Set username, password, format, v.v...
        return mySqlConnector;
    }
}
</code></pre>
<h3 id="thá»±c-táº¿"><a class="header" href="#thá»±c-táº¿">Thá»±c táº¿</a></h3>
<p>Trong thá»±c táº¿, viá»‡c sá»­ dá»¥ngÂ <code>@Configuration</code>Â lÃ  háº¿t sá»©c cáº§n thiáº¿t, vÃ  nÃ³ Ä‘Ã³ng vai trÃ² lÃ  nÆ¡i cáº¥u hÃ¬nh cho toÃ n bá»™ á»©ng dá»¥ng cá»§a báº¡n. Má»™t á»¨ng dá»¥ng sáº½ cÃ³ nhiá»u class chá»©aÂ <code>@Configuration</code>Â vÃ  má»—i class sáº½ Ä‘áº£m nháº­n cáº¥u hÃ¬nh má»™t bá»™ pháº­n gÃ¬ Ä‘Ã³ trong á»©ng dá»¥ng.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="application-config-vÃ -value"><a class="header" href="#application-config-vÃ -value">Application Config vÃ  @Value</a></h1>
<p>Trong thá»±c táº¿ khÃ´ng pháº£i lÃºc nÃ o chÃºng ta cÅ©ng nÃªn Ä‘á»ƒ má»i thá»© trong code cá»§a mÃ¬nh. CÃ³ nhá»¯ng thÃ´ng sá»‘ tá»‘t hÆ¡n háº¿t nÃªn Ä‘Æ°á»£c truyá»n tá»« bÃªn ngoÃ i vÃ o á»©ng dá»¥ng, Ä‘á»ƒ giÃºp á»©ng dá»¥ng cá»§a báº¡n dá»… dÃ ng thay Ä‘á»•i giá»¯a cÃ¡c mÃ´i trÆ°á»ng khÃ¡c nhau. Äá»ƒ phá»¥c vá»¥ Ä‘iá»u nÃ y, chÃºng ta sáº½ tÃ¬m hiá»ƒu vá» khÃ¡i niá»‡m config á»©ng dá»¥ngÂ Spring BootÂ vá»›iÂ <code>application.properties</code></p>
<h3 id="applicationproperties"><a class="header" href="#applicationproperties">application.properties</a></h3>
<p>TrongÂ Spring Boot, cÃ¡c thÃ´ng tin cáº¥u hÃ¬nh máº·c Ä‘á»‹nh Ä‘Æ°á»£c láº¥y tá»« fileÂ <code>resources/applications.properties</code>. VÃ­ dá»¥, báº¡n muá»‘nÂ Spring BootÂ cháº¡y trÃªn port 8081 thay vÃ¬ 8080 thÃ¬ <code>server.port = 8081</code></p>
<p>Hoáº·c báº¡n muá»‘n log cá»§a chÆ°Æ¡ng trÃ¬nh chi tiáº¿t hÆ¡n. HÃ£y chuyá»ƒn nÃ³ sang dáº­ng Debug báº±ng cÃ¡ch config nhÆ° sau: <code>logging.level.root=DEBUG</code></p>
<h3 id="value"><a class="header" href="#value">@Value</a></h3>
<p>Trong trÆ°á»ng há»£p, báº¡n muá»‘n tá»± config nhá»¯ng giÃ¡ trá»‹ cá»§a riÃªng mÃ¬nh, thÃ¬Â Spring BootÂ há»— trá»£ báº¡n vá»›i annotationÂ <code>@Value</code></p>
<p>VÃ­ dá»¥, tÃ´i muá»‘n cáº¥u hÃ¬nh cho thÃ´ng tin database cá»§a tÃ´i tá»« bÃªn ngoÃ i á»©ng dá»¥ng</p>
<p><em>application.properties</em></p>
<pre><code>loda.mysql.url=jdbc:mysql://host1:33060/loda
</code></pre>
<p><code>@Value</code>Â Ä‘Æ°á»£c sá»­ dá»¥ng trÃªn thuá»™c tÃ­nh cá»§a class, CÃ³ nhiá»‡m vá»¥ láº¥y thÃ´ng tin tá»« file properties vÃ  gÃ¡n vÃ o biáº¿n.</p>
<pre><code>public class AppConfig {
    // Láº¥y giÃ¡ trá»‹ config tá»« file application.properties
    @Value(&quot;${loda.mysql.url}&quot;)
    String mysqlUrl;
}
</code></pre>
<p>ThÃ´ng tin truyá»n vÃ o annottaionÂ <code>@Value</code>Â chÃ­nh lÃ  tÃªn cá»§a cáº¥u hÃ¬nh Ä‘áº·t trong dáº¥uÂ <code>${name}</code></p>
<h3 id="vÃ­-dá»¥-vÃ -Ä‘á»c-thÃªm"><a class="header" href="#vÃ­-dá»¥-vÃ -Ä‘á»c-thÃªm">VÃ­ dá»¥ vÃ  Ä‘á»c thÃªm</a></h3>
<p><a href="https://viblo.asia/p/spring-boot-7-spring-boot-application-config-va-atvalue-RQqKLwr657z#_vi-du-4">Pháº§n vÃ­ dá»¥ Ä‘áº§y Ä‘á»§ cho bÃ i viáº¿t nÃ y</a></p>
<p>Sau bÃ i nÃ y báº¡n cÃ³ thá»ƒ xem thÃªm ná»™i dung sau:</p>
<ol>
<li><a href="https://www.baeldung.com/configuration-properties-in-spring-boot">HÆ°á»›ng dáº«n sá»­ dá»¥ng Spring Properties vá»›i <code>@ConfigurationProperties</code></a></li>
<li>HÆ°á»›ng dáº«n sá»­ dá»¥ng Spring Profiles</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="controller--thymeleaf"><a class="header" href="#controller--thymeleaf">@Controller + Thymeleaf</a></h1>
<h3 id="controller"><a class="header" href="#controller"><strong>@Controller</strong></a></h3>
<p>Trong bÃ i viáº¿t sá»‘ 4, khi nÃ³i vá»Â <code>@Service</code>Â vÃ Â <code>@Repository</code>Â tÃ´i Ä‘Ã£ Ä‘á» cáº­p tá»›i kiáº¿n trÃºc trongÂ <strong>Spring Boot</strong>.</p>
<p>Äá»ƒ xÃ¢y dá»±ng má»™t trang web vá»›iÂ <strong>Spring Boot</strong>, báº¡n sáº½ cáº§n tuÃ¢n theo quy trÃ¬nh nhÆ° hÃ¬nh dÆ°á»›i Ä‘Ã¢y:</p>
<p><img src="https://images.viblo.asia/95ff7fc2-b915-419a-bb14-38bfdf5bf250.png" alt="" /></p>
<p><code>@Controller</code>Â lÃ  nÆ¡i tiáº¿p nháº­n cÃ¡c thÃ´ng tin request tá»« phÃ­a ngÆ°á»i dÃ¹ng. NÃ³ cÃ³ nhiá»‡m vá»¥ Ä‘Ã³n nháº­n cÃ¡c yÃªu cáº§u (kÃ¨m theo thÃ´ng tin request) vÃ  chuyá»ƒn cÃ¡c yÃªu cáº§u nÃ y xuá»‘ng cho táº§ngÂ <code>@Serivce</code>Â xá»­ lÃ½ logic.</p>
<h3 id="html"><a class="header" href="#html"><strong>HTML</strong></a></h3>
<p>Äá»ƒ táº¡o ra má»™t trang Web, báº¡n sáº½ cáº§n táº¡o ra cÃ¡c trang html Ä‘á»ƒ tráº£ vá» cho ngÆ°á»i dÃ¹ng. Máº·c Ä‘á»‹nh trongÂ <strong>Spring Boot</strong>, cÃ¡c file html nÃ y sáº½ Ä‘Æ°á»£c lÆ°u trá»¯ trong thÆ° má»¥cÂ <code>resources/templates</code>. <strong>Spring Boot + Thymeleaf</strong>Â sáº½ tÃ¬m kiáº¿m cÃ¡c file nÃ y theo tÃªn. VÃ­ dá»¥ &quot;index&quot; sáº½ tÆ°Æ¡ng á»©ng vá»›i &quot;index.html&quot;.</p>
<h3 id="giáº£i-thÃ­ch-1"><a class="header" href="#giáº£i-thÃ­ch-1">Giáº£i thÃ­ch 1</a></h3>
<p>Báº£n thÃ¢nÂ <code>@Controller</code>Â CÅ©ng lÃ  má»™tÂ <code>@Component</code>Â nÃªn nÃ³ sáº½ Ä‘Æ°á»£cÂ <strong>Spring Boot</strong>Â quáº£n lÃ½.</p>
<pre><code class="language-java">@Target({ElementType.TYPE})
@Retention(RetentionPolicy.RUNTIME)
@Documented
@Component
public @interface Controller {
    @AliasFor(
        annotation = Component.class
    )
    String value() default &quot;&quot;;
}
</code></pre>
<p><strong>Spring Boot</strong>Â sáº½ láº¯ng nghe cÃ¡c request tá»« phÃ­a ngÆ°á»i dÃ¹ng. vÃ  tÃ¹y theo Ä‘Æ°á»ng dáº«nÂ <code>path</code>Â lÃ  gÃ¬, nÃ³ sáº½ mapping tá»›i hÃ m xá»­ lÃ½ tÆ°Æ¡ng á»©ng trongÂ <code>@Controller</code>.</p>
<p>NhÆ° vÃ­ dá»¥ trÃªn, tÃ´i sá»­ dá»¥ngÂ <code>GET</code>Â vÃ o Ä‘á»‹a chá»‰Â <code>localhost:8080/</code>Â ( Ä‘Æ°á»ng dáº«n lÃ Â <code>/</code>).Â <strong>Spring Boot</strong>Â sáº½ gá»i tá»›i hÃ m cÃ³ gáº¯nÂ <code>@GetMapping(&quot;/&quot;)</code>Â vÃ  yÃªu cáº§u hÃ m nÃ y xá»­ lÃ½ request nÃ y.</p>
<h3 id="giáº£i-thÃ­ch-2"><a class="header" href="#giáº£i-thÃ­ch-2">Giáº£i thÃ­ch 2</a></h3>
<p>Tá»›i Ä‘Ã¢y báº¡n hÃ£y tham chiáº¿u Ä‘Æ°á»ng dáº«n request vá»›i hÃ m xá»­ lÃ½ nÃ³:</p>
<pre><code class="language-java">// http://localhost:8080/hello?name=Loda
    @GetMapping(&quot;/hello&quot;)
    public String hello(
            // Request param &quot;name&quot; sáº½ Ä‘Æ°á»£c gÃ¡n giÃ¡ trá»‹ vÃ o biáº¿n String
            @RequestParam(name = &quot;name&quot;, required = false, defaultValue = &quot;&quot;) String name,
            // Model lÃ  má»™t object cá»§a Spring Boot, Ä‘Æ°á»£c gáº¯n vÃ o trong má»i request.
            Model model
    ) {
        // Gáº¯n vÃ o model giÃ¡ trá»‹ name nháº­n Ä‘Æ°á»£c
        model.addAttribute(&quot;name&quot;, name);

        return &quot;hello&quot;; // tráº£ vá» file hello.html cÃ¹ng vá»›i thÃ´ng tin trong object Model
    }
</code></pre>
<p>Khi request lÃªn, chÃºng ta nháº­n Ä‘Æ°á»£c giÃ¡ trá»‹ cá»§aÂ <code>name</code>Â vÃ  tiáº¿p tá»¥c gÃ¡n nÃ³ vÃ oÂ <code>Model</code>.</p>
<p><img src="https://images.viblo.asia/c1490e7d-3093-430e-b22e-32ab1395c199.png" alt="" /></p>
<p><code>Model</code>Â á»Ÿ Ä‘Ã¢y lÃ  má»™t object Ä‘Æ°á»£cÂ <strong>Spring Boot</strong>Â Ä‘Ã­nh kÃ©m trong má»—i response. <code>Model</code>Â chá»©a cÃ¡c thÃ´ng tin mÃ  báº¡n muá»‘n tráº£ vá» vÃ Â <strong>Template Engine</strong>Â sáº½ trÃ­ch xuáº¥t thÃ´ng tin nÃ y ra thÃ nh html vÃ  Ä‘Æ°a cho ngÆ°á»i dÃ¹ng. Trong fileÂ <code>hello.html</code>Â tÃ´i láº¥y giÃ¡ trá»‹ cá»§aÂ <code>name</code>Â trongÂ <code>Model</code>Â ra báº±ng cÃ¡ch sá»­ dá»¥ng cÃº phÃ¡p cá»§aÂ <code>Thymeleaf</code></p>
<pre><code>&lt;h1 th:text=&quot;'Hello, ' + ${name}&quot;&gt;&lt;/h1&gt;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="giáº£i-thÃ­ch-cÃ¡ch-thymeleaf-váº­n-hÃ nh--expression"><a class="header" href="#giáº£i-thÃ­ch-cÃ¡ch-thymeleaf-váº­n-hÃ nh--expression">Giáº£i thÃ­ch cÃ¡ch Thymeleaf váº­n hÃ nh + Expression</a></h1>
<h3 id="thymeleaf"><a class="header" href="#thymeleaf">Thymeleaf</a></h3>
<p>ThymeleafÂ lÃ  má»™t Java Template Engine. CÃ³ nhiá»‡m vá»¥ xá»­ lÃ½ vÃ  generate ra cÃ¡c file HTML, XML, v.v.. CÃ¡c file HMTL do Thymeleaf táº¡o ra lÃ  nhá» káº¿t há»£pÂ dá»¯ liá»‡uÂ vÃ Â template + quy táº¯cÂ Ä‘á»ƒ sinh ra má»™t file HTML chá»©a Ä‘áº§y Ä‘á»§ thÃ´ng tin. Viá»‡c cá»§a báº¡n lÃ  cung cáº¥p dá»¯ liá»‡u vÃ  quy Ä‘á»‹nhÂ templateÂ nhÆ° nÃ o, cÃ²n viá»‡c dÃ¹ng cÃ¡c thÃ´ng tin Ä‘Ã³ Ä‘á»ƒ render ra HTML sáº½ doÂ ThymeleafÂ giáº£i quyáº¿t.</p>
<h3 id="cÃº-phÃ¡p"><a class="header" href="#cÃº-phÃ¡p">CÃº phÃ¡p</a></h3>
<p>CÃº phÃ¡p cá»§aÂ ThymeleafÂ sáº½ lÃ  má»™tÂ attributesÂ (Thuá»™c tÃ­nh) cá»§a tháº» HTML vÃ  báº¯t Ä‘áº§u báº±ng chá»¯Â <code>th:</code>.</p>
<p>VÃ­ dá»¥: Äá»ƒ truyá»n dá»¯ liá»‡u tá»« biáº¿nÂ <code>name</code>Â trong Java vÃ o má»™t tháº»Â <code>H1</code>Â cá»§a HTML.</p>
<pre><code class="language-html">&lt;h1 th:text=&quot;${name}&quot;&gt;&lt;/h1&gt;
</code></pre>
<p>ChÃºng ta viáº¿t tháº» h1 nhÆ° bÃ¬nh thÆ°á»ng, nhÆ°ng khÃ´ng chá»©a báº¥t cá»© text nÃ o trong tháº». MÃ  sá»­ dá»¥ng cÃº phÃ¡pÂ <code>th:text=&quot;${name}&quot;</code>Â Ä‘á»ƒÂ ThymeleafÂ láº¥y thÃ´ng tin tá»« biáº¿nÂ <code>name</code>Â vÃ  Ä‘Æ°a vÃ o tháº»Â <code>H1</code>.</p>
<p>Káº¿t quáº£ khi render ra, thuá»™c tÃ­nhÂ <code>th:text</code>Â biáº¿n máº¥t vÃ  giÃ¡ trá»‹ biáº¿nÂ <code>name</code>Â Ä‘Æ°á»£c Ä‘Æ°a vÃ o trong tháº»Â <code>H1</code>. ÄÃ³ lÃ  cÃ¡chÂ ThymeleafÂ hoáº¡t Ä‘á»™ng:</p>
<pre><code class="language-java">// Giáº£ sá»­ String name = &quot;loda&quot;
&lt;h1&gt;Loda&lt;/h1&gt;
</code></pre>
<h3 id="model--view-trong-spring-boot"><a class="header" href="#model--view-trong-spring-boot">Model &amp; View Trong Spring Boot</a></h3>
<p><code>Model</code>Â lÃ  Ä‘á»‘i tÆ°á»£ng lÆ°u giá»¯ thÃ´ng tin vÃ  Ä‘Æ°á»£c sá»­ dá»¥ng bá»ŸiÂ Template EngineÂ Ä‘á»ƒ generate ra webpage. CÃ³ thá»ƒ hiá»ƒu nÃ³ lÃ Â <code>Context</code>Â cá»§aÂ Thymeleaf. <code>Model</code>Â lÆ°u giá»¯ thÃ´ng tin dÆ°á»›i dáº¡ng key-value.</p>
<p>Trong template thymeleaf, Ä‘á»ƒ láº¥y cÃ¡c thÃ´ng tin trongÂ <code>Model</code>. báº¡n sáº½ sá»­ dá»¥ngÂ <code>Thymeleaf Standard Expression</code>.</p>
<ol>
<li><code>${...}</code>: GiÃ¡ trá»‹ cá»§a má»™t biáº¿n.</li>
<li><code>*{...}</code>: GiÃ¡ trá»‹ cá»§a má»™t biáº¿n Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh.</li>
</ol>
<p>NgoÃ i ra, Ä‘á»ƒ láº¥y thÃ´ng tin Ä‘áº·c biá»‡t hÆ¡n:</p>
<ol>
<li><code>#{...}</code>: Láº¥y message</li>
<li><code>@{...}</code>: Láº¥y Ä‘Æ°á»ng dáº«n URL dá»±a theo context cá»§a server</li>
</ol>
<p>NÃ³i tá»›i Ä‘Ã¢y cÃ³ láº½ hÆ¡i khÃ³ hiá»ƒu, chÃºng ta sáº½ dÃ¹ng vÃ­ dá»¥ Ä‘á»ƒ hiá»ƒu rÃµ tá»«ng loáº¡i Expression.</p>
<h3 id="---variables-expressions"><a class="header" href="#---variables-expressions"><code>${...}</code> - Variables Expressions</a></h3>
<p>TrÃªn Controller báº¡n Ä‘Æ°a vÃ o má»™t sá»‘ giÃ¡ trá»‹:</p>
<pre><code>model.addAttribute(&quot;today&quot;, &quot;Monday&quot;);
</code></pre>
<p>Äá»ƒ láº¥y giÃ¡ trá»‹ cá»§a biáº¿nÂ <code>today</code>, tÃ´i sá»­ dá»¥ngÂ <code>${...}</code></p>
<pre><code>&lt;p&gt;Today is: &lt;span th:text=&quot;${today}&quot;&gt;&lt;/span&gt;.&lt;/p&gt;
</code></pre>
<h3 id="---variables-expressions-on-selections"><a class="header" href="#---variables-expressions-on-selections"><code>*{...}</code> - Variables Expressions on selections</a></h3>
<p>Dáº¥uÂ <code>*</code>Â cÃ²n gá»i lÃ Â <code>asterisk syntax</code>. Chá»©c nÄƒng cá»§a nÃ³ giá»‘ng vá»›iÂ <code>${...}</code>Â lÃ  láº¥y giÃ¡ trá»‹ cá»§a má»™t biáº¿n. Äiá»ƒm khÃ¡c biá»‡t lÃ  nÃ³ sáº½ láº¥y ra giÃ¡ trá»‹ cá»§a má»™t biáº¿n cho trÆ°á»›c bá»ŸiÂ <code>th:object</code></p>
<pre><code class="language-html">&lt;div th:object=&quot;${session.user}&quot;&gt;&lt;!-- th:object tá»“n táº¡i trong pháº¡m vi cá»§a tháº» div nÃ y --&gt;
    &lt;!-- Láº¥y ra tÃªn cá»§a Ä‘á»‘i tÆ°á»£ng session.user --&gt;
    &lt;p&gt;Name: &lt;spanth:text=&quot;*{firstName}&quot;&gt;&lt;/span&gt;.&lt;/p&gt;&lt;!-- Láº¥y ra lastName cá»§a Ä‘á»‘i tÆ°á»£ng session.user --&gt;
    &lt;p&gt;Surname: &lt;spanth:text=&quot;*{lastName}&quot;&gt;&lt;/span&gt;.&lt;/p&gt;
&lt;/div&gt;
</code></pre>
<p>Váº­y Ä‘oáº¡n code á»Ÿ trÃªn tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i:</p>
<pre><code>&lt;div&gt;&lt;p&gt;Name: &lt;spanth:text=&quot;${session.user.firstName}&quot;&gt;&lt;/span&gt;.&lt;/p&gt;&lt;p&gt;Surname: &lt;spanth:text=&quot;${session.user.lastName}&quot;&gt;&lt;/span&gt;.&lt;/p&gt;&lt;/div&gt;
</code></pre>
<p>CÃ²nÂ <code>${...}</code>Â sáº½ láº¥y ra giÃ¡ trá»‹ cá»¥c bá»™ trongÂ <code>Context</code>Â hayÂ <code>Model</code>.</p>
<h3 id="---message-expression"><a class="header" href="#---message-expression"><code>#{...}</code> - Message Expression</a></h3>
<p>VÃ­ dá»¥, trong file configÂ <code>.properties</code>Â cá»§a tÃ´i cÃ³ má»™t message chÃ o ngÆ°á»i dÃ¹ng báº±ng nhiá»u ngÃ´n ngá»¯.</p>
<pre><code>home.welcome=Â¡Bienvenido a nuestra tienda de comestibles!
</code></pre>
<p>ThÃ¬ cÃ¡ch láº¥y nÃ³ ra nhanh nháº¥t lÃ :</p>
<pre><code>&lt;p th:utext=&quot;#{home.welcome}&quot;&gt;Xin chÃ o cÃ¡c báº¡n!&lt;/p&gt;
</code></pre>
<p>Äoáº¡n text tiáº¿ng viá»‡t bÃªn trong tháº»Â <code>p</code>Â sáº½ bá»‹ thay tháº¿ bá»Ÿi thymeleaf khi renderÂ <code>#{home.welcome}</code>.</p>
<h3 id="---url-expression"><a class="header" href="#---url-expression"><code>@{...}</code> - URL Expression</a></h3>
<p><code>@{...}</code>Â xá»­ lÃ½ vÃ  tráº£ ra giÃ¡ trá»‹ URL theo context cá»§a mÃ¡y chá»§ cho chÃºng ta.</p>
<p>VÃ­ dá»¥:</p>
<pre><code>// &lt;a th:href=&quot;@{/order/list}&quot;&gt;
// If our app is installed at http://localhost:8080/myapp, this URL will output:
// &lt;a href=&quot;/myapp/order/list&quot;&gt;
&lt;a href=&quot;details.html&quot; th:href=&quot;@{/order/details(orderId=${o.id})}&quot;&gt;view&lt;/a&gt;
&lt;ahref=&quot;details.html&quot;th:href=&quot;@{/order/{orderId}/details(orderId=${o.id})}&quot;&gt;view&lt;/a&gt;
</code></pre>
<p>Náº¿u báº¯t dáº§u báº±ng dáº¥uÂ <code>/</code>Â thÃ¬ nÃ³ sáº½ lÃ  Relative URL vÃ  sáº½ tÆ°Æ¡ng á»©ng theo context cá»§a mÃ¡y chá»§ cá»§a báº¡n.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="requestmapping--postmapping--modelattribute--requestparam"><a class="header" href="#requestmapping--postmapping--modelattribute--requestparam">@RequestMapping + @PostMapping + @ModelAttribute + @RequestParam</a></h1>
<h3 id="postmapping"><a class="header" href="#postmapping"><strong>@PostMapping</strong></a></h3>
<p><code>@PostMapping</code>Â cÃ³ nhiá»‡m vá»¥ Ä‘Ã¡nh dáº¥u hÃ m xá»­ lÃ½ POST request trong Controller.</p>
<p>VÃ­ dá»¥:</p>
<p>TÃ´i cÃ³ 2 hÃ m xá»­ lÃ½, má»™t choÂ <code>GET</code>Â method vÃ  má»™t choÂ <code>POST</code>.</p>
<p>Cáº£ hai Ä‘á»u chung Ä‘Æ°á»ng dáº«n nhÆ°ng báº¡n nÃªn biáº¿t ráº±ng cÃ¹ng má»™tÂ <code>path</code>Â nhÆ°ng khÃ¡cÂ <code>method</code>Â thÃ¬ sáº½ xá»­ lÃ½ khÃ¡c nhau.</p>
<pre><code>@Controller
public class WebController {
    @GetMapping(&quot;/addTodo&quot;)
    public String addTodo(Model model) {
        return &quot;addTodo&quot;;
    }

    @PostMapping(&quot;/addTodo&quot;)
    public String addTodo(Model model) {
        return &quot;success&quot;;
    }
}
</code></pre>
<h3 id="requestmapping"><a class="header" href="#requestmapping"><strong>@RequestMapping</strong></a></h3>
<p>Trong trÆ°á»ng há»£p báº¡n muá»‘n táº¥t cáº£ cÃ¡c method Ä‘á»u dÃ¹ng chung má»™t cÃ¡ch xá»­ lÃ½ thÃ¬ cÃ³ thá»ƒ sá»­ dá»¥ng AnnotationÂ <code>@RequestMapping</code>. @RequestMapping lÃ  má»™t annotation cÃ³ Ã½ nghÄ©a vÃ  má»¥c Ä‘Ã­ch sá»­ dá»¥ng rá»™ng hÆ¡n cÃ¡c loáº¡i @GetMapping, @PostMapping,v.v.. Náº¿u khÃ´ng chá»‰ Ä‘á»‹nh method choÂ <code>@RequestMapping</code>Â thÃ¬ nÃ³ sáº½ nháº­n toÃ n bá»™ cÃ¡c method.</p>
<pre><code class="language-java">@Controller
@RequestMapping(&quot;api/v1&quot;)
public class WebController {

    // ÄÆ°á»ng dáº«n lÃºc nÃ y lÃ : /api/v1/addTodo vÃ  method GET
    @RequestMapping(value = &quot;/addTodo&quot;, method = RequestMethod.GET)
    public String addTodo(Model model) {
        return &quot;addTodo&quot;;
    }

    // ÄÆ°á»ng dáº«n lÃºc nÃ y lÃ : /api/v1/addTodo vÃ  method POST
    @RequestMapping(value = &quot;/addTodo&quot;, method = RequestMethod.POST)
    public String addTodo(@ModelAttribute Todo todo) {
        return &quot;success&quot;;
    }
}
</code></pre>
<h3 id="getmapping"><a class="header" href="#getmapping">GetMapping</a></h3>
<p>Khi tÃ´i request lÃªn server nhÆ° nÃ y <code>http://localhost:8080/listTodo?limit=2</code>.</p>
<pre><code class="language-java">@GetMapping(&quot;/listTodo&quot;)
public String index(Model model, @RequestParam(value = &quot;limit&quot;, required = false) Integer limit) {
    // Tráº£ vá» Ä‘á»‘i tÆ°á»£ng todoList.
    // Náº¿u ngÆ°á»i dÃ¹ng gá»­i lÃªn param limit thÃ¬ tráº£ vá» sublist cá»§a todoList
    model.addAttribute(&quot;todoList&quot;, limit != null ? todoList.subList(0, limit) : todoList);

    // Tráº£ vá» template &quot;listTodo.html&quot;
    return &quot;listTodo&quot;;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="spring-boot-jpa--mysql"><a class="header" href="#spring-boot-jpa--mysql">Spring Boot JPA + MySQL</a></h1>
<h3 id="spring-boot-jpa"><a class="header" href="#spring-boot-jpa"><strong>Spring Boot JPA</strong></a></h3>
<p><strong>Spring Boot JPA</strong>Â lÃ  má»™t pháº§n trong há»‡ sinh thÃ¡i Spring Data, nÃ³ táº¡o ra má»™t layer á»Ÿ giá»¯a táº§ng service vÃ  database, giÃºp chÃºng ta thao tÃ¡c vá»›i database má»™t cÃ¡ch dá»… dÃ ng hÆ¡n, tá»± Ä‘á»™ng config vÃ  giáº£m thiá»ƒu code thá»«a thÃ£i.</p>
<p><strong>Spring Boot JPA</strong>Â Ä‘Ã£ wrapper Hibernate vÃ  táº¡o ra má»™t interface máº¡nh máº½. Náº¿u nhÆ° báº¡n gáº·p khÃ³ khÄƒn khi lÃ m viá»‡c vá»›i Hibernate thÃ¬ Ä‘á»«ng lo, báº¡n hÃ£y Ä‘á»ƒÂ <strong>Spring JPA</strong>Â lÃ m há»™.</p>
<h3 id="táº¡o-table-vÃ -dá»¯-liá»‡u"><a class="header" href="#táº¡o-table-vÃ -dá»¯-liá»‡u"><strong>Táº¡o Table vÃ  dá»¯ liá»‡u</strong></a></h3>
<p>TrÆ°á»›c khi báº¯t Ä‘áº§u, chÃºng ta cáº§n táº¡o ra dá»¯ liá»‡u trong Database. á» Ä‘Ã¢y tÃ´i chá»nÂ <code>MySQL</code>. DÆ°á»›i Ä‘Ã¢y lÃ  SQL Script Ä‘á»ƒ táº¡o DATABASEÂ <code>micro_db</code>. Chá»©a má»™t TABLE duy nháº¥t lÃ Â <code>User</code>.</p>
<h3 id="táº¡o-model-user"><a class="header" href="#táº¡o-model-user"><strong>Táº¡o Model User</strong></a></h3>
<p>Khi Ä‘Ã£ cÃ³ dá»¯ liá»‡u trong Database. ChÃºng ta sáº½ táº¡o má»™t Class trong Java Ä‘á»ƒ mapping thÃ´ng tin. Cáº§n biáº¿t thÃªm vá» Hibernate. ÄÃ¢y lÃ  <em>User.java</em>:</p>
<pre><code class="language-java">@Entity
@Table(name = &quot;user&quot;)
@Data
public class User implements Serializable {
    private static final long serialVersionUID = -297553281792804396L;
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    // Mapping thÃ´ng tin biáº¿n vá»›i tÃªn cá»™t trong Database
    @Column(name = &quot;hp&quot;)
    private int hp;
    // Náº¿u khÃ´ng Ä‘Ã¡nh dáº¥u @Column thÃ¬ sáº½ mapping tá»± Ä‘á»™ng theo tÃªn biáº¿n
    private int atk;
}
</code></pre>
<h3 id="váº¥n-Ä‘á»-cá»§a-hibernate-truyá»n-thá»‘ng"><a class="header" href="#váº¥n-Ä‘á»-cá»§a-hibernate-truyá»n-thá»‘ng"><strong>Váº¥n Ä‘á» cá»§a Hibernate truyá»n thá»‘ng</strong></a></h3>
<p>ThÃ´ng thÆ°á»ng, khi báº¡n Ä‘Ã£ Ä‘á»‹nh nghÄ©aÂ <code>Entity</code>Â tÆ°Æ¡ng á»©ng vá»›iÂ <code>Table</code>Â trong DB thÃ´ng qua Hibernate. ThÃ¬ nhiá»‡m vá»¥ tiáº¿p theo sáº½ lÃ  táº¡o ra cÃ¡c class thao tÃ¡c vá»›i DB.</p>
<p>VÃ­ dá»¥ muá»‘n query láº¥y táº¥t cáº£Â <code>User</code>Â báº±ng Hibernate truyá»n thá»‘ng sáº½ nhÆ° sau. NÃ³ sáº½ ráº¥t dÃ i nÃªn khi náº¯m Ä‘Æ°á»£c váº¥n Ä‘á» nÃ y, Spring Data Ä‘Ã£ wrapper lÃªn Hibernate má»™t lá»›p ná»¯a gá»i lÃ  Spring JPA.</p>
<h3 id="jparepository"><a class="header" href="#jparepository"><strong>JpaRepository</strong></a></h3>
<p>Äá»ƒ sá»­ dá»¥ngÂ <strong>Spring JPA</strong>, báº¡n cáº§n sá»­ dá»¥ng interfaceÂ <code>JpaRepository</code>.</p>
<p>YÃªu cáº§u cá»§a interface nÃ y Ä‘Ã³ lÃ  báº¡n pháº£i cung cáº¥p 2 thÃ´ng tin:</p>
<ol>
<li>Entity (Äá»‘i tÆ°á»£ng tÆ°Æ¡ng á»©ng vá»›i Table trong DB)</li>
<li>Kiá»ƒu dá»¯ liá»‡u cá»§a khÃ³a chÃ­nh (PrimaryKey)</li>
</ol>
<p>VÃ­ dá»¥: TÃ´i muá»‘n láº¥y thÃ´ng tin cá»§a báº£ngÂ <code>User</code>Â thÃ¬ lÃ m nhÆ° sau:</p>
<pre><code>import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.stereotype.Repository;

@Repository
public interface UserRepository extends JpaRepository&lt;User, Long&gt; {

}
</code></pre>
<p>Váº­y thÃ´i,Â <code>@Repository</code>Â Ä‘Ã¡nh dáº¥uÂ <code>UserRepository</code>Â lÃ  má»™t Bean vÃ  chá»‹u trÃ¡ch nhiá»‡m giao tiáº¿p vá»›i DB. <strong>Spring Boot</strong>Â sáº½ tá»± tÃ¬m tháº¥y vÃ  khá»Ÿi táº¡o ra Ä‘á»‘i tÆ°á»£ngÂ <code>UserRepository</code>Â trong Context. Viá»‡c táº¡o raÂ <code>UserRepository</code>Â hoÃ n toÃ n tá»± Ä‘á»™ng vÃ  tá»± config, vÃ¬ chÃºng ta Ä‘Ã£ káº¿ thá»«aÂ <code>JpaRepository</code>. BÃ¢y giá», viá»‡c láº¥y ra toÃ n bá»™Â <code>User</code>Â sáº½ nhÆ° sau:</p>
<pre><code class="language-java">@Autowired
UserRepository userRepository;

userRepository.findAll().forEach(System.out::println);
</code></pre>
<p>Náº¿u báº¡n tÃ¬m kiáº¿m thÃ¬ sáº½ tháº¥yÂ <code>UserRepository</code>Â cÃ³ hÃ ng chá»¥c method mÃ  chÃºng ta khÃ´ng cáº§n viáº¿t láº¡i ná»¯a. VÃ¬ nÃ³ káº¿ thá»«aÂ <code>JpaRepository</code>Â rá»“i.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="spring-jpa-method--query"><a class="header" href="#spring-jpa-method--query">Spring JPA Method + @Query</a></h1>
<h3 id="query-creation"><a class="header" href="#query-creation"><strong>Query Creation</strong></a></h3>
<p>TrongÂ <strong>Spring JPA</strong>, cÃ³ má»™t cÆ¡ cháº¿ giÃºp chÃºng ta táº¡o ra cÃ¡c cÃ¢u Query mÃ  khÃ´ng cáº§n viáº¿t thÃªm code. CÆ¡ cháº¿ nÃ y xÃ¢y dá»±ng Query tá»« tÃªn cá»§a method. VÃ­ dá»¥: ChÃºng ta cÃ³ Ä‘á»‘i tÆ°á»£ngÂ <code>User</code>.</p>
<p><em>User.java</em></p>
<pre><code class="language-java">@Entity
@Table(name = &quot;user&quot;)
@Data
public class User implements Serializable {
    private static final long serialVersionUID = -297553281792804396L;

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    // Mapping thÃ´ng tin biáº¿n vá»›i tÃªn cá»™t trong Database
    @Column(name = &quot;hp&quot;)
    private int hp;
    @Column(name = &quot;stamina&quot;)
    private int stamina;

    // Náº¿u khÃ´ng Ä‘Ã¡nh dáº¥u @Column thÃ¬ sáº½ mapping tá»± Ä‘á»™ng theo tÃªn biáº¿n
    private int atk;
    private int def;
    private int agi;
}
</code></pre>
<p>Khi chÃºng ta Ä‘áº·t tÃªn method lÃ :Â <code>findByAtk(int atk)</code>. ThÃ¬Â <strong>Spring JPA</strong>Â sáº½ tá»± Ä‘á»‹nh nghÄ©a cÃ¢u Query cho method nÃ y, báº±ng cÃ¡ch xá»­ lÃ½ tÃªn method. Váº­y lÃ  chÃºng ta Ä‘Ã£ cÃ³ thá»ƒ truy váº¥n dá»¯ liá»‡u mÃ  chá»‰ máº¥t thÃªm 1 dÃ²ng code.</p>
<h3 id="quy-táº¯c-Ä‘áº·t-tÃªn-method-trong-spring-jpa"><a class="header" href="#quy-táº¯c-Ä‘áº·t-tÃªn-method-trong-spring-jpa"><strong>Quy táº¯c Ä‘áº·t tÃªn method trong Spring JPA</strong></a></h3>
<p>TrongÂ <strong>Spring JPA</strong>, cÆ¡ cháº¿ xÃ¢y dá»±ng truy váº¥n thÃ´ng qua tÃªn cá»§a method Ä‘Æ°á»£c quy Ä‘á»‹nh bá»Ÿi cÃ¡c tiá»n tá»‘ sau:</p>
<p><code>findâ€¦By</code>,Â <code>readâ€¦By</code>,Â <code>queryâ€¦By</code>,Â <code>countâ€¦By</code>, vÃ Â <code>getâ€¦By</code>.</p>
<p>pháº§n cÃ²n láº¡i sáº½ Ä‘Æ°á»£c parse theo tÃªn cá»§a thuá»™c tÃ­nh (viáº¿t hoa chá»¯ cÃ¡i Ä‘áº§u). Náº¿u chÃºng ta cÃ³ nhiá»u Ä‘iá»u kiá»‡n, thÃ¬ cÃ¡c thuá»™c tÃ­nh cÃ³ thá»ƒ káº¿t há»£p vá»›i nhau báº±ng chá»¯Â <code>And</code>Â hoáº·cÂ <code>Or</code>. Báº¡n cÃ³ thá»ƒ Ä‘á»c thÃªm <a href="https://docs.spring.io/spring-data/jpa/reference/jpa/query-methods.html#jpa.query-methods.query-creation">trong Docs cá»§a Spring: Query Creation</a></p>
<p>VÃ­ dá»¥:</p>
<pre><code class="language-java">interface PersonRepository extends JpaRepository&lt;User, Long&gt; {
    // Dá»…
    // version rÃºt gá»n
    Person findByLastname(String lastname);
    // verson Ä‘áº§y Ä‘á»§
    Person findPersonByLastname(String lastname);
    Person findAllByLastname(String lastname);
    // Trung bÃ¬nh
    List&lt;Person&gt; findByEmailAddressAndLastname(EmailAddress emailAddress, String lastname);
    // findDistinct lÃ  tÃ¬m kiáº¿m vÃ  loáº¡i bá» Ä‘i cÃ¡c Ä‘á»‘i tÆ°á»£ng trÃ¹ng nhau
    List&lt;Person&gt; findDistinctPeopleByLastnameOrFirstname(String lastname, String firstname);
    List&lt;Person&gt; findPeopleDistinctByLastnameOrFirstname(String lastname, String firstname);
    // IgnoreCase lÃ  tÃ¬m kiáº¿m khÃ´ng phÃ¢n biá»‡t hoa thÆ°á»ng, vÃ­ dá»¥ á»Ÿ Ä‘Ã¢y tÃ¬m kiáº¿m lastname
    // lastname sáº½ khÃ´ng phÃ¢n biá»‡t hoa thÆ°á»ng
    List&lt;Person&gt; findByLastnameIgnoreCase(String lastname);
    // AllIgnoreCase lÃ  khÃ´ng phÃ¢n biá»‡t hoa thÆ°á»ng cho táº¥t cáº£ thuá»™c tÃ­nh
    List&lt;Person&gt; findByLastnameAndFirstnameAllIgnoreCase(String lastname, String firstname);
    // OrderBy lÃ  cÃ¡ch sáº¯p xáº¿p thá»© tá»± tráº£ vá»
    // Sáº¯p xáº¿p theo Firstname ASC
    List&lt;Person&gt; findByLastnameOrderByFirstnameAsc(String lastname);
    // Sáº¯p xáº¿p theo Firstname Desc
    List&lt;Person&gt; findByLastnameOrderByFirstnameDesc(String lastname);
}
</code></pre>
<p>CÃ¡c thuá»™c tÃ­nh trong tÃªn method pháº£i thuá»™c vá» Class Ä‘Ã³, náº¿u khÃ´ng sáº½ gÃ¢y ra lá»—i. Tuy nhiÃªn, trong má»™t sá»‘ trÆ°á»ng há»£p báº¡n cÃ³ thá»ƒ query báº±ng thuá»™c tÃ­nh con. VÃ­ dá»¥: ÄÃ³i tÆ°á»£ngÂ <code>Person</code>Â cÃ³ thuá»™c tÃ­nh lÃ Â <code>Address</code>Â vÃ  trongÂ <code>Address</code>Â láº¡i cÃ³Â <code>ZipCode</code></p>
<pre><code class="language-java">// person.address.zipCode
List&lt;Person&gt; findByAddressZipCode(ZipCode zipCode);
</code></pre>
<h3 id="query"><a class="header" href="#query"><strong>@Query</strong></a></h3>
<p>Vá»›i cÃ¡ch sá»­ dá»¥ngÂ <code>@Query</code>, báº¡n sáº½ cÃ³ thá»ƒ sá»­ dá»¥ng cÃ¢u truy váº¥n <a href="https://en.wikipedia.org/wiki/Jakarta_Persistence_Query_Language">JPQL</a> (Hibernate) hoáº·c SQL thuáº§n (raw SQL). VÃ­ dá»¥:</p>
<pre><code class="language-java">public interface UserRepository extends JpaRepository&lt;User, Long&gt; {
    // Khi Ä‘Æ°á»£c gáº¯n @Query, thÃ¬ tÃªn cá»§a method khÃ´ng cÃ²n tÃ¡c dá»¥ng ná»¯a
    // ÄÃ¢y lÃ  JPQL
    @Query(&quot;select u from User u where u.emailAddress = ?1&quot;)
    User myCustomQuery(String emailAddress);
    // ÄÃ¢y lÃ  Native SQL
    @Query(value = &quot;select * from User u where u.email_address = ?1&quot;, nativeQuery = true)
    User myCustomQuery2(String emailAddress);
}
</code></pre>
<p>CÃ¡ch truyá»n tham sá»‘ lÃ  gá»i theo thá»© tá»± cÃ¡c tham sá»‘ cá»§a method bÃªn dÆ°á»›iÂ <code>?1</code>,Â <code>?2</code>. Náº¿u báº¡n khÃ´ng thÃ­ch sá»­ dá»¥ngÂ <code>?{number}</code>Â thÃ¬ cÃ³ thá»ƒ Ä‘áº·t tÃªn cho tham sá»‘.</p>
<pre><code class="language-java">public interface UserRepository extends JpaRepository&lt;User, Long&gt; {
    // JPQL
    @Query(&quot;SELECT u FROM User u WHERE u.status = :status and u.name = :name&quot;)
    User findUserByNamedParams(@Param(&quot;status&quot;) Integer status, @Param(&quot;name&quot;) String name);
    // Native SQL
    @Query(value = &quot;SELECT * FROM Users u WHERE u.status = :status and u.name = :name&quot;, nativeQuery = true)
    User findUserByNamedParamsNative(@Param(&quot;status&quot;) Integer status, @Param(&quot;name&quot;) String name);
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="chi-tiáº¿t-spring-boot--thymeleaf--mysql--i18n"><a class="header" href="#chi-tiáº¿t-spring-boot--thymeleaf--mysql--i18n">Chi tiáº¿t Spring Boot + Thymeleaf + MySQL + i18n</a></h1>
<h3 id="táº¡o-database"><a class="header" href="#táº¡o-database">Táº¡o Database</a></h3>
<p><em>script.sql</em></p>
<pre><code class="language-sql">CREATE SCHEMA IF NOT EXISTS `todo_db` DEFAULT CHARACTER SET utf8mb4 ;

CREATE TABLE IF NOT EXISTS `todo_db`.`todo` (
  `id` INT(11) NOT NULL AUTO_INCREMENT,
  `title` VARCHAR(255) NULL DEFAULT NULL,
  `detail` VARCHAR(255) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4;
</code></pre>
<p>ThÃªm 1 record vÃ o DB</p>
<pre><code class="language-sql">INSERT INTO `todo_db`.`todo` (`title`, `detail`) VALUES ('LÃ m bÃ i táº­p', 'HoÃ n thiá»‡n bÃ i viáº¿t Spring Boot #13');
</code></pre>
<h3 id="cáº¥u-hÃ¬nh-á»©ng-dá»¥ng"><a class="header" href="#cáº¥u-hÃ¬nh-á»©ng-dá»¥ng">Cáº¥u hÃ¬nh á»©ng dá»¥ng</a></h3>
<p>Cáº¥u hÃ¬nh lÃ  pháº§n cá»±c kÃ¬ quan trá»ng rá»“i, chÃºng ta pháº£i cung cáº¥p choÂ Spring BootÂ cÃ¡c thÃ´ng tin vá» Database vÃ  Thymeleaf. NgoÃ i ra, tÃ¹y chá»‰nh má»™t sá»‘ thÃ´ng tin Ä‘á»ƒ giÃºp chÃºng ta láº­p trÃ¬nh Ä‘Æ¡n giáº£n hÆ¡n.
(CÃ³ thá»ƒ Ä‘á»c qua vÃ  tham kháº£o má»™t sá»‘ thÃ´ng sá»‘ cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng). ÄÃ¢y lÃ  <em>application.properties</em></p>
<pre><code class="language-yaml">#Cháº¡y á»©ng dá»¥ng trÃªn port 8085
server.port=8085
# Bá» tÃ­nh nÄƒng cache cá»§a thymeleaf Ä‘á»ƒ láº­p trÃ¬nh cho nhanh
spring.thymeleaf.cache=false
# CÃ¡c message tÄ©nh sáº½ Ä‘Æ°á»£c lÆ°u táº¡i thÆ° má»¥c i18n
spring.messages.basename=i18n/messages
# Bá» properties nÃ y Ä‘i khi deploy
# NÃ³ cÃ³ tÃ¡c dá»¥ng cá»‘ Ä‘á»‹nh ngÃ´n ngá»¯ hiá»‡n táº¡i chá»‰ lÃ  Tiáº¿ng Viá»‡t
spring.mvc.locale-resolver=fixed
# Máº·c Ä‘á»‹nh ngÃ´n ngá»¯ lÃ  tiáº¿ng viá»‡t
spring.mvc.locale=vi_VN
# Äá»•i thÃ nh tiáº¿ng anh báº±ng cÃ¡ch bá» comment á»Ÿ dá»©oi
#spring.mvc.locale=en_US
spring.datasource.url=jdbc:mysql://localhost:3306/todo_db?useSSL=false
spring.datasource.username=root
spring.datasource.password=root
## Hibernate Properties
# The SQL dialect makes Hibernate generate better SQL for the chosen database
spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect
# Hibernate ddl auto (create, create-drop, validate, update)
spring.jpa.hibernate.ddl-auto = update
</code></pre>
<h3 id="táº¡o-model"><a class="header" href="#táº¡o-model">Táº¡o Model</a></h3>
<p>Táº¡o modelÂ <code>Todo</code>Â liÃªn káº¿t tá»›i báº£ngÂ <code>todo</code>Â trong Database.</p>
<pre><code class="language-java">import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.GenerationType;
import javax.persistence.Id;

import lombok.Data;

@Entity
@Data
public class Todo {

}
</code></pre>
<p>NgoÃ i ra, chÃºng ta táº¡o thÃªm má»™t Ä‘á»‘i tÆ°á»£ng lÃ Â <code>TodoValidator</code>, cÃ³ trÃ¡ch nhiá»‡m kiá»ƒm tra xem má»™t objectÂ <code>Todo</code>Â lÃ  há»£p lá»‡ hay khÃ´ng.</p>
<pre><code class="language-java">import org.thymeleaf.util.StringUtils;

/*
Äá»‘i tÆ°á»£ng nÃ y dÃ¹ng Ä‘á»ƒ kiá»ƒm tra xem má»™t Object Todo cÃ³ há»£p lá»‡ khÃ´ng
 */
public class TodoValidator {

    /
     * Kiá»ƒm tra má»™t object Todo cÃ³ há»£p lá»‡ khÃ´ng
     * @param todo
     * @return
     */
    public boolean isValid(Todo todo) {
        return Optional.ofNullable(todo)
                       .filter(t -&gt; !StringUtils.isEmpty(t.getTitle())) // Kiá»ƒm tra title khÃ¡c rá»—ng
                       .filter(t -&gt; !StringUtils.isEmpty(t.getDetail())) // Kiá»ƒm tra detail khÃ¡c rá»—ng
                       .isPresent(); // Tráº£ vá» true náº¿u há»£p lá»‡, ngÆ°á»£c láº¡i false
    }
}
</code></pre>
<p>Váº­y lÃ  xong pháº§n chuáº©n bá»‹Â <code>Model</code>.</p>
<h3 id="todoconfig"><a class="header" href="#todoconfig">TodoConfig</a></h3>
<p>Trong á»©ng dá»¥ng cá»§a mÃ¬nh, tÃ´i muá»‘n tá»± táº¡o ra BeanÂ <code>TodoValidator</code>. ÄÃ¢y lÃ  lÃºc sá»­ dá»¥ngÂ <code>@Configuration</code>Â vÃ Â <code>@Bean</code>Â Ä‘Ã£ há»c táº¡i bÃ iÂ Spring Boot #6</p>
<p><em>config/TodoConfig.java</em></p>
<pre><code class="language-java">@Configuration
public class TodoConfig {
    /
     * Táº¡o ra Bean TodoValidator Ä‘á»ƒ sá»­ dá»¥ng sau nÃ y
     * @return
     */
    @Bean
    public TodoValidator validator() {
        return new TodoValidator();
    }
}
</code></pre>
<h3 id="táº§ng-repository"><a class="header" href="#táº§ng-repository">Táº§ng Repository</a></h3>
<p>Táº§ng Repository, chá»‹u trÃ¡ch nhiá»‡m giao tiáº¿p vá»›i Database. ChÃºng ta sá»­ dá»¥ngÂ Spring JPA. <em>repository/TodoRepository.java</em></p>
<pre><code class="language-java">@Repository
public interface TodoRepository extends JpaRepository&lt;Todo, Long&gt; {
}
</code></pre>
<h3 id="táº§ng-service"><a class="header" href="#táº§ng-service">Táº§ng Service</a></h3>
<p>Táº§ng Service, chá»‹ trÃ¡ch nhiá»‡m thá»±c hiá»‡n cÃ¡c xá»­ lÃ½ logic, business, há»— trá»£ cho táº§ng Controller. <em>service/TodoService.java</em></p>
<pre><code class="language-java">@Service
public class TodoService {
    @Autowired
    private TodoRepository todoRepository;

    @Autowired
    private TodoValidator validator;

    /
     * Láº¥y ra danh sÃ¡ch List&lt;Todo&gt;
     *
     * @param limit - Giá»›i háº¡n sá»‘ lÆ°á»£ng láº¥y ra
     *
     * @return Tráº£ vá» danh sÃ¡ch List&lt;Todo&gt; dá»±a theo limit, náº¿u limit == null thÃ¬ tráº£ findAll()
     */
    public List&lt;Todo&gt; findAll(Integer limit) {
        return Optional.ofNullable(limit)
                       .map(value -&gt; todoRepository.findAll(PageRequest.of(0, value)).getContent())
                       .orElseGet(() -&gt; todoRepository.findAll());
    }

    /
     * ThÃªm má»™t Todo má»›i vÃ o danh sÃ¡ch cÃ´ng viá»‡c cáº§n lÃ m
     *
     * @return Tráº£ vá» Ä‘á»‘i tÆ°á»£ng Todo sau khi lÆ°u vÃ o DB, tráº£ vá» null náº¿u khÃ´ng thÃ nh cÃ´ng
     */
    public Todo add(Todo todo) {
        if (validator.isValid(todo)) {
            return todoRepository.save(todo);
        }
        return null;
    }
}
</code></pre>
<h3 id="táº§ng-controller"><a class="header" href="#táº§ng-controller">Táº§ng Controller</a></h3>
<p>Táº§ng Controller, nÆ¡i Ä‘Ã³n nháº­n cÃ¡c request tá»« phÃ­a ngÆ°á»i dÃ¹ng, vÃ  chuyá»ƒn tiáº¿p xá»­ lÃ½ xuá»‘ng táº§ng Service.</p>
<p><em>controller/TodoController.java</em></p>
<pre><code class="language-java">@Controller
public class TodoController {

    @Autowired
    private TodoService todoService;

    /*
    @RequestParam dÃ¹ng Ä‘á»ƒ Ä‘Ã¡nh dáº¥u má»™t biáº¿n lÃ  request param trong request gá»­i lÃªn server.
    NÃ³ sáº½ gÃ¡n dá»¯ liá»‡u cá»§a param-name tÆ°Æ¡ng á»©ng vÃ o biáº¿n
     */
    @GetMapping(&quot;/listTodo&quot;)
    public String index(Model model, @RequestParam(value = &quot;limit&quot;, required = false) Integer limit) {
        // Tráº£ vá» Ä‘á»‘i tÆ°á»£ng todoList.
        model.addAttribute(&quot;todoList&quot;, todoService.findAll(limit));
        // Tráº£ vá» template &quot;listTodo.html&quot;
        return &quot;listTodo&quot;;
    }

    @GetMapping(&quot;/addTodo&quot;)
    public String addTodo(Model model) {
        model.addAttribute(&quot;todo&quot;, new Todo());
        return &quot;addTodo&quot;;
    }

    /*
    @ModelAttribute Ä‘Ã¡nh dáº¥u Ä‘á»‘i tÆ°á»£ng Todo Ä‘Æ°á»£c gá»­i lÃªn bá»Ÿi Form Request
     */
    @PostMapping(&quot;/addTodo&quot;)
    public String addTodo(@ModelAttribute Todo todo) {
        return Optional.ofNullable(todoService.add(todo))
                       .map(t -&gt; &quot;success&quot;) // Tráº£ vá» success náº¿u save thÃ nh cÃ´ng
                       .orElse(&quot;failed&quot;); // Tráº£ vá» failed náº¿u khÃ´ng thÃ nh cÃ´ng

    }
}
</code></pre>
<h3 id="templates"><a class="header" href="#templates">Templates</a></h3>
<p>Táº§ng Controller Ä‘Ã£ tráº£ vá» templates, nhiá»‡m vá»¥ tiáº¿p theo lÃ  sá»­ dá»¥ng Template Engine Ä‘á»ƒ xá»­ lÃ½ cÃ¡c templates nÃ y vÃ  tráº£ vá» webpage cho ngÆ°á»i dÃ¹ng.</p>
<h3 id="i18n"><a class="header" href="#i18n">i18n</a></h3>
<p>Trong cÃ¡c template, tÃ´i cÃ³ sá»­ dá»¥ng cÃ¡c message tÄ©nh, nhá»¯ng message nÃ y há»— trá»£ Ä‘a ngÃ´n ngá»¯. ChÃºng ta Ä‘á»‹nh nghÄ©a cÃ¡c message nÃ y táº¡i thÆ° má»¥cÂ <code>i18n</code>.</p>
<p><em>i18n/messages_vi.properties</em></p>
<pre><code>loda.message.hello=Welcome to TodoApp
loda.message.success=ThÃªm Todo thÃ nh cÃ´ng!
loda.message.failed=ThÃªm Todo khÃ´ng thÃ nh cÃ´ng!

loda.value.addTodo=ThÃªm cÃ´ng viá»‡c
loda.value.viewListTodo=Xem danh sÃ¡ch cÃ´ng viá»‡c
loda.value.listTodo=Danh sÃ¡ch cÃ´ng viá»‡c
</code></pre>
<p><em>i18n/messages_en.properties</em></p>
<pre><code>loda.message.hello=Welcome to TodoApp
loda.message.success=Add To-do Successfully!
loda.message.failed=Add To-do Failed!

loda.value.addTodo=Add To-do
loda.value.viewListTodo=View To-do list
loda.value.listTodo=To-do list
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="restful-api--restcontroller--pathvariable--requestbody"><a class="header" href="#restful-api--restcontroller--pathvariable--requestbody">Restful API + @RestController + @PathVariable + @RequestBody</a></h1>
<h3 id="restful-api"><a class="header" href="#restful-api">Restful API</a></h3>
<p>Báº¡n cÃ³ thá»ƒ Ä‘á»c <a href="https://github.com/dwyl/learn-api-design">dwyl/learn-api-design</a></p>
<h3 id="restcontroller"><a class="header" href="#restcontroller">@RestController</a></h3>
<p>KhÃ¡c vá»›iÂ <code>@Controller</code>Â lÃ  sáº½ tráº£ vá» má»™t template.</p>
<p><code>@RestController</code>Â tráº£ vá» dá»¯ liá»‡u dÆ°á»›i dáº¡ng JSON.</p>
<pre><code>@RestController
@RequestMapping(&quot;/api/v1&quot;)
public class RestApiController{

    @GetMapping(&quot;/todo&quot;)
    public List&lt;Todo&gt; getTodoList() {
        return todoList;
    }
}
</code></pre>
<p>CÃ¡c Ä‘á»‘i tÆ°á»£ng tráº£ vá» dÆ°á»›i dáº¡ng Object sáº½ Ä‘Æ°á»£cÂ Spring BootÂ chuyá»ƒn thÃ nh JSON. CÃ¡c Ä‘á»‘i tÆ°á»£ng tráº£ vá» ráº¥t Ä‘a dáº¡ng, báº¡n cÃ³ thá»ƒ tráº£ vá»Â <code>List</code>,Â <code>Map</code>, v.v..Â Spring BootÂ sáº½ convert háº¿t chÃºng thÃ nh JSON, máº·c Ä‘á»‹nh sáº½ dÃ¹ng Jackson converter Ä‘á»ƒ lÃ m Ä‘iá»u Ä‘Ã³. Náº¿u báº¡n muá»‘n API tÃ¹y biáº¿n Ä‘Æ°á»£c kiá»ƒu dá»¯ liá»‡u tráº£ vá», báº¡n cÃ³ thá»ƒ tráº£ vá» Ä‘á»‘i tÆ°á»£ngÂ <code>ResponseEntity</code>Â cá»§aÂ SpringÂ cung cáº¥p. ÄÃ¢y lÃ  Ä‘á»‘i tÆ°á»£ng cha cá»§a má»i response vÃ  sáº½ wrapper cÃ¡c object tráº£ vá». CÃ¡i nÃ y báº¡n xem tiáº¿p pháº§n dÆ°á»›i sáº½ rÃµ.</p>
<h3 id="requestbody"><a class="header" href="#requestbody">@RequestBody</a></h3>
<p>VÃ¬ bÃ¢y giá» chÃºng ta xÃ¢y dá»±ng API, nÃªn cÃ¡c thÃ´ng tin tá»« phÃ­aÂ ClientÂ gá»­i lÃªnÂ ServerÂ sáº½ náº±m trongÂ <code>Body</code>, vÃ  cÅ©ng dÆ°á»›i dáº¡ngÂ <code>JSON</code>Â luÃ´n.</p>
<pre><code class="language-java">@RestController
@RequestMapping(&quot;/api/v1&quot;)
public class RestApiController {

    List&lt;Todo&gt; todoList = new CopyOnWriteArrayList&lt;&gt;();

    @PostMapping(&quot;/todo&quot;)
    public ResponseEntity addTodo(@RequestBody Todo todo) {
        todoList.add(todo);
        // Tráº£ vá» response vá»›i STATUS CODE = 200 (OK)
        // Body sáº½ chá»©a thÃ´ng tin vá» Ä‘á»‘i tÆ°á»£ng todo vá»«a Ä‘Æ°á»£c táº¡o.
        return ResponseEntity.ok().body(todo);
    }
}
</code></pre>
<p>Táº¥t nhiÃªn lÃ Â Spring BootÂ sáº½ lÃ m giÃºp chÃºng ta cÃ¡c pháº§n náº·ng nhá»c, nÃ³ chuyá»ƒn chuá»—i JSON trong request thÃ nh má»™t Object Java. báº¡n chá»‰ cáº§n cho nÃ³ biáº¿t cáº§n chuyá»ƒn JSON thÃ nh Object nÃ o báº±ng AnnotationÂ <code>@RequestBody</code></p>
<h3 id="pathvariable"><a class="header" href="#pathvariable">@PathVariable</a></h3>
<p><code>RESTful API</code>Â lÃ  má»™t tiÃªu chuáº©n dÃ¹ng trong viá»‡c tháº¿t káº¿ cÃ¡c thiáº¿t káº¿ API cho cÃ¡c á»©ng dá»¥ng web Ä‘á»ƒ quáº£n lÃ½ cÃ¡c resource.</p>
<p>VÃ  vá»›i cÃ¡ch thá»‘ng nháº¥t nÃ y, thÃ¬ sáº½ cÃ³ má»™t pháº§n thÃ´ng tin quan trá»ng sáº½ náº±m ngay trong chÃ­nh URL cá»§a api.</p>
<p>VÃ­ dá»¥:</p>
<ol>
<li>URL táº¡o To-do:Â https://loda.me/todo. TÆ°Æ¡ng á»©ng vá»›i HTTP method lÃ  POST</li>
<li>URL láº¥y thÃ´ng tin To-do sá»‘ 12:Â https://loda.me/todo/12. TÆ°Æ¡ng á»©ng vá»›i HTTP method lÃ  GET</li>
<li>URL sá»­a thÃ´ng tin To-do sá»‘ 12:Â https://loda.me/todo/12. TÆ°Æ¡ng á»©ng vá»›i HTTP method lÃ  PUT</li>
<li>URL xoÃ¡ To-do sá»‘ 12:Â https://loda.me/todo/12. TÆ°Æ¡ng á»©ng vá»›i HTTP method lÃ  DELETE</li>
</ol>
<p>NgoÃ i thÃ´ng tin trongÂ <code>Body</code>Â cá»§a request, thÃ¬ cÃ¡i chÃºng ta cáº§n chÃ­nh lÃ  cÃ¡i con sá»‘ 12 náº±m trong URL. Pháº£i láº¥y Ä‘Æ°á»£c con sá»‘ Ä‘Ã³ thÃ¬ má»›i biáº¿t Ä‘Æ°á»£c Ä‘á»‘i tÆ°á»£ng To-do cáº§n thao tÃ¡c lÃ  gÃ¬.</p>
<p><code>@PathVariable</code>Â tham chiáº¿n.</p>
<pre><code class="language-java">@RestController
@RequestMapping(&quot;/api/v1&quot;)
public class RestApiController {

    /*
    pháº§n path URL báº¡n muá»‘n láº¥y thÃ´ng tin sáº½ Ä‘á»ƒ trong ngoáº·c kÃ©p {}
     */
    @GetMapping(&quot;/todo/{todoId}&quot;)
    public Todo getTodo(@PathVariable(name = &quot;todoId&quot;) Integer todoId){
        // @PathVariable láº¥y ra thÃ´ng tin trong URL
        // dá»±a vÃ o tÃªn cá»§a thuá»™c tÃ­nh Ä‘Ã£ Ä‘á»‹nh nghÄ©a trong ngoáº·c kÃ©p /todo/{todoId}
        return todoList.get(todoId);
    }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="exception-handling-exceptionhandler--restcontrolleradvicecontrolleradvice--responsestatus"><a class="header" href="#exception-handling-exceptionhandler--restcontrolleradvicecontrolleradvice--responsestatus">Exception Handling @ExceptionHandler + @RestControllerAdvice/@ControllerAdvice + @ResponseStatus</a></h1>
<h3 id="restcontrolleradvice--controlleradvice--exceptionhandler"><a class="header" href="#restcontrolleradvice--controlleradvice--exceptionhandler">@RestControllerAdvice &amp; @ControllerAdvice + @ExceptionHandler</a></h3>
<p><code>@RestControllerAdvice</code>Â lÃ  má»™t Annotation gáº¯n trÃªn Class. CÃ³ tÃ¡c dá»¥ng xen vÃ o quÃ¡ trÃ¬nh xá»­ lÃ½ cá»§a cÃ¡cÂ <code>@RestController</code>. TÆ°Æ¡ng tá»± vá»›iÂ <code>@ControllerAdvice</code>. <code>@RestControllerAdvice</code>Â thÆ°á»ng Ä‘Æ°á»£c káº¿t há»£p vá»›iÂ <code>@ExceptionHandler</code>Â Ä‘á»ƒ cáº¯t ngang quÃ¡ trÃ¬nh xá»­ lÃ½ cá»§a Controller, vÃ  xá»­ lÃ½ cÃ¡c ngoáº¡i lá»‡ xáº£y ra.</p>
<pre><code class="language-java">@RestControllerAdvice
public class ApiExceptionHandler {
    @ExceptionHandler(IndexOutOfBoundsException.class)
    @ResponseStatus(value = HttpStatus.BAD_REQUEST)
    public ErrorMessage TodoException(Exception ex,  WebRequest request) {
        return new ErrorMessage(10100, &quot;Äá»‘i tÆ°á»£ng khÃ´ng tá»“n táº¡i&quot;);
    }
}
</code></pre>
<p>Hiá»ƒu Ä‘Æ¡n giáº£n lÃ  Controller Ä‘ang hoáº¡t Ä‘á»™ng bÃ¬nh thÆ°á»ng, cháº³ng may cÃ³ má»™t Exception Ä‘Æ°á»£c nÃ©m ra, thÃ¬ thay vÃ¬ bÃ¡o lá»—i há»‡ thá»‘ng, thÃ¬ nÃ³ sáº½ Ä‘Æ°á»£c tháº±ngÂ <code>@RestControllerAdvice</code>Â vÃ Â <code>@ExceptionHandler</code>Â Ä‘Ã³n láº¥y vÃ  xá»­ lÃ½. Sau Ä‘Ã³ tráº£ vá» cho ngÆ°á»i dÃ¹ng thÃ´ng tin há»¯u Ã­ch hÆ¡n.</p>
<h3 id="responsestatus"><a class="header" href="#responsestatus">@ResponseStatus</a></h3>
<p><code>@ResponseStatus</code>Â lÃ  má»™t cÃ¡ch Ä‘á»‹nh nghÄ©a HttpStatus tráº£ vá» cho ngÆ°á»i dÃ¹ng. Náº¿u báº¡n khÃ´ng muá»‘n sá»­ dá»¥ngÂ <code>ResponseEntity</code>Â thÃ¬ cÃ³ thá»ƒ dÃ¹ngÂ <code>@ResponseStatus</code>Â Ä‘Ã¡nh dáº¥u trÃªnÂ <code>Object</code>Â tráº£ vá».</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="hÆ°á»›ng-dáº«n-sá»­-dá»¥ng-configurationproperties"><a class="header" href="#hÆ°á»›ng-dáº«n-sá»­-dá»¥ng-configurationproperties">HÆ°á»›ng dáº«n sá»­ dá»¥ng @ConfigurationProperties</a></h1>
<h3 id="cáº¥u-hÃ¬nh-Ä‘Æ¡n-giáº£n"><a class="header" href="#cáº¥u-hÃ¬nh-Ä‘Æ¡n-giáº£n"><strong>Cáº¥u hÃ¬nh Ä‘Æ¡n giáº£n</strong></a></h3>
<p>Giáº£ sá»­, á»©ng dá»¥ng cá»§a tÃ´i sáº½ yÃªu cáº§u cÃ³ má»™t sá»‘ giÃ¡ trá»‹ toÃ n cá»¥c, mÃ  thay vÃ¬ cáº¥u hÃ¬nh á»Ÿ trong code, tÃ´i muá»‘n lÆ°u nÃ³ á»Ÿ bÃªn ngoÃ i, Ä‘á»ƒ tiá»‡n thay Ä‘á»•i má»—i khi cáº§n.</p>
<p>ThÃ¬ tÃ´i sáº½ lÃ m nhÆ° sau, táº¡o ra má»™t class chá»©a cÃ¡c thÃ´ng tin:</p>
<pre><code class="language-java">@Data // Lombok (Táº¡o Getter, Setter cÃ¡c thá»©)
@Component // LÃ  1 Spring Bean
// ÄÃ¡nh dáº¥u Ä‘á»ƒ láº¥y config tá»« trong file loda.yml
// @PropertySource(&quot;classpath:loda.yml&quot;)
@ConfigurationProperties(prefix = &quot;loda&quot;) // Chá»‰ láº¥y cÃ¡c config cÃ³ tiá»n tá»‘ lÃ  &quot;loda&quot;
public class LodaAppProperties {
    private String email;
    private String googleAnalyticsId;

    // standard getters and setters
}
</code></pre>
<p>Sá»­ dá»¥ngÂ <code>@PropertySource</code>Â Ä‘á»ƒ Ä‘á»‹nh nghÄ©a tÃªn cá»§a file config. Náº¿u khÃ´ng cÃ³ annotation nÃ y, Spring sáº½ sá»­ dá»¥ng file máº·c Ä‘á»‹nh (<em>classpath:application.yml</em>Â trong thÆ° má»¥cÂ <em>resources</em>)</p>
<p>Cuá»‘i cÃ¹ng lÃ Â <code>@ConfigurationProperties</code>, Annotation nÃ y Ä‘Ã¡nh dáº¥u class bÃªn dÆ°á»›i nÃ³ lÃ  properties, cÃ¡c thuá»™c tÃ­nh sáº½ Ä‘Æ°á»£c tá»± Ä‘á»™ng náº¡p vÃ o khi Spring khá»Ÿi táº¡o. LÆ°u Ã½: cÃ¡c thuá»™c tÃ­nh nÃ y Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh bá»ŸiÂ <code>prefix=loda</code>. CÃ¡i nÃ y báº¡n xem fileÂ <em>application.yml</em>Â á»Ÿ dÆ°á»›i sáº½ hiá»ƒu.</p>
<p>Spring sáº½ tá»± tÃ¬m cÃ¡c hÃ m setter Ä‘á»ƒ set giÃ¡ trá»‹ cho cÃ¡c thuá»™c tÃ­nh nÃ y, nÃªn quan trá»ng lÃ  báº¡n pháº£i táº¡o ra cÃ¡c setter method. (á» Ä‘Ã¢y tÃ´i nhÆ°á»ng viá»‡c Ä‘Ã³ choÂ lombok).</p>
<p>NgoÃ i ra, Ä‘á»ƒ cháº¡y Ä‘Æ°á»£c tÃ­nh nÄƒng nÃ y, báº¡n cáº§n kÃ­ch hoáº¡t nÃ³ báº±ng cÃ¡ch gáº¯nÂ <code>@EnableConfigurationProperties</code>Â lÃªn má»™t Configuration nÃ o Ä‘Ã³. á» Ä‘Ã¢y tÃ´i gáº¯n lÃªn hÃ m main luÃ´n.</p>
<pre><code class="language-java">@SpringBootApplication
@EnableConfigurationProperties
public class App {
    public static void main(String[] args) {
        SpringApplication.run(App.class, args);
    }
}
</code></pre>
<p>BÃ¢y giá», Spring sáº½ tá»± Ä‘á»™ng bind toÃ n bá»™ giÃ¡ trá»‹ tá»« trong file application.yml vÃ o bean LodaAppProperties cho chÃºng ta. Táº¡o ra fileÂ <em>application.yml</em>Â táº¡i thÆ° má»¥c resources. ThÃªm cÃ¡c thÃ´ng tin chÃºng ta cáº§n. ChÃºng ta pháº£i Ä‘áº·t cÃ¡c thuá»™c tÃ­nh nÃ y sau prefixÂ <em>loda</em>:</p>
<pre><code>loda:
  email: loda.namnh@gmail.com
  googleAnalyticsId: U-xxxxx
</code></pre>
<h3 id="cháº¡y-thá»­"><a class="header" href="#cháº¡y-thá»­"><strong>Cháº¡y thá»­</strong></a></h3>
<pre><code class="language-java">@SpringBootApplication
@EnableConfigurationProperties
public class App implements CommandLineRunner {
    public static void main(String[] args) {
        SpringApplication.run(App.class, args);
    }

    @Autowired LodaAppProperties lodaAppProperties;

    @Override
    public void run(String... args) throws Exception {
        System.out.println(&quot;Global variable:&quot;);
        System.out.println(&quot;\t Email: &quot;+lodaAppProperties.getEmail());
        System.out.println(&quot;\t GA ID: &quot;+lodaAppProperties.getGoogleAnalyticsId());
    }
}
</code></pre>
<p>Káº¿t quáº£:</p>
<pre><code>Global variable:
	 Email: loda.namnh@gmail.com
	 GA ID: U-xxxxx
</code></pre>
<p>BÃ¢y giá», á»Ÿ báº¥t ká»³ Ä‘Ã¢u trong chÆ°Æ¡ng trÃ¬nh, khi cáº§n láº¥y cÃ¡c thÃ´ng tin config, tÃ´i chá»‰ cáº§n:</p>
<pre><code class="language-java">@Autowired LodaAppProperties lodaAppProperties;
</code></pre>
<h3 id="nested-properties"><a class="header" href="#nested-properties"><strong>Nested Properties</strong></a></h3>
<p>ChÃºng ta cÃ³ thá»ƒ config cÃ¡c thuá»™c tÃ­nh bÃªn trong Class ká»ƒ cáº£ khi nÃ³ lÃ Â <code>Lists</code>,Â <code>Maps</code>Â hay má»™t class khÃ¡c.</p>
<p>Bá»• sung thÃªm thuá»™c tÃ­nh:</p>
<pre><code class="language-java">...
@ConfigurationProperties(prefix = &quot;loda&quot;) // Chá»‰ láº¥y cÃ¡c config cÃ³ tiá»n tá»‘ lÃ  &quot;loda&quot;
public class LodaAppProperties {
    ...
    private List&lt;String&gt; authors;
    private Map&lt;String, String&gt; exampleMap;
}
</code></pre>
<p>Sá»­a fileÂ <em>application.yml</em>:</p>
<pre><code>loda:
  email: loda.namnh@gmail.com
  googleAnalyticsId: U-xxxxx
  authors:
    - loda
    - atom
  exampleMap:
    key1: hello
    key2: world
</code></pre>
<p>Cháº¡y láº¡i chÆ°Æ¡ng trÃ¬nh:</p>
<pre><code class="language-java">@Override
public void run(String... args) throws Exception {
    System.out.println(&quot;Global variable:&quot;);
    System.out.println(&quot;\t Email: &quot; + lodaAppProperties.getEmail());
    System.out.println(&quot;\t GA ID: &quot; + lodaAppProperties.getGoogleAnalyticsId());
    System.out.println(&quot;\t Authors: &quot; + lodaAppProperties.getAuthors());
    System.out.println(&quot;\t Example Map: &quot; + lodaAppProperties.getExampleMap());
}
</code></pre>
<p>Káº¿t quáº£:</p>
<pre><code>Global variable:
	 Email: loda.namnh@gmail.com
	 GA ID: U-xxxxx
	 Authors: [loda, atom]
	 Example Map: {key1=hello, key2=world}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cháº¡y-nhiá»u-mÃ´i-trÆ°á»ng-vá»›i-spring-profile"><a class="header" href="#cháº¡y-nhiá»u-mÃ´i-trÆ°á»ng-vá»›i-spring-profile">Cháº¡y nhiá»u mÃ´i trÆ°á»ng vá»›i Spring Profile</a></h1>
<h3 id="1-táº¡o-file-config"><a class="header" href="#1-táº¡o-file-config">1. Táº¡o file config</a></h3>
<p><code>Spring Profiles</code>Â cÃ³ sáºµn trong Framework rá»“i nÃªn báº¡n khÃ´ng cáº§n thÃªm báº¥t kÃ¬ thÆ° viá»‡n nÃ o khÃ¡c. Äá»ƒ sá»­ dá»¥ng, cÃ¡c báº¡n táº¡o file config táº¡i thÆ° má»¥cÂ <code>resources</code>Â trong project. Máº·c Ä‘á»‹nh Spring sáº½ nháº­n cÃ¡c file cÃ³ tÃªn nhÆ° sau:</p>
<pre><code class="language-yaml">application.properties
application.yml
application-{profile-name}.yml // .properties
</code></pre>
<p>vÃ­ dá»¥ mÃ¬nh cÃ³ 2 mÃ´i trÆ°á»ng lÃ Â <code>local</code>Â vÃ Â <code>aws</code>, thÃ¬ mÃ¬nh sáº½ táº¡o ra cÃ¡c file nhÆ° tháº¿ nÃ y:</p>
<pre><code class="language-yaml">application.yml
application-local.yml
application-aws.yml
application-common.yml
</code></pre>
<ul>
<li><code>application</code>Â lÃ  file config chÃ­nh khai bÃ¡o cÃ¡c enviroment.</li>
<li><code>application-local</code>Â chá»‰ sá»­ dá»¥ng khi cháº¡y chÆ°Æ¡ng trÃ¬nh á»Ÿ local</li>
<li><code>application-aws</code>Â chá»‰ sá»­ dá»¥ng khi cháº¡y á»Ÿ AWS</li>
<li><code>application-common</code>Â lÃ  nhá»¯ng config dÃ¹ng chung, mÃ´i trÆ°á»ng nÃ o cÅ©ng cáº§n.</li>
</ul>
<p>BÃ¢y giá», mÃ¬nh sáº½ khai bÃ¡o trong tá»«ng file nhÆ° sau (XÃ³a bá»›t ná»™i dung tá»«ng tá»‡p rÃ¹i cho ngáº¯n gá»n):</p>
<p><em>application.yml</em></p>
<pre><code class="language-yml">#application.yml
---
spring.profiles: local
spring.profiles.include: common, local
---
spring.profiles: aws
spring.profiles.include: common, aws
---
</code></pre>
<p><em>application-aws.yml</em></p>
<pre><code class="language-yml">spring:
  datasource:
    username: xxx
    password: xxx
</code></pre>
<p><em>application-local.yml</em></p>
<pre><code class="language-yml">spring:
  datasource:
    username: root
    password:
    url: jdbc:mysql://localhost:3306/news?useSSL=false&amp;characterEncoding=UTF-8
</code></pre>
<p><em>application-common.yml</em></p>
<pre><code class="language-yml">spring:
  jpa:
    properties:
</code></pre>
<p>Tadaa, xong, mÃ¬nh giáº£i thÃ­ch chÃºt. báº¡n Ä‘á»ƒ Ã½ trong fileÂ <code>application.yml</code>Â mÃ¬nh cÃ³ khai bÃ¡o 2 mÃ´i trÆ°á»ng lÃ Â <code>local</code>Â vÃ Â <code>aws</code>. Táº¡i má»—i mÃ´i trÆ°á»ng sáº½Â <code>include</code>Â (bao gá»“m) cÃ¡c file config nhÆ° kia. Khi mÃ¬nh kÃ­ch hoáº¡tÂ <code>aws</code>Â cháº³ng háº¡n,Â <em>Spring</em>Â sáº½ load táº¥t cáº£ config cÃ³ trongÂ <code>application-common.yml</code>Â vÃ Â <code>application-aws.yml</code>.</p>
<h3 id="2-kÃ­ch-hoáº¡t-config"><a class="header" href="#2-kÃ­ch-hoáº¡t-config">2. KÃ­ch hoáº¡t config</a></h3>
<p>Äá»ƒ sá»­ dá»¥ng má»™tÂ <code>Profiles</code>Â báº¡n cÃ³ cÃ¡c cÃ¡ch sau:</p>
<h4 id="sá»­-dá»¥ng-springprofilesactive-trong-file-applicationproperties-hoáº·c-applicationyml"><a class="header" href="#sá»­-dá»¥ng-springprofilesactive-trong-file-applicationproperties-hoáº·c-applicationyml">Sá»­ dá»¥ng <code>spring.profiles.active</code> trong file <code>application.properties</code> hoáº·c <code>application.yml</code></a></h4>
<pre><code>spring.profiles.active=aws
</code></pre>
<h4 id="3-sá»­-dá»¥ng-jvm-system-parameter-nÃªn-dÃ¹ng"><a class="header" href="#3-sá»­-dá»¥ng-jvm-system-parameter-nÃªn-dÃ¹ng">3: Sá»­ dá»¥ng JVM System Parameter (nÃªn dÃ¹ng)</a></h4>
<pre><code>-Dspring.profiles.active=aws
</code></pre>
<h4 id="4-environment-variable-unix-nÃªn-dÃ¹ng"><a class="header" href="#4-environment-variable-unix-nÃªn-dÃ¹ng">4: Environment Variable (Unix) (nÃªn dÃ¹ng)</a></h4>
<pre><code>export SPRING_PROFILES_ACTIVE=aws
</code></pre>
<h3 id="3-cÃ¡ch-sá»­-dá»¥ng-profile"><a class="header" href="#3-cÃ¡ch-sá»­-dá»¥ng-profile">3. CÃ¡ch sá»­ dá»¥ng @Profile</a></h3>
<p>Khi Ä‘Ã£ cÃ³Â <code>Profile</code>Â rá»“i, ngoÃ i cÃ¡c biáº¿n toÃ n cá»¥c Ä‘Æ°á»£c thay Ä‘á»•i theo mÃ´i trÆ°á»ng, báº¡n cÅ©ng cÃ³ thá»ƒ toÃ n quyá»n quyáº¿t Ä‘á»‹nh xem trong code ráº±ngÂ <code>Bean</code>Â hayÂ <code>Class</code>Â nÃ o sáº½ Ä‘Æ°á»£c quyá»n cháº¡y á»Ÿ mÃ´i trÆ°á»ng nÃ o. Báº±ng cÃ¡ch sá»­ dá»¥ng annotationÂ <code>@Profile</code></p>
<pre><code class="language-java">// Bean nÃ y Spring chá»‰ khá»Ÿi táº¡o vÃ  quáº£n lÃ½ khi mÃ´i trÆ°á»ng lÃ  `local`
@Component
@Profile(&quot;local&quot;)
public class LocalDatasourceConfig {}
// NgoÃ i ra báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng toÃ n tá»­ logic á»Ÿ Ä‘Ã¢y, vÃ­ dá»¥:
@Component
@Profile(&quot;!local&quot;)
public class LocalDatasourceConfig {}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="hÆ°á»›ng-dáº«n-chi-tiáº¿t-test-spring-boot"><a class="header" href="#hÆ°á»›ng-dáº«n-chi-tiáº¿t-test-spring-boot">HÆ°á»›ng dáº«n chi tiáº¿t Test Spring Boot</a></h1>
<p>HÃ´m nay chÃºng ta sáº½ tÃ¬m hiá»ƒu cÃ¡ch Ä‘á»ƒ viáº¿t TestCase trongÂ <strong>Spring Boot</strong>. YÃªu cáº§u tá»‘i thiáº¿u Ä‘á»ƒ Ä‘i tiáº¿p pháº§n nÃ y Ä‘Ã³ lÃ  báº¡n pháº£i cÃ³ ná»n táº£ng vá»›iÂ <code>JUnit</code>Â vÃ Â <code>Mockito</code>.</p>
<h3 id="váº¥n-Ä‘á»-test--spring"><a class="header" href="#váº¥n-Ä‘á»-test--spring"><strong>Váº¥n Ä‘á» Test + Spring</strong></a></h3>
<p><strong>Spring Boot</strong>Â sáº½ pháº£i táº¡o Context vÃ  tÃ¬m kiáº¿m cÃ¡c Bean vÃ  nhÃ©t vÃ o Ä‘Ã³. Sau táº¥t cáº£ cÃ¡c bÆ°á»›c config vÃ  khá»Ÿi táº¡o thÃ¬ chÃºng ta sá»­ dá»¥ngÂ <code>@Autowired</code>Â Ä‘á»ƒ láº¥y Ä‘á»‘i tÆ°á»£ng ra sá»­ dá»¥ng. Váº¥n Ä‘á» Ä‘áº§u tiÃªn báº¡n nghÄ© tá»›i khi viáº¿t Test sáº½ lÃ  lÃ m saoÂ <code>@Autowired</code>Â bean vÃ o class Test Ä‘Æ°á»£c vÃ  lÃ m sao choÂ <code>JUnit</code>Â hiá»ƒuÂ <code>@Autowired</code>Â lÃ  gÃ¬. HÆ°á»›ng giáº£i quyáº¿t lÃ  tÃ­ch há»£pÂ <code>Spring</code>Â vÃ o vá»›iÂ <code>JUnit</code>.</p>
<h3 id="runwithspringrunnerclass"><a class="header" href="#runwithspringrunnerclass"><strong>@RunWith(SpringRunner.class)</strong></a></h3>
<p><strong>Spring Boot</strong>Â Ä‘Ã£ thiáº¿t káº¿ ra lá»›pÂ <code>SpringRunner</code>, sáº½ giÃºp chÃºng ta tÃ­ch há»£pÂ <strong>Spring + JUnit</strong>.</p>
<p>Äá»ƒ test trong Spring, trong má»i class Test chÃºng ta sáº½ thÃªmÂ <code>@RunWith(SpringRunner.class)</code>Â lÃªn Ä‘áº§u Class Test Ä‘Ã³.</p>
<pre><code>@RunWith(SpringRunner.class)
public class TodoServiceTest {
    ...
}
</code></pre>
<p>Khi báº¡n cháº¡yÂ <code>TodoServiceTest</code>Â nÃ³ sáº½ táº¡o ra má»™tÂ <code>Context</code>Â riÃªng Ä‘á»ƒ chá»©aÂ <code>bean</code>Â trong Ä‘Ã³, váº­y lÃ  chÃºng ta cÃ³ thá»ƒÂ <code>@Autowired</code>Â thoáº£i mÃ¡i trong ná»™i hÃ m Class nÃ y.</p>
<p>Váº¥n Ä‘á» tiáº¿p theo lÃ  lÃ m sao Ä‘Æ°aÂ <code>Bean</code>Â vÃ o trongÂ <code>Context</code>.</p>
<p>CÃ³ 2 cÃ¡ch</p>
<ol>
<li><code>@SpringBootTest</code></li>
<li><code>@TestConfiguration</code></li>
</ol>
<h3 id="springboottest"><a class="header" href="#springboottest"><strong>@SpringBootTest</strong></a></h3>
<p><code>@SpringBootTest</code>Â sáº½ Ä‘i tÃ¬m kiáº¿m class cÃ³ gáº¯nÂ <code>@SpringBootApplication</code>Â vÃ  tá»« Ä‘Ã³ Ä‘i tÃ¬m toÃ n bá»™Â <code>Bean</code>Â vÃ  náº¡p vÃ oÂ <code>Context</code>.</p>
<p>CÃ¡i nÃ y chá»‰ nÃªn sá»­ dá»¥ng trong trÆ°á»ng há»£p muá»‘n Integration Tests, vÃ¬ nÃ³ sáº½ táº¡o toÃ n bá»™Â <code>Bean</code>, khÃ´ng khÃ¡c gÃ¬ báº¡n cháº¡y cáº£ cÃ¡iÂ <code>SpringApplication.run(App.class, args);</code>, ráº¥t tá»‘n thá»i gian mÃ  ráº¥t nhiá»uÂ <code>Bean</code>Â thá»«a thÃ£i, khÃ´ng cáº§n dÃ¹ng Ä‘áº¿n cÅ©ng khá»Ÿi táº¡o.</p>
<pre><code>@RunWith(SpringRunner.class)
@SpringBootTest
public class TodoServiceTest {

    /**
     * CÃ¡ch nÃ y sá»­ dá»¥ng @SpringBootTest
     * NÃ³ sáº½ load toÃ n bá»™ Bean trong app cá»§a báº¡n lÃªn,
     * Giá»‘ng vá»›i viá»‡c cháº¡y App.java váº­y
     */

    @Autowired
    private TodoService todoService;
}
</code></pre>
<h3 id="testconfiguration"><a class="header" href="#testconfiguration"><strong>@TestConfiguration</strong></a></h3>
<p><code>@TestConfiguration</code>Â giá»‘ng vá»›iÂ <code>@Configuration</code>, chÃºng ta tá»± Ä‘á»‹nh nghÄ©a raÂ <code>Bean</code>.</p>
<p>CÃ¡c Bean Ä‘Æ°á»£c táº¡o bá»ŸiÂ <code>@TestConfiguration</code>Â chá»‰ tá»“n táº¡i trong mÃ´i trÆ°á»ng Test. Ráº¥t phá»¥ há»£p vá»›i viá»‡c viáº¿t UnitTest.</p>
<p>Class Test nÃ o, cáº§n Bean gÃ¬, thÃ¬ tá»± táº¡o ra trongÂ <code>@TestConfiguration</code></p>
<pre><code>@RunWith(SpringRunner.class)
public class TodoServiceTest2 {

    /**
     * CÃ¡ch nÃ y sá»­ dá»¥ng @TestConfiguration
     * NÃ³ chá»‰ táº¡o ra Bean trong Context test nÃ y mÃ  thÃ´i
     * Tiáº¿t kiá»‡m thá»i gian hÆ¡n khi sá»­ dá»¥ng @SpringBootTest (vÃ¬ pháº£i load háº¿t Bean lÃªn mÃ  khÃ´ng dÃ¹ng Ä‘áº¿n)
     */
    @TestConfiguration
    public static class TodoServiceTest2Configuration{

        /*
        Táº¡o ra trong Context má»™t Bean TodoService
         */
        @Bean
        TodoService todoService(){
            return new TodoService();
        }
    }

    @Autowired
    private TodoService todoService;
</code></pre>
<h3 id="mockbean"><a class="header" href="#mockbean"><strong>@MockBean</strong></a></h3>
<p><strong>Spring</strong>Â há»— trá»£ mock vá»›i annotationÂ <code>@MockBean</code>, chÃºng ta cÃ³ thá»ƒ mock láº¥y ra má»™tÂ <code>Bean</code>Â &quot;giáº£&quot; mÃ  khÃ´ng thÃ¨m Ä‘á»ƒ Ã½ tá»›i tháº±ngÂ <code>Bean</code>Â &quot;tháº­t&quot;. (Ká»ƒ cáº£ tháº±ng &quot;tháº­t&quot; cÃ³ á»Ÿ trong Context Ä‘i ná»¯a, cÅ©ng khÃ´ng quan tÃ¢m).</p>
<pre><code>@RunWith(SpringRunner.class)
public class TodoServiceTest2 {

    /**
     * Äá»‘i tÆ°á»£ng TodoRepository sáº½ Ä‘Æ°á»£c mock, chá»© khÃ´ng pháº£i bean trong context
     */
    @MockBean
    TodoRepository todoRepository;
</code></pre>
<h3 id="demo-1"><a class="header" href="#demo-1"><strong>Demo 1</strong></a></h3>
<p>ChÃºng ta sáº½ há»c cÃ¡ch sá»­ dá»¥ng cÃ¡c Annotation á»Ÿ trÃªn.</p>
<h3 id="cÃ i-Ä‘áº·t"><a class="header" href="#cÃ i-Ä‘áº·t"><strong>CÃ i Ä‘áº·t</strong></a></h3>
<p><em>pom.xml</em></p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;packaging&gt;pom&lt;/packaging&gt;
    &lt;parent&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
        &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;
        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;
    &lt;/parent&gt;
    &lt;groupId&gt;me.loda.spring&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-learning&lt;/artifactId&gt;
    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
    &lt;name&gt;spring-boot-learning&lt;/name&gt;
    &lt;description&gt;Everything about Spring Boot&lt;/description&gt;

    &lt;properties&gt;
        &lt;java.version&gt;1.8&lt;/java.version&gt;
    &lt;/properties&gt;

    &lt;dependencies&gt;

        &lt;!--spring mvc, rest--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;!--for test--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;

    &lt;build&gt;
        &lt;plugins&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
        &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;

&lt;/project&gt;
</code></pre>
<p>Cáº¥u trÃºc thÆ° má»¥c:</p>
<p>!image</p>
<h3 id="táº¡o-model-service-repository"><a class="header" href="#táº¡o-model-service-repository"><strong>Táº¡o Model, Service, Repository</strong></a></h3>
<p>ChÃºng ta sá»­ dá»¥ngÂ LombokÂ cho tiá»‡n nhÃ©.</p>
<p><em>Todo.java</em></p>
<pre><code>@Data
@AllArgsConstructor
public class Todo {
    private int id;
    private String title;
    private String detail;
}
</code></pre>
<p>VÃ¬ phá»¥c vá»¥ má»¥c Ä‘Ã­ch demo, chÃºng ta sáº½ khÃ´ng cáº§n sá»­ dá»¥ng tá»›iÂ <strong>Spring JPA</strong>Â mÃ  sáº½ tá»± viáº¿t.</p>
<p><em>TodoRepository.java</em></p>
<pre><code>public interface TodoRepository {
    List&lt;Todo&gt; findAll();

    Todo findById(int id);
}
</code></pre>
<p><em>TodoService.java</em></p>
<pre><code>@Service
public class TodoService {
    @Autowired
    private TodoRepository todoRepository;

    public int countTodo(){
        return todoRepository.findAll().size();
    }

    public Todo getTodo(int id){
        return todoRepository.findById(id);
    }

    public List&lt;Todo&gt; getAll(){
        return todoRepository.findAll();
    }
}
</code></pre>
<p><em>App.java</em></p>
<pre><code>@SpringBootApplication
public class App {
    public static void main(String[] args) {
        SpringApplication.run(App.class, args);
    }
}
</code></pre>
<p>Ráº¥t Ä‘Æ¡n giáº£n.</p>
<h3 id="test-báº±ng-springboottest"><a class="header" href="#test-báº±ng-springboottest"><strong>Test báº±ng @SpringBootTest</strong></a></h3>
<p>ChÃºng taÂ <code>mock TodoRepository</code>Â vÃ  giáº£ láº­p cho nÃ³ tráº£ ra má»™tÂ <code>List&lt;Todo&gt;</code>Â gá»“m 10 pháº§n tá»­.</p>
<pre><code>@RunWith(SpringRunner.class)
@SpringBootTest
public class TodoServiceTest {

    /**
     * CÃ¡ch nÃ y sá»­ dá»¥ng @SpringBootTest
     * NÃ³ sáº½ load toÃ n bá»™ Bean trong app cá»§a báº¡n lÃªn,
     * Giá»‘ng vá»›i viá»‡c cháº¡y App.java váº­y
     */

    /**
     * Äá»‘i tÆ°á»£ng TodoRepository sáº½ Ä‘Æ°á»£c mock, chá»© khÃ´ng pháº£i bean trong context
     */
    @MockBean
    TodoRepository todoRepository;

    @Autowired
    private TodoService todoService;

    @Before
    public void setUp() {
        Mockito.when(todoRepository.findAll())
               .thenReturn(IntStream.range(0, 10)
                                    .mapToObj(i -&gt; new Todo(i, &quot;title-&quot; + i, &quot;detail-&quot; + i))
                                    .collect(Collectors.toList()));

    }

    @Test
    public void testCount() {
        Assert.assertEquals(10, todoService.countTodo());
    }

}
</code></pre>
<p>Báº¡n sáº½ tháº¥y Test cháº¡y thÃ nh cÃ´ng, nhÆ°ng sáº½ máº¥t thá»i gian vÃ¬ khá»Ÿi táº¡oÂ <code>Context</code>Â quÃ¡ lÃ¢u doÂ <code>@SpringBootTest</code>Â pháº£i load háº¿t táº¥t cáº£ bean lÃªn.</p>
<h3 id="test-báº±ng-testconfiguration"><a class="header" href="#test-báº±ng-testconfiguration"><strong>Test báº±ng @TestConfiguration</strong></a></h3>
<pre><code>```java
package me.loda.spring.testinginspringboot;
/*******************************************************
 * For Vietnamese readers:
 *    CÃ¡c báº¡n thÃ¢n máº¿n, mÃ¬nh ráº¥t vui náº¿u project nÃ y giÃºp
 * Ã­ch Ä‘Æ°á»£c cho cÃ¡c báº¡n trong viá»‡c há»c táº­p vÃ  cÃ´ng viá»‡c. Náº¿u
 * báº¡n sá»­ dá»¥ng láº¡i toÃ n bá»™ hoáº·c má»™t pháº§n source code xin Ä‘á»ƒ
 * láº¡i dÆ°á»ng dáº«n tá»›i github hoáº·c tÃªn tÃ¡c giÃ¡.
 *    Xin cáº£m Æ¡n!
 *******************************************************/

import java.util.stream.Collectors;
import java.util.stream.IntStream;

import org.junit.Assert;
import org.junit.Before;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.mockito.Mockito;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.TestConfiguration;
import org.springframework.boot.test.mock.mockito.MockBean;
import org.springframework.context.annotation.Bean;
import org.springframework.test.context.junit4.SpringRunner;

@RunWith(SpringRunner.class)
public class TodoServiceTest2 {

    /**
     * CÃ¡ch nÃ y sá»­ dá»¥ng @TestConfiguration
     * NÃ³ chá»‰ táº¡o ra Bean trong Context test nÃ y mÃ  thÃ´i
     * Tiáº¿t kiá»‡m thá»i gian hÆ¡n khi sá»­ dá»¥ng @SpringBootTest (vÃ¬ pháº£i load háº¿t Bean lÃªn mÃ  khÃ´ng dÃ¹ng Ä‘áº¿n)
     */
    @TestConfiguration
    public static class TodoServiceTest2Configuration{

        /*
        Táº¡o ra trong Context má»™t Bean TodoService
         */
        @Bean
        TodoService todoService(){
            return new TodoService();
        }
    }

    @MockBean
    TodoRepository todoRepository;

    @Autowired
    private TodoService todoService;

    @Before
    public void setUp() {
        Mockito.when(todoRepository.findAll())
               .thenReturn(IntStream.range(0, 10)
                                    .mapToObj(i -&gt; new Todo(i, &quot;title-&quot; + i, &quot;detail-&quot; + i))
                                    .collect(Collectors.toList()));

    }

    @Test
    public void testCount() {
        Assert.assertEquals(10, todoService.countTodo());
    }

}
</code></pre>
<h3 id="váº¥n-Ä‘á»-test--spring-boot-2"><a class="header" href="#váº¥n-Ä‘á»-test--spring-boot-2"><strong>Váº¥n Ä‘á» Test + Spring Boot 2</strong></a></h3>
<p>á» trÃªn chÃºng ta Ä‘Ã£ xá»­ lÃ½ xong váº¥n Ä‘á» dependency injection cá»§aÂ <strong>JUnit</strong>Â +Â <strong>Spring Boot</strong>Â rá»“i.</p>
<p>Váº¥n Ä‘á» tiáº¿p theo lÃ  cÃ¡iÂ <strong>Controller</strong>. ÄÃºng váº­y, chÃºng ta táº¡o ra hÃ ng chá»¥c Rest API Ä‘Ã³n request ngÆ°á»i dÃ¹ng, váº­y lÃ m sao Ä‘á»ƒ test nÃ³.</p>
<p>Náº¿uÂ <strong>Controller</strong>Â khÃ´ng Ä‘Æ°á»£c test thÃ¬ lÃ  má»™t lá»— há»•ng cá»±c lá»›n, vÃ¬ nÃ³ lÃ  Ä‘áº§u ra chÃ­nh cá»§a chÆ°Æ¡ng trÃ¬nh, nÃ³ sai -&gt; chÆ°Æ¡ng trÃ¬nh khÃ´ng cÃ³ giÃ¡ trá»‹.</p>
<p>Tuy nhiÃªn, chÃºng ta khÃ´ng muá»‘n khá»Ÿi Ä‘á»™ng cáº£ Tomcat Server + Database Ä‘á»ƒ test 1 API. NÃ³ ráº¥t tá»‘n tÃ i nguyÃªn vÃ  thá»i gian.</p>
<h3 id="webmvctest"><a class="header" href="#webmvctest"><strong>@WebMvcTest</strong></a></h3>
<p><strong>Spring Boot</strong>Â há»— trá»£ testÂ <strong>Controller</strong>Â mÃ  khÃ´ng cáº§n khá»Ÿi Ä‘á»™ng Tomcat Server báº±ng annotationÂ <code>@WebMvcTest</code>.</p>
<p>Táº¥t nhiÃªn lÃ  náº¿u khÃ´ng khá»Ÿi Ä‘á»™ng Server, thÃ¬ pháº£i cÃ³ má»™t phÆ°Æ¡ng thá»©c khÃ¡c giáº£ láº­p, vÃ¢ng, láº¡i lÃ Â <strong>Mock</strong>.</p>
<p>BÃ¢y giá», khi muá»‘n test má»™t Controller nÃ o Ä‘Ã³, chÃºng ta lÃ m nhÆ° sau:</p>
<pre><code>@RunWith(SpringRunner.class)
// Báº¡n cáº§n cung cáº¥p lá»›p Controller cho @WebMvcTest
@WebMvcTest(TodoRestController.class)
public class TodoRestControllerTest {
    /**
     * Äá»‘i tÆ°á»£ng MockMvc do Spring cung cáº¥p
     * CÃ³ tÃ¡c dá»¥ng giáº£ láº­p request, thay tháº¿ viá»‡c khá»Ÿi Ä‘á»™ng Server
     */
    @Autowired
    private MockMvc mvc;
}
</code></pre>
<h3 id="demo-2"><a class="header" href="#demo-2"><strong>Demo 2</strong></a></h3>
<p>ChÃºng ta váº«n sá»­ dá»¥ng tiáº¿p Project Ä‘Ã£ táº¡o á»ŸÂ <strong># Demo 1</strong></p>
<h3 id="táº¡o-controller"><a class="header" href="#táº¡o-controller"><strong>Táº¡o Controller</strong></a></h3>
<p><em>TodoRestController.java</em></p>
<pre><code>@RestController
@RequestMapping(&quot;/api/v1&quot;)
public class TodoRestController {
    @Autowired
    TodoService todoService;

    @GetMapping(&quot;/todo&quot;)
    public List&lt;Todo&gt; findAll(){
        return todoService.getAll();
    }
}
</code></pre>
<h3 id="táº¡o-test-controller"><a class="header" href="#táº¡o-test-controller"><strong>Táº¡o Test Controller</strong></a></h3>
<pre><code>import static org.hamcrest.CoreMatchers.is;
import static org.hamcrest.Matchers.hasSize;
import static org.mockito.BDDMockito.given;
import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;
import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.jsonPath;
import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;

import java.util.List;
import java.util.stream.Collectors;
import java.util.stream.IntStream;

import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;
import org.springframework.boot.test.mock.mockito.MockBean;
import org.springframework.http.MediaType;
import org.springframework.test.context.junit4.SpringRunner;
import org.springframework.test.web.servlet.MockMvc;

@RunWith(SpringRunner.class)
// Báº¡n cáº§n cung cáº¥p lá»›p Controller cho @WebMvcTest
@WebMvcTest(TodoRestController.class)
public class TodoRestControllerTest {
    /**
     * Äá»‘i tÆ°á»£ng MockMvc do Spring cung cáº¥p
     * CÃ³ tÃ¡c dá»¥ng giáº£ láº­p request, thay tháº¿ viá»‡c khá»Ÿi Ä‘á»™ng Server
     */
    @Autowired
    private MockMvc mvc;

    @MockBean
    private TodoService todoService;

    @Test
    public void testFindAll() throws Exception {
        // Táº¡o ra má»™t List&lt;Todo&gt; 10 pháº§n tá»­
        List&lt;Todo&gt; allTodos = IntStream.range(0, 10)
                                       .mapToObj(i -&gt; new Todo(i, &quot;title-&quot; + i, &quot;detail-&quot; + i))
                                       .collect(Collectors.toList());

        // giáº£ láº­p todoService tráº£ vá» List mong muá»‘n
        given(todoService.getAll()).willReturn(allTodos);

        mvc.perform(get(&quot;/api/v1/todo&quot;).contentType(MediaType.APPLICATION_JSON)) // Thá»±c hiá»‡n GET REQUEST
           .andExpect(status().isOk()) // Mong muá»‘n Server tráº£ vá» status 200
           .andExpect(jsonPath(&quot;$&quot;, hasSize(10))) // Hi vá»ng server tráº£ vá» List Ä‘á»™ dÃ i 10
           .andExpect(jsonPath(&quot;$[0].id&quot;, is(0))) // Hi vá»ng pháº§n tá»­ tráº£ vá» Ä‘áº§u tiÃªn cÃ³ id = 0
           .andExpect(jsonPath(&quot;$[0].title&quot;, is(&quot;title-0&quot;))) // Hi vá»ng pháº§n tá»­ tráº£ vá» Ä‘áº§u tiÃªn cÃ³ title = &quot;title-0&quot;
           .andExpect(jsonPath(&quot;$[0].detail&quot;, is(&quot;detail-0&quot;)));
    }
}
</code></pre>
<p>Cháº¡y thá»­ vÃ  tráº£i nghiá»‡m báº¡n nhÃ© :3</p>
<h3 id="káº¿t"><a class="header" href="#káº¿t"><strong>Káº¿t</strong></a></h3>
<p>Test lÃ  má»™t pháº§n quan trá»ng trong há»‡ thá»‘ng, hi vá»ng cÃ¡c Ä‘á»c kÄ© vÃ  thá»±c hÃ nh Ä‘á»ƒ náº¯m cháº¯c.</p>
<p>ğŸ’Â Náº¿u cÃ³, toÃ n bá»™ project / code máº«u Ä‘Æ°á»£c lÆ°u trá»¯ táº¡i <strong>GitHub</strong></p>
<p>ğŸŒŸÂ ÄÃ¢y lÃ  má»™t bÃ i viáº¿t trongÂ Series <strong>LÃ m chá»§ Spring Boot â€“ Zero to Hero</strong></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="hÆ°á»›ng-dáº«n-chi-tiáº¿t-test-spring-boot-pháº§n-2"><a class="header" href="#hÆ°á»›ng-dáº«n-chi-tiáº¿t-test-spring-boot-pháº§n-2">HÆ°á»›ng dáº«n chi tiáº¿t Test Spring Boot (Pháº§n 2)</a></h1>
<p>Trong bÃ i nÃ y, tÃ´i sáº½ táº­p trung vÃ o viá»‡c giá»›i thiá»‡u vá»›i cÃ¡c cÃ¡c báº¡n cÃ¡ch chuáº©n bá»‹ dá»¯ liá»‡u test.</p>
<p>BÃ i viáº¿t cÃ³ sá»­ dá»¥ng:</p>
<ol>
<li>Hibernate lÃ  gÃ¬?</li>
<li>Spring JPA</li>
<li>Lombok</li>
<li>Spring Boot</li>
</ol>
<h3 id="cÃ i-Ä‘áº·t-1"><a class="header" href="#cÃ i-Ä‘áº·t-1"><strong>CÃ i Ä‘áº·t</strong></a></h3>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;projectxmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;&lt;parent&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;&lt;version&gt;2.0.5.RELEASE&lt;/version&gt;&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;
	&lt;/parent&gt;&lt;groupId&gt;me.loda.spring&lt;/groupId&gt;&lt;artifactId&gt;example-independent-maven-spring-project&lt;/artifactId&gt;&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;&lt;name&gt;example-independent-maven-spring-project&lt;/name&gt;&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;&lt;properties&gt;&lt;java.version&gt;1.8&lt;/java.version&gt;&lt;/properties&gt;&lt;dependencies&gt;&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;&lt;artifactId&gt;lombok&lt;/artifactId&gt;&lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;&lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;&lt;!--spring jpa--&gt;
		&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;&lt;/dependency&gt;&lt;!--in memory database--&gt;
		&lt;dependency&gt;&lt;groupId&gt;com.h2database&lt;/groupId&gt;&lt;artifactId&gt;h2&lt;/artifactId&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;&lt;/dependencies&gt;&lt;build&gt;&lt;plugins&gt;&lt;plugin&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;&lt;/plugin&gt;&lt;/plugins&gt;&lt;/build&gt;&lt;/project&gt;
</code></pre>
<h3 id="prepare"><a class="header" href="#prepare"><strong>Prepare</strong></a></h3>
<p>TrÆ°á»›c háº¿t, giáº£ sá»­ chÃºng ta cÃ³ má»™t há»‡ thá»‘ng quáº£n lÃ½ cÃ´ng viá»‡c</p>
<p><em>Todo.java</em></p>
<pre><code>@Data
@AllArgsConstructor
@NoArgsConstructor
@Entity
public class Todo {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private int id;
    private String title;
    private String detail;
}
</code></pre>
<p><em>TodoRepository.java</em></p>
<pre><code>public interface TodoRepository extends JpaRepository&lt;Todo, Long&gt; {
    List&lt;Todo&gt; findAll();

    Todo findById(int id);
}
</code></pre>
<p><em>TodoController.java</em></p>
<pre><code>@RestController
@RequestMapping(&quot;/api/v1&quot;)
@RequiredArgsConstructor
public class TodoRestController {
    private final TodoService todoService;

    @GetMapping(&quot;/todo&quot;)
    public List&lt;Todo&gt; findAll() {
        return todoService.getAll();
    }
}
</code></pre>
<h3 id="datajpatest"><a class="header" href="#datajpatest"><strong>@DataJpaTest</strong></a></h3>
<p>Vá» cÆ¡ báº£n, chÃºng ta khÃ´ng thá»ƒ mock hay lÃ m giáº£ dá»¯ liá»‡u cá»§a Database mÃ£i Ä‘Æ°á»£c, nÃ³ sáº½ lÃ  má»™t lá»— há»•ng lá»›n trong há»‡ thá»‘ng. NgoÃ i ra, báº¡n cÅ©ng sáº½ khÃ´ng thá»ƒ test Ä‘Æ°á»£c quÃ¡ trÃ¬nh thao tÃ¡c vá»›i Database cá»§a dá»± Ã¡n.</p>
<p>Váº­y nÃªn sau cÃ¹ng, chÃºng ta cÅ©ng sáº½ pháº£i test cÃ¡c thao tÃ¡c váº­n hÃ nh vá»›i Database,</p>
<p>NhÆ°ng chá»› lo, Ä‘á»ƒ táº­p trung vÃ o viá»‡c test cÃ¡c thao tÃ¡c vá»›i Database, Spring Boot Ä‘Ã£ há»— trá»£ chÃºng ta báº±ngÂ <code>@DataJpaTest</code></p>
<p>Káº¿t há»£p giá»¯aÂ <code>@DataJpaTest</code>Â vÃ Â <code>h2-database</code>Â (Memory database) lÃ  Combo hoÃ n háº£o.</p>
<pre><code>@RunWith(SpringRunner.class)
/**
 * Khi Ä‘Ã¡nh dáº¥u má»™t class lÃ  @DataJpaTest.
 * Spring Boot sáº½ load lÃªn táº¥t cáº£ cÃ¡c Bean cÃ³ liÃªn quan tá»›i táº§ng Repository
 * Thay vÃ¬ load háº¿t táº¥t cáº£ Bean nhÆ° lÃ  @SpringBootTest
 */
@DataJpaTest
public class DataJpaAnnotationTest {

    @Autowired
    private DataSource dataSource;
    @Autowired
    private JdbcTemplate jdbcTemplate;
    @Autowired
    private EntityManager entityManager;
    @Autowired
    private TodoRepository todoRepository;

    @Test
    public void allComponentAreNotNull() {
        Assertions.assertThat(dataSource).isNotNull();
        Assertions.assertThat(jdbcTemplate).isNotNull();
        Assertions.assertThat(entityManager).isNotNull();
        Assertions.assertThat(todoRepository).isNotNull();
    }

}
</code></pre>
<p><code>@DataJpaTest</code>Â cÃ³ tÃ¡c dá»¥ng khá»Ÿi táº¡o cÃ¡c Bean cáº§n thiáº¿t cho táº§ng Repository. NgoÃ i ra, nÃ³ khÃ´ng khá»Ÿi táº¡o thÃªm cÃ¡c Bean thá»«a thÃ£i nÃ o khÃ¡c. (ChuyÃªn biá»‡t hÆ¡nÂ <code>@SpringBootTest</code>)</p>
<h3 id="táº¡o-data"><a class="header" href="#táº¡o-data"><strong>Táº¡o Data</strong></a></h3>
<p>CÃ¡ch Fake dá»¯ liá»‡u Ä‘Æ¡n giáº£n nháº¥t lÃ  tá»± insert báº±ng repository</p>
<pre><code>import org.assertj.core.api.Assertions;
import org.junit.After;

    @Test
    public void testTodoRepositoryByCode() {
        todoRepository.save(new Todo(0, &quot;Todo-1&quot;, &quot;Detail-1&quot;));
        todoRepository.save(new Todo(0, &quot;Todo-2&quot;, &quot;Detail-2&quot;));

        Assertions.assertThat(todoRepository.findAll()).hasSize(2);
        Assertions.assertThat(todoRepository.findById(1).getTitle()).isEqualTo(&quot;Todo-1&quot;);
    }

    @After
    public void clean() {
        todoRepository.deleteAll();
    }
</code></pre>
<h3 id="sql"><a class="header" href="#sql"><strong>@Sql</strong></a></h3>
<p>Má»™t cÃ¡ch lÃ m hay hÆ¡n Ä‘á»ƒ chuáº©n bá»‹ dá»¯ liá»‡u cho Test Ä‘Ã³ lÃ  sá»­ dá»¥ng annotationÂ <code>@Sql</code></p>
<p><code>@Sql</code>Â cÃ³ tÃ¡c dá»¥ng load má»™t hoáº·c nhiá»u file scripts sql lÃªn vÃ  thá»±c thi.</p>
<p>vÃ­ dá»¥:</p>
<p><em>createToDo.sql</em></p>
<pre><code>INSERT INTO todo (title, detail) VALUES ('Todo-1', 'Do homework');
INSERT INTO todo (title, detail) VALUES ('Todo-2', 'Walking');
</code></pre>
<p>Äá»ƒ cháº¡y scripts nÃ y trong class Test, báº¡n lÃ m nhÆ° sau:</p>
<pre><code>@RunWith(SpringRunner.class)
@DataJpaTest
public class SqlAnnotationTest {
    @Autowired
    private TodoRepository todoRepository;

    @Test
    @Sql(&quot;/createTodo.sql&quot;)
    public void testTodoRepositoryBySqlSchema() {
        Assertions.assertThat(todoRepository.findAll()).hasSize(2);
        Assertions.assertThat(todoRepository.findById(1).getTitle()).isEqualTo(&quot;Todo-1&quot;);
    }

}
</code></pre>
<p>Äá»ƒ cháº¡y nhiá»u file sql cÃ¹ng lÃºc, báº¡n sá»­ dá»¥ngÂ <code>@SqlGroup</code></p>
<h3 id="káº¿t-1"><a class="header" href="#káº¿t-1"><strong>Káº¿t</strong></a></h3>
<p>ğŸ’Â Náº¿u cÃ³, toÃ n bá»™ project / code máº«u Ä‘Æ°á»£c lÆ°u trá»¯ táº¡i <strong>GitHub</strong></p>
<p>ğŸŒŸÂ ÄÃ¢y lÃ  má»™t bÃ i viáº¿t trongÂ Series <strong>LÃ m chá»§ Spring Boot â€“ Zero to Hero</strong></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sb20-hÆ°á»›ng-dáº«n-toÃ n-táº­p-mockito"><a class="header" href="#sb20-hÆ°á»›ng-dáº«n-toÃ n-táº­p-mockito">[SB20] HÆ°á»›ng dáº«n toÃ n táº­p Mockito</a></h1>
<h3 id="yÃªu-cáº§u"><a class="header" href="#yÃªu-cáº§u"><strong>YÃªu cáº§u</strong></a></h3>
<p>TrÆ°á»›c khi tÃ¬m hiá»ƒu Mockito, báº¡n cáº§n biáº¿t JUnit.</p>
<p>Trong bÃ i viáº¿t cÃ³ sá»­ dá»¥ngÂ Lombok</p>
<h3 id="giá»›i-thiá»‡u-4"><a class="header" href="#giá»›i-thiá»‡u-4"><strong>Giá»›i thiá»‡u</strong></a></h3>
<p>Vá» cÆ¡ báº£n, Unit test lÃ  phÆ°Æ¡ng phÃ¡p tiáº¿p cáº­n Ä‘á»™c láº­p, tá»©c lÃ  má»—i má»™t chá»©c chÄƒng nÄƒng sáº½ Ä‘Æ°á»£c Ä‘i kÃ¨m vá»›i má»™t hoáº·c nhiá»u bÃ i test Ä‘á»ƒ cháº¯c cháº¯n rÃ ng cÃ¡i chá»©c nÄƒng Ä‘Ã³ hoáº¡t Ä‘á»™ng á»•n. Váº­y nÃªn Unit Test thÆ°á»ng lÃ  Ä‘Æ¡n nhá» nháº¥t vÃ  test case cÅ©ng dá»… dÃ ng khá»Ÿi táº¡o</p>
<pre><code>@Test
public void testSum(){
    Assert.assertEquals(3, MathUtil.sum(1,2));
}
</code></pre>
<p>BÃ i toÃ¡n má»Ÿ rá»™ng ra hÆ¡n, Khi chÃºng ta pháº£i test sá»± hoáº¡t Ä‘á»™ng phá»‘i há»£p giá»¯a nhiá»u chá»©c nÄƒng hay thÃ nh pháº§n vá»›i nhau hoáº·c muá»‘n test má»™t chá»©c nÄƒng lá»›n thÃ¬ sáº½ trá»Ÿ nÃªn phá»©c táº¡p vÃ  khÃ³ xÃ¢y dá»±ng hÆ¡n ráº¥t nhiá»u.</p>
<p>CÃ¡c ká»‹ch báº£n sau thÆ°á»ng diá»…n ra:</p>
<ul>
<li>Chá»©c nÄƒng A gá»i tá»›i chá»©c nÄƒng B. tuy nhiÃªn, B chÆ°a viáº¿t xong</li>
<li>Chá»©c nÄƒng A gá»i tá»›i chá»©c nÄƒng B. tuy nhiÃªn, B khá»Ÿi táº¡o ráº¥t phá»©c táº¡p (truy xuáº¥t Database, yÃªu cáº§u nhiá»u params, v.v.)</li>
<li>Muá»‘n test chá»©c nÄƒng A, tuy nhiÃªn A yÃªu cáº§u ná»— lá»±c lá»›n cá»§a cáº£ há»‡ thá»‘ng (YÃªu cáº§u cÃ³ HTTP-server, authorize, v.v.)</li>
</ul>
<pre><code>// Giáº£ sá»­ muá»‘n test hÃ m nÃ y
public int getAllData(){

    // Giáº£ sá»­ nhÆ° tháº±ng driver khÃ´ng Ä‘Æ°á»£c khá»Ÿi táº¡o hoáº·c bá»‹ lá»—i
    // thÃ¬ function nÃ y coi nhÆ° há»ng

    MySQLdriver.connect() // Káº¿t ná»‘i xuá»‘ng Database
    var data = MySQLdriver.get()// Láº¥y dá»¯ liá»‡u

    // ChÃºng ta muá»‘n test logic xá»­ lÃ½ dá»¯ liá»‡u á»Ÿ dÆ°á»›i Ä‘Ã¢y,
    // mÃ  k cáº§n káº¿t ná»‘i databse, pháº£i lÃ m sao?

    // Xá»­ lÃ½ dá»¯ liá»‡u
    ...
    // tráº£ ra dá»¯ liá»‡u
    return data
}
</code></pre>
<p>Ráº¥t nhiá»u ká»‹ch báº£n phá»©c táº¡p xáº£y ra, mÃ  trÃªn thá»±c táº¿, chÃºng ta chá»‰ mong muá»‘n confirm ráº±ng A á»•n, chá»© tháº±ng B, C, D gÃ¬ Ä‘Ã³ thÃ¬ hÃ£y cá»© táº¡m coi lÃ  nÃ³ &quot;Ä‘Ã£ á»•n&quot; Ä‘i.</p>
<p>Äá»ƒ Ä‘Æ¡n giáº£n hoÃ¡ cÃ¡c ká»‹ch báº£n test nhÆ° trÃªn, khÃ¡i niá»‡mÂ <code>Mock</code>Â ra Ä‘á»i.</p>
<p>TÆ° tÆ°á»Ÿng cá»§aÂ <code>Mock</code>Â Ä‘Æ¡n giáº£n lÃ  khi muá»‘n test (A gá»i B) thÃ¬ thay vÃ¬ táº¡o ra má»™t Ä‘á»‘i tÆ°á»£ng B tháº­t sá»±, báº¡n táº¡o ra má»™t tháº±ng B' giáº£ máº¡o, cÃ³ Ä‘áº§y Ä‘á»§ chá»©c nÄƒng nhÆ° B tháº­t (nhÆ°ng khÃ´ng pháº£i tháº­t)</p>
<p>Báº¡n sáº½ giáº£ láº­p cho B' biáº¿t lÃ  khi tháº±ng A gá»i tá»›i nÃ³, nÃ³ cáº§n lÃ m gÃ¬, tráº£ láº¡i cÃ¡i gÃ¬ (hardcode). Miá»…n lÃ m sao cho nÃ³ tráº£ ra Ä‘Ãºng cÃ¡i tháº±ng A cáº§n Ä‘á»ƒ chÃºng ta cÃ³ thá»ƒ test A thuáº­n lá»£i nháº¥t.</p>
<pre><code>// Äáº¡i loáº¡i nhÆ° nÃ y
// Khi driver.get() Ä‘Æ°á»£c gá»i, hÃ£y tráº£ ra má»™t List(1,2,3)
Mockito.when(driver.get())
       .thenReturn(Arrays.asList(1, 2, 3));
</code></pre>
<p>á» trong Java,Â <code>Mockito</code>Â chÃ­nh lÃ  thÆ° viá»‡n ná»•i tiáº¿ng nháº¥t Ä‘á»ƒ cÃ¡c báº¡n lÃ m viá»‡c nÃ y.</p>
<h3 id="cÃ i-Ä‘áº·t-2"><a class="header" href="#cÃ i-Ä‘áº·t-2"><strong>CÃ i Ä‘áº·t</strong></a></h3>
<p>Äá»ƒ sá»­ dá»¥ngÂ <code>Mockito</code>Â báº¡n cáº§n:</p>
<pre><code>&lt;!--https://mvnrepository.com/artifact/org.mockito/mockito-core --&gt;
&lt;dependency&gt;&lt;groupId&gt;org.mockito&lt;/groupId&gt;&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;&lt;version&gt;3.2.4&lt;/version&gt;&lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;
</code></pre>
<p>ChÃºng ta Ä‘ang viáº¿t test, nÃªn Ä‘á»«ng quÃªnÂ <code>JUnit</code>Â ná»¯a nhÃ©:</p>
<pre><code>&lt;!--https://mvnrepository.com/artifact/junit/junit --&gt;
&lt;dependency&gt;&lt;groupId&gt;junit&lt;/groupId&gt;&lt;artifactId&gt;junit&lt;/artifactId&gt;&lt;version&gt;4.12&lt;/version&gt;&lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;
</code></pre>
<h3 id="cÃ¡ch-mock"><a class="header" href="#cÃ¡ch-mock"><strong>CÃ¡ch Mock</strong></a></h3>
<p>KhÃ¡i niá»‡m cÆ¡ báº£n Ä‘áº§u tiÃªn, Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ táº¡o ra má»™t Ä‘á»‘i tÆ°á»£ng bá»‹ Mock.</p>
<h3 id="cÃ¡ch-1-mockitomock"><a class="header" href="#cÃ¡ch-1-mockitomock"><strong>CÃ¡ch 1: Mockito.mock()</strong></a></h3>
<p>Sá»­ dá»¥ngÂ <code>Mockito.mock()</code>Â Ä‘á»ƒ táº¡o ra má»™t object cá»§aÂ <code>Class</code>Â báº¡n yÃªu cáº§u, nÃ³ tháº­m chÃ­ cÃ²n khÃ´ng quan tÃ¢m hÃ m khá»Ÿi táº¡o cá»§aÂ <code>Class</code>Â Ã½ nhÆ° nÃ o vÃ  ra sao, vÃ¬ nÃ³ Ä‘Ã¢u cÃ³ tháº­t :v</p>
<pre><code>@Test
public void testUserMockFunction() {
    List mockList = Mockito.mock(List.class);

    Mockito.when(mockList.size()).thenReturn(2);

    Assert.assertEquals(2, mockList.size());
}
</code></pre>
<h3 id="cÃ¡ch-2-sá»­-dá»¥ng-mock"><a class="header" href="#cÃ¡ch-2-sá»­-dá»¥ng-mock"><strong>CÃ¡ch 2: Sá»­ dá»¥ng @Mock</strong></a></h3>
<p>Báº¡n muá»‘n mock cÃ¡i gÃ¬, thÃ¬ Ä‘Ã¡nh dáº¥uÂ <code>@Mock</code>Â lÃªn Ã½, Ä‘Æ¡n giáº£n vÃ£i :v</p>
<pre><code>@Mock
List&lt;String&gt; mockedList;
</code></pre>
<p>Tuy nhiÃªn, gáº¯nÂ <code>@Mock</code>Â lÃ  chÆ°a Ä‘á»§, báº¡n cáº§n kÃ­ch hoáº¡tÂ <code>Mockito</code>Â Ä‘á»ƒ nÃ³ mock cÃ¡c object Ã½ cho báº¡n.</p>
<p>Sau khi kÃ­ch hoáº¡t, thÃ¬ táº¥t cáº£ cÃ¡c object Ä‘Æ°á»£c gáº¯nÂ <code>@Mock</code>Â sáº½ trá»Ÿ thÃ nh 1 object giáº£ máº¡o, vÃ  Ä‘Ã£ Ä‘Æ°á»£c khá»Ÿi táº¡o (tá»©c lÃ Â <code>!= null</code>)</p>
<p>CÃ¡c cÃ¡ch kÃ­ch hoáº¡t nhÆ° sau:</p>
<ol>
<li>Gáº¯nÂ <code>@RunWith(MockitoJUnitRunner.class)</code>Â lÃªn class test cá»§a báº¡n</li>
</ol>
<pre><code>// CÃ¡ch 1
@RunWith(MockitoJUnitRunner.class)
public class MockitoAnnotationTest {
    @Mock
    List&lt;String&gt; mockedList;
}
</code></pre>
<ol>
<li>táº¡o ra má»™t Ä‘á»‘i tÆ°á»£ngÂ <code>MockitoRule</code>Â bÃªn trong class test cá»§a báº¡n</li>
</ol>
<pre><code>public class MockitoAnnotationTest {

    // CÃ¡ch 2
    @Rule
    public MockitoRule initRule = MockitoJUnit.rule();

    @Mock
    List&lt;String&gt; mockedList;
}
</code></pre>
<ol>
<li>Sá»­ dá»¥ngÂ <code>Mockito.init()</code></li>
</ol>
<pre><code>public class MockitoAnnotationTest {

    @Mock
    List&lt;String&gt; mockedList;

    @Before
    public void setUp() throws Exception {
        // CÃ¡ch 3
        // Náº¿u báº¡n khÃ´ng dÃ¹ng cÃ¡ch 1 hoáº·c 2 thÃ¬ pháº£i sá»­ dá»¥ng
        // dÃ²ng code dÆ°á»›i Ä‘Ã¢y:
        MockitoAnnotations.initMocks(this);
    }
}
</code></pre>
<p>Váº­y lÃ  xong, báº¡n Ä‘Ã£ táº¡o ra Ä‘Æ°á»£c má»™t Object bá»‹ mock.</p>
<h3 id="cÃ¡ch-sá»­-dá»¥ng-1"><a class="header" href="#cÃ¡ch-sá»­-dá»¥ng-1"><strong>CÃ¡ch sá»­ dá»¥ng</strong></a></h3>
<p><code>Mockito</code>Â cung cáº¥p ráº¥t nhiá»u methods khÃ¡c nhau Ä‘á»ƒ giÃºp báº¡n giáº£ láº­p Ä‘áº§y Ä‘á»§ cÃ¡c thá»© báº¡n cáº§n.</p>
<p>Hay sá»­ dá»¥ng nháº¥t lÃ  hÃ mÂ <code>when()</code>.</p>
<pre><code>// Tráº£ lÃ  size 100 khi gá»i hÃ m size()
Mockito.when(mockedList.size()).thenReturn(100);
// Throw exception khi gá»i hÃ m size()
Mockito.when(mockedList.size()).thenThrow(NullPointerException.class);
// Báº¡n cÃ³ thá»ƒ Ä‘á»•i ngÆ°á»£c cÃ¡ch viáº¿t, cÃ²n logic váº«n váº­y
// NÃ©m ra exception khi gá»i hÃ m .get() vá»›i tham sá»‘ truyá»n vÃ o báº¥t kÃ¬
Mockito.doThrow(NullPointerException.class).when(mockedList.get(Mockito.any()));
</code></pre>
<h3 id="spy"><a class="header" href="#spy"><strong>Spy</strong></a></h3>
<p><code>Spy</code>Â lÃ  viá»‡c sá»­a má»™t Ä‘á»‘i tÆ°á»£ng Tháº­t -&gt; Giáº£</p>
<pre><code>@RunWith(MockitoJUnitRunner.class)
public class SpyTest {
    @Spy
    List&lt;String&gt; list = new ArrayList&lt;&gt;();

    @Test
    public void testSpy() {
        list.add(&quot;one&quot;);
        list.add(&quot;two&quot;);
        // show the list items
        System.out.println(list);

        Mockito.verify(list).add(&quot;one&quot;);
        Mockito.verify(list).add(&quot;two&quot;);

        // @Spy thá»±c sá»± gá»i hÃ m .add cá»§a List nÃªn nÃ³ cÃ³ size lÃ  2 mÃ  khÃ´ng cáº§n giáº£ láº­p
        Assert.assertEquals(2, list.size());

        // Váº«n cÃ³ thá»ƒ lÃ m giáº£ thÃ´ng tin gá»i hÃ m vá»›i @Spy
        Mockito.when(list.size()).thenReturn(100);

        Assert.assertEquals(100, list.size());
    }
}
</code></pre>
<h3 id="captor"><a class="header" href="#captor"><strong>Captor</strong></a></h3>
<p><code>Captor</code>Â cÃ³ nhiá»‡m vá»¥ ghi láº¡i cÃ¡c tham sá»‘ cá»§a Ä‘á»‘i tÆ°á»£ng</p>
<pre><code>@RunWith(MockitoJUnitRunner.class)
public class CaptorTest {
    @Mock
    List&lt;Object&gt; list;

    @Captor
    ArgumentCaptor&lt;Object&gt; captor;

    @Test
    public void testCaptor1() {
        list.add(1);
        // Capture láº§n gá»i add vá»«a rá»“i cÃ³ giÃ¡ trá»‹ lÃ  gÃ¬
        Mockito.verify(list).add(captor.capture());

        System.out.println(captor.getAllValues());

        Assert.assertEquals(1, captor.getValue());
    }
}
</code></pre>
<h3 id="inject-mock"><a class="header" href="#inject-mock"><strong>Inject Mock</strong></a></h3>
<p>Quay láº¡i vá»›i vÃ­ dá»¥ Ä‘áº§u bÃ i viáº¿t:</p>
<p>TÃ´i cÃ³ má»™t lá»›pÂ <code>Service</code>Â chá»©a lá»›pÂ <code>DatabaseDriver</code>Â nhÆ° sau:</p>
<pre><code>public interface DatabaseDriver {
    List&lt;Object&gt; get() throws SQLException;
}

@Data
@AllArgsConstructor
public static class SuperService {
    DatabaseDriver driver;

    public List&lt;Object&gt; getObjects() throws SQLException {
        System.out.println(&quot;LOG: Getting objects&quot;);
        List&lt;Object&gt; list = driver.get();

        System.out.println(&quot;LOG: Sorting&quot;);
        Collections.sort(list, Comparator.comparingInt(value -&gt; Integer.valueOf(value.toString())));

        System.out.println(&quot;LOG: Done&quot;);
        return list;
    }
}
</code></pre>
<p>RÃµ rÃ ng thÃ¬Â <code>driver</code>Â chÃ­nh lÃ  máº¯t xÃ­ch trong trong viá»‡cÂ <code>SuperService</code>Â cÃ³ hoáº¡t Ä‘á»™ng Ä‘Æ°á»£c hay khÃ´ng. VÃ¬ tháº¿, muá»‘n test Ä‘Æ°á»£cÂ <code>SuperService</code>, chÃºng ta pháº£i mock Ä‘á»‘i tÆ°á»£ngÂ <code>driver</code>.</p>
<p>ká»‹ch báº£n bÃ¢y giá» sáº½ lÃ  tÃ´i mock má»™t Ä‘á»‘i tÆ°á»£ng cá»§aÂ <code>DatabaseDriver</code>Â rá»“i truyá»n nÃ³ vÃ o Ä‘á»‘i tÆ°á»£ngÂ <code>SuperService</code>.</p>
<p>Äá»ƒ truyá»n má»™t Ä‘á»‘i tÆ°á»£ng mock vÃ o má»™t Ä‘á»‘i tÆ°á»£ng khÃ¡c, chÃºng ta dÃ¹ngÂ <code>@InjectMocks</code>.</p>
<pre><code>@RunWith(MockitoJUnitRunner.class)
public class InjectMockTest {
    @Mock
    DatabaseDriver driver;

    /**
     * Inject driver vÃ o superService.
     * Má»i ngÆ°á»i cÃ³ thá»ƒ liÃªn tÆ°á»Ÿng nÃ³ giá»‘ng vá»›i Spring Injection
     */
    @InjectMocks
    SuperService superService;

    @Test(expected = SQLException.class)
    public void testInjectMock() throws SQLException {
        // Giáº£ láº­p cho driver luÃ´n tráº£ vá» list (3,2,1) khi Ä‘Æ°á»£c gá»i tá»›i
        Mockito.doReturn(Arrays.asList(3, 2, 1)).when(driver).get();

        Assert.assertEquals(driver, superService.getDriver());

        // Test xem superService tráº£ ra ngoÃ i cÃ³ Ä‘Ãºng khÃ´ng?
        Assert.assertEquals(Arrays.asList(1, 2, 3), superService.getObjects());

        // Giáº£ láº­p cho driver báº¯n exception
        Mockito.when(driver.get()).thenThrow(SQLException.class);
        superService.getObjects();
    }
}
</code></pre>
<h3 id="káº¿t-2"><a class="header" href="#káº¿t-2"><strong>Káº¿t</strong></a></h3>
<p>Tá»›i Ä‘Ã¢y, báº¡n Ä‘Ã£ cÃ³ thá»ƒ dÃ¹ngÂ <code>Mockito</code>Â xoÃ nh xoáº¡ch rá»“i.</p>
<p>Tiáº¿p theo, cÃ³ thá»ƒ Ä‘á»c cÃ¡ch sá»­ dá»¥ngÂ <code>Mockito</code>Â vá»›iÂ <code>Spring Boot</code>táº¡i Ä‘Ã¢y</p>
<p>ğŸ’Â Náº¿u cÃ³, toÃ n bá»™ project / code máº«u Ä‘Æ°á»£c lÆ°u trá»¯ táº¡i <strong>GitHub</strong></p>
<p>ğŸŒŸÂ ÄÃ¢y lÃ  má»™t bÃ i viáº¿t trongÂ Series <strong>LÃ m chá»§ Spring Boot â€“ Zero to Hero</strong></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sb21-hÆ°á»›ng-dáº«n-táº¡o-bean-cÃ³-Ä‘iá»u-kiá»‡n-vá»›i-conditional"><a class="header" href="#sb21-hÆ°á»›ng-dáº«n-táº¡o-bean-cÃ³-Ä‘iá»u-kiá»‡n-vá»›i-conditional">[SB21] HÆ°á»›ng dáº«n táº¡o Bean cÃ³ Ä‘iá»u kiá»‡n vá»›i @Conditional</a></h1>
<ul>
<li>Giá»›i thiá»‡u</li>
<li>CÃ¡ch táº¡o bean cÃ³ Ä‘iá»u kiá»‡n</li>
<li>@ConditionalOnBean</li>
<li>@ConditionalOnProperty</li>
<li>@ConditionalOnExpression</li>
<li>@ConditionalOnMissingBean</li>
<li>@ConditionalOnResource</li>
<li>@ConditionalOnClass</li>
<li>@ConditionalOnMissingClass</li>
<li>@ConditionalOnJava</li>
<li>Má»™t sá»‘ loáº¡i khÃ¡c</li>
<li>Custom Conditional</li>
<li>Káº¿t</li>
</ul>
<h3 id="giá»›i-thiá»‡u-5"><a class="header" href="#giá»›i-thiá»‡u-5"><strong>Giá»›i thiá»‡u</strong></a></h3>
<p>Khi xÃ¢y dá»±ng má»™t chÆ°Æ¡ng trÃ¬nh vá»›iÂ <strong>Spring Boot</strong>Â Ä‘Ã´i lÃºc chÃºng ta má»™tÂ <strong>Bean</strong>Â chá»‰ Ä‘Æ°á»£c load lÃªn hoáº·c khá»Ÿi táº¡o theo má»™t Ä‘iá»u kiá»‡n nÃ o Ä‘Ã³. VÃ­ dá»¥ nhÆ° táº¡o má»™tÂ <strong>Bean</strong>Â trong mÃ´i trÆ°á»ng Test, cÃ²n mÃ´i trÆ°á»ng tháº­t sáº½ khÃ´ng cáº§n ná»¯a.</p>
<p><strong>Spring Boot</strong>Â há»— trá»£ chÃºng ta lÃ m Ä‘iá»u nÃ y vá»›i AnnotationÂ <code>@Conditional</code>.</p>
<p>BÃ i nÃ y yÃªu cáº§u kiáº¿n thá»©c cÆ¡ báº£n:</p>
<ol>
<li>ã€ŒSpring Boot #0ã€ Series lÃ m chá»§ Spring Boot, Zero to Hero</li>
</ol>
<p>ToÃ n bá»™ vÃ­ dá»¥ trong bÃ i viáº¿t nÃ yÂ Ä‘á»u cÃ³ táº¡i Github</p>
<h3 id="cÃ¡ch-táº¡o-bean-cÃ³-Ä‘iá»u-kiá»‡n"><a class="header" href="#cÃ¡ch-táº¡o-bean-cÃ³-Ä‘iá»u-kiá»‡n"><strong>CÃ¡ch táº¡o bean cÃ³ Ä‘iá»u kiá»‡n</strong></a></h3>
<p>TrongÂ <strong>Spring Boot</strong>, cÃ³ ráº¥t nhiá»u cÃ¡ch Ä‘á»ƒ táº¡o raÂ <code>Bean</code>, báº¡n biáº¿t cÃ¡ch nÃ o?</p>
<p><code>@Component</code>,Â <code>@Configuration</code>,Â <code>@Bean</code>,Â <code>@Service</code>, v.v...</p>
<p>Vá»›i táº¥t cáº£ cÃ¡c cÃ¡ch táº¡o raÂ <code>Bean</code>, báº¡n Ä‘á»u cÃ³ thá»ƒ thÃªmÂ <strong>má»™t hoáº·c nhiá»u Ä‘iá»u kiá»‡n</strong>Â Ä‘á»ƒ cho viá»‡c táº¡o raÂ <code>Bean</code>Â Ä‘Ã³ chá»‰ xáº£y ra náº¿u nÃ³ thá»a mÃ£n má»™t Ä‘iá»u kiá»‡n cho trÆ°á»›c.</p>
<p><strong>SpringBoot</strong>Â há»— trá»£ ráº¥t nhiá»u loáº¡i Ä‘iá»u kiá»‡n khÃ¡c nhau, táº¥t cáº£ Ä‘á»u sáº½ báº¯t Ä‘áº§u báº±ng tiá»n tá»‘Â <code>@Conditional...</code>. CÃ²n háº­u tá»‘ thÃ¬ chÃºng ta sáº½ Ä‘á» cáº­p sau.</p>
<p>CÃ¡ch thá»©c hoáº¡t Ä‘á»™ng cá»§a táº¥t cáº£Â <code>@Condition</code>Â nhÆ° sau:</p>
<pre><code>@Configuration
public class ConditionalOnBeanExample {
    /*
    ABeanWithCondition chá»‰ Ä‘Æ°á»£c táº¡o ra khi @Condition thá»a mÃ£n
    */
    @Bean
    @Conditional...
    ABeanWithCondition aBeanWithACondition() {
        return new ABeanWithCondition();
    }
}
</code></pre>
<p>Náº¿u báº¡n gáº¯n nÃ³ trÃªn má»™tÂ <code>@Configuration</code>Â thÃ¬ toÃ n bá»™ cÃ¡cÂ <code>@Bean</code>Â bÃªn trong sáº½ bá»‹ chá»‹u tÃ¡c Ä‘á»™ng.</p>
<pre><code>@Conditional...
@Configuration
public class ConditionalOnBeanExample {
    /*
    SomeOtherBean chá»‰ Ä‘Æ°á»£c táº¡o ra khi @Condition thá»a mÃ£n
    */
    @Bean
    SomeOtherBean someOtherBean() {
        return new SomeOtherBean();
    }
       /*
    SomeOtherBean2 chá»‰ Ä‘Æ°á»£c táº¡o ra khi @Condition thá»a mÃ£n
    */
    @Bean
    SomeOtherBean2 someOtherBean2() {
        return new SomeOtherBean2();
    }
}
</code></pre>
<p>TÆ°Æ¡ng tá»± cho táº¥t cáº£ cÃ¡c annotation khÃ¡c nhÆ°Â <code>@Component</code>,Â <code>@Service</code>,Â <code>@Repository</code></p>
<pre><code>@Conditional...
@Component
public class ConditionalOnBeanExample {
}
</code></pre>
<p>BÃ¢y giá» chÃºng ta sáº½ Ä‘i tÃ¬m hiá»ƒu cÃ¡c loáº¡i Ä‘iá»u kiá»‡n trongÂ <strong>Spring Boot</strong>.</p>
<h3 id="conditionalonbean"><a class="header" href="#conditionalonbean"><strong>@ConditionalOnBean</strong></a></h3>
<p><code>@ConditionalOnBean</code>Â sá»­ dá»¥ng khi chÃºng ta muá»‘n táº¡o ra má»™t Bean, chá»‰ khi cÃ³ má»™t Bean khÃ¡c Ä‘ang tá»“n táº¡i</p>
<pre><code>@Configuration
public class ConditionalOnBeanExample {
    /*
    ÄÃ¢y lÃ  má»™t Bean, báº¡n hÃ£y cháº¡y á»©ng dá»¥ng
    khi comment vÃ  cháº¡y láº¡i láº§n ná»¯a nhÆ°ng bá» dáº¥u comment phÃ­a
    dÆ°á»›i Ä‘á»ƒ xem káº¿t quáº£.
     */
    // @Bean
    RandomBean randomBean() {
        return new RandomBean();
    }

    /*
    ABeanWithCondition chá»‰ Ä‘Æ°á»£c táº¡o ra, khi RandomBean tá»“n táº¡i trong Context.
     */
    @Bean
    @ConditionalOnBean(RandomBean.class)
    ABeanWithCondition aBeanWithACondition() {
        return new ABeanWithCondition();
    }
}
</code></pre>
<h3 id="conditionalonproperty"><a class="header" href="#conditionalonproperty"><strong>@ConditionalOnProperty</strong></a></h3>
<p>DÃ¹ngÂ <code>@ConditionalOnProperty</code>Â khi báº¡n muá»‘n quyáº¿t Ä‘á»‹nh sá»± tá»“n táº¡i Bean thÃ´ng qua cáº¥u hÃ¬nh property.</p>
<pre><code>@Configuration
public class ConditionalOnPropertyExample {

    /*
    @ConditionalOnProperty giÃºp gáº¯n Ä‘iá»u kiá»‡n cho @Bean dá»±a theo
    property trong config
     */
    @Bean
    @ConditionalOnProperty(
            value=&quot;loda.bean2.enabled&quot;,
            havingValue = &quot;true&quot;, // Náº¿u giÃ¡ trá»‹ loda.bean2.enabled  = true thÃ¬ Bean má»›i Ä‘Æ°á»£c khá»Ÿi táº¡o
            matchIfMissing = false) // matchIFMissing lÃ  giÃ¡ trá»‹ máº·c Ä‘á»‹nh náº¿u khÃ´ng tÃ¬m tháº¥y property loda.bean2.enabled
    ABeanWithCondition2 aBeanWithCondition2(){
        return new ABeanWithCondition2();
    }
}
</code></pre>
<p><em>application.properties</em></p>
<pre><code>#Thay Ä‘á»•i thÃ nh true Ä‘á»ƒ táº¡o bean2
loda.bean2.enabled=true
</code></pre>
<h3 id="conditionalonexpression"><a class="header" href="#conditionalonexpression"><strong>@ConditionalOnExpression</strong></a></h3>
<p>Trong trÆ°á»ng há»£p báº¡n muá»‘n thá»a mÃ£n nhiá»u Ä‘iá»u kiá»‡n trong property, hÃ£y sá»­ dá»¥ngÂ <code>@ConditionalOnExpression</code></p>
<pre><code>@Configuration
@ConditionalOnExpression(
        &quot;${loda.expression1.enabled:true} and ${loda.expression2.enabled:true}&quot;
)
public class ConditionalOnExpressionExample {
}
</code></pre>
<h3 id="conditionalonmissingbean"><a class="header" href="#conditionalonmissingbean"><strong>@ConditionalOnMissingBean</strong></a></h3>
<p>Náº¿u trongÂ <code>Context</code>Â chÆ°a tá»“n táº¡i báº¥t ká»³ Bean nÃ o tÆ°Æ¡ng tá»±, thÃ¬Â <code>@ConditionalOnMissingBean</code>Â sáº½ thá»a mÃ£n Ä‘iá»u kiá»‡n vÃ  táº¡o ra má»™t Bean nhÆ° tháº¿.</p>
<pre><code>@Configuration
public class ConditionalOnMissingBeanExample {
    /**
     * Náº¿u trong Context chÆ°a tá»“n táº¡i má»™t SomeMissingBean nÃ o
     * ThÃ¬ Bean á»Ÿ dÆ°á»›i Ä‘Ã¢y má»›i Ä‘Æ°á»£c táº¡o
     * @return
     */
    @ConditionalOnMissingBean
    DataSource someMissingBean(){
        return new DataSource();
    }
}
</code></pre>
<h3 id="conditionalonresource"><a class="header" href="#conditionalonresource"><strong>@ConditionalOnResource</strong></a></h3>
<p><code>@ConditionalOnResource</code>Â thá»a mÃ£n khi cÃ³ má»™t resources nÃ o Ä‘Ã³ do báº¡n chá»‰ Ä‘á»‹nh tá»“n táº¡i</p>
<pre><code>/*
Náº¿u Spring Boot khÃ´ng tÃ¬m tháº¥y file application.properties thÃ¬ class nÃ y khÃ´ng Ä‘Æ°á»£c táº¡o
*/
@Configuration
@ConditionalOnResource(resources = &quot;/application.properties&quot;)
public class ConditionalOnResourceExample {
}
</code></pre>
<h3 id="conditionalonclass"><a class="header" href="#conditionalonclass"><strong>@ConditionalOnClass</strong></a></h3>
<p><code>@ConditionalOnClass</code>Â thá»a mÃ£n khi trong classpath cÃ³ tá»“n táº¡i class mÃ  báº¡n yÃªu cáº§u</p>
<pre><code>@Configuration
@ConditionalOnClass(name = &quot;loda.me.spring.LodaHandsome&quot;)
class ConditionalOnClassExample {
}
</code></pre>
<h3 id="conditionalonmissingclass"><a class="header" href="#conditionalonmissingclass"><strong>@ConditionalOnMissingClass</strong></a></h3>
<p><code>@ConditionalOnMissingClass</code>Â ngÆ°á»£c láº¡i vá»›iÂ <code>@ConditionalOnClass</code>. thá»a mÃ£n khi trong classpathÂ <strong>khÃ´ng</strong>Â tá»“n táº¡i class mÃ  báº¡n yÃªu cáº§u</p>
<pre><code>@Configuration
@ConditionalOnMissingClass(name = &quot;loda.me.spring.LodaHandsome&quot;)
class ConditionalOnMissingClassExample {
}
</code></pre>
<h3 id="conditionalonjava"><a class="header" href="#conditionalonjava"><strong>@ConditionalOnJava</strong></a></h3>
<p><code>@ConditionalOnJava</code>Â thá»a mÃ£n náº¿u mÃ´i trÆ°á»ng cháº¡y version Java Ä‘Ãºng vá»›i Ä‘iá»u kiá»‡n</p>
<pre><code>@Configuration
@ConditionalOnJava(JavaVersion.EIGHT)
class ConditionalOnJavaExample {
}
</code></pre>
<h3 id="má»™t-sá»‘-loáº¡i-khÃ¡c"><a class="header" href="#má»™t-sá»‘-loáº¡i-khÃ¡c"><strong>Má»™t sá»‘ loáº¡i khÃ¡c</strong></a></h3>
<p>Váº«n cÃ²n cÃ¡c báº¡n áº¡, nhá»¯ng mÃ¬nh tháº¥y nÃ³ Ã­t khi Ä‘Æ°á»£c sá»­ dá»¥ng, nÃªn sáº½ khÃ´ng Ä‘á» cáº­p, trÃ¡nh loáº¡n thÃ´ng tin.</p>
<h3 id="custom-conditional"><a class="header" href="#custom-conditional"><strong>Custom Conditional</strong></a></h3>
<p>Táº¥t nhiÃªn lÃ  báº¡n hoÃ n toÃ n cÃ³ thá»ƒ tá»± táº¡o ra cho mÃ¬nh má»™t Ä‘iá»u kiá»‡n. MÃ¬nh sáº½ Ä‘á» cáº­p cÃ¡ch lÃ m á»Ÿ bÃ i sau.</p>
<h3 id="káº¿t-3"><a class="header" href="#káº¿t-3"><strong>Káº¿t</strong></a></h3>
<p>ğŸ’Â Náº¿u cÃ³, toÃ n bá»™ project / code máº«u Ä‘Æ°á»£c lÆ°u trá»¯ táº¡i <strong>GitHub</strong></p>
<p>ğŸŒŸÂ ÄÃ¢y lÃ  má»™t bÃ i viáº¿t trongÂ Series <strong>LÃ m chá»§ Spring Boot â€“ Zero to Hero</strong></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sb22-hÆ°á»›ng-dáº«n-tá»±-táº¡o-custom-conditional"><a class="header" href="#sb22-hÆ°á»›ng-dáº«n-tá»±-táº¡o-custom-conditional">[SB22] HÆ°á»›ng dáº«n tá»± táº¡o custom @Conditional</a></h1>
<ul>
<li>Giá»›i thiá»‡u</li>
<li>Tá»± táº¡o @Conditional</li>
<li>Tá»± táº¡o Annotation @Conditional</li>
<li>Cháº¡y thá»­</li>
<li>Káº¿t há»£p nhiá»u Ä‘iá»u kiá»‡n vá»›i OR</li>
<li>Káº¿t há»£p nhiá»u Ä‘iá»u kiá»‡n vá»›i AND</li>
<li>Káº¿t</li>
</ul>
<h3 id="giá»›i-thiá»‡u-6"><a class="header" href="#giá»›i-thiá»‡u-6"><strong>Giá»›i thiá»‡u</strong></a></h3>
<p>YÃªu cáº§u báº¡n pháº£i Ä‘á»c bÃ i viáº¿t vá»Â <code>@Conditional</code>Â trÆ°á»›c:</p>
<ol>
<li>[Spring Boot] HÆ°á»›ng dáº«n táº¡o Bean cÃ³ Ä‘iá»u kiá»‡n vá»›i @Conditional</li>
</ol>
<p>TÃ´i Ä‘Ã£ giá»›i thiá»‡u vá»›i cÃ¡c báº¡n cÃ¡c sá»­ dá»¥ng cÃ¡c loáº¡iÂ <code>@Conditional</code>Â cÃ³ sáºµn trong Spring Boot. Tuy nhiÃªn, trÃªn thá»±c táº¿, sáº½ cÃ³ nhá»¯ng lÃºc yÃªu cáº§u cÃ¡c loáº¡i Ä‘iá»u kiá»‡n náº±m ngoÃ i pháº¡m vi cá»§a Spring Boot cung cáº¥p.</p>
<p>Khi Ä‘Ã³, chÃºng ta pháº£i tá»± táº¡oÂ <code>@Condinal</code>Â cho mÃ¬nh.</p>
<h3 id="tá»±-táº¡o-conditional"><a class="header" href="#tá»±-táº¡o-conditional"><strong>Tá»± táº¡o @Conditional</strong></a></h3>
<p>Äá»ƒ táº¡o ra má»™t Ä‘iá»u kiá»‡n cho mÃ¬nh, báº¡n cáº§n káº¿ thá»«a lá»›pÂ <code>Condition</code>, vÃ  implement láº¡i functionÂ <code>matches</code></p>
<p><code>matches</code>Â lÃ  nÆ¡i báº¡n kiá»ƒm tra Ä‘iá»u kiá»‡n xem cÃ³ thoáº£ mÃ£n khÃ´ng.</p>
<pre><code>/*
Má»™t Ä‘iá»u kiá»‡n, pháº£i káº¿ thá»«a lá»›p Condition cá»§a Spring Boot cung cáº¥p
 */
public class WindowRequired implements Condition{

    @Override
    public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {
        // Náº¿u OS ra window tráº£ ra true.
        return System.getProperty(&quot;os.name&quot;).toLowerCase().contains(&quot;win&quot;);
    }
}
</code></pre>
<p>VÃ  khi Ä‘Ã£ Ä‘á»‹nh nghÄ©a Ä‘Æ°á»£c cho mÃ¬nh má»™t Ä‘iá»u kiá»‡n riÃªng, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng nhÆ° sau:</p>
<pre><code>@Configuration
public class AppConfiguration {
    public static class SomeBean{
    }

    /*
    SomeBean chá»‰ Ä‘Æ°á»£c táº¡o ra khi
    thá»a mÃ£n Ä‘iá»u kiá»‡n
     */
    @Conditional(WindowRequired.class)
    @Bean
    SomeBean someBean(){
        return new SomeBean();
    }
}
</code></pre>
<h3 id="tá»±-táº¡o-annotation-conditional"><a class="header" href="#tá»±-táº¡o-annotation-conditional"><strong>Tá»± táº¡o Annotation @Conditional</strong></a></h3>
<p>Náº¿u viá»‡c viáº¿tÂ <code>@Conditional(WindowRequired.class)</code>Â chÆ°a lÃ m báº¡n hÃ i lÃ²ng, báº¡n cÃ³ thá»ƒ tá»± táº¡o ra má»™tÂ <code>Annotation</code>Â giá»‘ng vá»›i Spring Boot.</p>
<p>VÃ­ dá»¥ nhÆ°Â <code>@ConditionalOnClass</code>Â trongÂ bÃ i viáº¿t trÆ°á»›c</p>
<p>ThÃ¬ hÃ£y lÃ m nhÆ° sau:</p>
<pre><code>@Target({ ElementType.TYPE, ElementType.METHOD })
@Retention(RetentionPolicy.RUNTIME)
@Documented
// ÄÃ¡nh dáº¥u annotation nÃ y bá»Ÿi @Conditional(WindowRequired.class)
@Conditional(WindowRequired.class)
public @interface ConditionalOnWindow {
    /*
    Trong trÆ°á»ng há»£p báº¡n muá»‘n viáº¿t ngáº¯n gá»n,
    hay táº¡o ra 1 Annotation má»›i vÃ  gáº¯n @Conditional(WindowRequired.class)
    trÃªn nÃ³

    NhÆ° váº­y khi cáº§n sá»­ dá»¥ng chá»‰ cáº§n gá»i @ConditionalOnWindow lÃ  Ä‘Æ°á»£c
     */
}
</code></pre>
<p>Khi sá»­ dá»¥ng:</p>
<pre><code>@Configuration
public class AppConfiguration {
    public static class SomeBean{
    }

    /*
    SomeBean chá»‰ Ä‘Æ°á»£c táº¡o ra khi
    thá»a mÃ£n Ä‘iá»u kiá»‡n
     */
    @ConditionalOnWindow
    @Bean
    SomeBean someBean(){
        return new SomeBean();
    }
}
</code></pre>
<h3 id="cháº¡y-thá»­-1"><a class="header" href="#cháº¡y-thá»­-1"><strong>Cháº¡y thá»­</strong></a></h3>
<pre><code>@SpringBootApplication
public class App {
    public static void main(String[] args) {
        ApplicationContext context = SpringApplication.run(App.class, args);
        try {
            SomeBean someBean = context.getBean(SomeBean.class);
            System.out.println(&quot;SomeBean tá»“n táº¡i!&quot;);
        }catch (Exception e){
            System.out.println(&quot;SomeBean chá»‰ Ä‘Æ°á»£c táº¡o náº¿u cháº¡y trÃªn Window&quot;);
        }

    }
}
</code></pre>
<p>HÃ£y bá» AnnotationÂ <code>@ConditionalOnWindow</code>Â Ä‘i vÃ  cháº¡y thá»­, sau Ä‘Ã³ thÃªm láº¡i, xem káº¿t quáº£ cá»§a 2 láº§n cháº¡y.</p>
<h3 id="káº¿t-há»£p-nhiá»u-Ä‘iá»u-kiá»‡n-vá»›i-or"><a class="header" href="#káº¿t-há»£p-nhiá»u-Ä‘iá»u-kiá»‡n-vá»›i-or"><strong>Káº¿t há»£p nhiá»u Ä‘iá»u kiá»‡n vá»›i OR</strong></a></h3>
<p>Báº¡n cÃ³ thá»ƒ káº¿t há»£p nhiá»u Ä‘iá»u kiá»‡n vá»›i nhau bá»Ÿi phÃ©p OR.</p>
<p>Spring Boot há»— trá»£ Ä‘iá»u nÃ y báº±ng cÃ¡ch káº¿ thá»«a lá»›pÂ <code>AnyNestedCondition</code></p>
<pre><code>/**
 * Class káº¿ thá»«a AnyNestedCondition sáº½ cháº¥p nháº­n má»i
 * Ä‘iá»u kiá»‡n @Conditional bÃªn trong nÃ³
 */
public class WindowOrMacRequired extends AnyNestedCondition{

    public WindowOrMacRequired(){
        super(ConfigurationPhase.REGISTER_BEAN);
    }

    /*
    Báº¡n pháº£i Ä‘á»‹nh nghÄ©a cÃ¡c Äiá»u kiá»‡n bÃªn trong class
    káº¿ thá»«a AnyNestedCondition
     */
    @Conditional(WindowRequired.class)
    public class RunOnWindow{}

    /*
    LÃºc nÃ y, cáº£ 2 Ä‘iá»u kiá»‡n Window vÃ  Mac sáº½ Ä‘Æ°á»£c káº¿t há»£p vs
    nhau khi kiá»ƒm tra, náº¿u thoáº£ mÃ£n 1 trong 2 lÃ  Ä‘c
     */
    @Conditional(MacRequired.class)
    public class RunOnMac{}
}
</code></pre>
<p>Sá»­ dá»¥ng</p>
<pre><code>@Configuration
public class AppConfiguration {
    public static class SomeBean{
    }

    /*
    SomeBean chá»‰ Ä‘Æ°á»£c táº¡o ra khi
    thá»a mÃ£n Ä‘iá»u kiá»‡n
     */
    @Conditional(WindowOrMacRequired.class)
    @Bean
    SomeBean someBean(){
        return new SomeBean();
    }
}
</code></pre>
<h3 id="káº¿t-há»£p-nhiá»u-Ä‘iá»u-kiá»‡n-vá»›i-and"><a class="header" href="#káº¿t-há»£p-nhiá»u-Ä‘iá»u-kiá»‡n-vá»›i-and"><strong>Káº¿t há»£p nhiá»u Ä‘iá»u kiá»‡n vá»›i AND</strong></a></h3>
<p>Báº¡n cÃ³ thá»ƒ káº¿t há»£p cÃ¡c Ä‘iá»u kiá»‡n báº±ng phÃ©p AND báº±ng cÃ¡ch káº¿ thá»«a lá»›pÂ <code>AllNestedConditions</code>.</p>
<p>CÃ¡ch káº¿ thá»«a cá»§a nÃ³ giá»‘ng vá»›iÂ <code>AnyNestedCondition</code>Â nÃªn tÃ´i sáº½ khÃ´ng cáº§n Ä‘á» cáº­p thÃªm.</p>
<p>NgoÃ i ra, cÃ³ má»™t cÃ¡ch khÃ¡c lÃ  sá»­ dá»¥ng nhiá»u customÂ <code>@Conditional</code>Â cÃ¹ng má»™t lÃºc.</p>
<pre><code>@Bean
@ConditionalOnWindow
@Conditional(MacRequired.class)
SomeBean someBean() {
  return new SomeBean();
}
</code></pre>
<h3 id="káº¿t-4"><a class="header" href="#káº¿t-4"><strong>Káº¿t</strong></a></h3>
<p>Tá»›i Ä‘Ã¢y, báº¡n cÃ³ thá»ƒ náº¯m vá»¯ng Ä‘Æ°á»£c cÃ¡ch táº¡o Ä‘iá»u kiá»‡n cho cáº¥u hÃ¬nh á»©ng dá»¥ng cá»§a mÃ¬nh, nÃ³ sáº½ ráº¥t cÃ³ Ã­ch khi báº¡n lÃ m viá»‡c vÃ  tÃ¡ch biá»‡t Ä‘Æ°á»£c hai mÃ´i trÆ°á»ng dev vÃ  production.</p>
<p>ğŸ’Â Náº¿u cÃ³, toÃ n bá»™ project / code máº«u Ä‘Æ°á»£c lÆ°u trá»¯ táº¡i <strong>GitHub</strong></p>
<p>ğŸŒŸÂ ÄÃ¢y lÃ  má»™t bÃ i viáº¿t trongÂ Series <strong>LÃ m chá»§ Spring Boot â€“ Zero to Hero</strong></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sb23-xá»­-lÃ½-sá»±-kiá»‡n-vá»›i-eventlistener--async"><a class="header" href="#sb23-xá»­-lÃ½-sá»±-kiá»‡n-vá»›i-eventlistener--async">[SB23] Xá»­ lÃ½ sá»± kiá»‡n vá»›i @EventListener + @Async</a></h1>
<ul>
<li>Giá»›i thiá»‡u</li>
<li>CÆ¡ báº£n vá» Event &amp; Listener</li>
<li>Ãp vÃ o thá»±c táº¿</li>
<li>Event</li>
<li>Event Publisher</li>
<li>Event Listener</li>
<li>Cháº¡y thá»­ 1</li>
<li>@Async</li>
<li>@Async</li>
<li>Cháº¡y thá»­ láº§n 2</li>
<li>Káº¿t</li>
</ul>
<h3 id="giá»›i-thiá»‡u-7"><a class="header" href="#giá»›i-thiá»‡u-7"><strong>Giá»›i thiá»‡u</strong></a></h3>
<p>Háº³n trongÂ <strong>Java</strong>Â khÃ´ng Ã­t thÃ¬ nhiá»u cÃ¡c báº¡n Ä‘Ã£ tá»«ng sá»­ dá»¥ng quaÂ <code>Listener Pattern</code>Â rá»“i, nÃªn tÃ´i nghÄ© sáº½ khÃ´ng giá»›i thiá»‡u vá» nÃ³ ná»¯a.</p>
<p>Trong bÃ i viáº¿t nÃ y, chÃºng ta táº­p trung vÃ o cÃ¡ch lÃ m sao Ä‘á»ƒ thá»±c hiá»‡n viá»‡c táº¡o raÂ <code>Event</code>Â vÃ  xá»­ lÃ½Â <code>Event</code>Â Ä‘Ã³ má»™t cÃ¡ch gá»n gÃ ng vá»›iÂ <strong>Spring Boot</strong>.</p>
<p>BÃ i nÃ y yÃªu cáº§u kiáº¿n thá»©c cÆ¡ báº£n:</p>
<ol>
<li>ã€ŒSpring Boot #0ã€ Series lÃ m chá»§ Spring Boot, Zero to Hero</li>
</ol>
<h3 id="cÆ¡-báº£n-vá»-event--listener"><a class="header" href="#cÆ¡-báº£n-vá»-event--listener"><strong>CÆ¡ báº£n vá» Event &amp; Listener</strong></a></h3>
<p>!image</p>
<p>CÆ¡ báº£n lÃ  khi chÆ°Æ¡ng trÃ¬nh cá»§a báº¡n Ä‘ang váº­n hÃ nh, vÃ  cÃ³ má»™t cÃ´ng viá»‡c gÃ¬ Ä‘Ã³, báº¡n khÃ´ng muá»‘n xá»­ lÃ½ trá»±c tiáº¿p táº¡i Class hiá»‡n hÃ nh hoáº·c muá»‘n thÃ´ng bÃ¡o cho cÃ¡c Äá»‘i tÆ°á»£ng khÃ¡c biáº¿t báº¡n vá»«a lÃ m gÃ¬.</p>
<p>ThÃ¬ báº¡n sáº½ báº¯n ra má»™t object gá»i lÃ Â <code>Event</code>Â (sá»± kiá»‡n), cÃ³ hoáº·c khÃ´ng thÃ´ng tin Ä‘i kÃ¨m, vÃ  nhiá»‡m vá»¥ cá»§a cÃ¡c tháº±ng khÃ¡c lÃ  Ä‘Ã³n láº¥y hay láº¯ng nghe sá»± kiá»‡n Ä‘Ã³ Ä‘á»ƒ xá»­ lÃ½ nghiá»‡p vá»¥ cá»§a riÃªng nÃ³, tháº±ng xá»­ lÃ½ gá»i lÃ Â <code>Listener</code>.</p>
<p>Tháº±ng gÃ¢y ra sá»± kiá»‡n gá»i lÃ Â <code>Source</code>.</p>
<p>CÃ²n tháº±ng cáº§m sá»± kiá»‡n Ä‘Ã³ nÃ©m choÂ <code>Listener</code>Â gá»i lÃ Â <code>Pushlisher</code></p>
<h3 id="Ãp-vÃ o-thá»±c-táº¿"><a class="header" href="#Ãp-vÃ o-thá»±c-táº¿"><strong>Ãp vÃ o thá»±c táº¿</strong></a></h3>
<p>Giáº£ sá»­ báº¡n cÃ³ má»™t cÃ¡i chuÃ´ng cá»­a, khi cÃ³ ngÆ°á»i tá»›i báº¥m cÃ¡i chuÃ´ng nÃ y. ChuÃ´ng sáº½ phÃ¡t ra tiáº¿ng kÃªu.</p>
<p>á» trong nhÃ  cÃ³ chÃ³, nÃ³ nghe tháº¥y tiáº¿ng kÃªu, nÃ³ sáº½ sá»§a lÃªn.</p>
<p>ThÃ¬:</p>
<ul>
<li><code>Source</code>: NgÆ°á»i báº¥m chuÃ´ng cá»­a, lÃ  ngÆ°á»i gÃ¢y ra sá»± kiá»‡n.</li>
<li><code>Event</code>: sá»± kiá»‡n báº¥m chuÃ´ng cá»­a</li>
<li><code>Pushlisher</code>: CÃ¡i chuÃ´ng phÃ¡t ra Ã¢m thanh (sá»± kiá»‡n) Ä‘á»ƒ thÃ´ng bÃ¡o.</li>
<li><code>Listener</code>: Con chÃ³ láº¯ng nghe vÃ  xá»­ lÃ½ sá»± kiá»‡n</li>
</ul>
<h3 id="event"><a class="header" href="#event"><strong>Event</strong></a></h3>
<p>Má»™tÂ <code>Event</code>Â (sá»± kiá»‡n) muá»‘n Ä‘Æ°á»£cÂ <strong>Spring Boot</strong>Â há»— trá»£ thÃ¬ sáº½ pháº£i káº¿ thá»«a lá»›pÂ <code>ApplicationEvent</code>.</p>
<pre><code>/*
DoorBellEvent pháº£i káº¿ thá»«a lá»›p ApplicationEvent cá»§a Spring
NhÆ° váº­y nÃ³ má»›i Ä‘Æ°á»£c coi lÃ  má»™t sá»± kiá»‡n há»£p lá»‡.
 */
public class DoorBellEvent extends ApplicationEvent {
    /*
        Má»i Class káº¿ thá»«a ApplicationEvent sáº½
        pháº£i gá»i Constructor tá»›i lá»›p cha.
     */
    public DoorBellEvent(Object source, String guestName) {
        // Object source lÃ  object tham chiáº¿u tá»›i
        // nÆ¡i Ä‘Ã£ phÃ¡t ra event nÃ y!
        super(source);
    }
}
</code></pre>
<h3 id="event-publisher"><a class="header" href="#event-publisher"><strong>Event Publisher</strong></a></h3>
<p>TrongÂ <strong>Spring Boot</strong>, Ä‘á»ƒ báº¯n ra má»™t sá»± kiá»‡n chÃºng ta sá»­ dá»¥ng Ä‘á»‘i tÆ°á»£ngÂ <code>ApplicationEventPublisher</code>. ÄÃ¢y lÃ  má»™tÂ <code>Bean</code>Â cÃ³ sáºµn trongÂ <code>Context</code>Â do Spring cung cáº¥p, báº¡n chá»‰ cáº§n lÃ´i ra sá»­ dá»¥ng thÃ´i.</p>
<pre><code>@Component
public class MyHouse {
    @Autowired
    ApplicationEventPublisher applicationEventPublisher;

    /**
     * HÃ nh Ä‘á»™ng báº¥m chuÃ´ng cá»­a
     */
    public void rangDoorbellBy(String guestName) {
        // PhÃ¡t ra má»™t sá»± kiá»‡n DoorBellEvent
        // source (Nguá»“n phÃ¡t ra) chÃ­nh lÃ  class nÃ y
        applicationEventPublisher.publishEvent(new DoorBellEvent(this, guestName));
    }
}
</code></pre>
<h3 id="event-listener"><a class="header" href="#event-listener"><strong>Event Listener</strong></a></h3>
<p>Äá»ƒ láº¯ng nghe cÃ¡c sá»± kiá»‡n doÂ <code>ApplicationEventPublisher</code>Â báº¯n ra, chÃºng ta sá»­ dá»¥ngÂ <code>@EventListener</code></p>
<pre><code>// Táº¡o ra Bean
@Component
public class MyDog {

    /*
        @EventListener sáº½ láº¯ng nghe má»i sá»± kiá»‡n xáº£y ra
        Náº¿u cÃ³ má»™t sá»± kiá»‡n DoorBellEvent Ä‘Æ°á»£c báº¯n ra, nÃ³ sáº½ Ä‘Ã³n láº¥y
        vÃ  Ä‘Æ°a vÃ o hÃ m Ä‘á»ƒ xá»­ lÃ½
     */
    @EventListener
    public void doorBellEventListener(DoorBellEvent doorBellEvent) throws InterruptedException {
        // Giáº£ sá»­ con chÃ³ Ä‘ang ngá»§, 1 giÃ¢y sau má»›i dáº­y
        Thread.sleep(1000);
        // Sá»± kiá»‡n DoorBellEvent Ä‘Æ°á»£c láº¯ng nghe vÃ  xá»­ lÃ½ táº¡i Ä‘Ã¢y
        System.out.println(Thread.currentThread().getName() + &quot;: ChÃ³ ngá»§ dáº­y!!!&quot;);
        System.out.println(String.format(&quot;%s: Go go!! CÃ³ ngÆ°á»i tÃªn lÃ  %s gÃµ cá»­a!!!&quot;, Thread.currentThread().getName(), doorBellEvent.getGuestName()));
    }
}
</code></pre>
<p><code>@EventListener</code>Â gáº¯n trÃªn má»™t method, vá»›i tham sá»‘ Ä‘áº§u vÃ o chÃ­nh lÃ  sá»± kiá»‡n mÃ  báº¡n muá»‘n láº¯ng nghe.</p>
<p>LÆ°u Ã½: Class chá»‹u trÃ¡ch nhiá»‡m xá»­ lÃ½, cÃ³ chá»©a methodÂ <code>@EventListener</code>Â cÅ©ng pháº£i lÃ  Bean nhÃ©.</p>
<h3 id="cháº¡y-thá»­-1"><a class="header" href="#cháº¡y-thá»­-1"><strong>Cháº¡y thá»­ 1</strong></a></h3>
<pre><code>@SpringBootApplication
public class App {
    @Autowired
    MyHouse myHouse;

    public static void main(String[] args) {
        SpringApplication.run(App.class, args);
    }

    @Bean
    CommandLineRunner run() {
        return args -&gt; {
            System.out.println(Thread.currentThread().getName() + &quot;: Loda Ä‘i tá»›i cá»­a nhÃ  !!!&quot;);
            System.out.println(Thread.currentThread().getName() + &quot;: =&gt; Loda báº¥m chuÃ´ng vÃ  khai bÃ¡o há» tÃªn!&quot;);
            // gÃµ cá»­a
            myHouse.rangDoorbellBy(&quot;Loda&quot;);
            System.out.println(Thread.currentThread().getName() +&quot;: Loda quay lÆ°ng bá» Ä‘i&quot;);
        };
    }

}
</code></pre>
<p>OUTPUT:</p>
<pre><code>restartedMain: Loda Ä‘i tá»›i cá»­a nhÃ  !!!
restartedMain: =&gt; Loda báº¥m chuÃ´ng vÃ  khai bÃ¡o há» tÃªn!
restartedMain: ChÃ³ ngá»§ dáº­y!!!
restartedMain: Go go!! CÃ³ ngÆ°á»i tÃªn lÃ  Loda gÃµ cá»­a!!!
restartedMain: Loda quay lÆ°ng bá» Ä‘i
</code></pre>
<p>Báº¡n sáº½ tháº¥y quÃ¡ trÃ¬nh xá»­ lÃ½ á»Ÿ Ä‘Ã¢y xáº£y ra má»™t cÃ¡chÂ <strong>tuáº§n tá»±</strong>Â vÃ  Ä‘á»“ng bá»™ (Synchronous).</p>
<p>Váº­y lÃ  chÃºng ta cÃ³ thá»ƒ hiá»ƒu:</p>
<blockquote>
<p>náº¿u khÃ´ng cáº¥u hÃ¬nh gÃ¬ thÃªm,Â ApplicationEventÂ vÃ Â @EventListenerÂ lÃ Â Synchronous.</p>
</blockquote>
<p>ChÆ°Æ¡ng trÃ¬nh sáº½ pháº£i chá» sá»± kiá»‡n xá»­ lÃ½ xong thÃ¬ má»›i Ä‘Æ°á»£c cháº¡y tiáº¿p.</p>
<h3 id="async"><a class="header" href="#async"><strong>@Async</strong></a></h3>
<p>Äa pháº§n, xá»­ lÃ½ Synchronous khÃ´ng pháº£i Ä‘iá»u mÃ  chÃºng ta mong Ä‘á»£i, chÃºng ta muá»‘n viá»‡c xá»­ lÃ½ sá»± kiá»‡n cÃ³ thá»ƒ hoáº¡t Ä‘á»™ng riÃªng vÃ  khÃ´ng áº£nh hÆ°á»Ÿng tá»›i luá»“ng lÃ m viá»‡c chÃ­nh.</p>
<p>NÃ³i cÃ¡ch khÃ¡c, chÃºng ta muá»‘n sá»± kiá»‡n Ä‘Æ°á»£c xá»­ lÃ½ á»Ÿ má»™t Thread khÃ¡c, Ä‘Ã¢y gá»i lÃ Â <strong>báº¥t Ä‘á»“ng bá»™ (Asynchronous)</strong></p>
<p>Äá»ƒ lÃ m Ä‘Æ°á»£c Ä‘iá»u nÃ y, chÃºng ta cáº§n kÃ­ch hoáº¡t chá»©c nÄƒng xá»­ lÃ½ báº¥t Ä‘á»“ng bá»™ cá»§aÂ <strong>Spring Boot</strong>, báº±ng cÃ¡ch bá»• sung annotationÂ <code>@EnableAsync</code>.</p>
<pre><code>@Configuration
@EnableAsync
public class ListenerConfiguration {
    /**
     * Táº¡o ra Executor cho Async
     * @return
     */
    @Bean
    TaskExecutor taskExecutor() {
        return new SimpleAsyncTaskExecutor();
    }
}
</code></pre>
<p><strong>Spring Boot</strong>Â khi tháº¥y Annotation nÃ y, sáº½ kÃ­ch hoáº¡t cho phÃ©p xá»­ lÃ½ sá»± kiá»‡n dÆ°á»›i dáº¡ng Async</p>
<p>cÃ¡cÂ <code>Event</code>Â sáº½ Ä‘Æ°á»£c gá»­i vÃ o má»™tÂ <code>Executor</code>Â (Ä‘Æ¡n giáº£n nháº¥t lÃ Â <code>SimpleAsyncTaskExecutor</code>) vÃ  chá» Ä‘Æ°á»£c xá»­ lÃ½.</p>
<p>Náº¿u chÆ°a biáº¿tÂ <code>Executor</code>Â lÃ  gÃ¬, báº¡n cÃ³ thá»ƒ Ä‘á»c 2 bÃ i viáº¿t sau:</p>
<ol>
<li>KhÃ¡i niá»‡m ThreadPool vÃ  Executor trong Java</li>
<li>ThreadPoolExecutor vÃ  nguyÃªn táº¯c quáº£n lÃ½ pool size</li>
</ol>
<h3 id="async-1"><a class="header" href="#async-1"><strong>@Async</strong></a></h3>
<p>Sau khi kÃ­ch hoáº¡t tÃ­nh nÄƒngÂ <code>Async</code>, báº¥t ká»³ sá»± kiá»‡n nÃ o báº¡n muá»‘n nÃ³ xá»­ lÃ½ Async thÃ¬ hÃ£y Ä‘Ã¡nh dáº¥u nÃ³ bá»ŸiÂ <code>@Async</code>.</p>
<pre><code>@Component
public class MyDog {

    /*
        @EventListener sáº½ láº¯ng nghe má»i sá»± kiá»‡n xáº£y ra
        Náº¿u cÃ³ má»™t sá»± kiá»‡n DoorBellEvent Ä‘Æ°á»£c báº¯n ra, nÃ³ sáº½ Ä‘Ã³n láº¥y
        vÃ  Ä‘Æ°a vÃ o hÃ m Ä‘á»ƒ xá»­ lÃ½
     */
    /*
        @Async lÃ  cÃ¡ch láº¯ng nghe sá»± kiá»‡n á»Ÿ má»™t Thread khÃ¡c, khÃ´ng áº£nh hÆ°á»Ÿng tá»›i
        luá»“ng chÃ­nh
     */
    @Async
    @EventListener
    public void doorBellEventListener(DoorBellEvent doorBellEvent) throws InterruptedException {
        // Giáº£ sá»­ con chÃ³ Ä‘ang ngá»§, 1 giÃ¢y sau má»›i dáº­y
        Thread.sleep(1000);
        // Sá»± kiá»‡n DoorBellEvent Ä‘Æ°á»£c láº¯ng nghe vÃ  xá»­ lÃ½ táº¡i Ä‘Ã¢y
        System.out.println(&quot;ChÃ³ ngá»§ dáº­y!!!&quot;);
        System.out.println(String.format(&quot;Go go!! CÃ³ ngÆ°á»i tÃªn lÃ  %s gÃµ cá»­a!!!&quot;, doorBellEvent.getGuestName()));
    }
}
</code></pre>
<h3 id="cháº¡y-thá»­-láº§n-2"><a class="header" href="#cháº¡y-thá»­-láº§n-2"><strong>Cháº¡y thá»­ láº§n 2</strong></a></h3>
<p>OUTPUT:</p>
<pre><code>restartedMain: Loda Ä‘i tá»›i cá»­a nhÃ  !!!
restartedMain: =&gt; Loda báº¥m chuÃ´ng vÃ  khai bÃ¡o há» tÃªn!
restartedMain: Loda quay lÆ°ng bá» Ä‘i
SimpleAsyncTaskExecutor-1: ChÃ³ ngá»§ dáº­y!!!
SimpleAsyncTaskExecutor-1: Go go!! CÃ³ ngÆ°á»i tÃªn lÃ  Loda gÃµ cá»­a!!!
</code></pre>
<p>Láº§n nÃ y quÃ¡ trÃ¬nh xá»­ lÃ½ Ä‘Ã£ diá»…n ra Ä‘Ãºng nhÆ° chÃºng ta mong Ä‘á»£i, ngÆ°á»i báº¥m cá»© báº¥m, mÃ  chÃ³ kÃªu cá»© kÃªu, má»—i ngÆ°á»i má»™t viá»‡c, cháº£ ai áº£nh hÆ°á»Ÿng tá»›i ai, chá»‰ cáº§n biáº¿t cÃ³ sá»± kiá»‡n xáº£y ra thÃ¬ pháº£n á»©ng lÃ  Ä‘Æ°á»£c.</p>
<h3 id="káº¿t-5"><a class="header" href="#káº¿t-5"><strong>Káº¿t</strong></a></h3>
<p>ğŸ’Â Náº¿u cÃ³, toÃ n bá»™ project / code máº«u Ä‘Æ°á»£c lÆ°u trá»¯ táº¡i <strong>GitHub</strong></p>
<p>ğŸŒŸÂ ÄÃ¢y lÃ  má»™t bÃ i viáº¿t trongÂ Series <strong>LÃ m chá»§ Spring Boot â€“ Zero to Hero</strong></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sb24-restful-api-document-táº¡o-vá»›i-spring-boot--swagger"><a class="header" href="#sb24-restful-api-document-táº¡o-vá»›i-spring-boot--swagger">[SB24] RESTful API Document Táº¡o vá»›i Spring Boot + Swagger</a></h1>
<ul>
<li>Giá»›i thiá»‡u</li>
<li>cÃ i Ä‘áº·t</li>
<li>Tá»•ng quan Swagger</li>
<li>Prepare</li>
<li>Config Swagger</li>
<li>GÃ³c custom</li>
</ul>
<h3 id="giá»›i-thiá»‡u-8"><a class="header" href="#giá»›i-thiá»‡u-8"><strong>Giá»›i thiá»‡u</strong></a></h3>
<p><strong>Spring Boot</strong>Â há»— trá»£ chÃºng ta táº¡o ra RESTful API má»™t cÃ¡ch nhanh chÃ³ng vÃ  tiá»‡n lá»£i, giÃºp sáº£n pháº©m Ä‘Æ°á»£c váº­n hÃ nh nhanh nháº¥t cÃ³ thá»ƒ.</p>
<p>Tuy nhiÃªn, Viá»‡c deploy nhanh chÃ³ng má»™t services khÃ´ng Ä‘á»“ng nghÄ©a vá»›i viá»‡c nÃ³ cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘Æ°á»£c. ThÃ´ng thÆ°á»ng, táº¥t cáº£ cÃ¡c API sau khi Ä‘Æ°á»£c Ä‘Æ°a lÃªn sáº½ pháº£i Ä‘i kÃ¨m vá»›i document mÃ´ táº£, Ä‘á»ƒ báº¥t kÃ¬ ai sá»­ dá»¥ng Ä‘áº¿n thÃ¬ cÃ³ thá»ƒ tra cá»©u.</p>
<p>Tháº­t khÃ´ng may lÃ  viá»‡c lÃ m document chÆ°a bao giá» lÃ  dá»… dÃ ng cáº£ :(( tá»« lÃ­ do nÃ y,Â <code>Swagger</code>Â ra Ä‘á»i Ä‘á»ƒ giÃºp chÃºng ta mÃ´ táº£ tÃ i liá»‡u dá»± Ã¡n má»™t cÃ¡ch nhanh chÃ³ng báº±ng annotation.</p>
<p>Trong bÃ i cÃ³ Ä‘á» cáº­p cÃ¡c kiáº¿n thá»©c:</p>
<ol>
<li>Spring Boot</li>
<li>jpa</li>
<li>lombok</li>
</ol>
<h3 id="cÃ i-Ä‘áº·t-3"><a class="header" href="#cÃ i-Ä‘áº·t-3"><strong>cÃ i Ä‘áº·t</strong></a></h3>
<p>Trong bÃ i nÃ y, tÃ´i sáº½ hÆ°á»›ng dáº«n cÃ¡c báº¡n sá»­ dá»¥ngÂ <code>Swagger2</code>Â vÃ  tuÃ¢n theo cÃ¡c quy táº¯c cáº£uÂ <strong>Swagger Specification 2.0</strong>Â nhÃ©.</p>
<p>Táº¡i thá»i Ä‘iá»ƒm viáº¿t bÃ i nÃ y, hiá»‡n phiÃªn báº£n má»›i nháº¥t lÃ  3, tuy nhiÃªn, nÃ³ sáº½ lÃ Â <strong>OpenAPI 3.0</strong>.</p>
<p><em>pom.xml</em></p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;projectxmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;&lt;parent&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;&lt;version&gt;2.0.5.RELEASE&lt;/version&gt;&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;
	&lt;/parent&gt;&lt;groupId&gt;me.loda.spring&lt;/groupId&gt;&lt;artifactId&gt;example-independent-maven-spring-project&lt;/artifactId&gt;&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;&lt;name&gt;example-independent-maven-spring-project&lt;/name&gt;&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;&lt;properties&gt;&lt;java.version&gt;1.8&lt;/java.version&gt;&lt;/properties&gt;&lt;dependencies&gt;&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;&lt;artifactId&gt;lombok&lt;/artifactId&gt;&lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;&lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;

		&lt;dependency&gt;&lt;groupId&gt;io.springfox&lt;/groupId&gt;&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;&lt;version&gt;2.9.2&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;io.springfox&lt;/groupId&gt;&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;&lt;version&gt;2.9.2&lt;/version&gt;&lt;/dependency&gt;&lt;!--spring jpa--&gt;
		&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;&lt;/dependency&gt;&lt;!--in memory database--&gt;
		&lt;dependency&gt;&lt;groupId&gt;com.h2database&lt;/groupId&gt;&lt;artifactId&gt;h2&lt;/artifactId&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;&lt;/dependencies&gt;&lt;build&gt;&lt;plugins&gt;&lt;plugin&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;&lt;/plugin&gt;&lt;/plugins&gt;&lt;/build&gt;&lt;/project&gt;
</code></pre>
<p><code>springfox</code>Â lÃ  má»™t thÆ° viá»‡n java implementation cá»§a Swagger Specification.</p>
<p><code>springfox-swagger2</code>Â chá»©a core cá»§a swagger, giÃºp chÃºng ta khai bÃ¡o document cho api.</p>
<p><code>springfox-swagger-ui</code>Â giÃºp chÃºng ta biá»ƒu diá»…n tÃ i liá»‡u dÆ°á»›i dáº¡ng web view, dá»… nhÃ¬n vÃ  test.</p>
<h3 id="tá»•ng-quan-swagger"><a class="header" href="#tá»•ng-quan-swagger"><strong>Tá»•ng quan Swagger</strong></a></h3>
<p>Äá»ƒ sá»­ dá»¥ng cÆ¡ báº£n thÃ¬Â <code>Swagger</code>Â cung cáº¥p má»™t sá»‘ cÃ¡c Annotations há»¯u Ã­ch sau:</p>
<p>ChÃºng ta Ä‘i vÃ o thá»±c hÃ nh thá»­ nhÃ©.</p>
<p>Äáº¡i loáº¡i sau khi lÃ m xong, chÃºng ta sáº½ cÃ³ 1 web view document nhÆ° tháº¿ nÃ y:</p>
<p>!image</p>
<h3 id="prepare-1"><a class="header" href="#prepare-1"><strong>Prepare</strong></a></h3>
<p>Táº¡o ra class Model</p>
<p><em>User.java</em></p>
<pre><code>@Data
@Entity
@Table
@NoArgsConstructor
@AllArgsConstructor
public class User {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    private String firstName;
    private String lastName;
    private String email;
}
</code></pre>
<p><em>UserRepository.java</em></p>
<pre><code>@Repository
public interface UserRepository extends JpaRepository&lt;User, Long&gt; {

}
</code></pre>
<p>Khi Ä‘Ã£ cÃ³ Ä‘Æ°á»£c Model vÃ  Repository, chÃºng ta sáº½ táº¡o Controller Ä‘á»ƒ thao tÃ¡c liÃªn quan tá»›iÂ <code>User</code>Â nhÃ©.</p>
<pre><code>@RestController
@RequestMapping(&quot;/api/v1&quot;)
@RequiredArgsConstructor
public class UserController {
    private final UserRepository userRepository;

    @GetMapping(&quot;/users&quot;)
    public List&lt;User&gt; getAllUsers() {
        return userRepository.findAll();
    }

    @GetMapping(&quot;/users/{id}&quot;)
    public User getUser(@PathVariable(&quot;id&quot;) Long id) {
        return userRepository.findById(id).orElse(new User());
    }

    @PostMapping(&quot;/users&quot;)
    public User createUser(@Valid @RequestBody User user) {
        return userRepository.save(user);
    }

    @PutMapping(&quot;/users/{id}&quot;)
    public User updateUser(@PathVariable(&quot;id&quot;) Long id, @Valid @RequestBody User user) {
        user.setId(id);
        return userRepository.save(user);
    }

    @DeleteMapping(&quot;/users/{id}&quot;)
    public void deleteUser(@PathVariable(&quot;id&quot;) Long id) {
        userRepository.deleteById(id);
    }
}
</code></pre>
<p>Ã‚u khÃª, táº¡m thá»i nhÆ° tháº¿ Ä‘Ã£ ğŸ˜‚</p>
<p>BÃ¢y giá» vÃ o pháº§n chÃ­nh, configÂ <code>Swagger</code>Â cho dá»± Ã¡n cá»§a chÃºng ta.</p>
<h3 id="config-swagger"><a class="header" href="#config-swagger"><strong>Config Swagger</strong></a></h3>
<p>Tháº­t may máº¯n, trÆ°á»›c khi Ä‘i vÃ o cÃ¡c custom phá»©c táº¡p thÃ¬ Swagger há»— trá»£ chÃºng ta tá»± Ä‘á»™ng sinh ra tÃ i liá»‡u má»™t cÃ¡ch máº·c Ä‘á»‹nh mÃ  chÆ°a cáº§n pháº£i khai bÃ¡o báº¥t kÃ¬ annotation nÃ o Ä‘Ã£ giá»›i thiá»‡u á»Ÿ trÃªn.</p>
<p>Chá»‰ cáº§n táº¡o ra Ä‘á»‘i tÆ°á»£ngÂ <code>Docket</code>Â cá»§aÂ <code>Swagger</code>Â vÃ  nÃ³ sáº½ quÃ©t háº¿t cÃ¡c Ä‘á»‹a chá»‰ API mÃ  báº¡n chá»‰ Ä‘á»‹nh, rá»“i tá»± Ä‘á»™ng sinh ra tÃ i liá»‡u cÆ¡ báº£n cho chÃºng ta.</p>
<pre><code>@Configuration
@EnableSwagger2
public class Swagger2Config {
    @Bean
    public Docket api() {
        return new Docket(DocumentationType.SWAGGER_2).select()
                                                      .apis(RequestHandlerSelectors.basePackage(&quot;me.loda.spring.swagger.controller&quot;))
                                                      .paths(PathSelectors.regex(&quot;/.*&quot;))
                                                      .build()
                                                      .apiInfo(apiEndPointsInfo());
    }

    private ApiInfo apiEndPointsInfo() {
        return new ApiInfoBuilder().title(&quot;Spring Boot REST API&quot;)
                                   .description(&quot;Employee Management REST API&quot;)
                                   .contact(new Contact(&quot;loda&quot;, &quot;https://loda.me/&quot;, &quot;loda.namnh@gmail.com&quot;))
                                   .license(&quot;Apache 2.0&quot;)
                                   .licenseUrl(&quot;http://www.apache.org/licenses/LICENSE-2.0.html&quot;)
                                   .version(&quot;1.0.0&quot;)
                                   .build();
    }
}
</code></pre>
<p>CÃ¡c thá»© cáº§n lÆ°u Ã½ bao gá»“m:</p>
<ol>
<li>Äá»ƒÂ <code>Swagger</code>Â hoáº¡t Ä‘á»™ng, báº¡n nhá»› kÃ­ch hoáº¡t nÃ³ báº±ngÂ <code>@EnableSwagger2</code>.</li>
<li>Báº¡n cÃ³ thá»ƒ chá»n nÆ¡i chá»©a cÃ¡c API báº±ngÂ <code>RequestHandlerSelectors</code>. Náº¿u muá»‘n quÃ©t háº¿t cáº£ project, cÃ³ thá»ƒ xÃ iÂ <code>RequestHandlerSelectors.any()</code></li>
<li>Báº¡n cÃ³ thá»ƒ chá»‰ Ä‘á»‹nh bá»™ lá»c cho cÃ¡c api báº±ngÂ <code>PathSelectors</code>. Náº¿u muá»‘n quÃ©t táº¥t cáº£, chá»nÂ <code>PathSelectors.any()</code>.</li>
</ol>
<pre><code>@SpringBootApplication
public class App {
    public static void main(String[] args) {
        SpringApplication.run(App.class, args);
    }
}
</code></pre>
<p>BÃ¢y giá», cháº¡y thá»­ vÃ  vÃ o Ä‘á»‹a chá»‰Â <code>http://localhost:8080/swagger-ui.html</code>Â Ä‘á»ƒ xem thÃ nh quáº£ nhÃ©.</p>
<h3 id="gÃ³c-custom"><a class="header" href="#gÃ³c-custom"><strong>GÃ³c custom</strong></a></h3>
<p>Báº¡n cÃ³ thá»ƒ chá»‰ Ä‘á»‹nh rÃµ hÆ¡n cÃ¡c mÃ´ táº£ cá»§a tÃ i liá»‡u báº±ng cÃ¡ch sá»­ dá»¥ng cÃ¡c Annotation mÃ Â <code>Swagger</code>Â cung cáº¥p.</p>
<p><em>User.java</em></p>
<pre><code>@Data
@Entity
@Table
@NoArgsConstructor
@AllArgsConstructor
@ApiModel(value = &quot;User model&quot;)
public class User {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @ApiModelProperty(notes = &quot;The database generated User ID&quot;)
    private Long id;

    private String firstName;
    private String lastName;
    private String email;
}
</code></pre>
<p><em>UserController.java</em></p>
<pre><code>@RestController
@RequestMapping(&quot;/api/v1&quot;)
@RequiredArgsConstructor
@Api(value = &quot;User APIs&quot;)
public class UserController {
    private final UserRepository userRepository;

    @ApiOperation(value = &quot;Xem danh sÃ¡ch User&quot;, response = List.class)
    @ApiResponses(value = {
            @ApiResponse(code = 200, message = &quot;ThÃ nh cÃ´ng&quot;),
            @ApiResponse(code = 401, message = &quot;ChÆ°a xÃ¡c thá»±c&quot;),
            @ApiResponse(code = 403, message = &quot;Truy cáº­p bá»‹ cáº¥m&quot;),
            @ApiResponse(code = 404, message = &quot;KhÃ´ng tÃ¬m tháº¥y&quot;)
    })
    @GetMapping(&quot;/users&quot;)
    public List&lt;User&gt; getAllUsers() {
        return userRepository.findAll();
    }

    @GetMapping(&quot;/users/{id}&quot;)
    public User getUser(@PathVariable(&quot;id&quot;) Long id) {
        return userRepository.findById(id).orElse(new User());
    }

    @PostMapping(&quot;/users&quot;)
    public User createUser(
            @ApiParam(value = &quot;Äá»‘i tÆ°á»£ng User cáº§n táº¡o má»›i&quot;, required = true) @Valid @RequestBody User user
    ) {
        return userRepository.save(user);
    }

    @PutMapping(&quot;/users/{id}&quot;)
    public User updateUser(@PathVariable(&quot;id&quot;) Long id, @Valid @RequestBody User user) {
        user.setId(id);
        return userRepository.save(user);
    }

    @DeleteMapping(&quot;/users/{id}&quot;)
    public void deleteUser(@PathVariable(&quot;id&quot;) Long id) {
        userRepository.deleteById(id);
    }
}
</code></pre>
<p>Tá»›i Ä‘Ã¢y báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng Swagger thoáº£i mÃ¡i rá»“i, tÃ´i sáº½ lÃ m má»™t bÃ i khÃ¡c vá»Â <strong>OpenAPI 3.0</strong>.</p>
<p>ğŸ’Â Náº¿u cÃ³, toÃ n bá»™ project / code máº«u Ä‘Æ°á»£c lÆ°u trá»¯ táº¡i <strong>GitHub</strong></p>
<p>ğŸŒŸÂ ÄÃ¢y lÃ  má»™t bÃ i viáº¿t trongÂ Series <strong>LÃ m chá»§ Spring Boot â€“ Zero to Hero</strong></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sb25-restful-api-document-vá»›i-spring-boot--openapi-30"><a class="header" href="#sb25-restful-api-document-vá»›i-spring-boot--openapi-30">[SB25] RESTful API Document vá»›i Spring Boot + OpenApi 3.0</a></h1>
<ul>
<li>Giá»›i thiá»‡u</li>
<li>cÃ i Ä‘áº·t</li>
<li>Tá»•ng quan OpenApi 3.0</li>
<li>Prepare</li>
<li>Config OpenApi 3.0</li>
<li>Káº¿t</li>
</ul>
<h3 id="giá»›i-thiá»‡u-9"><a class="header" href="#giá»›i-thiá»‡u-9"><strong>Giá»›i thiá»‡u</strong></a></h3>
<p>Trong bÃ i viáº¿t trÆ°á»›c:</p>
<ol>
<li>RESTful API Document Táº¡o vá»›i Spring Boot + Swagger</li>
</ol>
<p>TÃ´i Ä‘Ã£ giá»›i thiá»‡u lÃ­ do vÃ¬ sao cáº§n Document, vÃ  cÃ¡ch táº¡o ra nÃ³ nhanh chÃ³ng vá»›iÂ <code>Swagger 2</code>.</p>
<p>Trong bÃ i nÃ y, tÃ´i sáº½ giá»›i thiá»‡u thÃªm phiÃªn báº£n tiáº¿p theo, má»™t tiÃªu chuáº©n má»›i nháº¥t vá» RESTful document Ä‘Ã³ lÃ  OpenApi 3.0.</p>
<p>Táº¡i sao k Ä‘áº·t tÃªn lÃ Â <code>Swagger 3</code>? cÃ¢u chuyá»‡n Ä‘áº±ng sau nÃ³ lÃ  viá»‡c SmartBear mua láº¡i Swagger, vÃ  Ä‘á»•i tÃªn Swagger Specification thÃ nh OpenApi Specification, báº¯t Ä‘áº§u táº¡o ra cÃ¡c tiÃªu chuáº©n má»›i cho xÃ¢y dá»±ng Document, tuy nhiÃªn váº«n xÃ¢y dá»±ng trÃªn Swagger core.</p>
<p><code>OpenApi 3.0</code>Â lÃ  báº£n má»›i nháº¥t Ä‘Æ°á»£c ra máº¯t táº¡i thá»i Ä‘iá»ƒm viáº¿t bÃ i nÃ y.</p>
<p>Trong bÃ i cÃ³ Ä‘á» cáº­p cÃ¡c kiáº¿n thá»©c:</p>
<ol>
<li>Spring Boot</li>
<li>jpa</li>
<li>lombok</li>
</ol>
<h3 id="cÃ i-Ä‘áº·t-4"><a class="header" href="#cÃ i-Ä‘áº·t-4"><strong>cÃ i Ä‘áº·t</strong></a></h3>
<p><em>pom.xml</em></p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;projectxmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;&lt;parent&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;&lt;version&gt;2.0.5.RELEASE&lt;/version&gt;&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;
	&lt;/parent&gt;&lt;groupId&gt;me.loda.spring&lt;/groupId&gt;&lt;artifactId&gt;example-independent-maven-spring-project&lt;/artifactId&gt;&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;&lt;name&gt;example-independent-maven-spring-project&lt;/name&gt;&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;&lt;properties&gt;&lt;java.version&gt;1.8&lt;/java.version&gt;&lt;/properties&gt;&lt;dependencies&gt;&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;&lt;artifactId&gt;lombok&lt;/artifactId&gt;&lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;&lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;&lt;!--https://mvnrepository.com/artifact/org.springdoc/springdoc-openapi-core --&gt;
        &lt;dependency&gt;&lt;groupId&gt;org.springdoc&lt;/groupId&gt;&lt;artifactId&gt;springdoc-openapi-core&lt;/artifactId&gt;&lt;version&gt;1.1.49&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.springdoc&lt;/groupId&gt;&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;&lt;version&gt;1.1.49&lt;/version&gt;&lt;/dependency&gt;&lt;!--spring jpa--&gt;
		&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;&lt;/dependency&gt;&lt;!--in memory database--&gt;
		&lt;dependency&gt;&lt;groupId&gt;com.h2database&lt;/groupId&gt;&lt;artifactId&gt;h2&lt;/artifactId&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;&lt;/dependencies&gt;&lt;build&gt;&lt;plugins&gt;&lt;plugin&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;&lt;/plugin&gt;&lt;/plugins&gt;&lt;/build&gt;&lt;/project&gt;
</code></pre>
<p><code>springdoc</code>Â lÃ  má»™t thÆ° viá»‡n java implementation cá»§a OpenApi Specification 3.0.</p>
<p><code>springdoc-openapi-core</code>Â chá»©a core cá»§a swagger, giÃºp chÃºng ta khai bÃ¡o document cho api.</p>
<p><code>springdoc-openapi-ui</code>Â giÃºp chÃºng ta biá»ƒu diá»…n tÃ i liá»‡u dÆ°á»›i dáº¡ng web view, dá»… nhÃ¬n vÃ  test.</p>
<h3 id="tá»•ng-quan-openapi-30"><a class="header" href="#tá»•ng-quan-openapi-30"><strong>Tá»•ng quan OpenApi 3.0</strong></a></h3>
<p><code>OpenApi 3.0</code>Â káº¿ thá»«a vÃ  Ä‘á»•i má»›i khÃ¡ nhiá»u cÃ¡c thÃ nh pháº§n cá»§aÂ <code>Swagger2</code>, khiáº¿n nÃ³ tÆ°á»ng minh vÃ  dá»… Ä‘á»c hÆ¡n.</p>
<p>SWAGGER2OPENAPI 3.0DESCRIPTION@Api</p>
<p>@Tag</p>
<p>ÄÃ¡nh dáº¥u 1 class lÃ  nÆ¡i chá»©a cÃ¡c API</p>
<p>@ApiModel</p>
<p>khÃ´ng cÃ²n</p>
<p>ÄÃ¡nh dáº¥u 1 class lÃ  Swagger Model</p>
<p>@ApiModelProperty</p>
<p>@Schema</p>
<p>Bá»• sung cÃ¡c thÃ´ng tin cho</p>
<p>@ApiOperation</p>
<p>@Operation</p>
<p>MÃ´ táº£ cho má»™t API vÃ  response cá»§a nÃ³</p>
<p>@ApiParam</p>
<p>@Parameter</p>
<p>MÃ´ táº£ cÃ¡c parameter</p>
<p>@ApiResponse</p>
<p>@ApiResponse</p>
<p>MÃ´ táº£ status code cá»§a response</p>
<p>@ApiResponses</p>
<p>@ApiResponses</p>
<p>MÃ´ táº£ danh sÃ¡ch cÃ¡c status code cá»§a response</p>
<p>ChÃºng ta Ä‘i vÃ o thá»±c hÃ nh thá»­ nhÃ©.</p>
<p>Äáº¡i loáº¡i sau khi lÃ m xong, chÃºng ta sáº½ cÃ³ 1 web view document nhÆ° tháº¿ nÃ y:</p>
<p>!image</p>
<p>NgoÃ i Ä‘áº¹p hÆ¡n, mÃ´ táº£ chi tiáº¿t vÃ  dá»… sá»­ dá»¥ng hÆ¡n, thÃ¬ cÃ³ 1 pháº§n ráº¥t hay, Ä‘Ã³ lÃ  chÃºng ta cÃ³ thá»ƒ chá»n Server Url khi test API</p>
<p>!image</p>
<h3 id="prepare-2"><a class="header" href="#prepare-2"><strong>Prepare</strong></a></h3>
<p>Táº¡o ra class Model</p>
<p><em>User.java</em></p>
<pre><code>@Data
@Entity
@Table
@NoArgsConstructor
@AllArgsConstructor
public class User {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Schema(description = &quot;User UUID in  the database&quot;)
    @JsonProperty(&quot;id&quot;)
    private Long id;

    private @NotBlank @Size(min = 0, max = 20) String firstName;
    private String lastName;

    private @NotBlank @Size(min = 0, max = 50) String email;
}
</code></pre>
<p><em>UserRepository.java</em></p>
<pre><code>@Repository
public interface UserRepository extends JpaRepository&lt;User, Long&gt; {

}
</code></pre>
<p>Khi Ä‘Ã£ cÃ³ Ä‘Æ°á»£c Model vÃ  Repository, chÃºng ta sáº½ táº¡o Controller Ä‘á»ƒ thao tÃ¡c liÃªn quan tá»›iÂ <code>User</code>Â nhÃ©.</p>
<p>Äiá»ƒm khÃ¡c biá»‡t lá»›n nháº¥t cá»§aÂ <code>OpenApi3</code>Â so vá»›iÂ <code>Swagger2</code>Â lÃ  há»‡ thá»‘ng Annotation ráº¥t lÃ  dÃ y Ä‘áº·c, Ä‘a pháº§n cÃ¡c giÃ¡ trá»‹ Ä‘Æ°á»£c biá»ƒu diá»…n vÃ  Äƒn khá»›p vá»›i nhau báº±ng Annotation vÃ  Class.</p>
<pre><code>@RestController
@RequestMapping(&quot;/api/v1&quot;)
@RequiredArgsConstructor
@Tag(name = &quot;user&quot;)
public class UserController {
    private final UserRepository userRepository;

    @Operation(description = &quot;Xem danh sÃ¡ch User&quot;, responses = {
            @ApiResponse(content = @Content(array = @ArraySchema(schema = @Schema(implementation = User.class))), responseCode = &quot;200&quot;) })
    @ApiResponses(value = {
            @ApiResponse(responseCode  = &quot;200&quot;, description = &quot;ThÃ nh cÃ´ng&quot;),
            @ApiResponse(responseCode  = &quot;401&quot;, description = &quot;ChÆ°a xÃ¡c thá»±c&quot;),
            @ApiResponse(responseCode  = &quot;403&quot;, description = &quot;Truy cáº­p bá»‹ cáº¥m&quot;),
            @ApiResponse(responseCode  = &quot;404&quot;, description = &quot;KhÃ´ng tÃ¬m tháº¥y&quot;)
    })
    @GetMapping(&quot;/users&quot;)
    public List&lt;User&gt; getAllUsers() {
        return userRepository.findAll();
    }

    @GetMapping(&quot;/users/{id}&quot;)
    public User getUser(@PathVariable(&quot;id&quot;) Long id) {
        return userRepository.findById(id).orElse(new User());
    }

    @PostMapping(&quot;/users&quot;)
    public User createUser(
            @Valid
            @Parameter(description = &quot;User model to create.&quot;, required = true, schema = @Schema(implementation = User.class))
            @RequestBody User user) {
        return userRepository.save(user);
    }

    @PutMapping(&quot;/users/{id}&quot;)
    public User updateUser(@PathVariable(&quot;id&quot;) Long id, @Valid @RequestBody User user) {
        user.setId(id);
        return userRepository.save(user);
    }

    @DeleteMapping(&quot;/users/{id}&quot;)
    public void deleteUser(@PathVariable(&quot;id&quot;) Long id) {
        userRepository.deleteById(id);
    }
}
</code></pre>
<p>Ã‚u khÃª, Chá»‰ cáº§n nhÆ° váº­y lÃ  cháº¡y Ä‘Æ°á»£c rá»“i.</p>
<p>Náº¿u Ä‘áº§y Ä‘á»§ hÆ¡n, thÃ¬ báº¡n nÃªn configÂ <code>OpenApi</code>Â cho dá»± Ã¡n cá»§a chÃºng ta Ä‘á»ƒ bá»• sung cÃ¡c thÃ´ng tin tá»•ng quan.</p>
<h3 id="config-openapi-30"><a class="header" href="#config-openapi-30"><strong>Config OpenApi 3.0</strong></a></h3>
<p>Chá»‰ cáº§n táº¡o ra Ä‘á»‘i tÆ°á»£ngÂ <code>OpenAPI</code>Â vÃ  cung cáº¥p cÃ¡c thÃ´ng tin cáº§n thiáº¿t.</p>
<pre><code>@Configuration
public class OpenApiConfig {
    @Bean
    public OpenAPI customOpenAPI() {
        return new OpenAPI()
                // Thiáº¿t láº­p cÃ¡c server dÃ¹ng Ä‘á»ƒ test api
                .servers(Lists.newArrayList(
                        new Server().url(&quot;http://localhost:8080&quot;),
                        new Server().url(&quot;https://user.loda.me&quot;)
                ))
                // info
                .info(new Info().title(&quot;Loda Application API&quot;)
                                .description(&quot;Sample OpenAPI 3.0&quot;)
                                .contact(new Contact()
                                                 .email(&quot;loda.namnh@gmail.com&quot;)
                                                 .name(&quot;loda&quot;)
                                                 .url(&quot;https://loda.me/&quot;))
                                .license(new License()
                                                 .name(&quot;Apache 2.0&quot;)
                                                 .url(&quot;http://www.apache.org/licenses/LICENSE-2.0.html&quot;))
                                .version(&quot;1.0.0&quot;));
    }
}
</code></pre>
<p><code>OpenApi3.0</code>Â thÃ¬ báº¡n khÃ´ng cáº§nÂ <code>@Enable</code>Â mÃ  chá»‰ cáº§n addÂ <code>springdoc-openapi-core</code>Â vÃ o dependencies thÃ´i lÃ  nÃ³ tá»± Ä‘á»™ng gen ra tÃ i liá»‡u rá»“i.</p>
<pre><code>@SpringBootApplication
public class App {
    public static void main(String[] args) {
        SpringApplication.run(App.class, args);
    }
}
</code></pre>
<p>BÃ¢y giá», cháº¡y thá»­ vÃ  vÃ o Ä‘á»‹a chá»‰Â <code>http://localhost:8080/swagger-ui.html</code>Â Ä‘á»ƒ xem thÃ nh quáº£ nhÃ©.</p>
<h3 id="káº¿t-6"><a class="header" href="#káº¿t-6"><strong>Káº¿t</strong></a></h3>
<p>Tá»›i Ä‘Ã¢y báº¡n cÃ³ thá»ƒ sá»­ dá»¥ngÂ <strong>OpenAPI 3.0</strong>Â thoáº£i mÃ¡i rá»“i.</p>
<p>ğŸ’Â Náº¿u cÃ³, toÃ n bá»™ project / code máº«u Ä‘Æ°á»£c lÆ°u trá»¯ táº¡i <strong>GitHub</strong></p>
<p>ğŸŒŸÂ ÄÃ¢y lÃ  má»™t bÃ i viáº¿t trongÂ Series <strong>LÃ m chá»§ Spring Boot â€“ Zero to Hero</strong></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="jpahibernate-lÃ -gÃ¬"><a class="header" href="#jpahibernate-lÃ -gÃ¬">ã€ŒJpaã€Hibernate lÃ  gÃ¬?</a></h1>
<ul>
<li>Giá»›i thiá»‡u</li>
<li>Äá»‹nh nghÄ©a</li>
<li>POJO</li>
<li>Mapping dá»¯ liá»‡u</li>
<li>Session</li>
<li>Hibernate Query Language (HQL)</li>
</ul>
<h3 id="giá»›i-thiá»‡u-10"><a class="header" href="#giá»›i-thiá»‡u-10"><strong>Giá»›i thiá»‡u</strong></a></h3>
<p><code>Hibernate</code>Â lÃ  framework Ä‘Æ°á»£c sá»­ dá»¥ng nhiá»u nháº¥t hiá»‡n nay Ä‘á»ƒ giÃºp láº­p trÃ¬nh viÃªn Java cÃ³ thá»ƒ map cÃ¡c class (Pojo) vá»›i má»™t cÆ¡ sá»Ÿ dá»¯ liá»‡u báº¥t ká»³.</p>
<p>TrÆ°á»›c khiÂ <code>Hibernate</code>Â ra Ä‘á»i, chÃºng ta thÆ°á»ng thao tÃ¡c vá»›i cÆ¡ sá»Ÿ dá»¯ liá»‡u thÃ´ng quaÂ <code>JDBC</code>. Theo thá»i gian,Â <code>JDBC</code>Â bá»™c lá»™ nhiá»u Ä‘iá»ƒm yáº¿u nhÆ°:</p>
<ul>
<li>CÃ³ nhiá»u code thá»«a mÃ  chá»‰ phá»¥c vá»¥ má»¥c Ä‘Ã­ch lÃ  láº¥y dá»¯ liá»‡u.</li>
<li>Máº¥t nhiá»u thá»i gian map dá»¯ liá»‡u vÃ o object Java.</li>
<li>Sáº½ tá»‘n nhiá»u cÃ´ng sá»©c khi há»‡ thá»‘ng thay Ä‘á»•i CSDL (yÃªu cáº§uÂ <code>jdbc</code>Â má»›i, code má»›i)</li>
<li>Giao tiáº¿p giá»¯a cÃ¡c báº£ng thÆ°á»ng khÃ³, thiáº¿u tÃ­nh OOP trong Ä‘Ã³.</li>
</ul>
<p>Tá»« Ä‘Ã¢y, Ä‘á»ƒ giáº£m táº£i gÃ¡nh náº·ng cho dev khi thao tÃ¡c vá»›i database.Â <code>Hibernate</code>Â ra Ä‘á»i!</p>
<h3 id="Äá»‹nh-nghÄ©a-1"><a class="header" href="#Äá»‹nh-nghÄ©a-1"><strong>Äá»‹nh nghÄ©a</strong></a></h3>
<p><code>Hibernate</code>Â lÃ  má»™t thÆ° viá»‡nÂ <code>ORM (Object Relational Mapping)</code>Â mÃ£ nguá»“n má»Ÿ giÃºp láº­p trÃ¬nh viÃªn viáº¿t á»©ng dá»¥ng Java cÃ³ thá»ƒ map cÃ¡c objects (pojo) vá»›i há»‡ quáº£n trá»‹ cÆ¡ sá»Ÿ dá»¯ liá»‡u quan há»‡, vÃ  há»— trá»£ thá»±c hiá»‡n cÃ¡c khÃ¡i niá»‡m láº­p trÃ¬nh hÆ°á»›ng Ä‘á»‘i tÆ°á»£ng vá»›i cá»› dá»¯ liá»‡u quan há»‡.</p>
<p>Hiá»ƒu ngáº¯n gá»n thÃ¬Â <code>Hibernate</code>Â sáº½ lÃ  má»™t layer Ä‘á»©ng trung gian giá»¯a á»©ng dá»¥ng vÃ  database, vÃ  chÃºng ta sáº½ giao tiáº¿p vá»›iÂ <code>Hibernate</code>Â thay vÃ¬ giao tiáº¿p vá»›i database</p>
<p>!image</p>
<p>Äá»ƒ giao tiáº¿p vá»›iÂ <code>Hibernate</code>, chÃºng ta sáº½ táº¡o ra má»™tÂ <code>Class</code>Â Ä‘áº¡i diá»‡n cho má»™tÂ <code>Table</code>. VÃ  má»i dá»¯ liá»‡u tá»«Â <code>Table</code>Â trong database sáº½ Ä‘Æ°á»£cÂ <code>Hibernate</code>Â bind vÃ oÂ <code>Class</code>Â Ä‘Ã³ cho chÃºng ta.</p>
<h3 id="pojo"><a class="header" href="#pojo"><strong>POJO</strong></a></h3>
<p><code>Pojo (plain old Java object)</code>Â lÃ  class Ä‘áº¡i diá»‡n cho má»™tÂ <code>Table</code>, thuáº­t ngá»¯ nÃ y Ä‘á»ƒ Ä‘á»‹nh nghÄ©a chÃ­nh xÃ¡c thÃ¬ mÃ¬nh khÃ´ng dÃ¡m cháº¯c, nhÆ°ng vá» Ã½ nghÄ©a thÃ¬ nÃ³ lÃ  má»™t class java thuáº§n tÃºy, ráº¥t thuáº§n tÃºy:</p>
<ol>
<li>All properties must public setter and getter methods (má»i biáº¿n Ä‘á»u pháº£i cÃ³ get/set)</li>
<li>All instance variables should be private (má»i biáº¿n lÃ  thuá»™c tÃ­nh thÃ¬ nÃªn lÃ  private)</li>
</ol>
<pre><code>public class MyFirstPojo
{
    private String name;

    public static void main(String [] args)
    {
       for (String arg : args)
       {
          MyFirstPojo pojo = new MyFirstPojo(arg);  // Here's how you create a POJO
          System.out.println(pojo);
       }
    }

    public MyFirstPojo(String name)
    {
        this.name = name;
    }

    public String getName() { return this.name; }

    public String toString() { return this.name; }
}
</code></pre>
<h3 id="mapping-dá»¯-liá»‡u"><a class="header" href="#mapping-dá»¯-liá»‡u"><strong>Mapping dá»¯ liá»‡u</strong></a></h3>
<p>Khi Ä‘Ã£ cÃ³Â <code>Class</code>Â Ä‘áº¡i diá»‡n choÂ <code>Table</code>Â rá»“i, chÃºng ta sáº½ Ä‘á»‹nh nghÄ©a cÃ¡c trÆ°á»ng trong class Ä‘Ã³ tÆ°Æ¡ng á»©ng vá»›i column nÃ o trong database báº±ng táº­p há»£p cÃ¡cÂ <code>Annotaion</code>Â mÃ Â <code>Hibernate</code>Â cung cáº¥p.</p>
<pre><code>@Entity // ÄÃ¡nh dáº¥u Ä‘Ã¢y lÃ  má»™t Entity, chá»‹u sá»± quáº£n lÃ½ cá»§a Hibernate
@Table(name = &quot;USER&quot;) //Entity nÃ y Ä‘áº¡i diá»‡n cho table USER trong db
public class UserModel {
    @Id // ÄÃ¡nh dáº¥u biáº¿n á»Ÿ dÆ°á»›i lÃ  primary key cá»§a table nÃ y
    @GeneratedValue(strategy = GenerationType.IDENTITY) // Tá»± Ä‘á»™ng tÄƒng giÃ¡ trá»‹ khi insert
    private Long id;

    @Column(name = &quot;email&quot;, unique = true) // trÆ°á»ng email á»Ÿ dÆ°á»›i Ä‘áº¡i diá»‡n cho cá»™t email trong database
    private String email;

    @Column(name = &quot;name&quot;)
    private String name;

    public Long getId() {
        return this.id;
    }
    public void setId(Long id) {
        this.id = id;
    }
    public String getEmail() {
        return email;
    }
    public void setEmail(String email) {
        this.email = email;
    }
    public String getName() {
        return this.name;
    }
    public void setName(String name) {
        this.name = name;
    }
}
</code></pre>
<p>BÃ¢y giá» viá»‡c báº¡n láº¥y dá»¯ liá»‡u tá»« database sáº½ Ä‘áº¡i loáº¡i nhÆ° nÃ y:</p>
<pre><code>public List&lt;User&gt; findAll() {
    return session.createQuery(&quot;SELECT a FROM User a&quot;, User.class).getResultList();
}
</code></pre>
<p>ChÃºng ta tiáº¿t kiá»‡m Ä‘Æ°á»£c ráº¥t nhiá»u thá»i gian cho viá»‡c mapping dá»¯ liá»‡u tá»« database sang class java, vÃ  Ä‘áº·c biá»‡t lÃ  khi thay Ä‘á»•i Database thÃ¬ cÅ©ng sáº½ khÃ´ng áº£nh hÆ°á»Ÿng gÃ¬ tá»›i Ä‘oáº¡n code á»Ÿ trÃªn cáº£, chÃºng ta gáº§n nhÆ° trong suá»‘t vá»›i táº§ng database, mÃ  chá»‰ cáº§n nÃ³i chuyá»‡n vá»›iÂ <code>Hibernate</code>Â lÃ  Ä‘á»§!</p>
<h3 id="session"><a class="header" href="#session"><strong>Session</strong></a></h3>
<p>Äá»‘i tÆ°á»£ng chÃ­nh cá»§a viá»‡c truy xuáº¥t hay insert dá»¯ liá»‡u báº±ngÂ <code>Hibernate</code>Â chÃ­nh lÃ Â <code>Session</code>Â vÃ  Ä‘Æ°á»£c táº¡o ra tá»«Â <code>Session Factory</code>.</p>
<p><code>Session Factory</code>Â LÃ  má»™t interface giÃºp táº¡o ra session káº¿t ná»‘i Ä‘áº¿n database báº±ng cÃ¡ch Ä‘á»c cÃ¡c cáº¥u hÃ¬nh trong má»™t file xml vÃ  má»—i loáº¡i Database khÃ¡c nhau sáº½ cÃ³ má»™t cáº¥u hÃ¬nh khÃ¡c nhau.</p>
<p>File cáº¥u hÃ¬nhÂ <code>hibernate.cfg.xml</code>Â cÃ³ dáº¡ng nhÆ° sau:</p>
<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;
&lt;!DOCTYPE hibernate-configuration PUBLIC
&quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;
&quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;

&lt;hibernate-configuration&gt;&lt;session-factory&gt;&lt;propertyname=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;&lt;propertyname=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://192.168.10.13:3306/loda
&lt;/property&gt;&lt;propertyname=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;&lt;propertyname=&quot;hibernate.connection.password&quot;&gt;root&lt;/property&gt;&lt;propertyname=&quot;hibernate.connection.pool_size&quot;&gt;10&lt;/property&gt;&lt;propertyname=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;&lt;propertyname=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/property&gt;&lt;/session-factory&gt;&lt;/hibernate-configuration&gt;
</code></pre>
<p>Khi Ä‘Ã£ cÃ³ file config nÃ y rá»“i, chÃºng ta sá»­ dá»¥ng nÃ³ Ä‘á»ƒ táº¡o raÂ <code>Session Factory</code>Â nhÆ° sau:</p>
<pre><code>public class SessionFactoryProvider {

    private static SessionFactory buildSessionFactory() {
        ServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder()//
                .configure(&quot;hibernate.cfg.xml&quot;).build();

        Metadata metadata = new MetadataSources(serviceRegistry).getMetadataBuilder().build();

        return metadata.getSessionFactoryBuilder().build();
    }
}
</code></pre>
<p>Tá»« Ä‘Ã³, má»—i láº§n cáº§n query hay insert dá»¯ liá»‡u, chÃºng ta sáº½ táº¡o raÂ <code>Session</code>Â vÃ  sá»­ dá»¥ng.</p>
<pre><code>SessionFactory factory = HibernateSessionUtils.getSessionFactory();

Session session = factory.getCurrentSession();

try {
    session.getTransaction().begin();

    List&lt;User&gt; users = session.createQuery(&quot;SELECT a FROM User a&quot;, User.class).getResultList();

    session.getTransaction().commit();
}catch (Exception e) {}
</code></pre>
<h3 id="hibernate-query-language-hql"><a class="header" href="#hibernate-query-language-hql"><strong>Hibernate Query Language (HQL)</strong></a></h3>
<p><code>Hibernate</code>Â sá»­ dá»¥ng ngÃ´n ngá»¯Â <code>Hibernate Query Language (HQL)</code>Â Ä‘á»ƒ query dá»¯ liá»‡u. NÃ³ chá»‰ khÃ¡cÂ <code>SQL</code>Â bÃ¬nh thÆ°á»ng á»Ÿ chá»—, Ä‘á»‘i tÆ°á»£ng tÃ¡c Ä‘á»™ng lÃºc nÃ y lÃ Â <code>Entity</code>Â chá»© khÃ´ng cÃ²n lÃ Â <code>Table</code>Â ná»¯a:</p>
<p>vÃ­ dá»¥:</p>
<pre><code>-- SQL
-- from table name
Select u.id, u.email from USER u;

-- HQL
-- from class name
Select u.id, u.email from User u;

-- query toÃ n bá»™ object
Select u from User u;
</code></pre>
<p>Äang viáº¿t dá»Ÿ Continue...</p>
<ol>
<li><a href="spring-boot/">ğŸª‚ã€ŒJpaã€HÆ°á»›ng dáº«n sá»­ dá»¥ng @OneToOne</a></li>
<li><a href="spring-boot/">ğŸš…ã€ŒJpaã€HÆ°á»›ng dáº«n @OneToMany vÃ  @ManyToOne</a></li>
<li><a href="spring-boot/">ğŸ›µã€ŒJpaã€HÆ°á»›ng dáº«n @ManyToMany</a></li>
</ol>
<p>ğŸ’Â Náº¿u cÃ³, toÃ n bá»™ project / code máº«u Ä‘Æ°á»£c lÆ°u trá»¯ táº¡i <strong>GitHub</strong></p>
<p>ğŸŒŸÂ ÄÃ¢y lÃ  má»™t bÃ i viáº¿t trongÂ Series <strong>LÃ m chá»§ Spring Boot â€“ Zero to Hero</strong></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="jpa-hÆ°á»›ng-dáº«n-sá»­-dá»¥ng-specification-pháº§n-1"><a class="header" href="#jpa-hÆ°á»›ng-dáº«n-sá»­-dá»¥ng-specification-pháº§n-1">ã€ŒJpaã€ HÆ°á»›ng dáº«n sá»­ dá»¥ng Specification (Pháº§n 1)</a></h1>
<h3 id="giá»›i-thiá»‡u-11"><a class="header" href="#giá»›i-thiá»‡u-11"><strong>Giá»›i thiá»‡u</strong></a></h3>
<p>Trong má»™t bÃ i viáº¿t gáº§n nháº¥t vá»Â Â tÃ´i Ä‘Ã£ hÆ°á»›ng dáº«n cÃ¡c báº¡n cÃ¡ch xÃ¢y dá»±ng cÃ¡c cÃ¢u query xuá»‘ng Database báº±ng cÃ¡c API do Hibernate cung cáº¥p.</p>
<p>VÃ  trong má»™t bÃ i viáº¿t khÃ¡c vá» JPA Repository thÃ¬ chÃºng ta cÅ©ng Ä‘Ã£ biáº¿t cÃ¡ch custom cÃ¡c query báº±ng cÃ¡ch Ä‘áº·t tÃªn method:</p>
<ol>
<li>ã€ŒSpring Boot #11ã€ HuÌ›oÌ›Ìng daÌ‚Ìƒn Spring Boot JPA + MySQL</li>
<li>ã€ŒSpring Boot #12ã€ Spring JPA Method + @Query </li>
</ol>
<p>Tuy nhiÃªn, trong cÃ¡c phÆ°Æ¡ng phÃ¡p trÃªn, váº«n sáº½ cÃ²n má»™t sá»‘ cÃ¡c Ä‘iá»ƒm báº¥t cáº­p, vÃ­ dá»¥ nhÆ°Â <code>JpaRepository</code>Â thÃ¬ báº¡n sáº½ pháº£i viáº¿t quÃ¡ nhiá»u method vÃ  má»—i cÃ¡i sáº½ phá»¥c vá»¥ cho má»™t má»¥c Ä‘Ã­ch cá»‘ Ä‘á»‹nh (khÃ´ng thá»ƒ tÃ¡i sá»­ dá»¥ng, reuseable).</p>
<pre><code>public interface UserRepository extends JpaRepository&lt;User, Long&gt; {

  User findByEmailAddress(String emailAddress);

  List&lt;User&gt; findByLastname(String lastname, Sort sort);

  Page&lt;User&gt; findByFirstname(String firstname, Pageable pageable);
}
</code></pre>
<p>Äá»ƒ cÃ³ thá»ƒ tá»‘i Æ°u viá»‡c viáº¿t query má»™t cÃ¡ch linh Ä‘á»™ng hÆ¡n vÃ  cÃ³ thá»ƒ tÃ¡i sá»­ dá»¥ng láº¡i, Spring mang tá»›i cho chÃºng ta interfaceÂ <code>Specification</code>.</p>
<p>LÃºc nÃ y, cÃ¡ch tiáº¿p cáº­n cá»§a viá»‡c xÃ¢y dá»±ng query sáº½ Ä‘áº¡i loáº¡i nhÆ° sau:</p>
<pre><code>userRepository.findAll(Specification.where(hasIdIn(Arrays.asList(1L, 2L, 3L, 4L, 5L)))
                                                .and(hasType(UserType.NORMAL))
                                                .or(hasId(10L)));
</code></pre>
<p>Vá»›i cÃ¡ch Ä‘á»‹nh nghÄ©a nÃ y, chÃºng ta cÃ³ thá»ƒ tÃ¡i sá»­ dá»¥ng query vÃ  tuá»³ biáº¿n nÃ³ má»i lÃºc Ä‘á»ƒ phÃ¹ há»£p vá»›i yÃªu cáº§u.</p>
<p>KhÃ¡i niá»‡mÂ <code>Specification</code>Â Ä‘Æ°á»£c xÃ¢y dá»±ng tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›iÂ <code>Predicate</code>Â trong Hibernate. Báº¡n hÃ£y Ä‘á»c bÃ i dÆ°á»›i trÆ°á»›c khi Ä‘i tiáº¿p vÃ o bÃ i nÃ y: <strong>HuÌ›oÌ›Ìng daÌ‚Ìƒn suÌ›Ì‰ duÌ£ng Criteria API trong Hibernate (PhaÌ‚Ì€n 2)</strong> </p>
<p>Trong bÃ i cÃ³ sá»­ dá»¥ng: Lombok</p>
<h3 id="cÃ i-Ä‘áº·t-5"><a class="header" href="#cÃ i-Ä‘áº·t-5"><strong>CÃ i Ä‘áº·t</strong></a></h3>
<p>Nhá»› thÃªmÂ <code>spring-boot-starter-data-jpa</code>Â vÃ o dependencies cá»§a báº¡n.</p>
<p>Trong pháº§n nÃ y, tÃ´i xÃ iÂ <em>H2 database</em>Â Ä‘á»ƒ demo. (H2 lÃ  dáº¡ng memory database, nÃ³ sáº½ lÆ°u trong ram vÃ  khi táº¯t chÆ°Æ¡ng trÃ¬nh nÃ³ sáº½ máº¥t sáº¡ch)</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;projectxmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;&lt;parent&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;&lt;version&gt;2.0.5.RELEASE&lt;/version&gt;&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;
	&lt;/parent&gt;&lt;groupId&gt;me.loda.spring&lt;/groupId&gt;&lt;artifactId&gt;example-independent-maven-spring-project&lt;/artifactId&gt;&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;&lt;name&gt;example-independent-maven-spring-project&lt;/name&gt;&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;&lt;properties&gt;&lt;java.version&gt;1.8&lt;/java.version&gt;&lt;/properties&gt;&lt;dependencies&gt;&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;&lt;artifactId&gt;lombok&lt;/artifactId&gt;&lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;&lt;scope&gt;test&lt;/scope&gt;&lt;!--			&lt;exclusions&gt;--&gt;
			&lt;!--				&lt;exclusion&gt;--&gt;
			&lt;!--					&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;--&gt;
			&lt;!--					&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;--&gt;
			&lt;!--				&lt;/exclusion&gt;--&gt;
			&lt;!--			&lt;/exclusions&gt;--&gt;
		&lt;/dependency&gt;&lt;!--spring jpa--&gt;
		&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;&lt;/dependency&gt;&lt;!--in memory database--&gt;
		&lt;dependency&gt;&lt;groupId&gt;com.h2database&lt;/groupId&gt;&lt;artifactId&gt;h2&lt;/artifactId&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;&lt;!--https://mvnrepository.com/artifact/org.hibernate/hibernate-jpamodelgen --&gt;
		&lt;dependency&gt;&lt;groupId&gt;org.hibernate&lt;/groupId&gt;&lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;&lt;version&gt;5.4.9.Final&lt;/version&gt;&lt;scope&gt;provided&lt;/scope&gt;&lt;/dependency&gt;&lt;/dependencies&gt;&lt;build&gt;&lt;plugins&gt;&lt;plugin&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;&lt;/plugin&gt;&lt;/plugins&gt;&lt;/build&gt;&lt;/project&gt;
</code></pre>
<p>ChÃº Ã½, xem kÄ© hÆ¡nÂ <code>hibernate-jpamodelgen</code>Â trong bÃ i viáº¿tÂ </p>
<h3 id="specification"><a class="header" href="#specification"><strong>Specification</strong></a></h3>
<p><code>Specification</code>Â lÃ  má»™t cÃ¡ch Ä‘á»ƒ Ä‘á»‹nh nghÄ©a cÃ¡cÂ <code>Predicate</code>Â cÃ³ thá»ƒ tÃ¡i sá»­ dá»¥ng Ä‘Æ°á»£c.</p>
<p>Báº£n cháº¥tÂ <code>Specification</code>Â lÃ  má»™t funtional interface vá»›i 1 hÃ m duy nháº¥t nhÆ° sau:</p>
<pre><code>public interface Specification&lt;T&gt; {
  Predicate toPredicate(Root&lt;T&gt; root, CriteriaQuery query, CriteriaBuilder cb);
}
</code></pre>
<p>Tham sá»‘ Ä‘áº§u vÃ o lÃ  3 khÃ¡i niá»‡m tÃ´i Ä‘Ã£ giá»›i thiá»‡u á»Ÿ bÃ iÂ , bao gá»“m:</p>
<ol>
<li><code>Root</code></li>
<li><code>CriteriaQuery</code></li>
<li><code>CriteriaBuilder</code></li>
</ol>
<p>tÃ´i sáº½ demo trÆ°á»›c má»™t sá»‘ implementation cá»§aÂ <code>Specification</code>Â vÃ  Ä‘á» cáº­p cÃ¡ch sá»­ dá»¥ng nÃ³ á»Ÿ phÃ­a dÆ°á»›i:</p>
<p><em>User.java</em></p>
<pre><code>@Entity
@Data
@Builder
public class User {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    private UserType type;
    private String name;

    public enum UserType {
        NORMAL, VIP;
    }
}
</code></pre>
<p><em>UserSpecification.java</em></p>
<pre><code>public final class UserSpecification {
    /**
     * Láº¥y ra user cÃ³ UserType chá»‰ Ä‘á»‹nh
     * @param type
     * @return
     */
    public static Specification&lt;User&gt; hasType(UserType type) {
        return (root, query, cb) -&gt; cb.equal(root.get(User_.TYPE), type);
    }

    /**
     * Láº¥y ra user cÃ³ id chá»‰ Ä‘á»‹nh
     * @param userId
     * @return
     */
    public static Specification&lt;User&gt; hasId(long userId) {
        return (root, query, cb) -&gt; cb.equal(root.get(User_.ID), userId);
    }

    /**
     * Láº¥y ra user náº±m trong táº­p ID chá»‰ Ä‘á»‹nh
     * @param userIds
     * @return
     */
    public static Specification&lt;User&gt; hasIdIn(Collection&lt;Long&gt; userIds) {
        return (root, query, cb) -&gt; root.get(User_.ID).in(userIds);
    }
}
</code></pre>
<p>TÃ´i Ä‘á»‹nh nghÄ©a ra cÃ¡cÂ <code>static method</code>Â tráº£ ra ngoÃ i lÃ  cÃ¡c implement cá»§aÂ <code>Specification</code>. NÃ³ khÃ´ng háº³n lÃ  Ä‘oáº¡n code Ä‘áº¹p nháº¥t ==! nhÆ°ng nÃ³ lÃ  má»™t cÃ¡ch lÃ m hay Ä‘á»ƒ cÃ³ thá»ƒ Ä‘á»‹nh nghÄ©a má»™t táº­p cÃ¡c Ä‘iá»u kiá»‡n cÃ³ thá»ƒ sá»­ dá»¥ng láº¡i Ä‘Æ°á»£c choÂ <code>User</code>.</p>
<h3 id="jpaspecificationexecutor"><a class="header" href="#jpaspecificationexecutor"><strong>JpaSpecificationExecutor</strong></a></h3>
<p>Äá»ƒ cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘Æ°á»£cÂ <code>Specification</code>, báº¡n cáº§n káº¿ thá»«aÂ <code>JpaSpecificationExecutor</code>Â tá»« Spring JPA</p>
<pre><code>public interface UserRepository extends JpaRepository&lt;User, Long&gt;,
                                        JpaSpecificationExecutor&lt;User&gt; {
}
</code></pre>
<p>LÃºc nÃ y, ngoÃ i cÃ¡c method truyá»n thá»‘ng nhÆ°Â <code>findAll()</code>,Â <code>findOne()</code>,Â <code>findBy()</code>Â thÃ¬ báº¡n sáº½ tháº¥y xuáº¥t hiá»‡n cÃ¡c method má»›i cÃ³ tham sá»‘ Ä‘áº§u vÃ o lÃ Â <code>Specification&lt;T&gt;</code>:</p>
<pre><code>Optional&lt;T&gt; findOne(@Nullable Specification&lt;T&gt; var1);

List&lt;T&gt; findAll(@Nullable Specification&lt;T&gt; var1);

Page&lt;T&gt; findAll(@Nullable Specification&lt;T&gt; var1, Pageable var2);

List&lt;T&gt; findAll(@Nullable Specification&lt;T&gt; var1, Sort var2);

long count(@Nullable Specification&lt;T&gt; var1);
</code></pre>
<h3 id="usage"><a class="header" href="#usage"><strong>Usage</strong></a></h3>
<p>LÃºc nÃ y, Ä‘á»ƒ sá»­ dá»¥ng, báº¡n gá»iÂ <code>Specification.where()</code>Â Ä‘á»ƒ xÃ¢y dá»±ng cho mÃ¬nh táº­p cÃ¡c Ä‘iá»u kiá»‡n Ä‘á»ƒ query</p>
<pre><code>// Láº¥y ra user náº±m trong táº­p ID Ä‘Ã£ cho vÃ  cÃ³ type lÃ  NORMAL
// hoáº·c láº¥y ra user cÃ³ ID = 10
Specification conditions = Specification.where(UserSpecification.hasIdIn(Arrays.asList(1L, 2L, 3L, 4L, 5L)))
                                        .and(UserSpecification.hasType(UserType.NORMAL))
                                        .or(UserSpecification.hasId(10L));
// Truyá»n Specification vÃ o hÃ m findAll()
userRepository.findAll(conditions).forEach(System.out::println);
</code></pre>
<p>OUTPUT:</p>
<pre><code>User(id=1, type=NORMAL, name=name-0)
User(id=2, type=NORMAL, name=name-1)
User(id=5, type=NORMAL, name=name-4)
User(id=10, type=VIP, name=name-9)
</code></pre>
<p>NgoÃ i ra, báº¡n cÃ³ thá»ƒ import trá»±c tiáº¿p cÃ¡c hÃ m static vÃ o Ä‘á»ƒ code gá»n hÆ¡n:</p>
<pre><code>import static me.loda.spring.specification.User.UserType.NORMAL;
import static me.loda.spring.specification.UserSpecification.*;

...
// Láº¥y ra user náº±m trong táº­p ID Ä‘Ã£ cho vÃ  cÃ³ type lÃ  NORMAL
// hoáº·c láº¥y ra user cÃ³ ID = 10
Specification conditions = Specification.where(hasIdIn(Arrays.asList(1L, 2L, 3L, 4L, 5L)))
                                        .and(hasType(NORMAL))
                                        .or(hasId(10L));
// Truyá»n Specification vÃ o hÃ m findAll()
userRepository.findAll(conditions).forEach(System.out::println);
</code></pre>
<p>Gá»n hÆ¡n thÃ¬ khÃ´ng nÃªn táº¡o ra 1 biáº¿n tham chiáº¿u thá»«a thÃ£i:</p>
<pre><code>userRepository.findAll(Specification.where(hasIdIn(Arrays.asList(1L, 2L, 3L, 4L, 5L)))
                                    .and(hasType(NORMAL))
                                    .or(hasId(10L)))
              .forEach(System.out::println);
</code></pre>
<h3 id="káº¿t-7"><a class="header" href="#káº¿t-7"><strong>Káº¿t</strong></a></h3>
<p>Tá»›i Ä‘Ã¢y báº¡n Ä‘Ã£ cÃ³ thá»ƒ sá»­ dá»¥ngÂ <code>Specification</code>Â Ä‘á»ƒ thá»±c hiá»‡n cÃ¡c truy váº¥n phá»©c táº¡p vÃ  tÃ¡i sá»­ dá»¥ng Ä‘Æ°á»£c trong nhiá»u trÆ°á»ng há»£p. ÄÃ³n Ä‘á»c cÃ¡c bÃ i sau vá» cÃ¡c pháº§n nÃ¢ng cao hÆ¡n.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="jpahÆ°á»›ng-dáº«n-sá»­-dá»¥ng-onetoone"><a class="header" href="#jpahÆ°á»›ng-dáº«n-sá»­-dá»¥ng-onetoone">ã€ŒJpaã€HÆ°á»›ng dáº«n sá»­ dá»¥ng @OneToOne</a></h1>
<ul>
<li>Giá»›i thiá»‡u</li>
<li>Táº¡o project</li>
<li>Táº¡o Table</li>
<li>Cháº¡y thá»­</li>
<li>ThÃªm dá»¯ liá»‡u</li>
</ul>
<h3 id="giá»›i-thiá»‡u-12"><a class="header" href="#giá»›i-thiá»‡u-12"><strong>Giá»›i thiá»‡u</strong></a></h3>
<p>CÃ¡ch biá»ƒu thá»‹ quan há»‡ 1-1 trong cÆ¡ sá»Ÿ dá»¯ liá»‡u lÃ  ráº¥t phá»• biáº¿n, vÃ­ dá»¥ má»™t ngÆ°á»i sáº½ cÃ³ má»™t Ä‘á»‹a chá»‰ duy nháº¥t (giáº£ sá»­).</p>
<p>BÃ¬nh thÆ°á»ng, khi cÃ¡c báº¡n táº¡o table trong csdl Ä‘á»ƒ biá»ƒu thá»‹ má»‘i quan há»‡ nÃ y, thÃ¬ sáº½ cÃ³ má»™t báº£ng chá»©a khÃ³a ngoáº¡i cá»§a báº£ng cÃ²n láº¡i.</p>
<p>!image</p>
<p>Thá»ƒ hiá»‡n má»—i quan há»‡ nÃ y trongÂ <code>code</code>Â báº±ngÂ <code>Hibernate</code>Â thÃ¬ chÃºng ta sáº½ dÃ¹ngÂ <code>@OneToOne</code>.</p>
<p>Trong bÃ i sá»­ dá»¥ng cÃ¡c kiáº¿n thá»©c:</p>
<ol>
<li>Hibernate lÃ  gÃ¬?</li>
<li>CÃ¡ch sá»­ dá»¥ng Lombok Ä‘á»ƒ tiáº¿t kiá»‡m thá»i gian code</li>
</ol>
<h3 id="táº¡o-project"><a class="header" href="#táº¡o-project"><strong>Táº¡o project</strong></a></h3>
<p>ToÃ n bá»™ bÃ i viáº¿t Ä‘Æ°á»£c up táº¡iÂ <code>Github</code>:Â github.com/loda-kun/java-all</p>
<p>ChÃºng ta sáº½ sá»­ dá»¥ngÂ <code>Gradle</code>Â Ä‘á»ƒ táº¡o má»™t project cÃ³ khai bÃ¡oÂ <code>Spring Boot</code>Â vÃ Â <code>Jpa</code>Â Ä‘á»ƒ há»— trá»£ cho viá»‡c demoÂ <code>@OneToOne</code>.</p>
<p>CÃ¡c báº¡n cÃ³ thá»ƒ tá»± táº¡o 1 project Spring-boot vá»›i gradle Ä‘Æ¡n giáº£n táº¡i:Â https://start.spring.io</p>
<pre><code>plugins {
    id 'org.springframework.boot' version '2.1.4.RELEASE'
    id 'java'
}
apply plugin: 'io.spring.dependency-management'

group 'me.loda.java'
version '1.0-SNAPSHOT'

sourceCompatibility = 1.8

configurations {
    compileOnly {
        extendsFrom annotationProcessor
    }
}

repositories {
    mavenCentral()
}

dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
    implementation 'org.springframework.boot:spring-boot-starter-web'
    compileOnly 'org.projectlombok:lombok'
    runtimeOnly 'com.h2database:h2'
    annotationProcessor 'org.projectlombok:lombok'
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
}
</code></pre>
<p>Trong á»©ng dá»¥ng trÃªn báº¡n sáº½ tháº¥y cÃ³Â <code>com.h2database:h2</code>. ÄÃ¢y lÃ  má»™tÂ <strong>database</strong>, tuy nhiÃªn nÃ³ chá»‰ tá»“n táº¡i trong bá»™ nhá»›. Tá»©c lÃ m má»—i khi cháº¡y chÆ°Æ¡ng trÃ¬nh nÃ y, nÃ³ sáº½ táº¡o database trongÂ <code>RAM</code>, vÃ  táº¯t chÆ°Æ¡ng trÃ¬nh Ä‘i nÃ³ sáº½ máº¥t.</p>
<p>ChÃºng ta sáº½ sá»­ dá»¥ngÂ <code>H2</code>Â thay choÂ <code>MySql</code>Â Ä‘á»ƒ cho.. tiá»‡n!</p>
<p>Khi táº¡o xong project, sáº½ cÃ³ thÆ° má»¥c nhÆ° sau:</p>
<p>!image</p>
<h3 id="táº¡o-table"><a class="header" href="#táº¡o-table"><strong>Táº¡o Table</strong></a></h3>
<p>Äá»ƒ táº¡o table, chÃºng ta táº¡o ra cÃ¡cÂ <code>Class</code>Â tÆ°Æ¡ng á»©ng.</p>
<pre><code>import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.Id;
import javax.persistence.JoinColumn;
import javax.persistence.OneToOne;

import lombok.Builder;
import lombok.Data;

@Entity // Hibernate entity
@Data // Lombok
@Builder // Lombok
public class Person { //Table person

    @Id // ÄÃ¡nh dáº¥u trÆ°á»ng nÃ y lÃ  primary key
    @GeneratedValue // Tá»± Ä‘á»™ng tÄƒng giÃ¡ trá»‹ id
    private Long id;
    private String name;
}
</code></pre>
<pre><code>@Entity
@Data
@Builder
public class Address { // Table address
    @Id
    @GeneratedValue
    private Long id;

    private String city;
    private String province;

    @OneToOne // ÄÃ¡nh dáº¥u cÃ³ má»—i quan há»‡ 1-1 vá»›i Person á»Ÿ phÃ­a dÆ°á»›i
    @JoinColumn(name = &quot;person_id&quot;) // LiÃªn káº¿t vá»›i nhau qua khÃ³a ngoáº¡i person_id
    private Person person;
}
</code></pre>
<p>Náº¿u chÃºng ta chÆ°a táº¡o ra cÃ¡c table trong cÆ¡ sá»Ÿ dá»¯ liá»‡u, thÃ¬ máº·c Ä‘á»‹nhÂ <code>Hibernate</code>Â sáº½ bind dá»¯ liá»‡u tá»« class xuá»‘ng vÃ  táº¡o table cho chÃºng ta.</p>
<p>Báº¡n pháº£i táº¡o file configÂ <code>src\main\resources\application.properties</code>Â nhÆ° sau Ä‘á»ƒ káº¿t ná»‘i tá»›iÂ <code>H2</code>Â database nhÃ©:</p>
<pre><code>spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
// KhÃ´ng cÃ³ password, vÃ o tháº³ng luÃ´n
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
# Cho phÃ©p vÃ o xem db thÃ´ng qua web
spring.h2.console.enabled=true
</code></pre>
<h3 id="cháº¡y-thá»­-2"><a class="header" href="#cháº¡y-thá»­-2"><strong>Cháº¡y thá»­</strong></a></h3>
<p>Báº¡n táº¡o fileÂ <code>OneToOneExampleApplication</code>Â vÃ  cáº¥u hÃ¬nhÂ <code>Spring Boot</code>Â vÃ  khá»Ÿi cháº¡y chÆ°Æ¡ng trÃ¬nh.</p>
<pre><code>@SpringBootApplication
@RequiredArgsConstructor
public class OneToOneExampleApplication {
    public static void main(String[] args) {
        SpringApplication.run(OneToOneExampleApplication.class, args);
    }
}
</code></pre>
<p>Sau khi cháº¡y xong, hÃ£y truy cáº­p vÃ oÂ <code>http://localhost:8080/h2-console/</code>Â Ä‘á»ƒ vÃ o xem database cÃ³ gÃ¬ nhÃ©.</p>
<p>!image</p>
<p>Báº¡n sáº½ tháº¥y nÃ³ táº¡o table giá»‘ng vá»›i mÃ´ táº£ á»Ÿ Ä‘áº§u bÃ i. Vá»›i khÃ³a ngoáº¡iÂ <code>person_id</code>Â á»Ÿ báº£ngÂ <code>address</code>.</p>
<h3 id="thÃªm-dá»¯-liá»‡u"><a class="header" href="#thÃªm-dá»¯-liá»‡u"><strong>ThÃªm dá»¯ liá»‡u</strong></a></h3>
<p>Äá»ƒ thÃªm dá»¯ liá»‡u vÃ o database, chÃºng ta sáº½ dÃ¹ng tá»›iÂ <code>Jpa</code>.</p>
<pre><code>import org.springframework.data.jpa.repository.JpaRepository;

public interface AddressRepository extends JpaRepository&lt;Address,Long&gt; {
}
public interface PersonRepository extends JpaRepository&lt;Person, Long&gt; {
}
</code></pre>
<p>ChÃºng ta sáº½ táº¡o má»™t chÆ°Æ¡ng trÃ¬nhÂ <code>Spring Boot</code>Â Ä‘Æ¡n giáº£n báº±ng cÃ¡ch sá»­ dá»¥ngÂ <code>CommandLineRunner</code>Â Ä‘á»ƒ cháº¡y code ngay khi khá»Ÿi Ä‘á»™ng.</p>
<pre><code>import javax.transaction.Transactional;

import org.springframework.boot.CommandLineRunner;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

import com.google.common.collect.Lists;

import lombok.RequiredArgsConstructor;

@SpringBootApplication
@RequiredArgsConstructor
public class OneToOneExampleApplication implements CommandLineRunner {
    public static void main(String[] args) {
        SpringApplication.run(OneToOneExampleApplication.class, args);
    }

    // Sá»­ dá»¥ng @RequiredArgsConstructor vÃ  final Ä‘á»ƒ thay cho @Autowired
    private final PersonRepository personRepository;
    private final AddressRepository addressRepository;

    @Override
    public void run(String... args) throws Exception {
        // Táº¡o ra Ä‘á»‘i tÆ°á»£ng person
        Person person = Person.builder()
                              .name(&quot;loda&quot;)
                              .build();
        // LÆ°u vÃ o db
        personRepository.save(person);

        // Táº¡o ra Ä‘á»‘i tÆ°á»£ng Address cÃ³ tham chiáº¿u tá»›i person
        Address address = Address.builder()
                .city(&quot;Hanoi&quot;)
                .person(person)
                .build();

        // LÆ°u vÃ o db
        addressRepository.save(address);

        // VÃ o:http://localhost:8080/h2-console/ Ä‘á»ƒ xem dá»¯ liá»‡u Ä‘Ã£ insert
    }
}
</code></pre>
<p>Káº¿t quáº£ trong database lÃºc nÃ y:</p>
<p>!image</p>
<p>Váº­y lÃ  tháº±ngÂ <code>Address</code>Â Ä‘Ã£ liÃªn káº¿t tá»›iÂ <code>Person</code>Â cÃ³Â <code>id=1</code>. ÄÃºng nhÆ° ta mong Ä‘á»£i.</p>
<p>BÃ i viáº¿t cá»§a mÃ¬nh khÃ´ng cÃ²n gÃ¬ Ä‘á»ƒ ngáº¯n hÆ¡n Ä‘Æ°á»£c ná»¯a :((( tháº­t há»• tháº¹n, mÃ¬nh cÃ³ up code lÃªn Ä‘Ã¢y, báº¡n cháº¡y code cÃ¡i lÃ  hiá»ƒu liá»n Ã :</p>
<p>ChÃºc cÃ¡c báº¡n há»c táº­p tá»‘t! ahuu</p>
<ol>
<li><a href="spring-boot/">ğŸš…ã€ŒJpaã€HÆ°á»›ng dáº«n @OneToMany vÃ  @ManyToOne</a></li>
<li><a href="spring-boot/">ğŸ›µã€ŒJpaã€HÆ°á»›ng dáº«n @ManyToMany</a></li>
</ol>
<p>ğŸ’Â Náº¿u cÃ³, toÃ n bá»™ project / code máº«u Ä‘Æ°á»£c lÆ°u trá»¯ táº¡i <strong>GitHub</strong></p>
<p>ğŸŒŸÂ ÄÃ¢y lÃ  má»™t bÃ i viáº¿t trongÂ Series <strong>LÃ m chá»§ Spring Boot â€“ Zero to Hero</strong></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="jpahÆ°á»›ng-dáº«n-onetomany-vÃ -manytoone"><a class="header" href="#jpahÆ°á»›ng-dáº«n-onetomany-vÃ -manytoone">ã€ŒJpaã€HÆ°á»›ng dáº«n @OneToMany vÃ  @ManyToOne</a></h1>
<ul>
<li>Giá»›i thiá»‡u</li>
<li>Táº¡o project</li>
<li>Táº¡o Table</li>
<li>Cháº¡y thá»­</li>
<li>ThÃªm dá»¯ liá»‡u</li>
</ul>
<h3 id="giá»›i-thiá»‡u-13"><a class="header" href="#giá»›i-thiá»‡u-13"><strong>Giá»›i thiá»‡u</strong></a></h3>
<p>CÃ¡ch biá»ƒu thá»‹ quan há»‡ 1-n trong cÆ¡ sá»Ÿ dá»¯ liá»‡u lÃ  ráº¥t phá»• biáº¿n, vÃ­ dá»¥ má»™t Ä‘á»‹a chá»‰ cÃ³ thá»ƒ cÃ³ nhiá»u ngÆ°á»i á»Ÿ (gia Ä‘Ã¬nh).</p>
<p>BÃ¬nh thÆ°á»ng, khi cÃ¡c báº¡n táº¡o table trong csdl Ä‘á»ƒ biá»ƒu thá»‹ má»‘i quan há»‡ nÃ y, thÃ¬ báº£ng Ä‘áº¡i diá»‡n phÃ­a nhiá»u (phÃ­a n trong cÃ¢u 1-n) sáº½ chá»©a id cá»§a báº£ng tham chiáº¿u (phÃ­a 1 trong cÃ¢u 1-n)</p>
<p>!image</p>
<p>Thá»ƒ hiá»‡n má»—i quan há»‡ nÃ y má»™t cÃ¡ch Ä‘áº§y Ä‘á»§ trongÂ <code>code</code>Â báº±ngÂ <code>Hibernate</code>Â thÃ¬ chÃºng ta sáº½ dÃ¹ngÂ <code>@OneToMany</code>Â vÃ Â <code>@ManyToOne</code>.</p>
<p>Trong bÃ i sá»­ dá»¥ng cÃ¡c kiáº¿n thá»©c:</p>
<ol>
<li>Hibernate lÃ  gÃ¬?</li>
<li>CÃ¡ch sá»­ dá»¥ng Lombok Ä‘á»ƒ tiáº¿t kiá»‡m thá»i gian code</li>
</ol>
<h3 id="táº¡o-project-1"><a class="header" href="#táº¡o-project-1"><strong>Táº¡o project</strong></a></h3>
<p>ToÃ n bá»™ bÃ i viáº¿t Ä‘Æ°á»£c up táº¡iÂ <code>Github</code>:Â github.com/loda-kun/java-all</p>
<p>ChÃºng ta sáº½ sá»­ dá»¥ngÂ <code>Gradle</code>Â Ä‘á»ƒ táº¡o má»™t project cÃ³ khai bÃ¡oÂ <code>Spring Boot</code>Â vÃ Â <code>Jpa</code>Â Ä‘á»ƒ há»— trá»£ cho viá»‡c demoÂ <code>@ManyToOne</code>.</p>
<p>CÃ¡c báº¡n cÃ³ thá»ƒ tá»± táº¡o 1 project Spring-boot vá»›i gradle Ä‘Æ¡n giáº£n táº¡i:Â https://start.spring.io</p>
<pre><code>plugins {
    id 'org.springframework.boot' version '2.1.4.RELEASE'
    id 'java'
}
apply plugin: 'io.spring.dependency-management'

group 'me.loda.java'
version '1.0-SNAPSHOT'

sourceCompatibility = 1.8

configurations {
    compileOnly {
        extendsFrom annotationProcessor
    }
}

repositories {
    mavenCentral()
}

dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
    implementation 'org.springframework.boot:spring-boot-starter-web'
    compileOnly 'org.projectlombok:lombok'
    runtimeOnly 'com.h2database:h2'
    annotationProcessor 'org.projectlombok:lombok'
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
}
</code></pre>
<p>Trong á»©ng dá»¥ng trÃªn báº¡n sáº½ tháº¥y cÃ³Â <code>com.h2database:h2</code>. ÄÃ¢y lÃ  má»™tÂ <strong>database</strong>, tuy nhiÃªn nÃ³ chá»‰ tá»“n táº¡i trong bá»™ nhá»›. Tá»©c lÃ m má»—i khi cháº¡y chÆ°Æ¡ng trÃ¬nh nÃ y, nÃ³ sáº½ táº¡o database trongÂ <code>RAM</code>, vÃ  táº¯t chÆ°Æ¡ng trÃ¬nh Ä‘i nÃ³ sáº½ máº¥t.</p>
<p>ChÃºng ta sáº½ sá»­ dá»¥ngÂ <code>H2</code>Â thay choÂ <code>MySql</code>Â Ä‘á»ƒ cho.. tiá»‡n!</p>
<p>Khi táº¡o xong project, sáº½ cÃ³ thÆ° má»¥c nhÆ° sau:</p>
<p>!image</p>
<h3 id="táº¡o-table-1"><a class="header" href="#táº¡o-table-1"><strong>Táº¡o Table</strong></a></h3>
<p>Äá»ƒ táº¡o table, chÃºng ta táº¡o ra cÃ¡cÂ <code>Class</code>Â tÆ°Æ¡ng á»©ng.</p>
<pre><code>import java.util.Collection;

import javax.persistence.CascadeType;
import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.Id;
import javax.persistence.OneToMany;

import lombok.AllArgsConstructor;
import lombok.Data;
import lombok.EqualsAndHashCode;
import lombok.NoArgsConstructor;
import lombok.ToString;

@Entity // ÄÃ¡nh dáº¥u Ä‘Ã¢y lÃ  table trong db
@Data // lombok giÃºp generate cÃ¡c hÃ m constructor, get, set v.v.
@AllArgsConstructor
@NoArgsConstructor
public class Address {

    @Id //ÄÃ¡nh dáº¥u lÃ  primary key
    @GeneratedValue // GiÃºp tá»± Ä‘á»™ng tÄƒng
    private Long id;

    private String city;
    private String province;

    @OneToMany(mappedBy = &quot;address&quot;, cascade = CascadeType.ALL) // Quan há»‡ 1-n vá»›i Ä‘á»‘i tÆ°á»£ng á»Ÿ dÆ°á»›i (Person) (1 Ä‘á»‹a Ä‘iá»ƒm cÃ³ nhiá»u ngÆ°á»i á»Ÿ)
    // MapopedBy trá» tá»›i tÃªn biáº¿n Address á»Ÿ trong Person.
    @EqualsAndHashCode.Exclude // khÃ´ng sá»­ dá»¥ng trÆ°á»ng nÃ y trong equals vÃ  hashcode
    @ToString.Exclude // Khoonhg sá»­ dá»¥ng trong toString()
    private Collection&lt;Person&gt; persons;
}
</code></pre>
<pre><code>@Entity
@Data
@NoArgsConstructor
@AllArgsConstructor
public class Person {

    @Id
    @GeneratedValue
    private Long id;
    private String name;

    // Many to One CÃ³ nhiá»u ngÆ°á»i á»Ÿ 1 Ä‘á»‹a Ä‘iá»ƒm.
    @ManyToOne
    @JoinColumn(name = &quot;address_id&quot;) // thÃ´ng qua khÃ³a ngoáº¡i address_id
    @EqualsAndHashCode.Exclude
    @ToString.Exclude
    private Address address;
}
</code></pre>
<p>Náº¿u chÃºng ta chÆ°a táº¡o ra cÃ¡c table trong cÆ¡ sá»Ÿ dá»¯ liá»‡u, thÃ¬ máº·c Ä‘á»‹nhÂ <code>Hibernate</code>Â sáº½ bind dá»¯ liá»‡u tá»« class xuá»‘ng vÃ  táº¡o table cho chÃºng ta.</p>
<p>Báº¡n pháº£i táº¡o file configÂ <code>src\main\resources\application.properties</code>Â nhÆ° sau Ä‘á»ƒ káº¿t ná»‘i tá»›iÂ <code>H2</code>Â database nhÃ©:</p>
<pre><code>spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
// KhÃ´ng cÃ³ password, vÃ o tháº³ng luÃ´n
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
# Cho phÃ©p vÃ o xem db thÃ´ng qua web
spring.h2.console.enabled=true
</code></pre>
<h3 id="cháº¡y-thá»­-3"><a class="header" href="#cháº¡y-thá»­-3"><strong>Cháº¡y thá»­</strong></a></h3>
<p>Báº¡n táº¡o fileÂ <code>OneToManyExampleApplication</code>Â vÃ  cáº¥u hÃ¬nhÂ <code>Spring Boot</code>Â vÃ  khá»Ÿi cháº¡y chÆ°Æ¡ng trÃ¬nh.</p>
<pre><code>@SpringBootApplication
@RequiredArgsConstructor
public class OneToManyExampleApplication {
    public static void main(String[] args) {
        SpringApplication.run(OneToManyExampleApplication.class, args);
    }
}
</code></pre>
<p>Sau khi cháº¡y xong, hÃ£y truy cáº­p vÃ oÂ <code>http://localhost:8080/h2-console/</code>Â Ä‘á»ƒ vÃ o xem database cÃ³ gÃ¬ nhÃ©.</p>
<p>!image</p>
<p>Báº¡n sáº½ tháº¥y nÃ³ táº¡o table giá»‘ng vá»›i mÃ´ táº£ á»Ÿ Ä‘áº§u bÃ i. Vá»›i khÃ³a ngoáº¡iÂ <code>address_id</code>Â á»Ÿ báº£ngÂ <code>person</code>.</p>
<h3 id="thÃªm-dá»¯-liá»‡u-1"><a class="header" href="#thÃªm-dá»¯-liá»‡u-1"><strong>ThÃªm dá»¯ liá»‡u</strong></a></h3>
<p>Äá»ƒ thÃªm dá»¯ liá»‡u vÃ o database, chÃºng ta sáº½ dÃ¹ng tá»›iÂ <code>Spring JPA</code>Â .</p>
<pre><code>import org.springframework.data.jpa.repository.JpaRepository;

public interface AddressRepository extends JpaRepository&lt;Address,Long&gt; {
}
public interface PersonRepository extends JpaRepository&lt;Person, Long&gt; {
}
</code></pre>
<p>ChÃºng ta sáº½ táº¡o má»™t chÆ°Æ¡ng trÃ¬nhÂ <code>Spring Boot</code>Â Ä‘Æ¡n giáº£n báº±ng cÃ¡ch sá»­ dá»¥ngÂ <code>CommandLineRunner</code>Â Ä‘á»ƒ cháº¡y code ngay khi khá»Ÿi Ä‘á»™ng.</p>
<pre><code>import javax.transaction.Transactional;

import org.springframework.boot.CommandLineRunner;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

import com.google.common.collect.Lists;

import lombok.RequiredArgsConstructor;

@SpringBootApplication
@RequiredArgsConstructor
public class OneToManyExampleApplication implements CommandLineRunner {
    public static void main(String[] args) {
        SpringApplication.run(OneToManyExampleApplication.class, args);
    }

    // Sá»­ dá»¥ng @RequiredArgsConstructor vÃ  final Ä‘á»ƒ thay cho @Autowired
    private final PersonRepository personRepository;
    private final AddressRepository addressRepository;

    @Override
    public void run(String... args) throws Exception {
        // Táº¡o ra Ä‘á»‘i tÆ°á»£ng Address cÃ³ tham chiáº¿u tá»›i person
        Address address = new Address();
        address.setCity(&quot;Hanoi&quot;);

        // Táº¡o ra Ä‘á»‘i tÆ°á»£ng person
        Person person = new Person();
        person.setName(&quot;loda&quot;);
        person.setAddress(address);

        address.setPersons(Collections.singleton(person));
        // LÆ°u vÃ o db
        // ChÃºng ta chá»‰ cáº§n lÆ°u address, vÃ¬ cascade = CascadeType.ALL nÃªn nÃ³ sáº½ lÆ°u luÃ´n Person.
        addressRepository.saveAndFlush(address);

        // VÃ o:http://localhost:8080/h2-console/ Ä‘á»ƒ xem dá»¯ liá»‡u Ä‘Ã£ insert

        personRepository.findAll().forEach(p -&gt; {
            System.out.println(p.getId());
            System.out.println(p.getName());
            System.out.println(p.getAddress());
        });

    }
}
//output:
// 2
// loda
// Address(id=1, city=Hanoi, province=null)
// ChÃºng ta Ä‘Ã£ cÃ³ thá»ƒ gá»i trá»±c tiáº¿p address trong person sau khi query
</code></pre>
<p>Káº¿t quáº£ trong database lÃºc nÃ y:</p>
<p>!image</p>
<p>BÃ i viáº¿t cá»§a mÃ¬nh khÃ´ng cÃ²n gÃ¬ Ä‘á»ƒ ngáº¯n hÆ¡n Ä‘Æ°á»£c ná»¯a :((( tháº­t há»• tháº¹n, mÃ¬nh cÃ³ up code lÃªn Ä‘Ã¢y, báº¡n cháº¡y code cÃ¡i lÃ  hiá»ƒu liá»n Ã :</p>
<p>ChÃºc cÃ¡c báº¡n há»c táº­p tháº­t tá»‘t! ahuu</p>
<ol>
<li><a href="spring-boot/">ğŸª‚ã€ŒJpaã€HÆ°á»›ng dáº«n sá»­ dá»¥ng @OneToOne</a></li>
<li><a href="spring-boot/">ğŸ›µã€ŒJpaã€HÆ°á»›ng dáº«n @ManyToMany</a></li>
</ol>
<p>ğŸ’Â Náº¿u cÃ³, toÃ n bá»™ project / code máº«u Ä‘Æ°á»£c lÆ°u trá»¯ táº¡i <strong>GitHub</strong></p>
<p>ğŸŒŸÂ ÄÃ¢y lÃ  má»™t bÃ i viáº¿t trongÂ Series <strong>LÃ m chá»§ Spring Boot â€“ Zero to Hero</strong></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="jpahÆ°á»›ng-dáº«n-manytomany"><a class="header" href="#jpahÆ°á»›ng-dáº«n-manytomany">ã€ŒJpaã€HÆ°á»›ng dáº«n @ManyToMany</a></h1>
<ul>
<li>Giá»›i thiá»‡u</li>
<li>Táº¡o project</li>
<li>Táº¡o Table</li>
<li>Cháº¡y thá»­</li>
<li>ThÃªm dá»¯ liá»‡u</li>
</ul>
<h3 id="giá»›i-thiá»‡u-14"><a class="header" href="#giá»›i-thiá»‡u-14"><strong>Giá»›i thiá»‡u</strong></a></h3>
<p>CÃ¡ch biá»ƒu thá»‹ quan há»‡ n-n trong cÆ¡ sá»Ÿ dá»¯ liá»‡u lÃ  ráº¥t phá»• biáº¿n, vÃ­ dá»¥ má»™t Ä‘á»‹a chá»‰ cÃ³ thá»ƒ cÃ³ nhiá»u ngÆ°á»i á»Ÿ (gia Ä‘Ã¬nh). vÃ  má»™t ngÆ°á»i cÃ³ thá»ƒ cÃ³ nhiá»u hÆ¡n má»™t Ä‘á»‹a chá»‰.</p>
<p>BÃ¬nh thÆ°á»ng, khi cÃ¡c báº¡n táº¡o table trong csdl Ä‘á»ƒ biá»ƒu thá»‹ má»‘i quan há»‡ nÃ y, chÃºng ta sáº½ táº¡o ra má»™t báº£ng má»›i, tham chiáº¿u tá»›i cáº£ báº£ng nÃ y.</p>
<p>!image</p>
<p>Thá»ƒ hiá»‡n má»—i quan há»‡ nÃ y má»™t cÃ¡ch Ä‘áº§y Ä‘á»§ trongÂ <code>code</code>Â báº±ngÂ <code>Hibernate</code>Â thÃ¬ chÃºng ta sáº½ dÃ¹ngÂ <code>@ManyToMany</code></p>
<p>Trong bÃ i sá»­ dá»¥ng cÃ¡c kiáº¿n thá»©c:</p>
<ol>
<li>Hibernate lÃ  gÃ¬?</li>
<li>CÃ¡ch sá»­ dá»¥ng Lombok Ä‘á»ƒ tiáº¿t kiá»‡m thá»i gian code</li>
</ol>
<h3 id="táº¡o-project-2"><a class="header" href="#táº¡o-project-2"><strong>Táº¡o project</strong></a></h3>
<p>ToÃ n bá»™ bÃ i viáº¿t Ä‘Æ°á»£c up táº¡iÂ <code>Github</code>:Â github.com/loda-kun/java-all</p>
<p>ChÃºng ta sáº½ sá»­ dá»¥ngÂ <code>Gradle</code>Â Ä‘á»ƒ táº¡o má»™t project cÃ³ khai bÃ¡oÂ <code>Spring Boot</code>Â vÃ Â <code>Jpa</code>Â Ä‘á»ƒ há»— trá»£ cho viá»‡c demoÂ <code>@ManyToMany</code>.</p>
<p>CÃ¡c báº¡n cÃ³ thá»ƒ tá»± táº¡o 1 project Spring-boot vá»›i gradle Ä‘Æ¡n giáº£n táº¡i:Â https://start.spring.io</p>
<pre><code>plugins {
    id 'org.springframework.boot' version '2.1.4.RELEASE'
    id 'java'
}
apply plugin: 'io.spring.dependency-management'

group 'me.loda.java'
version '1.0-SNAPSHOT'

sourceCompatibility = 1.8

configurations {
    compileOnly {
        extendsFrom annotationProcessor
    }
}

repositories {
    mavenCentral()
}

dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
    implementation 'org.springframework.boot:spring-boot-starter-web'
    compileOnly 'org.projectlombok:lombok'
    runtimeOnly 'com.h2database:h2'
    annotationProcessor 'org.projectlombok:lombok'
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
}
</code></pre>
<p>Trong á»©ng dá»¥ng trÃªn báº¡n sáº½ tháº¥y cÃ³Â <code>com.h2database:h2</code>. ÄÃ¢y lÃ  má»™tÂ <strong>database</strong>, tuy nhiÃªn nÃ³ chá»‰ tá»“n táº¡i trong bá»™ nhá»›. Tá»©c lÃ m má»—i khi cháº¡y chÆ°Æ¡ng trÃ¬nh nÃ y, nÃ³ sáº½ táº¡o database trongÂ <code>RAM</code>, vÃ  táº¯t chÆ°Æ¡ng trÃ¬nh Ä‘i nÃ³ sáº½ máº¥t.</p>
<p>ChÃºng ta sáº½ sá»­ dá»¥ngÂ <code>H2</code>Â thay choÂ <code>MySql</code>Â Ä‘á»ƒ cho.. tiá»‡n!</p>
<p>Khi táº¡o xong project, sáº½ cÃ³ thÆ° má»¥c nhÆ° sau:</p>
<p>!image</p>
<h3 id="táº¡o-table-2"><a class="header" href="#táº¡o-table-2"><strong>Táº¡o Table</strong></a></h3>
<p>Äá»ƒ táº¡o table, chÃºng ta táº¡o ra cÃ¡cÂ <code>Class</code>Â tÆ°Æ¡ng á»©ng.</p>
<pre><code>import java.util.Collection;

import javax.persistence.CascadeType;
import javax.persistence.Entity;
import javax.persistence.FetchType;
import javax.persistence.GeneratedValue;
import javax.persistence.Id;
import javax.persistence.JoinColumn;
import javax.persistence.JoinTable;
import javax.persistence.ManyToMany;

import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.Data;
import lombok.EqualsAndHashCode;
import lombok.NoArgsConstructor;
import lombok.ToString;

@Entity // ÄÃ¡nh dáº¥u Ä‘Ã¢y lÃ  table trong db
@Data // lombok giÃºp generate cÃ¡c hÃ m constructor, get, set v.v.
@AllArgsConstructor
@NoArgsConstructor
@Builder
public class Address {

    @Id //ÄÃ¡nh dáº¥u lÃ  primary key
    @GeneratedValue // GiÃºp tá»± Ä‘á»™ng tÄƒng
    private Long id;

    private String city;
    private String province;

    @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)
    // Quan há»‡ n-n vá»›i Ä‘á»‘i tÆ°á»£ng á»Ÿ dÆ°á»›i (Person) (1 Ä‘á»‹a Ä‘iá»ƒm cÃ³ nhiá»u ngÆ°á»i á»Ÿ)
    @EqualsAndHashCode.Exclude // khÃ´ng sá»­ dá»¥ng trÆ°á»ng nÃ y trong equals vÃ  hashcode
    @ToString.Exclude // Khoonhg sá»­ dá»¥ng trong toString()

    @JoinTable(name = &quot;address_person&quot;, //Táº¡o ra má»™t join Table tÃªn lÃ  &quot;address_person&quot;
            joinColumns = @JoinColumn(name = &quot;address_id&quot;),  // TRong Ä‘Ã³, khÃ³a ngoáº¡i chÃ­nh lÃ  address_id trá» tá»›i class hiá»‡n táº¡i (Address)
            inverseJoinColumns = @JoinColumn(name = &quot;person_id&quot;) //KhÃ³a ngoáº¡i thá»© 2 trá» tá»›i thuá»™c tÃ­nh á»Ÿ dÆ°á»›i (Person)
    )
    private Collection&lt;Person&gt; persons;
}
</code></pre>
<pre><code>@Entity
@Data
@NoArgsConstructor
@AllArgsConstructor
@Builder
public class Person {

    @Id
    @GeneratedValue
    private Long id;
    private String name;

    // mappedBy trá» tá»›i tÃªn biáº¿n persons á»Ÿ trong Address.
    @ManyToMany(mappedBy = &quot;persons&quot;)
    // LAZY Ä‘á»ƒ trÃ¡nh viá»‡c truy xuáº¥t dá»¯ liá»‡u khÃ´ng cáº§n thiáº¿t. LÃºc nÃ o cáº§n thÃ¬ má»›i query
    @EqualsAndHashCode.Exclude
    @Exclude
    private Collection&lt;Address&gt; addresses;
}
</code></pre>
<p>Náº¿u chÃºng ta chÆ°a táº¡o ra cÃ¡c table trong cÆ¡ sá»Ÿ dá»¯ liá»‡u, thÃ¬ máº·c Ä‘á»‹nhÂ <code>Hibernate</code>Â sáº½ bind dá»¯ liá»‡u tá»« class xuá»‘ng vÃ  táº¡o table cho chÃºng ta.</p>
<p>Báº¡n pháº£i táº¡o file configÂ <code>src\main\resources\application.properties</code>Â nhÆ° sau Ä‘á»ƒ káº¿t ná»‘i tá»›iÂ <code>H2</code>Â database nhÃ©:</p>
<pre><code>spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
// KhÃ´ng cÃ³ password, vÃ o tháº³ng luÃ´n
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
# Cho phÃ©p vÃ o xem db thÃ´ng qua web
spring.h2.console.enabled=true
</code></pre>
<h3 id="cháº¡y-thá»­-4"><a class="header" href="#cháº¡y-thá»­-4"><strong>Cháº¡y thá»­</strong></a></h3>
<p>Báº¡n táº¡o fileÂ <code>ManyToManyExampleApplication</code>Â vÃ  cáº¥u hÃ¬nhÂ <code>Spring Boot</code>Â vÃ  khá»Ÿi cháº¡y chÆ°Æ¡ng trÃ¬nh.</p>
<pre><code>@SpringBootApplication
@RequiredArgsConstructor
public class ManyToManyExampleApplication {
    public static void main(String[] args) {
        SpringApplication.run(ManyToManyExampleApplication.class, args);
    }
}
</code></pre>
<p>Sau khi cháº¡y xong, hÃ£y truy cáº­p vÃ oÂ <code>http://localhost:8080/h2-console/</code>Â Ä‘á»ƒ vÃ o xem database cÃ³ gÃ¬ nhÃ©.</p>
<p>!image</p>
<p>Báº¡n sáº½ tháº¥y nÃ³ táº¡o table giá»‘ng vá»›i mÃ´ táº£ á»Ÿ Ä‘áº§u bÃ i. Gá»“m cÃ³ hai báº£ng chÃ­nh lÃ Â <code>address</code>Â vÃ Â <code>person</code>. NgoÃ i ra, sáº½ táº¡o ra má»™t báº£ng trung gian á»Ÿ giá»¯a liÃªn káº¿t hai báº£ng lÃ Â <code>address_person</code>.</p>
<h3 id="thÃªm-dá»¯-liá»‡u-2"><a class="header" href="#thÃªm-dá»¯-liá»‡u-2"><strong>ThÃªm dá»¯ liá»‡u</strong></a></h3>
<p>Äá»ƒ thÃªm dá»¯ liá»‡u vÃ o database, chÃºng ta sáº½ dÃ¹ng tá»›iÂ <code>Spring JPA</code>Â .</p>
<pre><code>import org.springframework.data.jpa.repository.JpaRepository;

public interface AddressRepository extends JpaRepository&lt;Address,Long&gt; {
}
public interface PersonRepository extends JpaRepository&lt;Person, Long&gt; {
}
</code></pre>
<p>ChÃºng ta sáº½ táº¡o má»™t chÆ°Æ¡ng trÃ¬nhÂ <code>Spring Boot</code>Â Ä‘Æ¡n giáº£n báº±ng cÃ¡ch sá»­ dá»¥ngÂ <code>CommandLineRunner</code>Â Ä‘á»ƒ cháº¡y code ngay khi khá»Ÿi Ä‘á»™ng.</p>
<pre><code>import javax.transaction.Transactional;

import org.springframework.boot.CommandLineRunner;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

import com.google.common.collect.Lists;

import lombok.RequiredArgsConstructor;

@SpringBootApplication
@RequiredArgsConstructor
public class ManyToManyExampleApplication implements CommandLineRunner {
    public static void main(String[] args) {
        SpringApplication.run(ManyToManyExampleApplication.class, args);
    }

    // Sá»­ dá»¥ng @RequiredArgsConstructor vÃ  final Ä‘á»ƒ thay cho @Autowired
    private final PersonRepository personRepository;
    private final AddressRepository addressRepository;

    @Override
    @Transactional
    public void run(String... args) throws Exception {
        // Táº¡o ra Ä‘á»‘i tÆ°á»£ng Address
        Address hanoi = Address.builder()
                                 .city(&quot;hanoi&quot;)
                                 .build();
        Address hatay = Address.builder()
                               .city(&quot;hatay&quot;)
                               .build();

        // Táº¡o ra Ä‘á»‘i tÆ°á»£ng person
        Person person1 = Person.builder()
                              .name(&quot;loda1&quot;)
                              .build();
        Person person2 = Person.builder()
                              .name(&quot;loda2&quot;)
                              .build();

        // set Persons vÃ o address
        hanoi.setPersons(Lists.newArrayList(person1, person2));
        hatay.setPersons(Lists.newArrayList(person1));

        // LÆ°u vÃ o db
        // ChÃºng ta chá»‰ cáº§n lÆ°u address, vÃ¬ cascade = CascadeType.ALL nÃªn nÃ³ sáº½ lÆ°u luÃ´n Person.
        addressRepository.saveAndFlush(hanoi);
        addressRepository.saveAndFlush(hatay);

        // VÃ o:http://localhost:8080/h2-console/ Ä‘á»ƒ xem dá»¯ liá»‡u Ä‘Ã£ insert

        Address queryResult = addressRepository.findById(1L).get();
        System.out.println(queryResult.getCity());
        System.out.println(queryResult.getPersons());

    }

}
// Output:
// hanoi
// [Person(id=2, name=loda1), Person(id=3, name=loda2)]
</code></pre>
<p>LÆ°u Ã½ á»Ÿ Ä‘Ã¢y chÃºng ta dÃ¹ngÂ <code>@Transactional</code>. ÄÃª khiáº¿n toÃ n bá»™ code cháº¡y trong hÃ m Ä‘á»u náº±m trongÂ <code>Session</code>Â quáº£n lÃ½ cá»§aÂ <code>Hibernate</code>.</p>
<p>Náº¿u khÃ´ng cÃ³Â <code>@Transactional</code>Â thÃ¬ viá»‡c báº¡n gá»iÂ <code>address.getPersons()</code>Â sáº½ bá»‹ lá»—i, vÃ¬ nÃ³ khÃ´ng thá»ƒ query xuá»‘ng database Ä‘á»ƒ láº¥y dá»¯ liá»‡u person lÃªn Ä‘Æ°á»£c. Báº¡n ghi nhá»› chá»— nÃ y nhÃ©.</p>
<p>Káº¿t quáº£ trong database lÃºc nÃ y:</p>
<p><code>Address</code></p>
<p>!image</p>
<p>!image</p>
<p>!image</p>
<p>BÃ i viáº¿t cá»§a mÃ¬nh khÃ´ng cÃ²n gÃ¬ Ä‘á»ƒ ngáº¯n hÆ¡n Ä‘Æ°á»£c ná»¯a :((( tháº­t há»• tháº¹n, mÃ¬nh cÃ³ up code lÃªn Ä‘Ã¢y, báº¡n cháº¡y code cÃ¡i lÃ  hiá»ƒu liá»n Ã :</p>
<p>ChÃºc cÃ¡c báº¡n há»c táº­p tháº­t tá»‘t! ahuu</p>
<ol>
<li><a href="spring-boot/">ğŸª‚ã€ŒJpaã€HÆ°á»›ng dáº«n sá»­ dá»¥ng @OneToOne</a></li>
<li><a href="spring-boot/">ğŸš…ã€ŒJpaã€HÆ°á»›ng dáº«n @OneToMany vÃ  @ManyToOne</a></li>
</ol>
<p>ğŸ’Â Náº¿u cÃ³, toÃ n bá»™ project / code máº«u Ä‘Æ°á»£c lÆ°u trá»¯ táº¡i <strong>GitHub</strong></p>
<p>ğŸŒŸÂ ÄÃ¢y lÃ  má»™t bÃ i viáº¿t trongÂ Series <strong>LÃ m chá»§ Spring Boot â€“ Zero to Hero</strong></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="jpahÆ°á»›ng-dáº«n-query-phÃ¢n-trang-báº±ng-pageable-pháº§n-1"><a class="header" href="#jpahÆ°á»›ng-dáº«n-query-phÃ¢n-trang-báº±ng-pageable-pháº§n-1">ã€ŒJpaã€HÆ°á»›ng dáº«n Query phÃ¢n trang báº±ng Pageable (Pháº§n 1)</a></h1>
<ul>
<li>Giá»›i thiá»‡u</li>
<li>CÃ i Ä‘áº·t</li>
<li>Táº¡o Model vÃ  Repository</li>
<li>Pageable</li>
<li>Sorting</li>
<li>Note</li>
<li>VÃ­ dá»¥ DEMO</li>
<li>Káº¿t</li>
</ul>
<h3 id="giá»›i-thiá»‡u-15"><a class="header" href="#giá»›i-thiá»‡u-15"><strong>Giá»›i thiá»‡u</strong></a></h3>
<p>Äiá»u nÃ y cÃ³ láº½ ai cÅ©ng biáº¿t, Ä‘Ã³ lÃ  Ä‘a pháº§n chÃºng ta khÃ´ng láº¥y toÃ n bá»™ dá»¯ liá»‡u tá»« Database lÃªn, mÃ  chá»‰ láº¥y má»™t sá»‘ lÆ°á»£ng nháº¥t Ä‘á»‹nh, vÃ  chia nÃ³ thÃ nh nhiá»u trang.</p>
<p>MÃ  cÃ¡i blog nÃ y cÅ©ng lÃ  vÃ­ dá»¥ Ä‘iá»ƒn hÃ¬nh:</p>
<p>!image</p>
<p>TÃ´i chia dá»¯ liá»‡u thÃ nh nhiá»u trang khÃ¡c nhau, vá»›i má»—i trang thÃ¬ sáº½ láº¥y ra cÃ¡c bÃ i viáº¿t cáº§n thiáº¿t.</p>
<p>Táº¡o sao cáº§n dÃ¹ng phÃ¢n trang? vÃ¬ nÃ³ giÃºp tiáº¿t kiá»‡m bÄƒng thÃ´ng vÃ  tÄƒng tá»‘c xá»­ lÃ½, ngoÃ i ra nÃ³ cÅ©ng giáº£m thiá»ƒu viá»‡c hiá»ƒn thá»‹ cÃ¡c thÃ´ng tin thá»«a khÃ´ng cáº§n thiáº¿t.</p>
<p>ChÃºng ta sáº½ tÃ¬m hiá»ƒu cÃ¡c lÃ m viá»‡c nÃ y báº±ngÂ <code>JPA Pageable</code></p>
<p>Náº¿u chÆ°a biáº¿t Spring JPA thÃ¬ xem táº¡i Ä‘Ã¢y:</p>
<ol>
<li>Hibernate lÃ  gÃ¬?</li>
<li>Spring JPA</li>
</ol>
<h3 id="cÃ i-Ä‘áº·t-6"><a class="header" href="#cÃ i-Ä‘áº·t-6"><strong>CÃ i Ä‘áº·t</strong></a></h3>
<p>Nhá»› thÃªmÂ <code>spring-boot-starter-data-jpa</code>Â vÃ o dependencies cá»§a báº¡n.</p>
<p>Trong pháº§n nÃ y, tÃ´i xÃ i H2 database Ä‘á»ƒ demo. (h2 lÃ  dáº¡ng memory database, nÃ³ sáº½ lÆ°u trong ram vÃ  khi táº¯t chÆ°Æ¡ng trÃ¬nh nÃ³ sáº½ máº¥t sáº¡ch)</p>
<p><em>pom.xml</em></p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;packaging&gt;pom&lt;/packaging&gt;
    &lt;parent&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
        &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;
        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;
    &lt;/parent&gt;
    &lt;groupId&gt;me.loda.spring&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-learning&lt;/artifactId&gt;
    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
    &lt;name&gt;spring-boot-learning&lt;/name&gt;
    &lt;description&gt;Everything about Spring Boot&lt;/description&gt;

    &lt;properties&gt;
        &lt;java.version&gt;1.8&lt;/java.version&gt;
    &lt;/properties&gt;

    &lt;dependencies&gt;

        &lt;!--spring mvc, rest--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;!--spring jpa--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;!-- h2 database --&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;com.h2database&lt;/groupId&gt;
            &lt;artifactId&gt;h2&lt;/artifactId&gt;
            &lt;scope&gt;runtime&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;

    &lt;build&gt;
        &lt;plugins&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
        &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;

&lt;/project&gt;
</code></pre>
<p>Cáº¥u trÃºc thÆ° má»¥c:</p>
<p>!image</p>
<h3 id="táº¡o-model-vÃ -repository"><a class="header" href="#táº¡o-model-vÃ -repository"><strong>Táº¡o Model vÃ  Repository</strong></a></h3>
<p>Táº¡o ra classÂ <code>User</code>Â vÃ  insert sáºµn 100Â <code>User</code>Â vÃ o Database.</p>
<p><em>User.java</em></p>
<pre><code>@Entity
@Data
@Builder
public class User {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    private String name;
}
</code></pre>
<p><em>UserRepository.java</em></p>
<pre><code>public interface UserRepository extends JpaRepository&lt;User, Long&gt; {

}
</code></pre>
<p><em>DatasourceConfig.java</em></p>
<pre><code>@Configuration
@RequiredArgsConstructor
public class DatasourceConfig {
    // inject bá»Ÿi RequiredArgsConstructor
    private final UserRepository userRepository;

    // Chá»‰ Ã¡p dá»¥ng trong demo :D
    @PostConstruct
    public void initData() {
        // Insert 100 User vÃ o H2 Database sau khi
        // DatasourceConfig Ä‘Æ°á»£c khá»Ÿi táº¡o
        userRepository.saveAll(IntStream.range(0, 100)
                                        .mapToObj(i -&gt; User.builder()
                                                           .name(&quot;name-&quot; + i)
                                                           .build())
                                        .collect(Collectors.toList())
        );
    }
}
</code></pre>
<h3 id="pageable"><a class="header" href="#pageable"><strong>Pageable</strong></a></h3>
<p>Ukie, giáº£ sá»­ bÃ¢y giá» chÃºng ta cÃ³ 100 record trong DB rá»“i.</p>
<p>Äá»ƒ cÃ³ thá»ƒ query láº¥y dá»¯ liá»‡u theo dáº¡ng Page,Â <strong>Spring Data JPA</strong>Â há»— trá»£ chÃºng ta báº±ng Ä‘á»‘i tÆ°á»£ngÂ <code>Pageable</code>.</p>
<p>HÃ mÂ <code>findAll(Pageable pageable)</code>Â lÃ  cÃ³ sáºµn vÃ  tráº£ vá» Ä‘á»‘i tÆ°á»£ngÂ <code>Page&lt;T&gt;</code></p>
<pre><code>// Láº¥y ra 5 user Ä‘áº§u tiÃªn
// PageRequest.of(0,5) tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i láº¥y ra page Ä‘áº§u tiÃªn, vÃ  má»—i page sáº½ cÃ³ 5 pháº§n tá»­
// PageRequest lÃ  má»™t Ä‘á»‘i tÆ°á»£ng káº¿ thá»«a Pageable
Page&lt;User&gt; page = userRepository.findAll(PageRequest.of(0, 5));
</code></pre>
<p>Äá»ƒ láº¥y ra 5Â <code>User</code>Â tiáº¿p theo, chÃºng ta cÃ³ thá»ƒ lÃ m theo 2 cÃ¡ch:</p>
<pre><code>// táº­n dá»¥ng Ä‘á»‘i tÆ°á»£ng Page trÆ°á»›c Ä‘Ã³
page.nextPageable()

// Sá»­ dá»¥ng PageRequest má»›i
PageRequest.of(1, 5)
</code></pre>
<h3 id="sorting"><a class="header" href="#sorting"><strong>Sorting</strong></a></h3>
<p>Báº¡n cÃ³ thá»ƒ query dáº¡ngÂ <code>Page</code>Â kÃ¨m theo yÃªu cáº§u sorting theo má»™t trÆ°á»ng nÃ o Ä‘Ã³.</p>
<pre><code>Page&lt;User&gt; page = userRepository.findAll(PageRequest.of(1, 5, Sort.by(&quot;name&quot;).descending()));
</code></pre>
<h3 id="note"><a class="header" href="#note"><strong>Note</strong></a></h3>
<p>NgoÃ i ra, báº¡n hoÃ n toÃ n cÃ³ thá»ƒ tá»± custom Ä‘á»ƒ hÃ m tráº£ vá»Â <code>Page&lt;T&gt;</code>,Â <code>Slice&lt;T&gt;</code>,Â <code>List&lt;T&gt;</code>.</p>
<pre><code>public interface UserRepository extends JpaRepository&lt;User, Long&gt; {
    List&lt;User&gt; findAllByNameLike(String name, Pageable pageable);
}
</code></pre>
<h3 id="vÃ­-dá»¥-demo"><a class="header" href="#vÃ­-dá»¥-demo"><strong>VÃ­ dá»¥ DEMO</strong></a></h3>
<pre><code>@SpringBootApplication
@RequiredArgsConstructor
public class App {
    public static void main(String[] args) {
        SpringApplication.run(App.class, args);
    }

    private final UserRepository userRepository;

    @Bean
    CommandLineRunner run() {
        return args -&gt; {
            // Láº¥y ra 5 user Ä‘áº§u tiÃªn
            // PageRequest.of(0,5) tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i láº¥y ra page Ä‘áº§u tiÃªn, vÃ  má»—i page sáº½ cÃ³ 5 pháº§n tá»­
            Page&lt;User&gt; page = userRepository.findAll(PageRequest.of(0, 5));
            // In ra 5 user Ä‘áº§u tiÃªn
            System.out.println(&quot;In ra 5 user Ä‘áº§u tiÃªn: &quot;);
            page.forEach(System.out::println);
            // Láº¥y ra 5 user tiáº¿p theo
            page = userRepository.findAll(page.nextPageable());

            System.out.println(&quot;In ra 5 user tiáº¿p theo: &quot;);
            page.forEach(System.out::println);

            System.out.println(&quot;In ra sá»‘ lÆ°á»£ng user á»Ÿ page hiá»‡n táº¡i: &quot; + page.getSize());
            System.out.println(&quot;In ra tá»•ng sá»‘ lÆ°á»£ng user: &quot; + page.getTotalElements());
            System.out.println(&quot;In ra tá»•ng sá»‘ page: &quot; + page.getTotalPages());

            // Láº¥y ra 5 user á»Ÿ page 1, sort theo tÃªn
            page = userRepository.findAll(PageRequest.of(1, 5, Sort.by(&quot;name&quot;).descending()));
            System.out.println(&quot;In ra 5 user page 1, sáº¯p xáº¿p theo name descending:&quot;);
            page.forEach(System.out::println);

            // Custom method
            List&lt;User&gt; list = userRepository.findAllByNameLike(&quot;name-%&quot;, PageRequest.of(0, 5));
            System.out.println(list);
        };
    }

}
</code></pre>
<p>Output:</p>
<pre><code>In ra 5 user Ä‘áº§u tiÃªn:
User(id=1, name=name-0)
User(id=2, name=name-1)
User(id=3, name=name-2)
User(id=4, name=name-3)
User(id=5, name=name-4)

In ra 5 user tiáº¿p theo:
User(id=6, name=name-5)
User(id=7, name=name-6)
User(id=8, name=name-7)
User(id=9, name=name-8)
User(id=10, name=name-9)

In ra sá»‘ lÆ°á»£ng user á»Ÿ page hiá»‡n táº¡i: 5
In ra tá»•ng sá»‘ lÆ°á»£ng user: 100
In ra tá»•ng sá»‘ page: 20

In ra 5 user page 1, sáº¯p xáº¿p theo name descending:
User(id=95, name=name-94)
User(id=94, name=name-93)
User(id=93, name=name-92)
User(id=92, name=name-91)
User(id=91, name=name-90)

Custom Method
[User(id=1, name=name-0), User(id=2, name=name-1), User(id=3, name=name-2), User(id=4, name=name-3), User(id=5, name=name-4)]
</code></pre>
<h3 id="káº¿t-8"><a class="header" href="#káº¿t-8"><strong>Káº¿t</strong></a></h3>
<p><code>Pageable</code>Â lÃ  má»™t cÃ¡ch tiáº¿p cáº­n ráº¥t tiá»‡n lá»£i, tuy nhiÃªn báº¡n cáº§n biáº¿t ráº±ng cÃ¡c hÃ m sá»­ dá»¥ngÂ <code>Pageable</code>Â sáº½ thá»±c hiá»‡n query 2 láº§n xuá»‘ng DB. Má»™t láº§n lÃ  Ä‘á»ƒ láº¥y ra tá»•ng sá»‘ lÆ°á»£ng báº£n ghi, má»™t láº§n lÃ  query láº¥y ra page báº¡n cáº§n. CÃ¡i nÃ y tÃ´i sáº½ nÃ³i kÄ© hÆ¡n á»Ÿ bÃ i sau Ä‘á»ƒ chÃºng ta tá»‘i Æ°u hiá»‡u nÄƒng</p>
<p>ğŸ’Â Náº¿u cÃ³, toÃ n bá»™ project / code máº«u Ä‘Æ°á»£c lÆ°u trá»¯ táº¡i <strong>GitHub</strong></p>
<p>ğŸŒŸÂ ÄÃ¢y lÃ  má»™t bÃ i viáº¿t trongÂ Series <strong>LÃ m chá»§ Spring Boot â€“ Zero to Hero</strong></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="jpahÆ°á»›ng-dáº«n-sá»­-dá»¥ng-criteria-api-trong-hibernate"><a class="header" href="#jpahÆ°á»›ng-dáº«n-sá»­-dá»¥ng-criteria-api-trong-hibernate">ã€ŒJpaã€HÆ°á»›ng dáº«n sá»­ dá»¥ng Criteria API trong Hibernate</a></h1>
<p><code>JPA Criteria API</code>Â cho phÃ©p ta táº¡o ra cÃ¡c cÃ¢u truy váº¥n báº±ng Java Object thay vÃ¬ viá»‡c khai bÃ¡o trá»±c tiáº¿p trongÂ <code>String</code>Â (JPQL) nhÆ° tháº¿ nÃ y:</p>
<p>TÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i cÃ¢u lá»‡nh trÃªn nhÆ°ng xÃ¢y dá»±ng báº±ngÂ <code>Criteria API</code>Â thÃ¬ sáº½ nhÆ° nÃ y:</p>
<pre><code>CriteriaBuilder cb = em.getCriteriaBuilder();

CriteriaQuery&lt;Office&gt; q = cb.createQuery(Office.class);
Root&lt;Office&gt; c = q.from(Office.class);
q.select(c);
</code></pre>
<p>NhÃ¬n cÃ³ váº» dÃ i dÃ²ng vÃ  khÃ³ hiá»ƒu pháº£i khÃ´ng &gt;&quot;&lt; Yea, thÃ¬ Ä‘Ãºng lÃ  nhÆ° tháº¿ Ä‘áº¥y ==!</p>
<p>Náº¿u nÃ³ dÃ i dÃ²ng nhÆ° váº­y, táº¡i sao ngÆ°á»i ta láº¡i táº¡o ra vÃ  sá»­ dá»¥ng nÃ³ thay cho cÃ¢u lá»‡nhÂ <code>JPQL</code>Â bÃ¬nh thÆ°á»ng? CÃ¡c báº¡n Ä‘á»c pháº§n tiáº¿p theo sáº½ rÃµ nha.</p>
<h3 id="jpql-vs-criteria-api"><a class="header" href="#jpql-vs-criteria-api"><strong>JPQL vs Criteria API</strong></a></h3>
<p><code>JPQL</code>Â cÃ³ thá»ƒ lÃ m Ä‘áº§y Ä‘á»§ chá»©c nÄƒng chÃºng ta cáº§n chá»‰ vá»›i 1 cÃ¢u lá»‡nh, tuy nhiÃªn, chÃ­nh vÃ¬ Ä‘iá»u Ä‘Ã³, chÃºng ta thÆ°á»ng khÃ³ tÃ¹y biáº¿n hay sá»­ dá»¥ng láº¡i nÃ³, tháº­m chÃ­ khÃ³ kiá»ƒm soÃ¡t lá»—i cá»§a nÃ³ hÆ¡n. Vá»›i má»™t cÃ¢u lá»‡nh phá»©c táº¡p, chÃºng ta khÃ´ng biáº¿t Ä‘Æ°á»£c nÃ³ cÃ³ lá»—i hay khÃ´ng cho tá»›i khi cháº¡y chÆ°Æ¡ng trÃ¬nh hay debug (MÃ  chÆ°Æ¡ng trÃ¬nh Ä‘Ã£ cháº¡y Ä‘Æ°á»£c rá»“i thÃ¬ váº«n cÃ³ lá»—i tiá»m áº©n :v chá»i Ä‘áº­u).</p>
<p><code>Criteria API</code>Â thÃ¬ ngÆ°á»£c láº¡i, nÃ³ cho phÃ©p chÃºng ta xÃ¢y dá»±ng cÃ¢u lá»‡nh má»™t cÃ¡chÂ <code>Dynamic</code>, ráº¥t linh Ä‘á»™ng, vÃ  khÃ´ng bá»‹Â <code>hardcode</code>Â trong má»™tÂ <code>String</code>Â vÃ  cÃ³ thá»ƒÂ <code>tÃ¡i sá»­ dá»¥ng</code>Â láº¡i Ä‘Æ°á»£c. Äáº·c biá»‡t, vÃ¬ lÃ  Java Object, nÃªn chÃºng ta sáº½ biáº¿t má»™t cÃ¢u lá»‡nh bá»‹ lá»—i, khÃ´ng Ä‘Ãºng quy táº¯c ngay khi biÃªn dá»‹ch chÆ°Æ¡ng trÃ¬nh rá»“i.</p>
<p>TÃºm vÃ¡y láº¡i, vá»›i má»™t lá»‡nh Ä‘Æ¡n giáº£n nhÆ° vÃ­ dá»¥ Ä‘áº§u bÃ i, thÃ¬ cÃ¡c báº¡n nÃªn xÃ iÂ <code>JPQL</code>, cÃ²n vá»›i nhá»¯ng cÃ¢u lá»‡nh phá»©c há»£p, thay Ä‘á»•i theoÂ <code>context</code>Â cá»§a chÆ°Æ¡ng trÃ¬nh thÃ¬ nÃªn sá»­ dá»¥ngÂ <code>Criteria</code>.</p>
<h3 id="how-to-use"><a class="header" href="#how-to-use"><strong>How to use.</strong></a></h3>
<p>Quay trá»Ÿ láº¡i vá»›i vÃ­ dá»¥ ban Ä‘áº§u nhÃ©:</p>
<pre><code>CriteriaBuilder builder = em.getCriteriaBuilder();

CriteriaQuery&lt;Office&gt; query =  builder.createQuery(Office.class);
Root&lt;Office&gt; root = query.from(Office.class);
query.select(root);
</code></pre>
<p>ChÃºng ta cÃ¹ng tÃ¬m hiá»ƒu tá»«ng dÃ²ng lá»‡nh:</p>
<ul>
<li>
<p><code>CriteriaBuilder</code>: Äá»ƒ xÃ¢y dá»±ng má»™t cÃ¢u query, cÃ¡c báº¡n sáº½ cáº§n tá»›iÂ <code>interface``CriteriaBuilder</code>, má»¥c Ä‘Ã­ch cá»§a nÃ³ lÃ  giÃºp táº¡o ra Ä‘á»‘i tÆ°á»£ng chá»©a cÃ¢u lá»‡nh truy váº¥nÂ <code>CriteriaQuery</code>Â vÃ  cung cáº¥p cÆ¡ sá»‘ cÃ¡c phÃ©p biáº¿n Ä‘á»•i, phÃ©p logic, Ä‘iá»u kiá»‡n cho cÃ¢u lá»‡nh (and, or, not, avg, greater than,v.v...)</p>
</li>
<li>
<p><code>CriteriaQuery</code>: Äá»‘i tÆ°á»£ng chÃ­nh cá»§a chÃºng ta Ä‘Ã¢y, nÃ³ Ä‘Æ°á»£c táº¡o ra bá»ŸiÂ <code>builder.createQuery(Office.class)</code>. Má»¥c Ä‘Ã­ch lÃ  khai bÃ¡o Ä‘á»‘i tÆ°á»£ng báº¡n muá»‘n láº¥y ra sau khi thá»±c hiá»‡n query. NÃ³ tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i Ä‘oáº¡n ngoáº·c Ä‘Æ¡n á»Ÿ dÆ°á»›i Ä‘Ã¢y:</p>
</li>
<li>
<p><code>Root</code>: root lÃ  khai bÃ¡o Ä‘á»‘i tÆ°á»£ng báº¡n sáº½ sá»­ dá»¥ng trong query, tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i Ä‘á»‘i tÆ°á»£ng sau má»‡nh Ä‘á»Â <code>FROM</code></p>
</li>
</ul>
<p>Cuá»‘i cÃ¹ng, Ä‘á»ƒ hoÃ n thiá»‡n cÃ¢u lá»‡nhÂ <code>SELECT</code>Â chá»‰ Ä‘Æ¡n giáº£n lÃ  láº¥y Ä‘á»‘i tÆ°á»£ngÂ <code>CriteriaQuery</code>Â Ä‘Ã£ khai bÃ¡o lÃ  sá»­ dá»¥ng functionÂ <code>select</code>. Äá»‘i tÆ°á»£ng truyá»n vÃ o chÃ­nh lÃ  cÃ¡iÂ <code>root</code>Â (hay cÃ¡i Ä‘á»‘i tÆ°á»£ng cá»§aÂ <code>FROM</code>) kia.</p>
<p>TrÃ´ng váº­y chá»© cÅ©ng dá»… dá»… rá»“i Ä‘áº¥y nhá»‰ :)))</p>
<p>Okie, cÃ³ Ä‘iá»u nÃ y khÃ´ng biáº¿t Ä‘Ã£ báº¡n nÃ o Ä‘á»ƒ Ã½ chÆ°a ğŸ˜… chÃºng ta má»›i táº¡o ra cÃ¢u lá»‡nh, chá»© chÆ°a há» gá»i nÃ³ xuá»‘ngÂ <code>Database</code>Â ğŸ˜…</p>
<p>Äá»ƒ sá»­ dá»¥ng cÃ¢u lá»‡nh Ä‘Ã£ táº¡o, cÃ¡c báº¡n lÃ m giá»‘ng vá»›iÂ <code>JPQL</code>Â Ä‘Ã³ lÃ  sá»­ dá»¥ng Ä‘á»‘i tÆ°á»£ngÂ <code>EntityManager</code></p>
<pre><code>TypedQuery&lt;Office&gt; query = em.createQuery(query);
List&lt;Office&gt; results = query.getResultList();
</code></pre>
<p>Oh right, tháº¿ lÃ  implement xong vÃ­ dá»¥ Ä‘Æ¡n giáº£n Ä‘Ã¢u tiÃªn, khÃ´ng cÃ³a gÃ¬ khÃ³ khÄƒn ğŸ¤” (chÃ©m). BÃ¢y giá» thá»­ advanced lÃªn tÃ½ nhá»‰:</p>
<p>BÃ¢y giá» mÃ¬nh muá»‘n láº¥y táº¥t cáº£Â <code>Office</code>Â á»Ÿ thÃ nh phá»‘Â <code>hanoi</code>Â thÃ¬ sáº½ lÃ m nhÆ° nÃ o?</p>
<pre><code>SELECT o FROM Office o WHERE o.city = 'hanoi'
</code></pre>
<p>LÃºc nÃ y query cá»§a chÃºng ta sáº½ nhÆ° tháº¿ nÃ y:</p>
<pre><code>query.select(root).where(builder.equal(root.get(&quot;city&quot;), &quot;hanoi&quot;));
</code></pre>
<p>CÃ¡c báº¡n Ä‘á»ƒ Ã½ Ä‘oáº¡n nÃ y nhÃ©. MÃ¬nh sá»­Â <code>builder</code>Â Ä‘á»ƒ láº¥y hÃ mÂ <code>equal</code>Â (phÃ©p toÃ¡n logic, nhÆ° mÃ¬nh Ä‘á» cáº­p á»Ÿ trÃªn, chuáº©n chÆ°a nÃ o). Tiáº¿p tá»›i lÃ  cÃ¡iÂ <code>root.get(&quot;city&quot;)</code>,Â <code>root</code>Â chÃ­nh lÃ  Ä‘á»‘i tÆ°á»£ng chÃºng ta Ä‘Ã£ khai bÃ¡o, bÃ¢y giá» chÃºng ta sáº½ láº¥y trÆ°á»ngÂ <code>city</code>Â cá»§a nÃ³ vÃ  kiá»ƒm tra nÃ³ vá»›iÂ <code>hanoi</code>.</p>
<p>CÃ³ thá»ƒ nÃ³iÂ <code>Criteria API</code>Â Ä‘Ã£ hiá»‡n thá»±c hÃ³a ráº¥t thÃ nh cÃ´ng cÃ¢u lá»‡nh JPQL (hay HQL) thÃ nh nhá»¯ng api java cá»±c kÃ¬ dá»… dá»c, dá»… hiá»ƒu vÃ  dá»… sá»­ dá»¥ng. Khi Ä‘Ã£ hiá»ƒu Ä‘Æ°á»£c cÃ¢u lá»‡nh gá»‘c, báº¡n cÃ³ thá»ƒ dá»… dÃ ng chuyá»ƒn nÃ³ thÃ nhÂ <code>Criteria</code>Â vÃ  ngÆ°á»£c láº¡i.</p>
<p>Trong bÃ i viáº¿t tá»›i á»Ÿ chÆ°Æ¡ngÂ <code>Spring</code>, mÃ¬nh sáº½ hÆ°á»›ng dáº«n cÃ¡c báº¡n sá»­ dá»¥ng tá»›iÂ <code>Specifications</code>Â káº¿t há»£pÂ <code>Criteria API</code>Â Ä‘á»ƒ táº¡o ra má»™t vá»¥ ná»• khi giao tiáº¿p vá»›i db báº±ngÂ <code>Java</code>Â (vÃ£i cáº£ chÃ©m ğŸ˜‚)</p>
<p>ChÃºc cÃ¡c báº¡n sá»­ dá»¥ng thÃ nh cÃ´ngÂ <code>Criteria API</code>Â vÃ  Ä‘á»«ng quÃªn like or chia sáº» bÃ i viáº¿t cho báº¡n bÃ¨ hihi, cáº£m Æ¡n cÃ¡c báº¡n Ä‘Ã£ theo dÃµi!</p>
<p>ğŸ’Â Náº¿u cÃ³, toÃ n bá»™ project / code máº«u Ä‘Æ°á»£c lÆ°u trá»¯ táº¡i <strong>GitHub</strong></p>
<p>ğŸŒŸÂ ÄÃ¢y lÃ  má»™t bÃ i viáº¿t trongÂ Series <strong>LÃ m chá»§ Spring Boot â€“ Zero to Hero</strong></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="jpahÆ°á»›ng-dáº«n-sá»­-dá»¥ng-criteria-api-trong-hibernate-pháº§n-2"><a class="header" href="#jpahÆ°á»›ng-dáº«n-sá»­-dá»¥ng-criteria-api-trong-hibernate-pháº§n-2">ã€ŒJpaã€HÆ°á»›ng dáº«n sá»­ dá»¥ng Criteria API trong Hibernate (Pháº§n 2)</a></h1>
<ul>
<li>Giá»›i thiá»‡u</li>
<li>CÃ i Ä‘áº·t</li>
<li>JPA Meta Model</li>
<li>Predicate</li>
</ul>
<h3 id="giá»›i-thiá»‡u-16"><a class="header" href="#giá»›i-thiá»‡u-16"><strong>Giá»›i thiá»‡u</strong></a></h3>
<p>Trong bÃ i viáº¿t trÆ°á»›c, tÃ´i Ä‘Ã£ giá»›i thiá»‡u vá»›i cÃ¡c báº¡n vá»Â <strong>Criteria API</strong>Â cá»§aÂ <strong>Hibernate</strong>.</p>
<ol>
<li>Hibernate lÃ  gÃ¬?</li>
<li>HÆ°á»›ng dáº«n sá»­ dá»¥ng Criteria API trong Hibernate</li>
</ol>
<p>Trong pháº§n nÃ y chÃºng ta sáº½ tÃ¬m hiá»ƒu má»™t sá»‘ cÃ¡c pháº§n cáº§n thiáº¿t khÃ¡c trongÂ <strong>Criteria API</strong>, thá»© giÃºp cho báº¡n xÃ¢y dá»±ng query má»™t cÃ¡ch Ä‘Æ¡n giáº£n hÆ¡n.</p>
<p>Trong bÃ i cÃ³ sá»­ dá»¥ng:</p>
<ol>
<li>Lombok</li>
</ol>
<h3 id="cÃ i-Ä‘áº·t-7"><a class="header" href="#cÃ i-Ä‘áº·t-7"><strong>CÃ i Ä‘áº·t</strong></a></h3>
<p>Nhá»› thÃªmÂ <code>spring-boot-starter-data-jpa</code>Â vÃ o dependencies cá»§a báº¡n.</p>
<p>Trong pháº§n nÃ y, tÃ´i xÃ iÂ <em>H2 database</em>Â Ä‘á»ƒ demo. (H2 lÃ  dáº¡ng memory database, nÃ³ sáº½ lÆ°u trong ram vÃ  khi táº¯t chÆ°Æ¡ng trÃ¬nh nÃ³ sáº½ máº¥t sáº¡ch)</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;projectxmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;&lt;parent&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;&lt;version&gt;2.0.5.RELEASE&lt;/version&gt;&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;
	&lt;/parent&gt;&lt;groupId&gt;me.loda.spring&lt;/groupId&gt;&lt;artifactId&gt;example-independent-maven-spring-project&lt;/artifactId&gt;&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;&lt;name&gt;example-independent-maven-spring-project&lt;/name&gt;&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;&lt;properties&gt;&lt;java.version&gt;1.8&lt;/java.version&gt;&lt;/properties&gt;&lt;dependencies&gt;&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;&lt;artifactId&gt;lombok&lt;/artifactId&gt;&lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;&lt;scope&gt;test&lt;/scope&gt;&lt;!--			&lt;exclusions&gt;--&gt;
			&lt;!--				&lt;exclusion&gt;--&gt;
			&lt;!--					&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;--&gt;
			&lt;!--					&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;--&gt;
			&lt;!--				&lt;/exclusion&gt;--&gt;
			&lt;!--			&lt;/exclusions&gt;--&gt;
		&lt;/dependency&gt;&lt;!--spring jpa--&gt;
		&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;&lt;/dependency&gt;&lt;!--in memory database--&gt;
		&lt;dependency&gt;&lt;groupId&gt;com.h2database&lt;/groupId&gt;&lt;artifactId&gt;h2&lt;/artifactId&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;&lt;!--https://mvnrepository.com/artifact/org.hibernate/hibernate-jpamodelgen --&gt;
		&lt;dependency&gt;&lt;groupId&gt;org.hibernate&lt;/groupId&gt;&lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;&lt;version&gt;5.4.9.Final&lt;/version&gt;&lt;scope&gt;provided&lt;/scope&gt;&lt;/dependency&gt;&lt;/dependencies&gt;&lt;build&gt;&lt;plugins&gt;&lt;plugin&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;&lt;/plugin&gt;&lt;/plugins&gt;&lt;/build&gt;&lt;/project&gt;
</code></pre>
<p>Äáº·c biá»‡t, chÃº Ã½Â <code>hibernate-jpamodelgen</code>, tÃ´i sáº½ giáº£i thÃ­ch tÃ¡c dá»¥ng cá»§a nÃ³ trÆ°á»›c.</p>
<h3 id="jpa-meta-model"><a class="header" href="#jpa-meta-model"><strong>JPA Meta Model</strong></a></h3>
<p>trongÂ bÃ i trÆ°á»›cÂ má»i ngÆ°á»i cÅ©ng biáº¿t cÃ¡ch cáº¥u trÃºc cá»§a má»™t cÃ¢u query trong Criteria API:</p>
<pre><code>SELECT o FROM Office o WHERE o.city = 'hanoi'
</code></pre>
<p>LÃºc nÃ y query cá»§a chÃºng ta sáº½ nhÆ° tháº¿ nÃ y:</p>
<pre><code>query.select(root).where(builder.equal(root.get(&quot;city&quot;), &quot;hanoi&quot;));
</code></pre>
<p>Äá»ƒ Ã½ thÃ¬ cÃ³ thá»ƒ tháº¥y, khi muá»‘n láº¥y columnÂ <code>city</code>Â Ä‘á»ƒ kiá»ƒm tra, chÃºng ta Ä‘ang hardcode báº±ngÂ <code>String</code>.</p>
<p>CÃ³ má»™t sá»‘ báº¥t lá»£i khi lÃ m váº­y, thá»© nháº¥t lÃ  báº¡n pháº£i tá»± nhá»› tÃªn cÃ¡c column má»—i khi gá»i, thá»© hai lÃ  báº¡n sáº½ pháº£i tÃ¬m kiáº¿m táº¥t cáº£ cÃ¡c chá»— sá»­ dá»¥ng má»—i sá»­a Ä‘á»•i tÃªn cá»™t.</p>
<p>CÃ¡ch giáº£i quyáº¿t hay nháº¥t lÃ  tham chiáº¿u tÃªn cÃ¡c column cá»§aÂ <strong>Table</strong>Â vÃ o má»™tÂ <strong>Object</strong>Â Ä‘á»ƒ chÃºng ta cÃ³ thá»ƒ gá»i tá»›i má»—i khi sá»­ dá»¥ng. Khi cÃ³ sá»± thay Ä‘á»•i, chá»‰ cáº§n thay Ä‘á»•i trong Ä‘á»‘i tÆ°á»£ng nÃ y lÃ  xong. Äá»‘i tÆ°á»£ng biá»ƒu diá»…n nÃ y Ä‘Æ°á»£c gá»i lÃ Â <strong>Meta Model</strong>.</p>
<p>VÃ  ráº¥t may lÃ  Hibernate há»— trá»£ chÃºng ta tá»± Ä‘á»™ng generate ra cÃ¡c Meta Model tá»« cÃ¡c classÂ <code>@Entity</code></p>
<p>VÃ­ dá»¥:</p>
<p>ChÃºng ta cÃ³ Class EntityÂ <code>User</code></p>
<p><em>User.java</em></p>
<pre><code>@Entity
@Data
@Builder
public class User {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    private UserType type;
    private String name;

    public enum UserType {
        NORMAL, VIP;
    }
}
</code></pre>
<p>ThÃ¬ class Meta Model cá»§aÂ <code>User</code>Â sáº½ tÃªn lÃ Â <code>User_</code>Â vÃ  cÃ³ cáº¥u trÃºc nhÆ° sau:</p>
<pre><code>@Generated(value = &quot;org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor&quot;)
@StaticMetamodel(User.class)
public abstract class User_ {

	public static volatile SingularAttribute&lt;User, String&gt; name;
	public static volatile SingularAttribute&lt;User, Long&gt; id;
	public static volatile SingularAttribute&lt;User, UserType&gt; type;

	public static final String NAME = &quot;name&quot;;
	public static final String ID = &quot;id&quot;;
	public static final String TYPE = &quot;type&quot;;

}
</code></pre>
<p>Äá»ƒ cÃ³ thá»ƒ Generate ra cÃ¡c class Meta Model, báº¡n sáº½ cáº§n thÃªm dependencyÂ <code>hibernate-jpamodelgen</code>Â vÃ o project cá»§a mÃ¬nh.</p>
<pre><code>&lt;dependency&gt;&lt;groupId&gt;org.hibernate&lt;/groupId&gt;&lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;&lt;version&gt;CURRENT-VERSION&lt;/version&gt;&lt;/dependency&gt;
</code></pre>
<p>Khi build jar nÃ³ sáº½ tá»± Ä‘á»™ng generate thÃªm cho báº¡n</p>
<p>Äá»ƒ cÃ³ thá»ƒ sá»­ dá»¥ng trong IDE, báº¡n cÃ³ thá»ƒ Config Annotation Processor (Giá»‘ng vá»›i Lombok), Ä‘á»ƒ IDE hiá»ƒu vÃ  tá»± Ä‘á»™ng generate ra giÃºp báº¡n láº­p trÃ¬nh dá»… hÆ¡n.</p>
<p>!image</p>
<h3 id="predicate"><a class="header" href="#predicate"><strong>Predicate</strong></a></h3>
<p>Äá»ƒ cÃ³ thá»ƒ xÃ¢y dá»±ng cÃ¢u truy váº¥n má»™t cÃ¡ch trá»n váº¹n, báº¡n cáº§n biáº¿tÂ <code>Predicate</code>.</p>
<p>Táº¡m hiá»ƒu má»™t cÃ¡ch Ä‘Æ¡n giáº£n thÃ¬Â <code>Predicate</code>Â lÃ  má»™t má»‡nh Ä‘á» Ä‘iá»u kiá»‡n trong cÃ¢u lá»‡nh truy váº¥n.</p>
<p>NhÆ° vÃ­ dá»¥ á»Ÿ dÆ°á»›i Ä‘Ã¢y:</p>
<pre><code>@Repository
public class CustomUserRepository {

    @PersistenceContext
    private EntityManager em;

    public User getUserById(Long id) {
        CriteriaBuilder builder = em.getCriteriaBuilder();
        CriteriaQuery&lt;User&gt; query = builder.createQuery(User.class);
        Root&lt;User&gt; root = query.from(User.class);

        Predicate condition = builder.equal(root.get(User_.ID), id);

        query.select(root).where(condition);

        return em.createQuery(query).getSingleResult();
    }
}
</code></pre>
<p><code>Predicate</code>Â cÃ³ thá»ƒ liÃªn káº¿t vá»›i nhau báº±ng cÃ¡c phÃ©p quan há»‡Â <code>and</code>,Â <code>or</code>,Â <code>not</code>, v.v..</p>
<p>VÃ­ dá»¥:</p>
<pre><code>    public Collection&lt;User&gt; getUserByComplexConditions(String name, UserType type) {
        CriteriaBuilder builder = em.getCriteriaBuilder();
        CriteriaQuery&lt;User&gt; query = builder.createQuery(User.class);
        Root&lt;User&gt; root = query.from(User.class);

        Predicate hasNameLike = builder.like(root.get(User_.NAME), name);
        Predicate hasType = builder.equal(root.get(User_.TYPE), type);

        Predicate condition = builder.and(hasNameLike, hasType);

        query.select(root).where(condition);
        return em.createQuery(query).getResultList();
    }
</code></pre>
<p>Tá»›i Ä‘Ã¢y báº¡n Ä‘Ã£ náº¯m Ä‘Æ°á»£c cÆ¡ báº£nÂ <strong>Criteria API</strong>Â vÃ  Ä‘Ã£ cÃ³ thá»ƒ tá»± sá»­ dá»¥ng nÃ³ trong Ä‘a sá»‘ cÃ¡c cÃ¢u lá»‡nh Ä‘Æ¡n giáº£n.</p>
<p>Trong bÃ i tiáº¿p theo, tÃ´i sáº½ hÆ°á»›ng dáº«n ná»‘t cÃ¡c join báº£ng ná»¯a thÃ´i lÃ  báº¡n sáº½ mas con Ã´ng ter.</p>
<p>ğŸ’Â Náº¿u cÃ³, toÃ n bá»™ project / code máº«u Ä‘Æ°á»£c lÆ°u trá»¯ táº¡i <strong>GitHub</strong></p>
<p>ğŸŒŸÂ ÄÃ¢y lÃ  má»™t bÃ i viáº¿t trongÂ Series <strong>LÃ m chá»§ Spring Boot â€“ Zero to Hero</strong></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="jpahÆ°á»›ng-dáº«n-tá»±-táº¡o-validator-Ä‘á»ƒ-kiá»ƒm-tra-model--entity"><a class="header" href="#jpahÆ°á»›ng-dáº«n-tá»±-táº¡o-validator-Ä‘á»ƒ-kiá»ƒm-tra-model--entity">ã€ŒJpaã€HÆ°á»›ng dáº«n tá»± táº¡o Validator Ä‘á»ƒ kiá»ƒm tra Model &amp; Entity</a></h1>
<ul>
<li>Giá»›i thiá»‡u</li>
<li>CÃ i Ä‘áº·t</li>
<li>Prepare</li>
<li>Táº¡o Annotation</li>
<li>Táº¡o Validator</li>
<li>Cháº¡y thá»­</li>
<li>Káº¿t</li>
</ul>
<h3 id="giá»›i-thiá»‡u-17"><a class="header" href="#giá»›i-thiá»‡u-17"><strong>Giá»›i thiá»‡u</strong></a></h3>
<p>Báº£n thÃ¢n Hibernate vÃ  Java Ä‘Ã£ cung cáº¥p cho chÃºng ta ráº¥t nhiá»u cÃ¡c Annotation Ä‘á»ƒ validate dá»¯ liá»‡u cá»§a model.</p>
<p>Cháº³ng háº¡n nhÆ°:Â <code>@@NotBlank</code>,Â <code>@Size</code>,Â <code>@Email</code>, v.v..</p>
<p>Tuy nhiÃªn, trÃªn thá»±c táº¿, chÃºng ta cÃ³ ráº¥t nhiá»u cÃ¡c Ä‘iá»u kiá»‡n Ä‘Æ°á»£c Ä‘áº·t ra, tuá»³ thuá»™c vÃ o business vÃ  mÃ´ hÃ¬nh dá»± Ã¡n.</p>
<p>VÃ­ dá»¥ nhÆ° trong dá»± Ã¡n cá»§a tÃ´i, tÃ´i muá»‘n táº¥t cáº£Â <code>User</code>Â Ä‘á»u pháº£i cÃ³ má»™t thuá»™c tÃ­nh lÃ Â <code>lodaId</code>.</p>
<p>Má»™tÂ <code>lodaId</code>Â há»£p lá»‡ lÃ  chuá»—i String cÃ³ tiá»n tá»‘:Â <code>loda://xxxx</code></p>
<p>LÃºc nÃ y, lÃ m sao Ä‘á»ƒ tÃ´i cháº¯c cháº¯n Ä‘Æ°á»£c ráº±ng má»iÂ <code>User</code>Â trÆ°á»›c khi táº¡o Ä‘á»u pháº£i cÃ³Â <code>lodaId</code>Â há»£p lá»‡?</p>
<p>RÃµ rÃ ng tÃ´i pháº£i tá»± táº¡o ra má»™t bá»™ kiá»ƒm tra cho riÃªng mÃ¬nh Ä‘á»ƒ kiá»ƒm soÃ¡t tÃ­nh há»£p lá»‡ cá»§aÂ <code>User</code>.</p>
<p>Ráº¥t may,Â <code>hibernate-validator</code>Â sáº½ giÃºp tÃ´i lÃ m Ä‘iá»u Ä‘Ã³.</p>
<p>Trong bÃ i cÃ³ sá»­ dá»¥ng cÃ¡c kiáº¿n thá»©c:</p>
<ol>
<li>Spring Boot</li>
<li>jpa</li>
<li>lombok</li>
</ol>
<h3 id="cÃ i-Ä‘áº·t-8"><a class="header" href="#cÃ i-Ä‘áº·t-8"><strong>CÃ i Ä‘áº·t</strong></a></h3>
<p><em>pom.xml</em></p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;projectxmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;&lt;parent&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;&lt;version&gt;2.0.5.RELEASE&lt;/version&gt;&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;
	&lt;/parent&gt;&lt;groupId&gt;me.loda.spring&lt;/groupId&gt;&lt;artifactId&gt;example-independent-maven-spring-project&lt;/artifactId&gt;&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;&lt;name&gt;example-independent-maven-spring-project&lt;/name&gt;&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;&lt;properties&gt;&lt;java.version&gt;1.8&lt;/java.version&gt;&lt;/properties&gt;&lt;dependencies&gt;&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;&lt;artifactId&gt;lombok&lt;/artifactId&gt;&lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;&lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;&lt;!--https://mvnrepository.com/artifact/org.hibernate/hibernate-validator --&gt;
        &lt;dependency&gt;&lt;groupId&gt;org.hibernate&lt;/groupId&gt;&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;&lt;version&gt;6.1.0.Final&lt;/version&gt;&lt;/dependency&gt;&lt;/dependencies&gt;&lt;build&gt;&lt;plugins&gt;&lt;plugin&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;&lt;/plugin&gt;&lt;/plugins&gt;&lt;/build&gt;&lt;/project&gt;
</code></pre>
<h3 id="prepare-3"><a class="header" href="#prepare-3"><strong>Prepare</strong></a></h3>
<p>TrÆ°á»›c khi táº¡o ra má»™t bá»™ Validator cho riÃªng mÃ¬nh, chÃºng ta táº¡o ra cÃ¡c thÃ nh pháº§n chÃ­nh.</p>
<p>Táº¡o ra modelÂ <code>User</code></p>
<p><em>User.java</em></p>
<pre><code>@Data
public class User {
    private String lodaId;
}
</code></pre>
<p>Táº¡o Controller giao tiáº¿p vá»›i client.</p>
<p><em>UserController.java</em></p>
<pre><code>@RestController
@RequestMapping(&quot;api/v1/users&quot;)
public class UserController {

    /*
        ÄÃ¡nh dáº¥u object vá»›i @Valid Ä‘á»ƒ validator tá»± Ä‘á»™ng kiá»ƒm tra object Ä‘Ã³ cÃ³ há»£p lá»‡ hay khÃ´ng
     */
    @PostMapping
    public Object createUser(@Valid @RequestBody User user) {
        return user;
    }

}
</code></pre>
<h3 id="táº¡o-annotation"><a class="header" href="#táº¡o-annotation"><strong>Táº¡o Annotation</strong></a></h3>
<p>Äá»ƒ táº¡o ra má»™t validator vá»›i Hibernate-Validator, chÃºng ta cáº§n khai bÃ¡o má»™t annotation má»›i.</p>
<p>á» Ä‘Ã¢y, tÃ´i táº¡o ra má»™t Annotation cá»§a chÃ­nh mÃ¬nh nhÆ° sau:</p>
<pre><code>/**
 * Khai bÃ¡o má»™t custom annotation
 */
@Documented
@Constraint(validatedBy = LodaIdValidator.class)
@Target({ElementType.METHOD, ElementType.FIELD})
@Retention(RetentionPolicy.RUNTIME)
public @interface LodaId {
    // trÆ°á»ng message lÃ  báº¯t buá»™c, khai bÃ¡o ná»™i dung sáº½ tráº£ vá» khi field k há»£p lá»‡
    String message() default &quot;LodaId must start with loda://&quot;;
    // CÃ¡i nÃ y lÃ  báº¯t buá»™c pháº£i cÃ³ Ä‘á»ƒ Hibernate Validator cÃ³ thá»ƒ hoáº¡t Ä‘á»™ng
    Class&lt;?&gt;[] groups() default {};
    // CÃ¡i nÃ y lÃ  báº¯t buá»™c pháº£i cÃ³ Ä‘á»ƒ Hibernate Validator cÃ³ thá»ƒ hoáº¡t Ä‘á»™ng
    Class&lt;? extends Payload&gt;[] payload() default {};
}
</code></pre>
<p>Váº­y lÃ  xong, giá» chá»‰ cáº§n gáº¯nÂ <code>@LodaId</code>Â lÃªn trÆ°á»ng nÃ o cáº§n kiá»ƒm tra tÃ­nh há»£p lá»‡.</p>
<pre><code>@Data
public class User {
    // ÄÃ¡nh dáº¥u field lodaId sáº½ cáº§n validate bá»Ÿi @LodaId
    @LodaId
    private String lodaId;
}
</code></pre>
<h3 id="táº¡o-validator"><a class="header" href="#táº¡o-validator"><strong>Táº¡o Validator</strong></a></h3>
<p>Sau khi Ä‘Ã£ táº¡o raÂ <code>@LodaId</code>, chÃºng ta cáº§n táº¡o ra bá»™ kiá»ƒm tra cho Annotation nÃ y.</p>
<p>Ráº¥t Ä‘Æ¡n giáº£n, báº¡n chá»‰ cáº§n káº¿ thá»«a lá»›pÂ <code>ConstraintValidator</code>Â cá»§a Hibernate Validator</p>
<pre><code>import javax.validation.ConstraintValidator;
import javax.validation.ConstraintValidatorContext;

public class LodaIdValidator implements ConstraintValidator&lt;LodaId, String&gt; {
    private static final String LODA_PREFIX = &quot;loda://&quot;;

    /**
     * Kiá»ƒm tra tÃ­nh há»£p lá»‡ cá»§a trÆ°á»ng Ä‘Æ°á»£c Ä‘Ã¡nh dáº¥u bá»Ÿi @LodaId
     * @param s
     * @param constraintValidatorContext
     * @return
     */
    @Override
    public boolean isValid(String s, ConstraintValidatorContext constraintValidatorContext) {
        if (s == null || s.isEmpty()) return false;

        return s.startsWith(LODA_PREFIX);
    }
}
</code></pre>
<h3 id="cháº¡y-thá»­-5"><a class="header" href="#cháº¡y-thá»­-5"><strong>Cháº¡y thá»­</strong></a></h3>
<p>Request má»™tÂ <code>User</code>Â há»£p lá»‡:</p>
<pre><code>{
	&quot;lodaId&quot;: &quot;loda://user_1&quot;
}
</code></pre>
<p>tráº£ vá» thÃ nh cÃ´ngÂ <code>200</code>.</p>
<p>!image</p>
<p>Request má»™tÂ <code>User</code>Â khÃ´ng há»£p lá»‡:</p>
<pre><code>{
	&quot;lodaId&quot;: &quot;Laula://user_1&quot;
}
</code></pre>
<p>Tráº£ vá» tháº¥t báº¡i, Bad RequestÂ <code>400</code>.</p>
<p>!image</p>
<pre><code>{
    &quot;timestamp&quot;: &quot;2019-12-19T10:26:14.554+0000&quot;,
    &quot;status&quot;: 400,
    &quot;error&quot;: &quot;Bad Request&quot;,
    &quot;errors&quot;: [
        {
            &quot;codes&quot;: [
                &quot;LodaId.user.lodaId&quot;,
                &quot;LodaId.lodaId&quot;,
                &quot;LodaId.java.lang.String&quot;,
                &quot;LodaId&quot;
            ],
            &quot;arguments&quot;: [
                {
                    &quot;codes&quot;: [
                        &quot;user.lodaId&quot;,
                        &quot;lodaId&quot;
                    ],
                    &quot;arguments&quot;: null,
                    &quot;defaultMessage&quot;: &quot;lodaId&quot;,
                    &quot;code&quot;: &quot;lodaId&quot;
                }
            ],
            &quot;defaultMessage&quot;: &quot;LodaId must start with loda://&quot;,
            &quot;objectName&quot;: &quot;user&quot;,
            &quot;field&quot;: &quot;lodaId&quot;,
            &quot;rejectedValue&quot;: &quot;Laula://user_1&quot;,
            &quot;bindingFailure&quot;: false,
            &quot;code&quot;: &quot;LodaId&quot;
        }
    ],
    &quot;message&quot;: &quot;Validation failed for object='user'. Error count: 1&quot;,
    &quot;path&quot;: &quot;/api/v1/users&quot;
}
</code></pre>
<h3 id="káº¿t-9"><a class="header" href="#káº¿t-9"><strong>Káº¿t</strong></a></h3>
<p>Ráº¥t Ä‘Æ¡n giáº£n Ä‘á»ƒ cÃ³ thá»ƒ tá»± táº¡o ra cho mÃ¬nh cÃ¡c Validator vá»›iÂ <code>Hibernate-Validator</code>. NÃ³ sáº½ giÃºp báº¡n tiáº¿t kiá»‡m ráº¥t nhiá»u thá»i gian.</p>
<p>ğŸ’Â Náº¿u cÃ³, toÃ n bá»™ project / code máº«u Ä‘Æ°á»£c lÆ°u trá»¯ táº¡i <strong>GitHub</strong></p>
<p>ğŸŒŸÂ ÄÃ¢y lÃ  má»™t bÃ i viáº¿t trongÂ Series <strong>LÃ m chá»§ Spring Boot â€“ Zero to Hero</strong></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ss-hÆ°á»›ng-dáº«n-spring-security-cÆ¡-báº£n-dá»…-hiá»ƒu"><a class="header" href="#ss-hÆ°á»›ng-dáº«n-spring-security-cÆ¡-báº£n-dá»…-hiá»ƒu">[SS] HÆ°á»›ng dáº«n Spring Security cÆ¡ báº£n, dá»… hiá»ƒu</a></h1>
<ul>
<li>Giá»›i thiá»‡u</li>
<li>CÃ i Ä‘áº·t</li>
<li>Implement</li>
<li>KÃ­ch hoáº¡t tÃ­nh nÄƒng WebSecurity</li>
<li>Táº¡o tÃ i khoáº£n user</li>
<li>PhÃ¢n quyá»n truy cáº­p</li>
<li>ThÃªm controller.</li>
<li>Cháº¡y thá»­</li>
<li>Káº¿t</li>
</ul>
<h3 id="giá»›i-thiá»‡u-18"><a class="header" href="#giá»›i-thiá»‡u-18"><strong>Giá»›i thiá»‡u</strong></a></h3>
<p><strong>Spring Security</strong>Â lÃ  má»™t trong nhá»¯ng core feature quan trá»ng cá»§a Spring Framework, nÃ³ giÃºp chÃºng ta phÃ¢n quyá»n vÃ  xÃ¡c thá»±c ngÆ°á»i dÃ¹ng trÆ°á»›c khi cho phÃ©p há» truy cáº­p vÃ o cÃ¡c tÃ i nguyÃªn cá»§a chÃºng ta.</p>
<p>Trong bÃ i hÆ°á»›ng dáº«n nÃ y, tÃ´i sáº½ hÆ°á»›ng dáº«n cÃ¡c báº¡n cÃ¡ch implementÂ <strong>Spring Security</strong>Â má»™t cÃ¡ch cÆ¡ báº£n nháº¥t, Ä‘Æ¡n giáº£n nháº¥t, chÃºng ta sáº½ nÃ¢ng cao dáº§n á»Ÿ cÃ¡c bÃ i sau.</p>
<h3 id="cÃ i-Ä‘áº·t-9"><a class="header" href="#cÃ i-Ä‘áº·t-9"><strong>CÃ i Ä‘áº·t</strong></a></h3>
<p>ChÃºng ta cÃ i thÆ° viá»‡n qua maven, cÃ¡c dependencies bao gá»“m:</p>
<p><em>pom.xml</em></p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

    &lt;groupId&gt;org.springframework&lt;/groupId&gt;
    &lt;artifactId&gt;spring-security-example&lt;/artifactId&gt;
    &lt;version&gt;0.1.0&lt;/version&gt;

    &lt;parent&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
        &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;
    &lt;/parent&gt;

    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;
            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;

    &lt;properties&gt;
        &lt;java.version&gt;1.8&lt;/java.version&gt;
    &lt;/properties&gt;

    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;

&lt;/project&gt;
</code></pre>
<p>ThÆ° má»¥c code gá»“m cÃ³:</p>
<p>!image</p>
<h3 id="implement-1"><a class="header" href="#implement-1"><strong>Implement</strong></a></h3>
<h3 id="kÃ­ch-hoáº¡t-tÃ­nh-nÄƒng-websecurity"><a class="header" href="#kÃ­ch-hoáº¡t-tÃ­nh-nÄƒng-websecurity"><strong>KÃ­ch hoáº¡t tÃ­nh nÄƒng WebSecurity</strong></a></h3>
<p>TrÆ°á»›c tiÃªn, Ä‘á»ƒ kÃ­ch hoáº¡t tÃ­nh nÄƒng Spring Security trÃªn á»©ng dá»¥ng Web cá»§a mÃ¬nh, cÃ¡c báº¡n cáº§n gáº¯n annotationÂ <code>@EnableWebSecurity</code>Â trÃªn má»™t bean báº¥t ká»³ cá»§a mÃ¬nh.</p>
<p>á» Ä‘Ã¢y, tÃ´i táº¡o ra má»™t classÂ <code>WebSecurityConfig</code>Â Ä‘á»ƒ lÃ  nÆ¡i táº­p trung cÃ¡c xá»­ lÃ½ cÃ¡c thÃ´ng tin liÃªn quan tá»›i security.</p>
<pre><code>@EnableWebSecurity
public class WebSecurityConfig {
    // ...
}
</code></pre>
<h3 id="táº¡o-tÃ i-khoáº£n-user"><a class="header" href="#táº¡o-tÃ i-khoáº£n-user"><strong>Táº¡o tÃ i khoáº£n user</strong></a></h3>
<p>ThÃ´ng thÆ°á»ng, tÃ i khoáº£n user cá»§a ngÆ°á»i dÃ¹ng sáº½ Ä‘Æ°á»£c lÆ°u trong csdl vÃ  mÃ£ hÃ³a. Tuy nhiÃªn, trong vÃ­ dá»¥ cá»±c kÃ¬ basic nÃ y, tÃ´i sáº½ lÆ°u má»™t tÃ i khoáº£n ngÆ°á»i dÃ¹ng trong chÃ­nh bá»™ nhá»› chÆ°Æ¡ng trÃ¬nh.</p>
<p>CÃ¡ch nÃ y chá»‰ Ä‘á»ƒ demo thÃ´i nhÃ©, vÃ¬ nÃ³ dá»¯ liá»‡u sáº½ bá»‹ máº¥t khi táº¯t á»©ng dá»¥ng, chÃºng ta sáº½ tÃ¬m hiá»ƒu cÃ¡ch xÃ¡c thá»±c báº±ng csdl á»Ÿ bÃ i sau.</p>
<pre><code>@EnableWebSecurity
public class WebSecurityConfig extends WebSecurityConfigurerAdapter {

    @Bean
    @Override
    public UserDetailsService userDetailsService() {
        // Táº¡o ra user trong bá»™ nhá»›
        // lÆ°u Ã½, chá»‰ sá»­ dá»¥ng cÃ¡ch nÃ y Ä‘á»ƒ minh há»a
        // CÃ²n thá»±c táº¿ chÃºng ta sáº½ kiá»ƒm tra user trong csdl
        InMemoryUserDetailsManager manager = new InMemoryUserDetailsManager();
        manager.createUser(
                User.withDefaultPasswordEncoder() // Sá»­ dá»¥ng mÃ£ hÃ³a password Ä‘Æ¡n giáº£n
                    .username(&quot;loda&quot;)
                    .password(&quot;loda&quot;)
                    .roles(&quot;USER&quot;) // phÃ¢n quyá»n lÃ  ngÆ°á»i dÃ¹ng.
                    .build()
        );
        return manager;
    }
}
</code></pre>
<p><code>WebSecurityConfigurerAdapter</code>Â lÃ  má»™t interface tiá»‡n Ã­ch cá»§a Spring Security giÃºp chÃºng ta cÃ i Ä‘áº·t cÃ¡c thÃ´ng tin dá»… dÃ ng hÆ¡n.</p>
<p><em>Method</em><code>userDetailsService()</code>Â cÃ³ tÃ¡c dá»¥ng cung cáº¥p thÃ´ng tin user cho Spring Security, chÃºng taÂ <em>Override</em>Â láº¡i method nÃ y vÃ  cung cáº¥p cho nÃ³ má»™tÂ <code>User</code>Â lÃ Â <code>loda</code>.</p>
<h3 id="phÃ¢n-quyá»n-truy-cáº­p"><a class="header" href="#phÃ¢n-quyá»n-truy-cáº­p"><strong>PhÃ¢n quyá»n truy cáº­p</strong></a></h3>
<p>Khi Ä‘Ã£ cÃ³Â <code>User</code>, chÃºng ta sáº½ cáº§n phÃ¢n quyá»n xem má»™tÂ <code>User</code>Â sáº½ Ä‘Æ°á»£c phÃ©p truy cáº­p vÃ o nhá»¯ng tÃ i nguyÃªn nÃ o.</p>
<p>LÃºc nÃ y, váº«n á»Ÿ trongÂ <code>WebSecurityConfigurerAdapter</code>, chÃºng ta override láº¡i methodÂ <code>protected void configure(HttpSecurity http)</code>Â Ä‘á»ƒ thá»±c hiá»‡n viá»‡c phÃ¢n quyá»n.</p>
<pre><code>import org.springframework.context.annotation.Bean;
import org.springframework.security.config.annotation.web.builders.HttpSecurity;
import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;
import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;
import org.springframework.security.core.userdetails.User;
import org.springframework.security.core.userdetails.UserDetailsService;
import org.springframework.security.provisioning.InMemoryUserDetailsManager;

@EnableWebSecurity
public class WebSecurityConfig extends WebSecurityConfigurerAdapter {

    @Bean
    @Override
    public UserDetailsService userDetailsService() {
        // Táº¡o ra user trong bá»™ nhá»›
        // lÆ°u Ã½, chá»‰ sá»­ dá»¥ng cÃ¡ch nÃ y Ä‘á»ƒ minh há»a
        // CÃ²n thá»±c táº¿ chÃºng ta sáº½ kiá»ƒm tra user trong csdl
        InMemoryUserDetailsManager manager = new InMemoryUserDetailsManager();
        manager.createUser(
                User.withDefaultPasswordEncoder() // Sá»­ dá»¥ng mÃ£ hÃ³a password Ä‘Æ¡n giáº£n
                    .username(&quot;loda&quot;)
                    .password(&quot;loda&quot;)
                    .roles(&quot;USER&quot;) // phÃ¢n quyá»n lÃ  ngÆ°á»i dÃ¹ng.
                    .build()
        );
        return manager;
    }

    @Override
    protected void configure(HttpSecurity http) throws Exception {
        http
                .authorizeRequests()
                    .antMatchers(&quot;/&quot;, &quot;/home&quot;).permitAll() // Cho phÃ©p táº¥t cáº£ má»i ngÆ°á»i truy cáº­p vÃ o 2 Ä‘á»‹a chá»‰ nÃ y
                    .anyRequest().authenticated() // Táº¥t cáº£ cÃ¡c request khÃ¡c Ä‘á»u cáº§n pháº£i xÃ¡c thá»±c má»›i Ä‘Æ°á»£c truy cáº­p
                    .and()
                .formLogin() // Cho phÃ©p ngÆ°á»i dÃ¹ng xÃ¡c thá»±c báº±ng form login
                    .defaultSuccessUrl(&quot;/hello&quot;)
                    .permitAll() // Táº¥t cáº£ Ä‘á»u Ä‘Æ°á»£c truy cáº­p vÃ o Ä‘á»‹a chá»‰ nÃ y
                    .and()
                .logout() // Cho phÃ©p logout
                    .permitAll();
    }
}
</code></pre>
<p><code>HttpSecurity</code>Â lÃ  Ä‘á»‘i tÆ°á»£ng chÃ­nh cá»§a Spring Security, cho phÃ©p chÃºng ta cáº¥u hÃ¬nh má»i thá»© cáº§n báº£o máº­t, vÃ  nÃ³ Ä‘Æ°á»£c xÃ¢y dá»±ng dÆ°á»›i design pattern giá»‘ng vá»›iÂ <code>Builder Pattern</code>, nÃªn má»i cÃ i Ä‘áº·t cÃ³ thá»ƒ viáº¿t liÃªn tá»¥c thÃ´ng qua toÃ¡n tá»­Â <code>.</code></p>
<p>á» vÃ­ dá»¥ trÃªn, nhá»¯ng gÃ¬ chÃºng ta muá»‘n cho phÃ©p, chÃºng ta sáº½ xÃ i methodÂ <code>.permit()</code>, cÃ²n nhá»¯ng gÃ¬ cáº¥m hoáº·c yÃªu cáº§u xÃ¡c thá»±c sáº½ dÃ¹ngÂ <code>.authenticated()</code></p>
<p>Khi gá»iÂ <code>.formLogin()</code>Â thÃ¬ chÃºng ta cáº¥u hÃ¬nh cho phÃ©p ngÆ°á»i dÃ¹ng Ä‘Äƒng nháº­p, thÃ´ng qua Ä‘á»‹a chá»‰ máº·c Ä‘á»‹nhÂ <code>/login</code>Â do Spring Security tá»± táº¡o ra (CÃ¡i nÃ y cÃ³ thá»ƒ custom theo Ã½ mÃ¬nh Ä‘Æ°á»£c, nhÆ°ng chÃºng ta sáº½ tiáº¿p cáº­n á»Ÿ bÃ i sau).</p>
<p>TÆ°Æ¡ng tá»±Â <code>.logout()</code>Â cho phÃ©p ngÆ°á»i dÃ¹ng logout, Náº¿u khÃ´ng nÃ³i gÃ¬ thÃªm, Spring Security sáº½ máº·c Ä‘á»‹nh tá»± táº¡o ra má»™t trang logout vá»›i Ä‘á»‹a chá»‰Â <code>/logout</code>.</p>
<h3 id="thÃªm-controller"><a class="header" href="#thÃªm-controller"><strong>ThÃªm controller.</strong></a></h3>
<p>ChÃºng ta táº¡o ra trang web cá»§a mÃ¬nh gá»“m cÃ³ trangÂ <code>homepage</code>Â vÃ  trangÂ <code>hello</code>.</p>
<ul>
<li>TrangÂ <code>homepage</code>Â thÃ¬ ai cÅ©ng truy cáº­p Ä‘Æ°á»£c.</li>
<li>TrangÂ <code>hello</code>Â thÃ¬ pháº£i xÃ¡c thá»±c má»›i Ä‘Æ°á»£c truy cáº­p.</li>
</ul>
<p>CÃ¡c Ä‘á»‹a chá»‰Â <code>/login</code>Â vÃ Â <code>/logout</code>Â thÃ¬ khÃ´ng cáº§n táº¡o, Spring Security Ä‘Ã£ táº¡o sáºµn rá»“i, chÃºng ta dÃ¹ng láº¡i luÃ´n.</p>
<pre><code>import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;

@Controller
public class WebController {

    @GetMapping(value = {&quot;/&quot;, &quot;/home&quot;})
    public String homepage() {
        return &quot;home&quot;; // Tráº£ vá» home.html
    }

    @GetMapping(&quot;/hello&quot;)
    public String hello() {
        return &quot;hello&quot;; // Tráº£ vá» hello.html
    }

}
</code></pre>
<p>Ukie, Ä‘Æ¡n giáº£n váº­y thÃ´i, bÃ¢y giá» cáº§n táº¡o ra cÃ¡c trangÂ <code>home.html</code>Â vÃ Â <code>hello.html</code>.</p>
<p>VÃ¬ á»Ÿ trong fileÂ <em>pom.xml</em>Â chÃºng ta Ä‘Ã£ cÃ i thÆ° viá»‡nÂ <code>thymeleaf</code>. NÃªn nÃ³ sáº½ tá»± Ä‘á»™ng mapping tÃªn tÆ°Æ¡ng á»©ng trongÂ <code>Controller</code>Â tráº£ vá» vá»›i cÃ¡c file á»Ÿ bÃªn trong thÆ° má»¥cÂ <code>resources/templates/</code></p>
<pre><code>&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;
&lt;/dependency&gt;
</code></pre>
<p><em>hello.html</em></p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;
&lt;head&gt;
  &lt;title&gt;Hello&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;Chá»‰ nhá»¯ng ai Ä‘Äƒng nháº­p má»›i truy cáº­p Ä‘Æ°á»£c trang nÃ y!&lt;/h1&gt;

&lt;form th:action=&quot;@{/logout}&quot; method=&quot;post&quot;&gt;
  &lt;input type=&quot;submit&quot; value=&quot;Sign Out&quot;/&gt;
&lt;/form&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>CÃº phÃ¡pÂ <code>th:action=&quot;@{/logout}&quot;</code>Â lÃ  cá»§a thymeleaf, cÃ³ tÃ¡c dá»¥ng request tá»›i Ä‘á»‹a chá»‰Â <code>/logout</code></p>
<p><em>home.html</em></p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;
&lt;head&gt;
  &lt;title&gt;Spring Security Example&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;Welcome!&lt;/h1&gt;

&lt;p&gt;&lt;a href=&quot;/login&quot;&gt;login&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Click &lt;a href=&quot;https://loda.me&quot;&gt;here&lt;/a&gt; to see a loda homepage.&lt;/p&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 id="cháº¡y-thá»­-6"><a class="header" href="#cháº¡y-thá»­-6"><strong>Cháº¡y thá»­</strong></a></h3>
<p>Cháº¡y á»©ng dá»¥ng báº±ng cÃ¡ch implementÂ <code>@SpringBootApplication</code></p>
<pre><code>import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class App {
    public static void main(String[] args) {
        SpringApplication.run(App.class, args);
    }
}
</code></pre>
<p>Khi cháº¡y xong, truy cáº­p vÃ o Ä‘Æ°á»ng dáº«nÂ <code>http://localhost:8080/home</code>Â Ä‘á»ƒ vÃ o trang chá»§.</p>
<p>!image</p>
<p>Khi chÆ°a Ä‘Äƒng nháº­p, chÃºng ta truy cáº­p vÃ o Ä‘Æ°á»ng dáº«nÂ <code>/hello</code>. ThÃ¬ nÃ³ sáº½ tá»± redirect sang trangÂ <code>/login</code>.</p>
<p>!image</p>
<p>Khi Ä‘Ã£ Ä‘Äƒng nháº­p thÃ nh cÃ´ng, chÃºng ta sáº½ cÃ³ thá»ƒ vÃ o trangÂ <code>/hello</code>Â nhÆ° bÃ¬nh thÆ°á»ng.</p>
<p>!image</p>
<p>Khi click vÃ oÂ <code>Sign Out</code>Â thÃ¬ sáº½ Ä‘Äƒng xuáº¥t.</p>
<p>!image</p>
<h3 id="káº¿t-10"><a class="header" href="#káº¿t-10"><strong>Káº¿t</strong></a></h3>
<p>Trong bÃ i nÃ y, tÃ´i Ä‘Ã£ giá»›i thiá»‡u vá»›i cÃ¡c báº¡n vá»Â <strong>Spring Security</strong>Â Ä‘á»“ng thá»i giá»›i thiá»‡u cÃ¡c khÃ¡i niá»‡m cÆ¡ báº£n vá» User vÃ  phÃ¢n quyá»n. á» cÃ¡c bÃ i nÃ¢ng cao sau, tÃ´i sáº½ giá»›i thiá»‡u thÃªm vá»›i cÃ¡c báº¡n vá» cÃ¡ch xÃ¡c thá»±c ngÆ°á»i dÃ¹ng trong csdl vÃ  xÃ¡c thá»±c báº±ngÂ <code>OAuth 2.0</code></p>
<p>BÃ i viáº¿t liÃªn quan:</p>
<ol>
<li>[â›³SS] HÆ°á»›ng dáº«n Spring Security + Jpa Hibernate</li>
</ol>
<p>ğŸ’Â Náº¿u cÃ³, toÃ n bá»™ project / code máº«u Ä‘Æ°á»£c lÆ°u trá»¯ táº¡i <strong>GitHub</strong></p>
<p>ğŸŒŸÂ ÄÃ¢y lÃ  má»™t bÃ i viáº¿t trongÂ Series <strong>LÃ m chá»§ Spring Boot â€“ Zero to Hero</strong></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ss-hÆ°á»›ng-dáº«n-spring-security--jpa-hibernate"><a class="header" href="#ss-hÆ°á»›ng-dáº«n-spring-security--jpa-hibernate">[SS] HÆ°á»›ng dáº«n Spring Security + Jpa Hibernate</a></h1>
<ul>
<li>Giá»›i thiá»‡u</li>
<li>CÃ i Ä‘áº·t</li>
<li>Implement</li>
<li>Táº¡o User</li>
<li>Tham chiáº¿u User vá»›i UserDetails</li>
<li>Cáº¥u hÃ¬nh vÃ  phÃ¢n quyá»n</li>
<li>Táº¡o Controller vÃ  webpage</li>
<li>Táº¡o thÃ´ng tin User trong database</li>
<li>#Â Cháº¡y thá»­</li>
<li>Káº¿t</li>
</ul>
<h3 id="giá»›i-thiá»‡u-19"><a class="header" href="#giá»›i-thiá»‡u-19"><strong>Giá»›i thiá»‡u</strong></a></h3>
<p>TrongÂ bÃ i trÆ°á»›c, tÃ´i Ä‘Ã£ hÆ°á»›ng dáº«n vá»›i cÃ¡c báº¡n vá» cÃ¡ch Ä‘á»ƒ sá»­ dá»¥ngÂ <strong>Spring Security</strong>Â cÆ¡ báº£n, cÃ¡ch kÃ­ch hoáº¡t, táº¡o user vÃ  phÃ¢n quyá»n.</p>
<p>Trong bÃ i nÃ y, chÃºng sáº½ tÃ¬m hiá»ƒu cÃ¡ch Ä‘á»ƒ kiá»ƒm tra má»™tÂ <code>User</code>Â á»Ÿ bÃªn trong csdl.</p>
<p>Trong bÃ i viáº¿t giáº£ Ä‘á»‹nh báº¡n Ä‘Ã£ cÃ³ cÃ¡c kiáº¿n thá»©c sau:</p>
<ol>
<li>Hibernate</li>
<li>Lombok</li>
<li>Spring Security CÆ¡ báº£n</li>
</ol>
<h3 id="cÃ i-Ä‘áº·t-10"><a class="header" href="#cÃ i-Ä‘áº·t-10"><strong>CÃ i Ä‘áº·t</strong></a></h3>
<p>ChÃºng ta sá»­ dá»¥ngÂ <strong>Maven</strong>, CÃ i Ä‘áº·t fileÂ <em>pom.xml</em>Â cá»§a báº¡n nhÆ° sau.</p>
<p>KhÃ¡c vá»›i project trÆ°á»›c Ä‘Ã³, láº§n nÃ y chÃºng ta sá»­ dá»¥ng thÃªm databaseÂ <code>com.h2database</code>. ÄÃ¢y lÃ  má»™tÂ <em>in memory database</em>. Äáº¡i khÃ¡i lÃ  má»i thá»© báº¡n lÆ°u trÃªn database chá»‰ tá»“n táº¡i trong bá»™ nhá»›, khi táº¯t á»©ng dá»¥ng, database sáº½ máº¥t sáº¡ch, thÃ­ch há»£p cho viá»‡c demo.</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

    &lt;groupId&gt;org.springframework&lt;/groupId&gt;
    &lt;artifactId&gt;spring-security-hibernate&lt;/artifactId&gt;
    &lt;version&gt;0.1.0&lt;/version&gt;

    &lt;parent&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
        &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;
    &lt;/parent&gt;

    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.h2database&lt;/groupId&gt;
            &lt;artifactId&gt;h2&lt;/artifactId&gt;
            &lt;scope&gt;runtime&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;

    &lt;properties&gt;
        &lt;java.version&gt;1.8&lt;/java.version&gt;
    &lt;/properties&gt;

    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;

&lt;/project&gt;
</code></pre>
<p>ThÆ° má»¥c code gá»“m cÃ³:</p>
<p>!image</p>
<h3 id="implement-2"><a class="header" href="#implement-2"><strong>Implement</strong></a></h3>
<h3 id="táº¡o-user"><a class="header" href="#táº¡o-user"><strong>Táº¡o User</strong></a></h3>
<p>Táº¡o ra classÂ <code>User</code>Â tham chiáº¿u vá»›i database.</p>
<pre><code>import javax.persistence.Column;
import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.Id;
import javax.persistence.Table;

import lombok.Data;

@Entity
@Table(name = &quot;user&quot;)
@Data // lombok
public class User {
    @Id
    @GeneratedValue
    private Long id;

    @Column(nullable = false, unique = true)
    private String username;
    private String password;
}
</code></pre>
<p>Táº¡oÂ <code>UserRepository</code>Â káº¿ thá»«aÂ <code>JpaRepository</code>Â Ä‘á»ƒ truy xuáº¥t thÃ´ng tin tá»« database.</p>
<pre><code>import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.stereotype.Repository;

@Repository
public interface UserRepository extends JpaRepository&lt;User, Long&gt; {
    User findByUsername(String username);
}
</code></pre>
<h3 id="tham-chiáº¿u-user-vá»›i-userdetails"><a class="header" href="#tham-chiáº¿u-user-vá»›i-userdetails"><strong>Tham chiáº¿u User vá»›i UserDetails</strong></a></h3>
<p>Máº·c Ä‘á»‹nhÂ <strong>Spring Security</strong>Â sá»­ dá»¥ng má»™t Ä‘á»‘i tÆ°á»£ngÂ <code>UserDetails</code>Â Ä‘á»ƒ chá»©a toÃ n bá»™ thÃ´ng tin vá» ngÆ°á»i dÃ¹ng. VÃ¬ váº­y, chÃºng ta cáº§n táº¡o ra má»™t class má»›i giÃºp chuyá»ƒn cÃ¡c thÃ´ng tin cá»§aÂ <code>User</code>Â thÃ nhÂ <code>UserDetails</code></p>
<p><em>CustomUserDetails.java</em></p>
<pre><code>import org.springframework.security.core.GrantedAuthority;
import org.springframework.security.core.authority.SimpleGrantedAuthority;
import org.springframework.security.core.userdetails.UserDetails;

import lombok.AllArgsConstructor;
import lombok.Data;

@Data
@AllArgsConstructor
public class CustomUserDetails implements UserDetails {
    User user;

    @Override
    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {
        // Máº·c Ä‘á»‹nh mÃ¬nh sáº½ Ä‘á»ƒ táº¥t cáº£ lÃ  ROLE_USER. Äá»ƒ demo cho Ä‘Æ¡n giáº£n.
        return Collections.singleton(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));
    }

    @Override
    public String getPassword() {
        return user.getPassword();
    }

    @Override
    public String getUsername() {
        return user.getUsername();
    }

    @Override
    public boolean isAccountNonExpired() {
        return true;
    }

    @Override
    public boolean isAccountNonLocked() {
        return true;
    }

    @Override
    public boolean isCredentialsNonExpired() {
        return true;
    }

    @Override
    public boolean isEnabled() {
        return true;
    }
}
</code></pre>
<p>Khi ngÆ°á»i dÃ¹ng Ä‘Äƒng nháº­p thÃ¬Â <strong>Spring Security</strong>Â sáº½ cáº§n láº¥y cÃ¡c thÃ´ng tinÂ <code>UserDetails</code>Â hiá»‡n cÃ³ Ä‘á»ƒ kiá»ƒm tra. VÃ¬ váº­y, báº¡n cáº§n táº¡o ra má»™t class káº¿ thá»«a lá»›pÂ <code>UserDetailsService</code>Â mÃ Â <strong>Spring Security</strong>Â cung cáº¥p Ä‘á»ƒ lÃ m nhiá»‡m vá»¥ nÃ y.</p>
<p><em>UserService.java</em></p>
<pre><code>import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.security.core.userdetails.UserDetails;
import org.springframework.security.core.userdetails.UserDetailsService;
import org.springframework.security.core.userdetails.UsernameNotFoundException;
import org.springframework.stereotype.Service;

@Service
public class UserService implements UserDetailsService {

    @Autowired
    private UserRepository userRepository;

    @Override
    public UserDetails loadUserByUsername(String username) {
        // Kiá»ƒm tra xem user cÃ³ tá»“n táº¡i trong database khÃ´ng?
        User user = userRepository.findByUsername(username);
        if (user == null) {
            throw new UsernameNotFoundException(username);
        }
        return new CustomUserDetails(user);
    }

}
</code></pre>
<h3 id="cáº¥u-hÃ¬nh-vÃ -phÃ¢n-quyá»n"><a class="header" href="#cáº¥u-hÃ¬nh-vÃ -phÃ¢n-quyá»n"><strong>Cáº¥u hÃ¬nh vÃ  phÃ¢n quyá»n</strong></a></h3>
<p>Giá»‘ng vá»›iÂ bÃ i trÆ°á»›c, chÃºng ta cáº§n kÃ­ch hoáº¡tÂ <strong>Spring Security</strong>Â vÃ  phÃ¢n quyá»n ngÆ°á»i dÃ¹ng.</p>
<pre><code>import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.context.annotation.Bean;
import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;
import org.springframework.security.config.annotation.web.builders.HttpSecurity;
import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;
import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;
import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;
import org.springframework.security.crypto.password.PasswordEncoder;

import me.loda.spring.springsecurityhibernate.user.UserService;

@EnableWebSecurity
public class WebSecurityConfig extends WebSecurityConfigurerAdapter {

    @Autowired
    UserService userService;

    @Bean
    public PasswordEncoder passwordEncoder() {
        // Password encoder, Ä‘á»ƒ Spring Security sá»­ dá»¥ng mÃ£ hÃ³a máº­t kháº©u ngÆ°á»i dÃ¹ng
        return new BCryptPasswordEncoder();
    }

    @Override
    protected void configure(AuthenticationManagerBuilder auth)
            throws Exception {
        auth.userDetailsService(userService) // Cung cÃ¡p userservice cho spring security
            .passwordEncoder(passwordEncoder()); // cung cáº¥p password encoder
    }

    @Override
    protected void configure(HttpSecurity http) throws Exception {
        http
                .authorizeRequests()
                .antMatchers(&quot;/&quot;, &quot;/home&quot;).permitAll() // Cho phÃ©p táº¥t cáº£ má»i ngÆ°á»i truy cáº­p vÃ o 2 Ä‘á»‹a chá»‰ nÃ y
                .anyRequest().authenticated() // Táº¥t cáº£ cÃ¡c request khÃ¡c Ä‘á»u cáº§n pháº£i xÃ¡c thá»±c má»›i Ä‘Æ°á»£c truy cáº­p
                .and()
                .formLogin() // Cho phÃ©p ngÆ°á»i dÃ¹ng xÃ¡c thá»±c báº±ng form login
                .defaultSuccessUrl(&quot;/hello&quot;)
                .permitAll() // Táº¥t cáº£ Ä‘á»u Ä‘Æ°á»£c truy cáº­p vÃ o Ä‘á»‹a chá»‰ nÃ y
                .and()
                .logout() // Cho phÃ©p logout
                .permitAll();
    }
}
</code></pre>
<h3 id="táº¡o-controller-vÃ -webpage"><a class="header" href="#táº¡o-controller-vÃ -webpage"><strong>Táº¡o Controller vÃ  webpage</strong></a></h3>
<p>ChÃºng ta táº¡o ra trang web cá»§a mÃ¬nh gá»“m cÃ³ trangÂ <code>homepage</code>Â vÃ  trangÂ <code>hello</code>.</p>
<ul>
<li>TrangÂ <code>homepage</code>Â thÃ¬ ai cÅ©ng truy cáº­p Ä‘Æ°á»£c.</li>
<li>TrangÂ <code>hello</code>Â thÃ¬ pháº£i xÃ¡c thá»±c má»›i Ä‘Æ°á»£c truy cáº­p.</li>
</ul>
<p>Máº·c Ä‘á»‹nhÂ <code>/login</code>Â vÃ Â <code>/logout</code><strong>Spring Security</strong>Â Ä‘Ã£ táº¡o cho chÃºng ta rá»“i.</p>
<pre><code>@Controller
public class WebController {

    @GetMapping(value = {&quot;/&quot;, &quot;/home&quot;})
    public String homepage() {
        return &quot;home&quot;;
    }

    @GetMapping(&quot;/hello&quot;)
    public String hello() {
        return &quot;hello&quot;;
    }

}
</code></pre>
<p><em>hello.html</em></p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;
&lt;head&gt;
  &lt;title&gt;Hello&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;Chá»‰ nhá»¯ng ai Ä‘Äƒng nháº­p má»›i truy cáº­p Ä‘Æ°á»£c trang nÃ y!&lt;/h1&gt;

&lt;form th:action=&quot;@{/logout}&quot; method=&quot;post&quot;&gt;
  &lt;input type=&quot;submit&quot; value=&quot;Sign Out&quot;/&gt;
&lt;/form&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>CÃº phÃ¡pÂ <code>th:action=&quot;@{/logout}&quot;</code>Â lÃ  cá»§a thymeleaf, cÃ³ tÃ¡c dá»¥ng request tá»›i Ä‘á»‹a chá»‰Â <code>/logout</code></p>
<p><em>home.html</em></p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;
&lt;head&gt;
  &lt;title&gt;Spring Security Example&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;Welcome!&lt;/h1&gt;

&lt;p&gt;&lt;a href=&quot;/login&quot;&gt;login&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Click &lt;a href=&quot;https://loda.me&quot;&gt;here&lt;/a&gt; to see a loda homepage.&lt;/p&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 id="táº¡o-thÃ´ng-tin-user-trong-database"><a class="header" href="#táº¡o-thÃ´ng-tin-user-trong-database"><strong>Táº¡o thÃ´ng tin User trong database</strong></a></h3>
<p>TrÆ°á»›c háº¿t báº¡n cáº§n cáº¥u hÃ¬nh cho hibernate káº¿t tá»›i tá»›i h2 database trong fileÂ <code>resources/appication.properties</code></p>
<pre><code>spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
# Enabling H2 Console
spring.h2.console.enabled=true
</code></pre>
<p>Äá»ƒ phá»¥c vá»¥ demo, má»—i khi cháº¡y chÆ°Æ¡ng trÃ¬nh, chÃºng ta cáº§n insert má»™tÂ <code>User</code>Â vÃ o database.</p>
<p>CÃ³ thá»ƒ lÃ m viá»‡c nÃ y báº±ng cÃ¡ch sá»­ dá»¥ngÂ <code>CommandLineRunner</code>. Má»™t interface cá»§a Spring cung cáº¥p, cÃ³ tÃ¡c dá»¥ng thá»±c hiá»‡n má»™t nhiá»‡m vá»¥ khi Spring khá»Ÿi cháº¡y láº§n Ä‘áº§u.</p>
<pre><code>@SpringBootApplication
public class App implements CommandLineRunner {
    public static void main(String[] args) {
        SpringApplication.run(App.class, args);
    }

    @Autowired
    UserRepository userRepository;
    @Autowired
    PasswordEncoder passwordEncoder;

    @Override
    public void run(String... args) throws Exception {
        // Khi chÆ°Æ¡ng trÃ¬nh cháº¡y
        // Insert vÃ o csdl má»™t user.
        User user = new User();
        user.setUsername(&quot;loda&quot;);
        user.setPassword(passwordEncoder.encode(&quot;loda&quot;));
        userRepository.save(user);
        System.out.println(user);
    }
}
</code></pre>
<h3 id="cháº¡y-thá»­-7"><a class="header" href="#cháº¡y-thá»­-7">**#**<strong>Cháº¡y thá»­</strong></a></h3>
<p>Truy cáº­p vÃ o Ä‘Æ°á»ng dáº«nÂ <code>http://localhost:8080/home</code>Â Ä‘á»ƒ vÃ o trang chá»§.</p>
<p>!image</p>
<p>Khi chÆ°a Ä‘Äƒng nháº­p, chÃºng ta truy cáº­p vÃ o Ä‘Æ°á»ng dáº«nÂ <code>/hello</code>. ThÃ¬ nÃ³ sáº½ tá»± redirect sang trangÂ <code>/login</code>.</p>
<p>!image</p>
<p>Khi Ä‘Ã£ Ä‘Äƒng nháº­p thÃ nh cÃ´ng, chÃºng ta sáº½ cÃ³ thá»ƒ vÃ o trangÂ <code>/hello</code>Â nhÆ° bÃ¬nh thÆ°á»ng.</p>
<p>!image</p>
<p>Khi click vÃ oÂ <code>Sign Out</code>Â thÃ¬ sáº½ Ä‘Äƒng xuáº¥t.</p>
<p>!image</p>
<h3 id="káº¿t-11"><a class="header" href="#káº¿t-11"><strong>Káº¿t</strong></a></h3>
<p>Trong bÃ i nÃ y, chÃºng ta Ä‘Ã£ tÃ¬m hiá»ƒu cÃ¡ch sá»­ dá»¥ng Spring Security káº¿t há»£p vá»›i Hibernate Ä‘á»ƒ cÃ³ thá»ƒ xÃ¡c thá»±c ngÆ°á»i dÃ¹ng trong cÆ¡ sá»Ÿ dá»¯ liá»‡u. ChÃºng ta sáº½ tÃ¬m hiá»ƒu cÃ¡c cÃ¡ch xÃ¡c thá»±cÂ <code>OAuth 2.0</code>Â á»Ÿ cÃ¡c bÃ i sau.</p>
<p>ğŸ’Â Náº¿u cÃ³, toÃ n bá»™ project / code máº«u Ä‘Æ°á»£c lÆ°u trá»¯ táº¡i <strong>GitHub</strong></p>
<p>ğŸŒŸÂ ÄÃ¢y lÃ  má»™t bÃ i viáº¿t trongÂ Series <strong>LÃ m chá»§ Spring Boot â€“ Zero to Hero</strong></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ss-hÆ°á»›ng-dáº«n-spring-security--jwt-json-web-token--hibernate"><a class="header" href="#ss-hÆ°á»›ng-dáº«n-spring-security--jwt-json-web-token--hibernate">[SS] HÆ°á»›ng dáº«n Spring Security + JWT (Json Web Token) + Hibernate</a></h1>
<ul>
<li>Giá»›i thiá»‡u</li>
<li>CÃ i Ä‘áº·t</li>
<li>Implement</li>
<li>Táº¡o User</li>
<li>Tham chiáº¿u User vá»›i UserDetails</li>
<li>JWT</li>
<li>Cáº¥u hÃ¬nh vÃ  phÃ¢n quyá»n</li>
<li>Táº¡o Controller</li>
<li>Táº¡o thÃ´ng tin User trong database</li>
<li>Cháº¡y thá»­</li>
<li>Káº¿t</li>
</ul>
<h3 id="giá»›i-thiá»‡u-20"><a class="header" href="#giá»›i-thiá»‡u-20"><strong>Giá»›i thiá»‡u</strong></a></h3>
<p>Xin chÃ o cÃ¡c báº¡n, Trong hai bÃ i trÆ°á»›c tÃ´i Ä‘Ã£ giá»›i thiá»‡u cÃ¡ch sá»­ dá»¥ngÂ <strong>Spring Security</strong>Â vÃ  káº¿t ná»‘i vá»›i database Ä‘á»ƒ xÃ¡c thá»±c ngÆ°á»i dÃ¹ng.</p>
<ol>
<li>Spring Security CÆ¡ báº£n</li>
<li>Spring Security + Hibernate</li>
</ol>
<p>Trong bÃ i hÃ´m nay chÃºng ta sáº½ tÃ¬m hiá»ƒu má»™t pháº§n cá»±c ká»³ quan trá»ng trong cÃ¡c há»‡ thá»‘ng báº£o máº­t ngÃ y nay, Ä‘Ã³ lÃ Â <strong>JWT</strong>.</p>
<p><strong>JWT (Json web Token)</strong>Â lÃ  má»™t chuá»—i mÃ£ hÃ³a Ä‘Æ°á»£c gá»­i kÃ¨m trong Header cá»§a client request cÃ³ tÃ¡c dá»¥ng giÃºp phÃ­a server xÃ¡c thá»±c request ngÆ°á»i dÃ¹ng cÃ³ há»£p lá»‡ hay khÃ´ng. ÄÆ°á»£c sá»­ dá»¥ng phá»• biáº¿n trong cÃ¡c há»‡ thá»‘ng API ngÃ y nay.</p>
<p>!image</p>
<h3 id="cÃ i-Ä‘áº·t-11"><a class="header" href="#cÃ i-Ä‘áº·t-11"><strong>CÃ i Ä‘áº·t</strong></a></h3>
<p>ChÃºng ta sá»­ dá»¥ng Maven giá»‘ng bÃ i trÆ°á»›c, tuy nhiÃªn cÃ³ update thÃªm thÆ° viá»‡nÂ <code>io.jsonwebtoken.jwtt</code>Â Ä‘á»ƒ giÃºp chÃºng ta mÃ£ hÃ³a thÃ´ng tin thÃ nhÂ <code>jwt</code></p>
<p><em>pom.xml</em></p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

    &lt;groupId&gt;org.springframework&lt;/groupId&gt;
    &lt;artifactId&gt;spring-security-jwt&lt;/artifactId&gt;
    &lt;version&gt;0.1.0&lt;/version&gt;

    &lt;parent&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
        &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;
    &lt;/parent&gt;

    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.h2database&lt;/groupId&gt;
            &lt;artifactId&gt;h2&lt;/artifactId&gt;
            &lt;scope&gt;runtime&lt;/scope&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;
            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;
            &lt;version&gt;0.9.1&lt;/version&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;

    &lt;properties&gt;
        &lt;java.version&gt;1.8&lt;/java.version&gt;
    &lt;/properties&gt;

    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;

&lt;/project&gt;
</code></pre>
<p>Cáº¥u trÃºc thÆ° má»¥c code bao gá»“m:</p>
<p>!image</p>
<h3 id="implement-3"><a class="header" href="#implement-3"><strong>Implement</strong></a></h3>
<p>Ban Ä‘áº§u, chÃºng ta sáº½ táº¡o ra classÂ <code>User</code>Â vÃ Â <code>UserDetails</code>Â Ä‘á»ƒ giao tiáº¿p vá»›iÂ <strong>Spring Security</strong>. Pháº§n nÃ y giá»‘ng há»‡t vá»›i bÃ i viáº¿tÂ Spring Security + Hibernate</p>
<p>Trong bÃ i viáº¿t cÃ³ sá»­ dá»¥ngÂ Lombok</p>
<h3 id="táº¡o-user-1"><a class="header" href="#táº¡o-user-1"><strong>Táº¡o User</strong></a></h3>
<p>Táº¡o ra classÂ <code>User</code>Â tham chiáº¿u vá»›i database.</p>
<pre><code>import javax.persistence.Column;
import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.Id;
import javax.persistence.Table;

import lombok.Data;

@Entity
@Table(name = &quot;user&quot;)
@Data // lombok
public class User {
    @Id
    @GeneratedValue
    private Long id;

    @Column(nullable = false, unique = true)
    private String username;
    private String password;
}
</code></pre>
<p>Táº¡oÂ <code>UserRepository</code>Â káº¿ thá»«aÂ <code>JpaRepository</code>Â Ä‘á»ƒ truy xuáº¥t thÃ´ng tin tá»« database.</p>
<pre><code>import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.stereotype.Repository;

@Repository
public interface UserRepository extends JpaRepository&lt;User, Long&gt; {
    User findByUsername(String username);
}
</code></pre>
<h3 id="tham-chiáº¿u-user-vá»›i-userdetails-1"><a class="header" href="#tham-chiáº¿u-user-vá»›i-userdetails-1"><strong>Tham chiáº¿u User vá»›i UserDetails</strong></a></h3>
<p>Máº·c Ä‘á»‹nhÂ <strong>Spring Security</strong>Â sá»­ dá»¥ng má»™t Ä‘á»‘i tÆ°á»£ngÂ <code>UserDetails</code>Â Ä‘á»ƒ chá»©a toÃ n bá»™ thÃ´ng tin vá» ngÆ°á»i dÃ¹ng. VÃ¬ váº­y, chÃºng ta cáº§n táº¡o ra má»™t class má»›i giÃºp chuyá»ƒn cÃ¡c thÃ´ng tin cá»§aÂ <code>User</code>Â thÃ nhÂ <code>UserDetails</code></p>
<p><em>CustomUserDetails.java</em></p>
<pre><code>import org.springframework.security.core.GrantedAuthority;
import org.springframework.security.core.authority.SimpleGrantedAuthority;
import org.springframework.security.core.userdetails.UserDetails;

import lombok.AllArgsConstructor;
import lombok.Data;

@Data
@AllArgsConstructor
public class CustomUserDetails implements UserDetails {
    User user;

    @Override
    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {
        // Máº·c Ä‘á»‹nh mÃ¬nh sáº½ Ä‘á»ƒ táº¥t cáº£ lÃ  ROLE_USER. Äá»ƒ demo cho Ä‘Æ¡n giáº£n.
        return Collections.singleton(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));
    }

    @Override
    public String getPassword() {
        return user.getPassword();
    }

    @Override
    public String getUsername() {
        return user.getUsername();
    }

    @Override
    public boolean isAccountNonExpired() {
        return true;
    }

    @Override
    public boolean isAccountNonLocked() {
        return true;
    }

    @Override
    public boolean isCredentialsNonExpired() {
        return true;
    }

    @Override
    public boolean isEnabled() {
        return true;
    }
}
</code></pre>
<p>Khi ngÆ°á»i dÃ¹ng Ä‘Äƒng nháº­p thÃ¬Â <strong>Spring Security</strong>Â sáº½ cáº§n láº¥y cÃ¡c thÃ´ng tinÂ <code>UserDetails</code>Â hiá»‡n cÃ³ Ä‘á»ƒ kiá»ƒm tra. VÃ¬ váº­y, báº¡n cáº§n táº¡o ra má»™t class káº¿ thá»«a lá»›pÂ <code>UserDetailsService</code>Â mÃ Â <strong>Spring Security</strong>Â cung cáº¥p Ä‘á»ƒ lÃ m nhiá»‡m vá»¥ nÃ y.</p>
<p><em>UserService.java</em></p>
<pre><code>import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.security.core.userdetails.UserDetails;
import org.springframework.security.core.userdetails.UserDetailsService;
import org.springframework.security.core.userdetails.UsernameNotFoundException;
import org.springframework.stereotype.Service;

@Service
public class UserService implements UserDetailsService {

    @Autowired
    private UserRepository userRepository;

    @Override
    public UserDetails loadUserByUsername(String username) {
        // Kiá»ƒm tra xem user cÃ³ tá»“n táº¡i trong database khÃ´ng?
        User user = userRepository.findByUsername(username);
        if (user == null) {
            throw new UsernameNotFoundException(username);
        }
        return new CustomUserDetails(user);
    }

}
</code></pre>
<h3 id="jwt"><a class="header" href="#jwt"><strong>JWT</strong></a></h3>
<p>Sau khi cÃ³ cÃ¡c thÃ´ng tin vá» ngÆ°á»i dÃ¹ng, chÃºng ta cáº§n mÃ£ hÃ³a thÃ´ng tin ngÆ°á»i dÃ¹ng thÃ nh chuá»—iÂ <code>JWT</code>. TÃ´i sáº½ táº¡o ra má»™t classÂ <code>JwtTokenProvider</code>Â Ä‘á»ƒ lÃ m nhiá»‡m vá»¥ nÃ y.</p>
<pre><code>import org.springframework.stereotype.Component;
import io.jsonwebtoken.*;
import lombok.extern.slf4j.Slf4j;
import me.loda.springsecurityhibernatejwt.user.CustomUserDetails;

@Component
@Slf4j
public class JwtTokenProvider {
    // Äoáº¡n JWT_SECRET nÃ y lÃ  bÃ­ máº­t, chá»‰ cÃ³ phÃ­a server biáº¿t
    private final String JWT_SECRET = &quot;lodaaaaaa&quot;;

    //Thá»i gian cÃ³ hiá»‡u lá»±c cá»§a chuá»—i jwt
    private final long JWT_EXPIRATION = 604800000L;

    // Táº¡o ra jwt tá»« thÃ´ng tin user
    public String generateToken(CustomUserDetails userDetails) {
        Date now = new Date();
        Date expiryDate = new Date(now.getTime() + JWT_EXPIRATION);
        // Táº¡o chuá»—i json web token tá»« id cá»§a user.
        return Jwts.builder()
                   .setSubject(Long.toString(userDetails.getUser().getId()))
                   .setIssuedAt(now)
                   .setExpiration(expiryDate)
                   .signWith(SignatureAlgorithm.HS512, JWT_SECRET)
                   .compact();
    }

    // Láº¥y thÃ´ng tin user tá»« jwt
    public Long getUserIdFromJWT(String token) {
        Claims claims = Jwts.parser()
                            .setSigningKey(JWT_SECRET)
                            .parseClaimsJws(token)
                            .getBody();

        return Long.parseLong(claims.getSubject());
    }

    public boolean validateToken(String authToken) {
        try {
            Jwts.parser().setSigningKey(JWT_SECRET).parseClaimsJws(authToken);
            return true;
        } catch (MalformedJwtException ex) {
            log.error(&quot;Invalid JWT token&quot;);
        } catch (ExpiredJwtException ex) {
            log.error(&quot;Expired JWT token&quot;);
        } catch (UnsupportedJwtException ex) {
            log.error(&quot;Unsupported JWT token&quot;);
        } catch (IllegalArgumentException ex) {
            log.error(&quot;JWT claims string is empty.&quot;);
        }
        return false;
    }
}
</code></pre>
<h3 id="cáº¥u-hÃ¬nh-vÃ -phÃ¢n-quyá»n-1"><a class="header" href="#cáº¥u-hÃ¬nh-vÃ -phÃ¢n-quyá»n-1"><strong>Cáº¥u hÃ¬nh vÃ  phÃ¢n quyá»n</strong></a></h3>
<p>BÃ¢y giá», chÃºng ta báº¯t Ä‘áº§u cáº¥u hÃ¬nhÂ <strong>Spring Security</strong>Â bao gá»“m viá»‡c kÃ­ch hoáº¡t báº±ngÂ <code>@EnableWebSecurity</code>.</p>
<p>BÆ°á»›c nÃ y giá»‘ng vá»›i bÃ i viáº¿tÂ Spring + HibernateÂ nÃªn tÃ´i sáº½ khÃ´ng nÃ³i nhá»¯ng pháº§n láº·p láº¡i.</p>
<pre><code>import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.context.annotation.Bean;
import org.springframework.security.authentication.AuthenticationManager;
import org.springframework.security.config.BeanIds;
import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;
import org.springframework.security.config.annotation.web.builders.HttpSecurity;
import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;
import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;
import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;
import org.springframework.security.crypto.password.PasswordEncoder;
import org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;
import me.loda.springsecurityhibernatejwt.jwt.JwtAuthenticationFilter;
import me.loda.springsecurityhibernatejwt.user.UserService;

@EnableWebSecurity
public class WebSecurityConfig extends WebSecurityConfigurerAdapter {

    @Autowired
    UserService userService;

    @Bean
    public JwtAuthenticationFilter jwtAuthenticationFilter() {
        return new JwtAuthenticationFilter();
    }

    @Bean(BeanIds.AUTHENTICATION_MANAGER)
    @Override
    public AuthenticationManager authenticationManagerBean() throws Exception {
        // Get AuthenticationManager bean
        return super.authenticationManagerBean();
    }

    @Bean
    public PasswordEncoder passwordEncoder() {
        // Password encoder, Ä‘á»ƒ Spring Security sá»­ dá»¥ng mÃ£ hÃ³a máº­t kháº©u ngÆ°á»i dÃ¹ng
        return new BCryptPasswordEncoder();
    }

    @Override
    protected void configure(AuthenticationManagerBuilder auth)
            throws Exception {
        auth.userDetailsService(userService) // Cung cÃ¡p userservice cho spring security
            .passwordEncoder(passwordEncoder()); // cung cáº¥p password encoder
    }

    @Override
    protected void configure(HttpSecurity http) throws Exception {
        http
                .cors() // NgÄƒn cháº·n request tá»« má»™t domain khÃ¡c
                    .and()
                .authorizeRequests()
                    .antMatchers(&quot;/api/login&quot;).permitAll() // Cho phÃ©p táº¥t cáº£ má»i ngÆ°á»i truy cáº­p vÃ o Ä‘á»‹a chá»‰ nÃ y
                    .anyRequest().authenticated(); // Táº¥t cáº£ cÃ¡c request khÃ¡c Ä‘á»u cáº§n pháº£i xÃ¡c thá»±c má»›i Ä‘Æ°á»£c truy cáº­p

        // ThÃªm má»™t lá»›p Filter kiá»ƒm tra jwt
        http.addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);
    }
}
</code></pre>
<p>Äiá»ƒm khÃ¡c biá»‡t á»Ÿ Ä‘Ã¢y lÃ  sá»± xuáº¥t hiá»‡n cá»§aÂ <code>JwtAuthenticationFilter</code>. ÄÃ¢y lÃ  má»™t lá»›pÂ <code>Filter</code>Â do tÃ´i tá»± táº¡o ra.</p>
<p><code>JwtAuthenticationFilter</code>Â CÃ³ nhiá»‡m vá»¥ kiá»ƒm tra request cá»§a ngÆ°á»i dÃ¹ng trÆ°á»›c khi nÃ³ tá»›i Ä‘Ã­ch. NÃ³ sáº½ láº¥yÂ <code>Header Authorization</code>Â ra vÃ  kiá»ƒm tra xem chuá»—i JWT ngÆ°á»i dÃ¹ng gá»­i lÃªn cÃ³ há»£p lá»‡ khÃ´ng.</p>
<pre><code>@Slf4j
public class JwtAuthenticationFilter extends OncePerRequestFilter {
    @Autowired
    private JwtTokenProvider tokenProvider;

    @Autowired
    private UserService customUserDetailsService;
    @Override
    protected void doFilterInternal(HttpServletRequest request,
                                    HttpServletResponse response, FilterChain filterChain)
            throws ServletException, IOException {
        try {
            // Láº¥y jwt tá»« request
            String jwt = getJwtFromRequest(request);

            if (StringUtils.hasText(jwt) &amp;&amp; tokenProvider.validateToken(jwt)) {
                // Láº¥y id user tá»« chuá»—i jwt
                Long userId = tokenProvider.getUserIdFromJWT(jwt);
                // Láº¥y thÃ´ng tin ngÆ°á»i dÃ¹ng tá»« id
                UserDetails userDetails = customUserDetailsService.loadUserById(userId);
                if(userDetails != null) {
                    // Náº¿u ngÆ°á»i dÃ¹ng há»£p lá»‡, set thÃ´ng tin cho Seturity Context
                    UsernamePasswordAuthenticationToken
                            authentication = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());
                    authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));

                    SecurityContextHolder.getContext().setAuthentication(authentication);
                }
            }
        } catch (Exception ex) {
            log.error(&quot;failed on set user authentication&quot;, ex);
        }

        filterChain.doFilter(request, response);
    }

    private String getJwtFromRequest(HttpServletRequest request) {
        String bearerToken = request.getHeader(&quot;Authorization&quot;);
        // Kiá»ƒm tra xem header Authorization cÃ³ chá»©a thÃ´ng tin jwt khÃ´ng
        if (StringUtils.hasText(bearerToken) &amp;&amp; bearerToken.startsWith(&quot;Bearer &quot;)) {
            return bearerToken.substring(7);
        }
        return null;
    }
}
</code></pre>
<h3 id="táº¡o-controller-1"><a class="header" href="#táº¡o-controller-1"><strong>Táº¡o Controller</strong></a></h3>
<p>VÃ¬ pháº§n nÃ y chÃºng ta lÃ m viá»‡c vá»›iÂ <code>JWT</code>, nÃªn cÃ¡c request sáº½ dÆ°á»›i dáº¡ng Rest API.</p>
<p>TÃ´i táº¡o ra 2 api:</p>
<ol>
<li><code>/api/login</code>: Cho phÃ©p request mÃ  khÃ´ng cáº§n xÃ¡c thá»±c.</li>
<li><code>/api/random</code>: LÃ  má»™t api báº¥t ká»³ nÃ o Ä‘Ã³, pháº£i xÃ¡c thá»±c má»›i láº¥y Ä‘Æ°á»£c thÃ´ng tin.</li>
</ol>
<pre><code>@RestController
@RequestMapping(&quot;/api&quot;)
public class LodaRestController {

    @Autowired
    AuthenticationManager authenticationManager;

    @Autowired
    private JwtTokenProvider tokenProvider;

    @PostMapping(&quot;/login&quot;)
    public LoginResponse authenticateUser(@Valid @RequestBody LoginRequest loginRequest) {

        // XÃ¡c thá»±c tá»« username vÃ  password.
        Authentication authentication = authenticationManager.authenticate(
                new UsernamePasswordAuthenticationToken(
                        loginRequest.getUsername(),
                        loginRequest.getPassword()
                )
        );

        // Náº¿u khÃ´ng xáº£y ra exception tá»©c lÃ  thÃ´ng tin há»£p lá»‡
        // Set thÃ´ng tin authentication vÃ o Security Context
        SecurityContextHolder.getContext().setAuthentication(authentication);

        // Tráº£ vá» jwt cho ngÆ°á»i dÃ¹ng.
        String jwt = tokenProvider.generateToken((CustomUserDetails) authentication.getPrincipal());
        return new LoginResponse(jwt);
    }

    // Api /api/random yÃªu cáº§u pháº£i xÃ¡c thá»±c má»›i cÃ³ thá»ƒ request
    @GetMapping(&quot;/random&quot;)
    public RandomStuff randomStuff(){
        return new RandomStuff(&quot;JWT Há»£p lá»‡ má»›i cÃ³ thá»ƒ tháº¥y Ä‘Æ°á»£c message nÃ y&quot;);
    }

}
</code></pre>
<h3 id="táº¡o-thÃ´ng-tin-user-trong-database-1"><a class="header" href="#táº¡o-thÃ´ng-tin-user-trong-database-1"><strong>Táº¡o thÃ´ng tin User trong database</strong></a></h3>
<p>TrÆ°á»›c háº¿t báº¡n cáº§n cáº¥u hÃ¬nh cho hibernate káº¿t tá»›i tá»›i h2 database trong fileÂ <code>resources/appication.properties</code></p>
<pre><code>spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
# Enabling H2 Console
spring.h2.console.enabled=true
</code></pre>
<p>Äá»ƒ phá»¥c vá»¥ demo, má»—i khi cháº¡y chÆ°Æ¡ng trÃ¬nh, chÃºng ta cáº§n insert má»™tÂ <code>User</code>Â vÃ o database.</p>
<p>CÃ³ thá»ƒ lÃ m viá»‡c nÃ y báº±ng cÃ¡ch sá»­ dá»¥ngÂ <code>CommandLineRunner</code>. Má»™t interface cá»§a Spring cung cáº¥p, cÃ³ tÃ¡c dá»¥ng thá»±c hiá»‡n má»™t nhiá»‡m vá»¥ khi Spring khá»Ÿi cháº¡y láº§n Ä‘áº§u.</p>
<pre><code>@SpringBootApplication
public class App implements CommandLineRunner {
    public static void main(String[] args) {
        SpringApplication.run(App.class, args);
    }

    @Autowired
    UserRepository userRepository;
    @Autowired
    PasswordEncoder passwordEncoder;

    @Override
    public void run(String... args) throws Exception {
        // Khi chÆ°Æ¡ng trÃ¬nh cháº¡y
        // Insert vÃ o csdl má»™t user.
        User user = new User();
        user.setUsername(&quot;loda&quot;);
        user.setPassword(passwordEncoder.encode(&quot;loda&quot;));
        userRepository.save(user);
        System.out.println(user);
    }
}
</code></pre>
<h3 id="cháº¡y-thá»­-8"><a class="header" href="#cháº¡y-thá»­-8"><strong>Cháº¡y thá»­</strong></a></h3>
<p>Khi server on, chÃºng ta request thá»­ tá»›i Ä‘á»‹a chá»‰Â <code>http://localhost:8080/api/random</code>Â mÃ  khÃ´ng xÃ¡c thá»±c.</p>
<p>!image</p>
<p>Káº¿t quáº£ tráº£ vá» mÃ£ lá»—iÂ <code>403</code>Â kÃ¨m theo messageÂ <code>Access Denied</code>.</p>
<p>Äá»ƒ cÃ³ thá»ƒ request Ä‘Æ°á»£c, chÃºng ta Ä‘Äƒng nháº­p vÃ o há»‡ thá»‘ng báº±ngÂ <code>api/login</code>Â Ä‘á»ƒ láº¥yÂ <code>jwt</code>.</p>
<p>!image</p>
<p>Sau Ä‘Ã³ sá»­ dá»¥ng thÃ´ng tinÂ <code>jwt</code>Â server tráº£ vá» Ä‘á»ƒ thá»±c hiá»‡n cÃ¡c request khÃ¡c.</p>
<p>!image</p>
<h3 id="káº¿t-12"><a class="header" href="#káº¿t-12"><strong>Káº¿t</strong></a></h3>
<p>Trong bÃ i nÃ y, chÃºng ta Ä‘Ã£ tÃ¬m hiá»ƒu cÃ¡ch sá»­ dá»¥ngÂ <strong>Spring Security</strong>Â vÃ Â <strong>JWT</strong>Â Ä‘á»ƒ cÃ³ thá»ƒ xÃ¡c thá»±c ngÆ°á»i dÃ¹ng trong cÃ¡c há»‡ thá»‘ng Restful API. ChÃºng ta sáº½ tÃ¬m hiá»ƒu cÃ¡c cÃ¡ch xÃ¡c thá»±cÂ <code>OAuth 2.0</code>Â á»Ÿ cÃ¡c bÃ i sau.</p>
<p>ğŸ’Â Náº¿u cÃ³, toÃ n bá»™ project / code máº«u Ä‘Æ°á»£c lÆ°u trá»¯ táº¡i <strong>GitHub</strong></p>
<p>ğŸŒŸÂ ÄÃ¢y lÃ  má»™t bÃ i viáº¿t trongÂ Series <strong>LÃ m chá»§ Spring Boot â€“ Zero to Hero</strong></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="hÆ°á»›ng-dáº«n-spring-boot--redis"><a class="header" href="#hÆ°á»›ng-dáº«n-spring-boot--redis">HÆ°á»›ng dáº«n Spring Boot + Redis</a></h1>
<ul>
<li>Giá»›i thiá»‡u</li>
<li>CÃ i Ä‘áº·t</li>
<li>Implement</li>
<li>Cáº¥u hÃ¬nh Redis</li>
<li>Cháº¡y thá»­</li>
<li>Redis operations</li>
<li>Káº¿t</li>
</ul>
<h3 id="giá»›i-thiá»‡u-21"><a class="header" href="#giá»›i-thiá»‡u-21"><strong>Giá»›i thiá»‡u</strong></a></h3>
<p><strong>Redis</strong>Â lÃ  1 há»‡ thá»‘ng lÆ°u trá»¯ key-value in-memory ráº¥t máº¡nh máº½ vÃ  phá»• biáº¿n hiá»‡n nay.</p>
<p><strong>Redis</strong>Â ná»•i báº­t bá»Ÿi viá»‡c há»— trá»£ nhiá»u cáº¥u trÃºc dá»¯ liá»‡u khÃ¡c nhau (hash, list, set, sorted set, string), giÃºp viá»‡c thao tÃ¡c vá»›i dá»¯ liá»‡u cá»±c kÃ¬ nhanh vÃ  thuáº­n tiá»‡n.</p>
<p>CÃ¡c há»‡ thá»‘ng ngÃ y nay luÃ´n tÃ¬m cÃ¡ch tá»‘i Æ°u performance vÃ Â <strong>Redis</strong>Â gáº§n nhÆ° lÃ  má»™t máº£nh ghÃ©p khÃ´ng thá»ƒ thiáº¿u trong Ä‘Ã³. HÃ´m nay chÃºng ta sáº½ cÃ¹ng tÃ¬m hiá»ƒu cÃ¡ch káº¿t ná»‘i á»©ng dá»¥ngÂ <strong>Spring Boot</strong>Â vá»›iÂ <strong>Redis</strong>.</p>
<h3 id="cÃ i-Ä‘áº·t-12"><a class="header" href="#cÃ i-Ä‘áº·t-12"><strong>CÃ i Ä‘áº·t</strong></a></h3>
<p>ChÃºng ta sá»­ dá»¥ng Maven, vÃ  yÃªu cáº§u cÃ¡c dependencies sau:</p>
<p><em>pom.xml</em></p>
<pre><code>&lt;dependencies&gt;

    &lt;!--spring mvc, rest--&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
      &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;
      &lt;artifactId&gt;spring-data-redis&lt;/artifactId&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
      &lt;groupId&gt;io.lettuce&lt;/groupId&gt;
      &lt;artifactId&gt;lettuce-core&lt;/artifactId&gt;
      &lt;version&gt;5.1.3.RELEASE&lt;/version&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>
<p>Trong Ä‘Ã³,Â <code>spring-data-redis</code>Â lÃ  thÆ° viá»‡n cá»§a Spring giÃºp chÃºng ta thao tÃ¡c vá»›iÂ <strong>Redis</strong>Â dá»… dÃ ng hÆ¡n.</p>
<p>CÃ²nÂ <code>lettuce-core</code>Â lÃ  má»™t thÆ° viá»‡n mÃ£ nguá»“n má»Ÿ, giÃºp káº¿t ná»‘i tá»›i Redis má»™t cÃ¡ch thread-safe báº±ng nhiá»u hÃ¬nh thá»©c nhÆ° synchronous, asynchronous and reactive usage.</p>
<p>Trong bÃ i nÃ y chÃºng ta sáº½ cáº¥u hÃ¬nh choÂ <code>spring-data-redis</code>Â sá»­ dá»¥ngÂ <code>lettuce</code>Â káº¿t ná»‘i tá»›iÂ <strong>Redis</strong>. CÃ²n chi tiáº¿t vá»Â <code>letture</code>Â sáº½ Ä‘Æ°á»£c Ä‘á» cáº­p á»Ÿ má»™t bÃ i viáº¿t khÃ¡c.</p>
<p>Cáº¥u trÃºc thÆ° má»¥c bao gá»“m:</p>
<p>!image</p>
<h3 id="implement-4"><a class="header" href="#implement-4"><strong>Implement</strong></a></h3>
<h3 id="cáº¥u-hÃ¬nh-redis"><a class="header" href="#cáº¥u-hÃ¬nh-redis"><strong>Cáº¥u hÃ¬nh Redis</strong></a></h3>
<p>BÃ i viáº¿t giáº£ Ä‘á»‹nh báº¡n Ä‘Ã£Â cÃ i Ä‘áº·t Redis, Ä‘á»ƒ káº¿t ná»‘i tá»›iÂ <strong>Redis</strong>, báº¡n cáº§n cung cáº¥p Ä‘á»‹a chá»‰Â <code>host</code>Â vÃ Â <code>port</code>Â choÂ <em>lettuce</em>.</p>
<p>CÃ¡ch dá»… nháº¥t lÃ  ghi nÃ³ á»Ÿ fileÂ <em>application.properties</em>Â trong thÆ° má»¥c resources:</p>
<p><em>application.properties</em></p>
<pre><code>redis.host=localhost
redis.port=6379
</code></pre>
<p>Sau Ä‘Ã³, Táº¡o fileÂ <code>RedisConfig.java</code>Â Ä‘á»ƒ cáº¥u hÃ¬nh má»i thá»© liÃªn quan tá»›i Redis.</p>
<pre><code>import org.springframework.beans.factory.annotation.Value;
import org.springframework.boot.context.properties.EnableConfigurationProperties;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.context.annotation.Primary;
import org.springframework.data.redis.connection.RedisConnectionFactory;
import org.springframework.data.redis.connection.RedisStandaloneConfiguration;
import org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory;
import org.springframework.data.redis.core.RedisTemplate;

@Configuration
public class RedisConfig {
    @Value(&quot;${redis.host}&quot;)
    private String redisHost;

    @Value(&quot;${redis.port}&quot;)
    private int redisPort;

    @Bean
    public LettuceConnectionFactory redisConnectionFactory() {
        // Táº¡o Standalone Connection tá»›i Redis
        return new LettuceConnectionFactory(new RedisStandaloneConfiguration(redisHost, redisPort));
    }

    @Bean
    @Primary
    public RedisTemplate&lt;Object, Object&gt; redisTemplate(RedisConnectionFactory redisConnectionFactory) {
        // táº¡o ra má»™t RedisTemplate
        // Vá»›i Key lÃ  Object
        // Value lÃ  Object
        // RedisTemplate giÃºp chÃºng ta thao tÃ¡c vá»›i Redis
        RedisTemplate&lt;Object, Object&gt; template = new RedisTemplate&lt;&gt;();
        template.setConnectionFactory(redisConnectionFactory);
        return template;
    }
}
</code></pre>
<p>ChÃºng ta cáº§n sá»­ dá»¥ngÂ <code>lettuce</code>Â Ä‘á»ƒ káº¿t ná»‘i tá»›i Redis, nÃªn tÃ´i táº¡o ra beanÂ <code>LettuceConnectionFactory</code>Â vÃ  Spring Data sáº½ tá»± Ä‘á»™ng nháº­n vÃ o cáº¥u hÃ¬nh cá»§a mÃ¬nh.</p>
<p>Trong vÃ­ dá»¥ nÃ y, chÃºng ta lÃ m viá»‡c vá»›i Redis StandaloneÂ <code>RedisStandaloneConfiguration</code>. CÃ²n náº¿u báº¡n muá»‘n cáº¥u hÃ¬nh vá»›i Redis Cluster thÃ¬ cÅ©ng tÆ°Æ¡ng tá»± báº±ng classÂ <code>RedisClusterConfiguration</code>.</p>
<blockquote>
<p>Äá»‘i tÆ°á»£ng Ä‘á»ƒ thao tÃ¡c vá»›i Redis chÃ­nh lÃ Â RedisTemplate.</p>
</blockquote>
<p>á» Ä‘Ã¢y tÃ´i cáº¥u hÃ¬nh choÂ <code>RedisTemplate</code>Â nháº­n key lÃ Â <code>Object</code>Â vÃ  value cÅ©ng lÃ Â <code>Object</code>Â luÃ´n. Äá»ƒ chÃºng ta cÃ³ thá»ƒ lÆ°u báº¥t ká»³ key-value nÃ o xuá»‘ng Redis.</p>
<h3 id="cháº¡y-thá»­-9"><a class="header" href="#cháº¡y-thá»­-9"><strong>Cháº¡y thá»­</strong></a></h3>
<p>ChÃºng ta táº¡o ra má»™t classÂ <code>RedisExample</code>Â implementsÂ <code>CommandLineRunner</code>Â Ä‘á»ƒ cháº¡y má»™t vÃ­ dá»¥:</p>
<pre><code>import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.CommandLineRunner;
import org.springframework.data.redis.core.RedisTemplate;
import org.springframework.stereotype.Component;

@Component
public class RedisExample implements CommandLineRunner {
    @Autowired
    private RedisTemplate template;

    @Override
    public void run(String... args) throws Exception {
        // Set giÃ¡ trá»‹ cá»§a key &quot;loda&quot; lÃ  &quot;hello redis&quot;
        template.opsForValue().set(&quot;loda&quot;,&quot;hello world&quot;);

        // In ra mÃ n hÃ¬nh GiÃ¡ trá»‹ cá»§a key &quot;loda&quot; trong Redis
        System.out.println(&quot;Value of key loda: &quot;+template.opsForValue().get(&quot;loda&quot;));
    }
}
</code></pre>
<p>Cháº¡y Spring App:</p>
<pre><code>import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class App {
    public static void main(String[] args) {
        SpringApplication.run(App.class, args);
    }
}
</code></pre>
<p>Khi cháº¡y thá»­, mÃ n hÃ¬nh sáº½ in ra káº¿t quáº£.</p>
<pre><code>Value of key loda: hello world
</code></pre>
<p>Váº­y lÃ  chÃºng ta Ä‘Ã£ káº¿t ná»‘i thÃ nh cÃ´ng tá»›i Redis vÃ  lÆ°u má»™t cáº·p key-value vÃ o trong Ä‘Ã³.</p>
<h3 id="redis-operations"><a class="header" href="#redis-operations"><strong>Redis operations</strong></a></h3>
<p>Quay trá»Ÿ láº¡i vÃ­ dá»¥ á»Ÿ trÃªn:</p>
<pre><code>template.opsForValue().set(&quot;loda&quot;,&quot;hello world&quot;);
</code></pre>
<p><code>.opsForValue()</code>Â Ä‘Æ°á»£c gá»i lÃ Â <strong>Redis Operations</strong>.</p>
<p><strong>Spring Data</strong>Â há»— trá»£ chÃºng ta thao tÃ¡c vá»›i Redis thÃ´ng qua cÃ¡c Operations nhÆ° sau:</p>
<ol>
<li><code>opsForValue()</code>: Kiá»ƒu Key-Value thÃ´ng thÆ°á»ng. Vá»›i Value lÃ  1 giÃ¡ trá»‹ String tÃ¹y Ã½.</li>
<li><code>opsForHash()</code>: TÆ°Æ¡ng á»©ng vá»›i cáº¥u trÃºc Hash trong Redis. Value lÃ  má»™t Object cÃ³ cáº¥u trÃºc</li>
<li><code>opsForList()</code>: TÆ°Æ¡ng á»©ng vá»›i cáº¥u trÃºc List trong Redis. Value lÃ  má»™t list.</li>
<li><code>opsForSet()</code>: TÆ°Æ¡ng á»©ng vá»›i cáº¥u trÃºc Set trong Redis.</li>
<li><code>opsForZSet()</code>: TÆ°Æ¡ng á»©ng vá»›i cáº¥u trÃºc ZSet trong Redis.</li>
</ol>
<p>VÃ­ dá»¥ vá»›iÂ <code>List</code>:</p>
<pre><code>@Component
public class RedisExample implements CommandLineRunner {
    @Autowired
    private RedisTemplate template;

    @Override
    public void run(String... args) throws Exception {
        listExample();
    }

    public void valueExample(){
        // Set giÃ¡ trá»‹ cá»§a key &quot;loda&quot; lÃ  &quot;hello redis&quot;
        template.opsForValue().set(&quot;loda&quot;,&quot;hello world&quot;);

        // In ra mÃ n hÃ¬nh GiÃ¡ trá»‹ cá»§a key &quot;loda&quot; trong Redis
        System.out.println(&quot;Value of key loda: &quot;+template.opsForValue().get(&quot;loda&quot;));
    }

    public void listExample(){
        // Táº¡o ra má»™t list gá»“m 2 pháº§n tá»­
        List&lt;String&gt; list = new ArrayList&lt;&gt;();
        list.add(&quot;Hello&quot;);
        list.add(&quot;redis&quot;);

        // Set gia trá»‹ cÃ³ key loda_list
        template.opsForList().rightPushAll(&quot;loda_list&quot;, list);
//        template.opsForList().rightPushAll(&quot;loda_list&quot;, &quot;hello&quot;, &quot;world&quot;);

        System.out.println(&quot;Size of key loda: &quot;+template.opsForList().size(&quot;loda_list&quot;));
    }
}
</code></pre>
<p>Káº¿t quáº£ in ra mÃ n hÃ¬nh khi cháº¡y:</p>
<h3 id="káº¿t-13"><a class="header" href="#káº¿t-13"><strong>Káº¿t</strong></a></h3>
<p>Tá»›i Ä‘Ã¢y cÃ¡c báº¡n cÃ³ thá»ƒ dá»… dÃ ng thao tÃ¡c vá»›i cÃ¡c kiá»ƒu cáº¥u trÃºc trong Redis thÃ´ng quaÂ <code>RedisTemplate</code>.</p>
<p>ğŸ’Â Náº¿u cÃ³, toÃ n bá»™ project / code máº«u Ä‘Æ°á»£c lÆ°u trá»¯ táº¡i <strong>GitHub</strong></p>
<p>ğŸŒŸÂ ÄÃ¢y lÃ  má»™t bÃ i viáº¿t trongÂ Series <strong>LÃ m chá»§ Spring Boot â€“ Zero to Hero</strong></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="thuáº­t-toÃ¡n"><a class="header" href="#thuáº­t-toÃ¡n">Thuáº­t toÃ¡n</a></h1>
<p>ChÆ°a cÃ³, nhÆ°ng sáº½ tá»•ng há»£p thuáº­t toÃ¡n sau</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="command-line"><a class="header" href="#command-line">Command line</a></h1>
<h3 id="khÃ´ng-sá»­-dá»¥ng-crate-ngoÃ i"><a class="header" href="#khÃ´ng-sá»­-dá»¥ng-crate-ngoÃ i">KhÃ´ng sá»­ dá»¥ng crate ngoÃ i</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span>
<span class="boring">fn main() {
</span><span class="boring">}
</span></code></pre></pre>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub struct Config {
    pub query: String,
    pub filename: String,
    pub case_sensitive: bool,
}

impl Config {
    pub fn new(mut args: env::Args) -&gt; Result&lt;Config, &amp;'static str&gt; {
        args.next();

        let query = match args.next() {
            Some(arg) =&gt; arg,
            None =&gt; return Err(&quot;Didn't get a query string&quot;),
        };

        let filename = match args.next() {
            Some(arg) =&gt; arg,
            None =&gt; return Err(&quot;Didn't get a file name&quot;),
        };

        let case_sensitive = env::var(&quot;CASE_INSENSITIVE&quot;).is_err();

        Ok(Config { query, filename, case_sensitive })
    }
}

pub fn run(config: Config) -&gt; Result&lt;(), Box&lt;dyn Error&gt;&gt; {
    let contents = fs::read_to_string(config.filename)?;

    let results = if config.case_sensitive {
        search(&amp;config.query, &amp;contents)
    } else {
        search_case_insensitive(&amp;config.query, &amp;contents)
    };

    for line in results {
        println!(&quot;{}&quot;, line);
    }

    Ok(())
}

<span class="boring">}
</span></code></pre></pre>
<h2 id="parsing-arguments-sá»­-dá»¥ng-clap"><a class="header" href="#parsing-arguments-sá»­-dá»¥ng-clap">Parsing arguments sá»­ dá»¥ng clap</a></h2>
<h3 id="sá»­-dá»¥ng-cÆ¡-báº£n"><a class="header" href="#sá»­-dá»¥ng-cÆ¡-báº£n">Sá»­ dá»¥ng cÆ¡ báº£n</a></h3>
<p>This application describes the structure of its command-line interface usingÂ <code>clap</code>'s builder style. TheÂ <a href="https://docs.rs/clap/">documentation</a>Â gives two other possible ways to instantiate an application.</p>
<p>In the builder style,Â <code>with_name</code>Â is the unique identifier thatÂ <code>value_of</code>Â will use to retrieve the value passed. TheÂ <code>short</code>Â andÂ <code>long</code>Â options control the flag the user will be expected to type; short flags look likeÂ <code>-f</code>Â and long flags look likeÂ <code>--file</code>.</p>
<pre><pre class="playground"><code class="language-rust">use clap::{Arg, App};

fn main() {
    let matches = App::new(&quot;My Test Program&quot;)
        .version(&quot;0.1.0&quot;)
        .author(&quot;Hackerman Jones &lt;hckrmnjones@hack.gov&gt;&quot;)
        .about(&quot;Teaches argument parsing&quot;)
        .arg(Arg::with_name(&quot;file&quot;)
                 .short(&quot;f&quot;)
                 .long(&quot;file&quot;)
                 .takes_value(true)
                 .help(&quot;A cool file&quot;))
        .arg(Arg::with_name(&quot;num&quot;)
                 .short(&quot;n&quot;)
                 .long(&quot;number&quot;)
                 .takes_value(true)
                 .help(&quot;Five less than your favorite number&quot;))
        .get_matches();

    let myfile = matches.value_of(&quot;file&quot;).unwrap_or(&quot;input.txt&quot;);
    println!(&quot;The file passed is: {}&quot;, myfile);

    let num_str = matches.value_of(&quot;num&quot;);
    match num_str {
        None =&gt; println!(&quot;No idea what your favorite number is.&quot;),
        Some(s) =&gt; {
            match s.parse::&lt;i32&gt;() {
                Ok(n) =&gt; println!(&quot;Your favorite number must be {}.&quot;, n + 5),
                Err(_) =&gt; println!(&quot;That's not a number! {}&quot;, s),
            }
        }
    }
}
</code></pre></pre>
<p>Usage information is generated byÂ <code>clap</code>. The usage for the example application looks like this.</p>
<pre><code>My Test Program 0.1.0
Hackerman Jones &lt;hckrmnjones@hack.gov&gt;
Teaches argument parsing

USAGE:
    testing [OPTIONS]

FLAGS:
    -h, --help       Prints help information
    -V, --version    Prints version information

OPTIONS:
    -f, --file &lt;file&gt;     A cool file
    -n, --number &lt;num&gt;    Five less than your favorite number
</code></pre>
<p>We can test the application by running a command like the following.</p>
<p><code>$ cargo run -- -f myfile.txt -n 251</code></p>
<p>The output is:</p>
<pre><code>The file passed is: myfile.txt
Your favorite number must be 256.
</code></pre>
<h3 id="nÃ¢ng-cao"><a class="header" href="#nÃ¢ng-cao">NÃ¢ng cao</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use clap::Parser;
use std::path::PathBuf;

#[derive(Parser, Debug, Clone)]
#[clap(
    author,
    version,
    about,
    long_about = &quot;Note: When playing, all the keybindings of mpv can be used, and `q` is reserved for exiting the program&quot;
)]
pub struct Cli {
    /// Option: -u --url &lt;URL&gt;: Specifies an url to be played.
    #[clap(short, long, help = &quot;Specifies an url to be played.&quot;)]
    pub url: Option&lt;String&gt;,

    /// Option: -s --station &lt;station name&gt;: Specifies the name of the station to be played
    #[clap(
        short,
        long,
        conflicts_with = &quot;url&quot;,
        help = &quot;Specifies the name of the station to be played.&quot;
    )]
    pub station: Option&lt;String&gt;,

    /// Flag: --show-video: If *not* present, a flag is passed down to mpv to not show the video and just play the audio.
    #[clap(
        long = &quot;show-video&quot;,
        help = &quot;If *not* present, a flag is passed down to mpv to not show the video and just play the audio.&quot;
    )]
    pub show_video: bool,

    /// Option: -c --config: Specify a config file other than the default.
    #[clap(
        long,
        short,
        help = &quot;Specify a different config file from the default one.&quot;
    )]
    pub config: Option&lt;PathBuf&gt;,

    /// Option: --country-code &lt;CODE&gt;: Specify a country code to filter the search results
    #[clap(
        long = &quot;country-code&quot;,
        help = &quot;Specify a country code to filter the search.&quot;
    )]
    pub country_code: Option&lt;String&gt;,

    /// Flag: --list-countries: List all the available countries and country codes to put in the config.
    #[clap(
        long = &quot;list-countries&quot;,
        help = &quot;List all the available countries and country codes to put in the config.&quot;
    )]
    pub list_countries: bool,

    /// Flag: --no-station-cache: Don't cache the station list loaded from the internet.
    #[clap(
        long = &quot;no-station-cache&quot;,
        help = &quot;Don't cache the station list loaded from the internet.&quot;
    )]
    pub no_station_cache: bool,

    /// Show extra info
    #[clap(flatten)]
    pub verbose: clap_verbosity_flag::Verbosity,

    /// Show debug info
    #[structopt(short, long)]
    pub debug: bool,
}
<span class="boring">}
</span></code></pre></pre>
<h2 id="má»™t-sÃ³-cÃ¡i-khÃ¡c-chÆ°a-sáº¯p-xáº¿p"><a class="header" href="#má»™t-sÃ³-cÃ¡i-khÃ¡c-chÆ°a-sáº¯p-xáº¿p">Má»™t sÃ³ cÃ¡i khÃ¡c chÆ°a sáº¯p xáº¿p</a></h2>
<h3 id="Äá»c-input-tá»«-ngÆ°á»i-dÃ¹ng"><a class="header" href="#Äá»c-input-tá»«-ngÆ°á»i-dÃ¹ng">Äá»c input tá»« ngÆ°á»i dÃ¹ng</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use std::fs::File;
use std::io::{self, Read};

pub fn read_from_stdin() -&gt; String {
    let mut input = String::new();
    loop {
        match io::stdin().read_line(&amp;mut input) {
            Ok(len) =&gt; if len == 0 {
                break;
            }
            Err(error) =&gt; {
                eprintln!(&quot;error: {}&quot;, error);
                break;
            }
        }
    }
    input
}
<span class="boring">}
</span></code></pre></pre>
<p>ÄÃ¢y má»›i lÃ  cÃ¡i Reader</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use std::io;

pub trait ReadInput {
    fn read_input(&amp;mut self) -&gt; io::Result&lt;String&gt;;
}

pub struct Reader&lt;R&gt; {
    reader: R,
}

impl&lt;R&gt; Reader&lt;R&gt; {
    pub fn new(reader: R) -&gt; Self {
        Self { reader }
    }
}

impl&lt;R: io::BufRead&gt; ReadInput for Reader&lt;R&gt; {
    fn read_input(&amp;mut self) -&gt; io::Result&lt;String&gt; {
        let mut input = String::new();
        self.reader.read_line(&amp;mut input)?;
        Ok(input.trim().to_string())
    }
}

#[allow(non_snake_case)]
#[cfg(test)]
mod tests {
    use crate::reader::{ReadInput, Reader};

    #[test]
    fn test_reader__read_input__success() {
        let input = b&quot;  my input with whitespace chars  &quot;;
        let mut reader = Reader::new(&amp;input[..]);

        let actual = reader.read_input().unwrap();
        let expected = &quot;my input with whitespace chars&quot;.to_string();

        assert_eq!(actual, expected);
    }
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="táº¥t-táº§n-táº­t-vá»-print-trong-giao-diá»‡n-dÃ²ng-lá»‡nh"><a class="header" href="#táº¥t-táº§n-táº­t-vá»-print-trong-giao-diá»‡n-dÃ²ng-lá»‡nh">Táº¥t táº§n táº­t vá» Print trong giao diá»‡n dÃ²ng lá»‡nh</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use std::io;
use std::io::Write;

pub trait Print {
    fn print(&amp;mut self, value: &amp;str) -&gt; io::Result&lt;()&gt;;
    fn println(&amp;mut self, value: &amp;str) -&gt; io::Result&lt;()&gt;;
}

pub trait PrintColor {
    fn fts_banner(&amp;mut self) -&gt; io::Result&lt;()&gt;;
    fn input_header(&amp;mut self, value: &amp;str) -&gt; io::Result&lt;()&gt;;
    fn error(&amp;mut self, value: &amp;str) -&gt; io::Result&lt;()&gt;;
}

pub struct Printer&lt;W&gt; {
    writer: W,
}

#[derive(Clone, Copy)]
pub struct PrintOptions {
    color: termcolor::Color,
    is_bold: bool,
}

impl&lt;W: Write + termcolor::WriteColor&gt; Printer&lt;W&gt; {
    pub fn new(writer: W) -&gt; Self {
        Self { writer }
    }
}

impl&lt;W: Write&gt; Print for Printer&lt;W&gt; {
    fn print(&amp;mut self, value: &amp;str) -&gt; io::Result&lt;()&gt; {
        write!(self.writer, &quot;{}&quot;, value)
    }

    fn println(&amp;mut self, value: &amp;str) -&gt; io::Result&lt;()&gt; {
        writeln!(self.writer, &quot;{}&quot;, value)
    }
}

impl&lt;W: Write + termcolor::WriteColor&gt; PrintColor for Printer&lt;W&gt; {
    fn fts_banner(&amp;mut self) -&gt; io::Result&lt;()&gt; {
        let opts = PrintOptions {
            color: termcolor::Color::Yellow,
            is_bold: false,
        };
        let banner = format!(
            &quot;{}\n{}{}{}{}{}\n{}&quot;,
            &quot;#&quot;.repeat(60),
            &quot;#&quot;.repeat(4),
            &quot; &quot;.repeat(18),
            &quot;First Time Setup&quot;,
            &quot; &quot;.repeat(18),
            &quot;#&quot;.repeat(4),
            &quot;#&quot;.repeat(60)
        );
        let description = r#&quot;
This tool requires you to have a repository with a README.md
in the root folder. The markdown file is where your ideas
will be stored.

Once first time setup has completed, simply run Eureka again
to begin writing down ideas.
        &quot;#;
        self.println_styled(&amp;format!(&quot;{}\n{}&quot;, banner.as_str(), description), opts)
    }

    fn input_header(&amp;mut self, value: &amp;str) -&gt; io::Result&lt;()&gt; {
        let opts = PrintOptions {
            color: termcolor::Color::Green,
            is_bold: true,
        };
        self.println_styled(value, opts)?;
        self.print(&quot;&gt; &quot;)?;
        self.writer.flush()
    }

    fn error(&amp;mut self, value: &amp;str) -&gt; io::Result&lt;()&gt; {
        let opts = PrintOptions {
            color: termcolor::Color::Red,
            is_bold: false,
        };
        self.println_styled(value, opts)?;
        self.writer.flush()
    }
}

impl&lt;W: Write + termcolor::WriteColor&gt; Printer&lt;W&gt; {
    fn println_styled(&amp;mut self, value: &amp;str, opts: PrintOptions) -&gt; io::Result&lt;()&gt; {
        let mut color_spec = termcolor::ColorSpec::new();
        color_spec.set_fg(Some(opts.color)).set_bold(opts.is_bold);
        self.writer.set_color(&amp;color_spec)?;
        writeln!(self.writer, &quot;{}&quot;, value)?;
        self.writer.reset()
    }
}

#[allow(non_snake_case)]
#[cfg(test)]
mod tests {
    use crate::printer::{Print, PrintColor, PrintOptions, Printer};

    #[test]
    fn test_printer__print__success() {
        let mut output = Vec::new();
        let mut printer = Printer {
            writer: &amp;mut output,
        };

        let print_result = printer.print(&quot;this value&quot;);
        assert!(print_result.is_ok());

        let actual = String::from_utf8(output).expect(&quot;Not UTF-8&quot;);
        let expected = &quot;this value&quot;;

        assert_eq!(actual, expected);
    }

    #[test]
    fn test_printer__println__success() {
        let mut output = Vec::new();
        let mut printer = Printer {
            writer: &amp;mut output,
        };

        let print_result = printer.println(&quot;this value&quot;);
        assert!(print_result.is_ok());

        let actual = String::from_utf8(output).expect(&quot;Not UTF-8&quot;);
        let expected = &quot;this value\n&quot;;

        assert_eq!(actual, expected);
    }

    #[test]
    fn test_printer__fts_banner__success() {
        let mut output = termcolor::Ansi::new(vec![]);
        let mut printer = Printer::new(&amp;mut output);

        printer.fts_banner().unwrap();

        let actual = String::from_utf8(output.into_inner()).unwrap();
        let expected = &quot;############################################################
###                  First Time Setup                  ####
###########################################################

This tool requires you to have a repository with a README.md
in the root folder. The markdown file is where your ideas
will be stored.

Once first time setup has completed, simply run Eureka again
to begin writing down ideas.&quot;;

        assert!(actual.starts_with(&quot;\u{1b}[0m\u{1b}[33m&quot;));
        assert!(actual.contains(expected));
        assert!(actual.ends_with(&quot;\n\u{1b}[0m&quot;));
    }

    #[test]
    fn test_printer__input_header__success() {
        let mut output = termcolor::Ansi::new(vec![]);
        let mut printer = Printer::new(&amp;mut output);

        printer.input_header(&quot;some-value&quot;).unwrap();

        let actual = String::from_utf8(output.into_inner()).unwrap();
        let expected = &quot;\u{1b}[0m\u{1b}[1m\u{1b}[32msome-value\n\u{1b}[0m&gt; &quot;;

        assert_eq!(actual, expected);
    }

    #[test]
    fn test_printer__error__success() {
        let mut output = termcolor::Ansi::new(vec![]);
        let mut printer = Printer::new(&amp;mut output);

        printer.error(&quot;some-value&quot;).unwrap();

        let actual = String::from_utf8(output.into_inner()).unwrap();
        let expected = &quot;\u{1b}[0m\u{1b}[31msome-value\n\u{1b}[0m&quot;;

        assert_eq!(actual, expected);
    }

    #[test]
    fn test_printer__println_styled__success() {
        let mut output_1 = termcolor::Ansi::new(vec![]);
        let mut printer = Printer::new(&amp;mut output_1);

        let opts_green_bold = PrintOptions {
            color: termcolor::Color::Green,
            is_bold: true,
        };

        printer
            .println_styled(&quot;some-green-bold-text&quot;, opts_green_bold)
            .unwrap();

        let actual_green_bold = String::from_utf8(output_1.into_inner()).unwrap();
        let expected_green_bold = &quot;\u{1b}[0m\u{1b}[1m\u{1b}[32msome-green-bold-text\n\u{1b}[0m&quot;;

        assert_eq!(actual_green_bold, expected_green_bold);

        let mut output_2 = termcolor::Ansi::new(vec![]);
        printer = Printer::new(&amp;mut output_2);

        let opts_yellow = PrintOptions {
            color: termcolor::Color::Yellow,
            is_bold: false,
        };

        printer
            .println_styled(&quot;some-yellow-text&quot;, opts_yellow)
            .unwrap();

        let actual_yellow = String::from_utf8(output_2.into_inner()).unwrap();
        let expected_yellow = &quot;\u{1b}[0m\u{1b}[33msome-yellow-text\n\u{1b}[0m&quot;;

        assert_eq!(actual_yellow, expected_yellow);
    }
}

<span class="boring">}
</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="chÆ¡i-Ä‘Ã¹a-vá»›i-system"><a class="header" href="#chÆ¡i-Ä‘Ã¹a-vá»›i-system">ChÆ¡i Ä‘Ã¹a vá»›i System</a></h1>
<h3 id="má»Ÿ-url--path-vá»›i-á»©ng-dá»¥ng"><a class="header" href="#má»Ÿ-url--path-vá»›i-á»©ng-dá»¥ng">Má»Ÿ URL &amp; Path vá»›i á»©ng dá»¥ng</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>open::that(&quot;https://rust-lang.org&quot;);
open::with(&quot;https://rust-lang.org&quot;, &quot;firefox&quot;);

// Hoáº·c cÃ¡c Ä‘á»“ng bÃ o cÃ³ thá»ƒ dÃ¹ng Path cá»§a á»©ng dá»¥ng Ä‘á»ƒ má»Ÿ cÅ©ng oke, chÆ°a thá»­
<span class="boring">}
</span></code></pre></pre>
<h3 id="kiá»ƒm-tra-Ä‘uÃ´i-tá»‡p"><a class="header" href="#kiá»ƒm-tra-Ä‘uÃ´i-tá»‡p">Kiá»ƒm tra Ä‘uÃ´i tá»‡p</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub fn check_img_format(filename: &amp;PathBuf) -&gt; bool {
    static IMAGE_FORMAT: &amp;[&amp;'static str; 9] = &amp;[&quot;jpg&quot;, &quot;jpeg&quot;, &quot;jpe&quot;, &quot;jfif&quot;, &quot;jfi&quot;, &quot;jif&quot;, &quot;png&quot;, &quot;bmp&quot;, &quot;gif&quot;];
    filename.extension().and_then(OsStr::to_str).is_some_and(|ext| IMAGE_FORMAT.contains(&amp;ext))
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="táº¡o-tá»‡p"><a class="header" href="#táº¡o-tá»‡p">Táº¡o tá»‡p</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub fn gen_file(name: &amp;str, book_format: &amp;str) -&gt; Result&lt;File, std::io::Error&gt; {
    OpenOptions::new()
        .write(true)
        .create(true)
        .append(true)
        .open(format!(&quot;{}.{}&quot;, name, book_format))
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="Äá»c-ná»™i-dung-tá»«-tá»‡p"><a class="header" href="#Äá»c-ná»™i-dung-tá»«-tá»‡p">Äá»c ná»™i dung tá»« tá»‡p</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub fn read_from_file(file: &amp;str) -&gt; String {
    let mut input = String::new();
    let mut f = File::open(file).expect(&quot;File not found!&quot;);
    f.read_to_string(&amp;mut input).expect(&quot;Something went wrong reading the file!&quot;);
    input
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="viáº¿t-ná»™i-dung-vÃ o-tá»‡p"><a class="header" href="#viáº¿t-ná»™i-dung-vÃ o-tá»‡p">Viáº¿t ná»™i dung vÃ o tá»‡p</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub fn write_to_file() -&gt; Result&lt;(), anyhow::Error&gt; {
    let filename = gen_file(&quot;tep&quot;, &quot;txt&quot;);
    let mut f = BufWriter::new(f);
    f.write_all(gen_str(chapter.name, &amp;chapter.content).as_bytes())
        .expect(&quot;Can't write to the file&quot;);
    f.flush().unwrap();
    Ok(())
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="truy-cáº­p-vÃ o-cÃ¡c-á»©ng-dá»¥ng-khÃ¡c"><a class="header" href="#truy-cáº­p-vÃ o-cÃ¡c-á»©ng-dá»¥ng-khÃ¡c">Truy cáº­p vÃ o cÃ¡c á»©ng dá»¥ng khÃ¡c</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use std::io::ErrorKind;
use std::path::PathBuf;
use std::process::Command;
use std::{env, fs, io};

pub trait ProgramOpener {
    fn open_editor(&amp;self, file_path: &amp;str) -&gt; io::Result&lt;()&gt;;
    fn open_pager(&amp;self, file_path: &amp;str) -&gt; io::Result&lt;()&gt;;
}

#[derive(Default)]
pub struct ProgramAccess;

impl ProgramOpener for ProgramAccess {
    fn open_editor(&amp;self, file_path: &amp;str) -&gt; io::Result&lt;()&gt; {
        self.open_with_fallback(file_path, &quot;EDITOR&quot;, &quot;vi&quot;)
    }

    fn open_pager(&amp;self, file_path: &amp;str) -&gt; io::Result&lt;()&gt; {
        self.open_with_fallback(file_path, &quot;PAGER&quot;, &quot;less&quot;)
    }
}

impl ProgramAccess {
    fn open_with_fallback(&amp;self, file_path: &amp;str, env_var: &amp;str, fallback: &amp;str) -&gt; io::Result&lt;()&gt; {
        let program = env::var(env_var)
            .map(PathBuf::from)
            .or_else(|_| self.get_if_available(fallback))?;

        // Make sure file exists
        fs::metadata(file_path)?;
        Command::new(program).arg(file_path).status().map(|_| ())
    }

    fn get_if_available(&amp;self, program: &amp;str) -&gt; io::Result&lt;PathBuf&gt; {
        which::which(program).map_err(|err| std::io::Error::new(ErrorKind::NotFound, err))
    }
}
<span class="boring">}
</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="internet"><a class="header" href="#internet">Internet</a></h1>
<p>Máº¥y cÃ¡i xung quanh viá»‡c tÆ°Æ¡ng tÃ¡c vá»›i Internet sá»­ dá»¥ng Rust.</p>
<h3 id="encode-url"><a class="header" href="#encode-url">Encode URL</a></h3>
<p>DÃ¹ng cÃ¡i nÃ y: <code>open = &quot;5.0.1&quot;</code></p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let encoded_query =
        percent_encoding::utf8_percent_encode(&amp;args.query, NON_ALPHANUMERIC).to_string();

    for site in config.sites {
        let url = site.url.replace(&quot;%s&quot;, &amp;encoded_query);
        println!(&quot;{}:\t{}&quot;, site.name, url);
        // Pháº§n nÃ y lÃ  dÃ¹ng &quot;open&quot; rá»“i, hÆ¡i ngoÃ i lá» chÃºt
        open::that(url).context(&quot;could not open the URL&quot;)?;
    }
<span class="boring">}
</span></code></pre></pre>
<h3 id="request"><a class="header" href="#request">Request</a></h3>
<p>Sá»­ dá»¥ng ureq.</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub fn fetch(url: &amp;str, refer_site: &amp;str) -&gt; Result&lt;Response, ureq::Error&gt; {
    let user_agent = &quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36&quot;;
    
    let ureq_agent: Agent = ureq::AgentBuilder::new()
    .timeout_read(Duration::from_secs(30))
    .build();

    let body = ureq_agent.get(url)
        .set(&quot;User-Agent&quot;, user_agent)
        .set(&quot;Referer&quot;, refer_site)
        .call();
    body
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="láº¥y-thÃ´ng-tin-tá»«-api"><a class="header" href="#láº¥y-thÃ´ng-tin-tá»«-api">Láº¥y thÃ´ng tin tá»« API</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[derive(Debug, Serialize, Deserialize, Default)]
struct Fact {
    id: String,
    text: String,
    source: String,
    source_url: String,
    language: String,
    permalink: String,
}

const FACT_BASE_URL: &amp;str = &quot;https://uselessfacts.jsph.pl&quot;;
const FACT_RANDOM: &amp;str = &quot;/api/v2/facts/random?language=en&quot;;
const FACT_DAILY: &amp;str = &quot;/api/v2/facts/today?language=en&quot;;

fn get_fact(url: &amp;str) -&gt; Result&lt;Fact, Box&lt;dyn std::error::Error&gt;&gt; {
    let resp = reqwest::blocking::get(url)?.json::&lt;Fact&gt;()?;
    Ok(resp)
}

fn get_random_fact() -&gt; Result&lt;Fact, Box&lt;dyn std::error::Error&gt;&gt; {
    let url = format!(&quot;{}{}&quot;, FACT_BASE_URL, FACT_RANDOM);
    get_fact(&amp;url)
}

fn get_daily_fact() -&gt; Result&lt;Fact, Box&lt;dyn std::error::Error&gt;&gt; {
    let url = format!(&quot;{}{}&quot;, FACT_BASE_URL, FACT_DAILY);
    get_fact(&amp;url)
}

fn get_help() -&gt; Result&lt;Fact, Box&lt;dyn std::error::Error&gt;&gt; {
    let mut fact = Fact::default();
    fact.text = String::from(&quot;Usage: fact [t]oday | [r]andom&quot;);
    Ok(fact)
}

fn print_fact(fact: Fact) {
    println!(&quot;Fact: {}&quot;, fact.text);
    println!(&quot;Source: {}&quot;, fact.source_url);
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="má»Ÿ-trÃ¬nh-duyá»‡t"><a class="header" href="#má»Ÿ-trÃ¬nh-duyá»‡t">Má»Ÿ trÃ¬nh duyá»‡t</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub fn show_news(new: &amp;NewsLink) -&gt; Result&lt;(), Box&lt;dyn std::error::Error&gt;&gt; {
    let link = &amp;new.link;
    let response = ureq::get(link).call()?;
    let url = response.get_url();

    // if is a video of youtube
    if url.contains(&quot;youtube&quot;) {
        if webbrowser::open(new.link.as_str()).is_ok() {}
        return Ok(());
    }

    let view_select = Select::new(
        &quot;What view do you like to do?&quot;,
        vec![&quot;Web&quot;, &quot;Terminal&quot;, &quot;Ia Draft&quot;],
    )
    .with_help_message(&quot;Enter the view of the new&quot;)
    .prompt()
    .unwrap_or(&quot;Cancel&quot;);

    if view_select == &quot;Cancel&quot; {
        manage_exit(&quot;No view provided&quot;)
    }

    let view = View::from_str(view_select).expect(&quot;failed to parse view&quot;);
    match view {
        View::Terminal =&gt; {
            let html = response.into_string()?;
            let markdown = get_markdown_content(&amp;html);

            if markdown.is_empty() {
                println!(&quot;Content of new cannot be loaded in terminal&quot;);
                println!(&quot;Opening browser instead&quot;);
                if webbrowser::open(new.link.as_str()).is_ok() {}
            } else {
                generate_view(markdown.as_str()).expect(&quot;failed to generate a markdown view&quot;);
            }
        }
        View::Web =&gt; {
            webbrowser::open(new.link.as_str())?;
        }
        View::Ia =&gt; {
            let html = response.into_string()?;
            let markdown = get_markdown_content(&amp;html);
            get_resume(&amp;markdown)?;
        }
    }
<span class="boring">}
</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="epub"><a class="header" href="#epub">EPUB</a></h1>
<h3 id="táº¡o-epub"><a class="header" href="#táº¡o-epub">Táº¡o EPUB</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span>
<span class="boring">fn main() {
</span>pub fn gen_epub(
    book: NovelContent,
    book_language: &amp;str,
    is_vertical: &amp;bool,
) -&gt; epub_builder::Result&lt;()&gt; {
    let output = utils::gen_file(&amp;book.title, &quot;epub&quot;).unwrap();

    let epub_mode = css_gen(is_vertical);
    let mut binding = epub_builder::EpubBuilder::new(epub_builder::ZipLibrary::new()?)?;
    let gen_epub = binding
        .metadata(&quot;author&quot;, book.author.trim())?
        .metadata(&quot;title&quot;, &amp;book.title)?
        .epub_direction(epub_mode.epub_direction)
        .metadata(&quot;lang&quot;, book_language)?
        .metadata(&quot;generator&quot;, &quot;Buukuru&quot;)?
        .add_metadata_opf(epub_builder::MetadataOpf {
            name: String::from(&quot;primary-writing-mode&quot;),
            content: epub_mode.p_writing_mode,
        })
        .epub_version(epub_builder::EpubVersion::V30)
        .stylesheet(epub_mode.epub_css.as_bytes())?;

    let generated_content = gen_content(gen_epub, book);
    generated_content
        .inline_toc()
        .generate(output)
        .expect(&quot;Error generating .epub file&quot;);
    Ok(())
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="táº¡o-xhtml"><a class="header" href="#táº¡o-xhtml">Táº¡o XHTML</a></h3>
<h3 id="xhtml-generator"><a class="header" href="#xhtml-generator">XHTML Generator</a></h3>
<p>Pháº§n 1:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn to_xhtml(content: &amp;Vec&lt;String&gt;, chap_title: &amp;str) -&gt; String {
    // Start
    let start = format!(
        r##&quot;&lt;?xml version='1.0' encoding='utf-8'?&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; lang=&quot;ja&quot; xml:lang=&quot;ja&quot;&gt;
    &lt;head&gt;
        &lt;title&gt;{}&lt;/title&gt;
        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;/&gt;
        &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;stylesheet.css&quot;/&gt;
    &lt;/head&gt;
    &lt;body&gt;&quot;##,
        chap_title
    );
    let chapter_title = format!(&quot;\n\t&lt;h2&gt;{}&lt;/h2&gt;\n&quot;, chap_title);
    let mut file: String = start.to_string() + chapter_title.as_str();

    for line in content {
        match line.as_str() {
            &quot;&quot; =&gt; {}
            _ =&gt; {
                file += format!(&quot;\t\t&lt;p&gt;{}&lt;/p&gt;\n&quot;, &amp;line.trim()).as_str();
            }
        }
    }
    file += &quot;\n\t&lt;/body&gt;\n&lt;/html&gt;&quot;;
    // End
    file
}
<span class="boring">}
</span></code></pre></pre>
<p>Pháº§n 2:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub fn compress_xhtml(html_input: &amp;str) -&gt; String {
    format!(r##&quot;&lt;?xml version='1.0' encoding='utf-8'?&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; lang=&quot;ja&quot; xml:lang=&quot;ja&quot;&gt;
    &lt;head&gt;
        &lt;title&gt;Untitled&lt;/title&gt;
        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;/&gt;
        &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;stylesheet.css&quot;/&gt;
    &lt;/head&gt;
    &lt;body&gt;{}{}&quot;##, html_input, &quot;\n\t&lt;/body&gt;\n&lt;/html&gt;&quot;)
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="css-for-english-and-japanese"><a class="header" href="#css-for-english-and-japanese">CSS for English and Japanese</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn css_gen(is_vertical: &amp;bool) -&gt; EpubMode {
    let vertical_css = r##&quot;@page {
  margin-bottom: 5pt;
  margin-top: 5pt;
}

html {
  -webkit-writing-mode: vertical-rl;
  -moz-writing-mode: vertical-rl;
  -ms-writing-mode: vertical-rl;
  writing-mode: vertical-rl;
}

p {
  display: block;
  height: auto;
  text-indent: inherit;
  width: auto;
  margin: 0;
  padding: 0;
}&quot;##;
<span class="boring">}
</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sá»­-dá»¥ng-git-vá»›i-rust"><a class="header" href="#sá»­-dá»¥ng-git-vá»›i-rust">Sá»­ dá»¥ng Git vá»›i Rust</a></h1>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use std::path::Path;

pub trait GitManagement {
    fn init(&amp;mut self, repo_path: &amp;str) -&gt; Result&lt;(), git2::Error&gt;;
    fn checkout_branch(&amp;self, branch_name: &amp;str) -&gt; Result&lt;(), git2::Error&gt;;
    fn add(&amp;self) -&gt; Result&lt;(), git2::Error&gt;;
    fn commit(&amp;self, subject: &amp;str) -&gt; Result&lt;git2::Oid, git2::Error&gt;;
    fn push(&amp;self, branch_name: &amp;str) -&gt; Result&lt;(), git2::Error&gt;;
}

#[derive(Default)]
pub struct Git {
    repo: Option&lt;git2::Repository&gt;,
}

impl GitManagement for Git {
    fn init(&amp;mut self, repo_path: &amp;str) -&gt; Result&lt;(), git2::Error&gt; {
        git2::Repository::open(Path::new(&amp;repo_path)).map(|repo| self.repo = Some(repo))
    }

    fn checkout_branch(&amp;self, branch_name: &amp;str) -&gt; Result&lt;(), git2::Error&gt; {
        let repo = self.repo.as_ref().unwrap();

        let commit = repo
            .head()
            .map(|head| head.target())
            .and_then(|oid| repo.find_commit(oid.unwrap()))?;

        // Create new branch if it doesn't exist
        match repo.branch(branch_name, &amp;commit, false) {
            // This command can fail due to an existing reference. This error should be ignored.
            Err(err)
                if !(err.class() == git2::ErrorClass::Reference
                    &amp;&amp; err.code() == git2::ErrorCode::Exists) =&gt;
            {
                return Err(err);
            }
            _ =&gt; {}
        }

        let refname = format!(&quot;refs/heads/{}&quot;, branch_name);
        let obj = repo.revparse_single(refname.as_str())?;

        repo.checkout_tree(&amp;obj, None)?;
        repo.set_head(refname.as_str())
    }

    fn add(&amp;self) -&gt; Result&lt;(), git2::Error&gt; {
        let mut index = self.repo.as_ref().unwrap().index()?;

        index.add_path(Path::new(&quot;README.md&quot;))?;
        index.write()
    }

    fn commit(&amp;self, subject: &amp;str) -&gt; Result&lt;git2::Oid, git2::Error&gt; {
        let repo = self.repo.as_ref().unwrap();
        let mut index = repo.index()?;

        let signature = repo.signature()?; // Use default user.name and user.email

        let oid = index.write_tree()?;
        let parent_commit = find_last_commit(self.repo.as_ref().unwrap())?;
        let tree = repo.find_tree(oid)?;

        repo.commit(
            Some(&quot;HEAD&quot;),      // point HEAD to our new commit
            &amp;signature,        // author
            &amp;signature,        // committer
            subject,           // commit message
            &amp;tree,             // tree
            &amp;[&amp;parent_commit], // parent commit
        )
    }

    fn push(&amp;self, branch_name: &amp;str) -&gt; Result&lt;(), git2::Error&gt; {
        with_credentials(self.repo.as_ref().unwrap(), |cred_callback| {
            let mut remote = self.repo.as_ref().unwrap().find_remote(&quot;origin&quot;)?;

            let mut callbacks = git2::RemoteCallbacks::new();
            let mut options = git2::PushOptions::new();

            callbacks.credentials(cred_callback);
            options.remote_callbacks(callbacks);

            remote.push(
                &amp;[format!(
                    &quot;refs/heads/{}:refs/heads/{}&quot;,
                    branch_name, branch_name
                )],
                Some(&amp;mut options),
            )?;

            Ok(())
        })
    }
}

fn find_last_commit(repo: &amp;git2::Repository) -&gt; Result&lt;git2::Commit, git2::Error&gt; {
    let obj = repo.head()?.resolve()?.peel(git2::ObjectType::Commit)?;
    obj.into_commit()
        .map_err(|_| git2::Error::from_str(&quot;Couldn't find commit&quot;))
}

/// Helper to run git operations that require authentication.
///
/// This is inspired by [the way Cargo handles this][cargo-impl].
///
/// [cargo-impl]: https://github.com/rust-lang/cargo/blob/94bf4781d0bbd266abe966c6fe1512bb1725d368/src/cargo/sources/git/utils.rs#L437
fn with_credentials&lt;F&gt;(repo: &amp;git2::Repository, mut f: F) -&gt; Result&lt;(), git2::Error&gt;
where
    F: FnMut(&amp;mut git2::Credentials) -&gt; Result&lt;(), git2::Error&gt;,
{
    let config = repo.config()?;

    let mut tried_sshkey = false;
    let mut tried_cred_helper = false;
    let mut tried_default = false;

    f(&amp;mut |url, username, allowed| {
        if allowed.contains(git2::CredentialType::USERNAME) {
            return Err(git2::Error::from_str(&quot;No username specified in remote URL&quot;));
        }

        if allowed.contains(git2::CredentialType::SSH_KEY) &amp;&amp; !tried_sshkey {
            tried_sshkey = true;
            let username = username.unwrap();
            return git2::Cred::ssh_key_from_agent(username);
        }

        if allowed.contains(git2::CredentialType::USER_PASS_PLAINTEXT) &amp;&amp; !tried_cred_helper {
            tried_cred_helper = true;
            return git2::Cred::credential_helper(&amp;config, url, username);
        }

        if allowed.contains(git2::CredentialType::DEFAULT) &amp;&amp; !tried_default {
            tried_default = true;
            return git2::Cred::default();
        }

        Err(git2::Error::from_str(&quot;No authentication method succeeded&quot;))
    })
}

#[allow(non_snake_case)]
#[cfg(test)]
mod tests {
    use crate::git::{find_last_commit, Git, GitManagement};
    use git2::{BranchType, Repository, RepositoryInitOptions, Status};
    use tempfile::{NamedTempFile, TempDir};

    #[test]
    fn test_git__init__valid_repo() {
        let mut git = Git::default();
        // Valid repo
        let (dir, _repo, _file) = repo_init();

        let actual = git.init(dir.path().to_str().unwrap());

        assert!(actual.is_ok());
    }

    #[test]
    fn test_git__init__invalid_repo() {
        let mut git = Git::default();
        // Invalid repo
        let dir = TempDir::new().unwrap();

        let actual = git.init(dir.path().to_str().unwrap());

        assert!(actual.is_err());
    }

    #[test]
    fn test_git__checkout_branch__missing_branch() {
        let mut git = Git::default();
        let (dir, repo, _file) = repo_init();
        git.init(dir.path().to_str().unwrap()).unwrap();

        // This will create a new branch
        git.checkout_branch(&quot;new-branch-name&quot;).unwrap();

        let actual = repo.find_branch(&quot;new-branch-name&quot;, BranchType::Local);

        assert!(actual.is_ok());
    }

    #[test]
    fn test_git__checkout_branch__success() {
        let mut git = Git::default();
        let (dir, repo, _file) = repo_init();
        git.init(dir.path().to_str().unwrap()).unwrap();

        let before = repo.head();
        assert_eq!(before.unwrap().name().unwrap(), &quot;refs/heads/main&quot;);

        git.checkout_branch(&quot;new-branch-name&quot;).unwrap();

        let after = repo.head();

        assert!(after.is_ok());
        assert_eq!(after.unwrap().name().unwrap(), &quot;refs/heads/new-branch-name&quot;);
    }

    #[test]
    fn test_git__add__success() {
        let mut git = Git::default();
        let (dir, repo, _file) = repo_init();
        git.init(dir.path().to_str().unwrap()).unwrap();

        let statuses_before = repo.statuses(None).unwrap();
        let before = statuses_before.get(0).unwrap();
        assert_eq!(before.status(), Status::WT_NEW);

        git.add().unwrap();

        let statuses_after = repo.statuses(None).unwrap();
        let after = statuses_after.get(0).unwrap();
        assert_eq!(after.status(), Status::INDEX_NEW);
    }

    #[test]
    fn test_git__commit__success() {
        let mut git = Git::default();
        let (dir, _repo, _file) = repo_init();
        git.init(dir.path().to_str().unwrap()).unwrap();

        // Initial commit
        let before = find_last_commit(git.repo.as_ref().unwrap());
        assert_eq!(before.unwrap().summary().unwrap(), &quot;initial-msg&quot;);

        git.add().unwrap();
        git.commit(&quot;some-subject&quot;).unwrap();

        let after = find_last_commit(git.repo.as_ref().unwrap());
        assert_eq!(after.unwrap().summary().unwrap(), &quot;some-subject&quot;);
    }

    fn repo_init() -&gt; (TempDir, Repository, NamedTempFile) {
        let td = TempDir::new().unwrap();
        let mut opts = RepositoryInitOptions::new();
        opts.initial_head(&quot;main&quot;);
        let repo = Repository::init_opts(td.path(), &amp;opts).unwrap();

        // Create README.md file
        let file = tempfile::Builder::new()
            .prefix(&quot;README&quot;)
            .suffix(&quot;.md&quot;)
            .rand_bytes(0)
            .tempfile_in(td.path())
            .unwrap();
        {
            // Set basic config
            let mut config = repo.config().unwrap();
            config.set_str(&quot;user.name&quot;, &quot;some-name&quot;).unwrap();
            config.set_str(&quot;user.email&quot;, &quot;some-email&quot;).unwrap();

            // Make initial commit
            let mut index = repo.index().unwrap();
            let id = index.write_tree().unwrap();
            let tree = repo.find_tree(id).unwrap();
            let sig = repo.signature().unwrap();
            repo.commit(Some(&quot;HEAD&quot;), &amp;sig, &amp;sig, &quot;initial-msg&quot;, &amp;tree, &amp;[])
                .unwrap();
        }
        // Return file to not drop it and make it disappear
        (td, repo, file)
    }
}
<span class="boring">}
</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="html-1"><a class="header" href="#html-1">HTML</a></h1>
<h3 id="láº¥y-cÃ¡c-ná»™i-dung-tá»«-cÃ¡c-selector"><a class="header" href="#láº¥y-cÃ¡c-ná»™i-dung-tá»«-cÃ¡c-selector">Láº¥y cÃ¡c ná»™i dung tá»« cÃ¡c Selector</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub fn fetcher(
    base_url: String,
    id: &amp;str,
    list_selector: &amp;str,
    item_selector: &amp;str,
    element: &amp;str
) -&gt; Vec&lt;String&gt; {
    let given_url = base_url + id;
    let body = http::get_body_from_url(&amp;given_url).unwrap();
    let document = Html::parse_document(&amp;body);
    // Logging
    println!(&quot;Äang táº£i chÆ°Æ¡ng truyá»‡n vá»›i URL lÃ : {}&quot;, &amp;given_url);
    // Selector
    let list = Selector::parse(list_selector).unwrap();
    let item = Selector::parse(item_selector).unwrap();
    let body = Selector::parse(&quot;body&quot;).unwrap();

    let content_matcher = match document.select(&amp;list).next() {
        Some(doc) =&gt; {
            doc.select(&amp;item)
        },
        None =&gt; {
            document.select(&amp;body).next().unwrap().select(&amp;item)
        },
    };

    content_matcher.into_iter()
    .filter_map(|f| f.value().attr(element).map(|elem| elem.to_string())).collect()
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="cÃ¡i-gÃ¬-Ä‘Ã³-khÃ´ng-rÃµ"><a class="header" href="#cÃ¡i-gÃ¬-Ä‘Ã³-khÃ´ng-rÃµ">CÃ¡i gÃ¬ Ä‘Ã³ khÃ´ng rÃµ</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>/// Displays formatted html that fits a CSS selector.
pub fn display_article(
    contents_selector: scraper::Selector,
    title_selector: scraper::Selector,
    request: scraper::Html,
) {
    let mut paragraphs = request
        .select(&amp;contents_selector)
        .map(|x| from_read(x.inner_html().as_bytes(), 190))
        .collect::&lt;Vec&lt;String&gt;&gt;()
        .join(&quot;\n&quot;);

    paragraphs = filters::remove_references(paragraphs);
    paragraphs = filters::remove_square_brackets(paragraphs);
    paragraphs = filters::remove_links(paragraphs);

    let title = request
        .select(&amp;title_selector)
        .map(|x| from_read(x.inner_html().as_bytes(), 50))
        .collect::&lt;Vec&lt;String&gt;&gt;()
        .join(&quot;&quot;);

    let article = ArticleDisplay {
        title: title,
        contents: paragraphs,
    };

    ui::ArticleDisplay::new(article).unwrap();
}

<span class="boring">}
</span></code></pre></pre>
<h3 id="code-that-cleans-the-article-from-html-leftovers"><a class="header" href="#code-that-cleans-the-article-from-html-leftovers">Code that cleans the article from HTML leftovers.</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use regex::Regex;

pub fn remove_square_brackets(text: String) -&gt; String {
    let square_bracket_regex =
        Regex::new(r&quot;[(?P&lt;link&gt;[a-zA-Z0-9\(\)\-\,[:space:]&amp;=]+)]&quot;).unwrap();
    square_bracket_regex.replace_all(&amp;text, &quot;$link&quot;).to_string()
}

pub fn remove_references(text: String) -&gt; String {
    let reference_regex = Regex::new(r&quot;[+([0-9]+)]+&quot;).unwrap();
    reference_regex.replace_all(&amp;text, &quot;&quot;).to_string()
}

pub fn remove_links(text: String) -&gt; String {
    let link_regex = Regex::new(r&quot;: [/?/[a-zA-Z0-9-%:/(/)_.//&amp;=]+/]+\n&quot;).unwrap();
    let note_regex =
        Regex::new(r&quot;: #cite_note-[0-9-]+\n|: #cite_note-[a-zA-Z_-]+-[0-9-]+\n&quot;).unwrap();

    let mut new_text = link_regex.replace_all(&amp;text, &quot;&quot;).to_string();
    new_text = note_regex.replace_all(&amp;new_text, &quot;&quot;).to_string();

    new_text
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="chá»n-cÃ¡c-elements-trong-html-báº±ng-selectrs"><a class="header" href="#chá»n-cÃ¡c-elements-trong-html-báº±ng-selectrs">Chá»n cÃ¡c elements trong HTML báº±ng select.rs</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub fn html_to_dict_term(file_path: &amp;str) -&gt; Vec&lt;DictTerm&gt; {
    let html_content = fs::read_to_string(file_path).expect(&quot;Should have been able to read the file&quot;);
    let document = Document::from(html_content.as_str());

    document.find(Name(&quot;idx:entry&quot;)).map(|element| {
        let dict_term = element.find(Name(&quot;idx:orth&quot;)).next().unwrap().attr(&quot;value&quot;).unwrap();
        DictTerm {
            term: dict_term.to_owned(),
            definition: element.text().replace(&quot;\&quot;&quot;, &quot;-&quot;)
        } 
    }).collect::&lt;Vec&lt;_&gt;&gt;()
    
}
<span class="boring">}
</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><pre><pre class="playground"><code class="language-rust">fn main() {
    let matches = Command::new(&quot;tinpub-rs&quot;)
        .arg(
            Arg::new(&quot;source&quot;)
                .short('i')
                .long(&quot;source&quot;)
                .help(&quot;Which source do you wanna fetch news from&quot;)
                .required(true),
        )
        .get_matches();
        
    let feed = FeedConfig {
        name: String::from(&quot;untitled&quot;),
        url: config_path.clone()
    };

    
}

fn handle_feed(feed: &amp;FeedConfig, client: &amp;Client) -&gt; Vec&lt;FetchedItem&gt; {
    println!(&quot;Fetching {}&quot;, feed.name);

    let rss_result = fetch_rss(&amp;feed.url, client);
    let mut src_items: Vec&lt;FetchedItem&gt; = Vec::new();

    let rss_channel = match rss_result {
        Ok(channel) =&gt; channel,
        Err(_) =&gt; {
            println!(&quot;Failed to load RSS feed&quot;);
            return src_items;
        },
    };

    for item in rss_channel.into_items() {
        let title_result = item.title();
        
        let title = match title_result {
            Some(title) =&gt; title,
            None =&gt; {
                println!(&quot;No title found&quot;);
                return src_items;
            },
        };

        let item_url = item.link().unwrap();
        let item_desc = item.clone().description.unwrap();

        let item_content: String = match item.clone().content {
            Some(content) =&gt; content,
            None =&gt; String::from(&quot;&quot;),
        };

        let fetched_item = FetchedItem {
            name: String::from(title),
            url: String::from(item_url),
            desc: item_desc.to_string(),
            content: item_content.to_string()
        };

        println!(&quot;Fetching post: {}[{:?}]&quot;, title, item_url);

        src_items.push(fetched_item)

        // if download_filter.is_match(title) {}
    }
    src_items
}

fn fetch_rss(url: &amp;str, client: &amp;Client) -&gt; Result&lt;Channel, Box&lt;dyn std::error::Error&gt;&gt; {
    println!(&quot;Fetching URL {}&quot;, url);
    let response = client.get(url).send()?;
    let status = response.status();
    println!(&quot;Response status: {}&quot;, status);
    if status.is_success() {
        let text = response.text()?;

        let rss_result = Channel::read_from(text.as_bytes());
        if let Ok(channel) = rss_result {
            Ok(channel)
        } else {
            let error = rss_result.err().unwrap();
            println!(&quot;Error parsing RSS feed: {:?}&quot;, error);
            Err(Box::new(error))
        }
    } else {
        println!(&quot;Error fetching RSS feed&quot;);
        Err(Box::new(response.error_for_status().err().unwrap()))
    }
}
</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h3 id="essentials"><a class="header" href="#essentials">Essentials</a></h3>
<p>This section covers varios aspects of Rust programming language from basic to some complex topics.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="core-concepts"><a class="header" href="#core-concepts">Core Concepts</a></h3>
<p>Rust has several core concepts that are fundamental to understanding and effectively using the language. These concepts are designed to ensure memory safety, concurrency, and performance without sacrificing ease of use.</p>
<h3 id="1-ownership"><a class="header" href="#1-ownership">1. <a href="rust/essentials/core-concepts/./ownership.html">Ownership</a></a></h3>
<p>Ownership is a set of rules that governs how a Rust program manages memory. It ensures memory safety without needing a garbage collector.</p>
<h3 id="2-borrowing-and-references"><a class="header" href="#2-borrowing-and-references">2. <a href="rust/essentials/core-concepts/./borrow.html">Borrowing</a> and <a href="rust/essentials/core-concepts/./reference.html">References</a></a></h3>
<p>Borrowing allows you to reference a value without taking ownership of it.</p>
<h3 id="3-lifetimes"><a class="header" href="#3-lifetimes">3. <a href="rust/essentials/core-concepts/./lifetime.html">Lifetimes</a></a></h3>
<p>Lifetimes are a way of ensuring that references are valid as long as they are used. They prevent dangling references and ensure memory safety. Lifetimes are often inferred by the compiler, but they can also be explicitly specified.</p>
<h3 id="4-flow-controls-and-pattern-matching"><a class="header" href="#4-flow-controls-and-pattern-matching">4. <a href="rust/essentials/core-concepts/./flow-control.html">Flow Controls</a> and <a href="rust/essentials/core-concepts/./pattern-matching.html">Pattern Matching</a></a></h3>
<p>Pattern matching is a powerful feature that allows you to match complex data structures and execute code based on their shape. It is commonly used with <code>match</code> statements and <code>if let</code> expressions.</p>
<h3 id="5-traits"><a class="header" href="#5-traits">5. <a href="rust/essentials/core-concepts/../types/trait.html">Traits</a></a></h3>
<p>Traits help defining shared behavior. They are similar to interfaces in other languages. Traits allow you to define methods that can be implemented by different types.</p>
<h3 id="6-enums-and-pattern-matching"><a class="header" href="#6-enums-and-pattern-matching">6. <a href="rust/essentials/core-concepts/../types/enum.html">Enums</a> and <a href="rust/essentials/core-concepts/./pattern-matching.html">Pattern Matching</a></a></h3>
<p>Enums in Rust are more powerful than in many other languages because each variant can have associated data. Enums are often used with pattern matching to handle different cases.</p>
<h3 id="7-concurrency"><a class="header" href="#7-concurrency">7. <a href="rust/essentials/core-concepts/./concurency.html">Concurrency</a></a></h3>
<p>Rust provides powerful concurrency primitives, such as threads and channels, while ensuring memory safety. The ownership and borrowing system helps prevent data races at compile time.</p>
<h3 id="8-error-handling"><a class="header" href="#8-error-handling">8. <a href="rust/essentials/core-concepts/./error-handling.html">Error Handling</a></a></h3>
<p>Error handling system uses the <code>Result</code> and <code>Option</code> enums. This encourages handling errors explicitly rather than relying on exceptions.</p>
<h3 id="9-macros"><a class="header" href="#9-macros">9. <a href="rust/essentials/core-concepts/./macro.html">Macros</a></a></h3>
<p>Macros provide a way to write code that writes other code (metaprogramming). They are used for code generation and to reduce boilerplate.</p>
<h3 id="10-modules-and-crates"><a class="header" href="#10-modules-and-crates">10. <a href="rust/essentials/core-concepts/./module.html">Modules</a> and <a href="rust/essentials/core-concepts/./crate.html">Crates</a></a></h3>
<p>Modules and crates are Rust's way of organizing code. Modules allow you to group related code together, while crates are the unit of compilation and distribution.</p>
<h3 id="11-functions-and-closures"><a class="header" href="#11-functions-and-closures">11. <a href="rust/essentials/core-concepts/./function.html">Functions</a> and <a href="rust/essentials/core-concepts/./closure.html">Closures</a></a></h3>
<p>Functions are a fundamental building block for organizing and reusing code. Functions allow you to encapsulate logic, perform specific tasks, and return values.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="functions"><a class="header" href="#functions">Functions</a></h3>
<p>Functions are a fundamental building block in Rust. They allow you to encapsulate code into reusable blocks. Functions are defined using the <code>fn</code> keyword, followed by the function name, parameters, and the body of the function.</p>
<h3 id="defining-a-function"><a class="header" href="#defining-a-function">Defining a Function</a></h3>
<pre><pre class="playground"><code class="language-rust">fn main() {
    println!(&quot;Hello, world!&quot;);
}
</code></pre></pre>
<p><code>main</code> is a special function that serves as the entry point of a Rust program.</p>
<h3 id="function-parameters"><a class="header" href="#function-parameters">Function Parameters</a></h3>
<p>Functions can take parameters, which are specified in the parentheses after the function name.</p>
<pre><pre class="playground"><code class="language-rust">fn greet(name: &amp;str) {
    println!(&quot;Hello, {}!&quot;, name);
}

fn main() {
    greet(&quot;Alice&quot;);
    greet(&quot;Bob&quot;);
}
</code></pre></pre>
<ul>
<li>The <code>greet</code> function takes a single parameter <code>name</code> of type <code>&amp;str</code>.</li>
</ul>
<h3 id="return-values"><a class="header" href="#return-values">Return Values</a></h3>
<p>Functions can also return values. The return type is specified after an arrow (<code>-&gt;</code>).</p>
<pre><pre class="playground"><code class="language-rust">fn add(a: i32, b: i32) -&gt; i32 {
    a + b
}

fn main() {
    let sum = add(5, 3);
    println!(&quot;Sum: {}&quot;, sum);
}
</code></pre></pre>
<ul>
<li>The <code>add</code> function takes two parameters of type <code>i32</code> and returns their sum, which is also of type <code>i32</code>.</li>
</ul>
<h3 id="early-returns"><a class="header" href="#early-returns">Early Returns</a></h3>
<p>You can return a value early from a function using the <code>return</code> keyword:</p>
<pre><pre class="playground"><code class="language-rust">fn is_even(num: i32) -&gt; bool {
    if num % 2 == 0 {
        return true;
    }
    false
}

fn main() {
    let number = 4;
    if is_even(number) {
        println!(&quot;{} is even&quot;, number);
    } else {
        println!(&quot;{} is odd&quot;, number);
    }
}
</code></pre></pre>
<ul>
<li>The <code>is_even</code> function returns <code>true</code> if the number is even and <code>false</code> otherwise.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h3 id="flow-control"><a class="header" href="#flow-control">Flow Control</a></h3>
<p>Rust provides several options for flow control, including <code>if</code> statements, <code>while</code> loops, and more. Here are some simple examples for each:</p>
<h3 id="if-statements"><a class="header" href="#if-statements"><code>if</code> Statements</a></h3>
<p>The <code>if</code> statement allows you to execute code based on a condition.</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let number = 5;

if number &lt; 10 {
    println!(&quot;The number is less than 10&quot;);
} else {
    println!(&quot;The number is 10 or greater&quot;);
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="while-loops"><a class="header" href="#while-loops"><code>while</code> Loops</a></h3>
<p>The <code>while</code> loop allows you to execute code repeatedly as long as a condition is true.</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let mut count = 0;

while count &lt; 5 {
    println!(&quot;Count is: {}&quot;, count);
    count += 1;
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="for-loops"><a class="header" href="#for-loops"><code>for</code> Loops</a></h3>
<p>The <code>for</code> loop allows you to iterate over a range or collection.</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>for number in 1..5 {
    println!(&quot;The number is: {}&quot;, number);
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="match-statements"><a class="header" href="#match-statements"><code>match</code> Statements</a></h3>
<p>The <code>match</code> statement allows you to compare a value against a series of patterns and execute code based on which pattern matches.</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let number = 3;

match number {
    1 =&gt; println!(&quot;One&quot;),
    2 =&gt; println!(&quot;Two&quot;),
    3 =&gt; println!(&quot;Three&quot;),
    _ =&gt; println!(&quot;Something else&quot;),
}
<span class="boring">}
</span></code></pre></pre>
<p>These are some of the basic flow control options available in Rust. Each of these constructs helps you manage the flow of your program effectively.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="pattern-matching"><a class="header" href="#pattern-matching">Pattern Matching</a></h3>
<p>Pattern matching is a powerful feature that allows you to match complex data structures and perform different actions based on their shape. </p>
<h3 id="matching-literals"><a class="header" href="#matching-literals">Matching Literals</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let x = 1;

match x {
    1 =&gt; println!(&quot;One!&quot;),
    2 =&gt; println!(&quot;Two!&quot;),
    _ =&gt; println!(&quot;Something else!&quot;),
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="matching-multiple-patterns"><a class="header" href="#matching-multiple-patterns">Matching Multiple Patterns</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let x = 1;

match x {
    1 | 2 =&gt; println!(&quot;One or Two!&quot;),
    3 =&gt; println!(&quot;Three!&quot;),
    _ =&gt; println!(&quot;Something else!&quot;),
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="destructuring-structs"><a class="header" href="#destructuring-structs">Destructuring Structs</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>struct Point {
    x: i32,
    y: i32,
}

let p = Point { x: 0, y: 7 };

match p {
    Point { x: 0, y } =&gt; println!(&quot;On the y axis at {}&quot;, y),
    Point { x, y: 0 } =&gt; println!(&quot;On the x axis at {}&quot;, x),
    Point { x, y } =&gt; println!(&quot;On neither axis: ({}, {})&quot;, x, y),
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="destructuring-enums"><a class="header" href="#destructuring-enums">Destructuring Enums</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>enum Message {
    Quit,
    Move { x: i32, y: i32 },
    Write(String),
    ChangeColor(i32, i32, i32),
}

let msg = Message::ChangeColor(0, 160, 255);

match msg {
    Message::Quit =&gt; println!(&quot;The Quit variant has no data to destructure.&quot;),
    Message::Move { x, y } =&gt; println!(&quot;Move in the x direction {} and in the y direction {}&quot;, x, y),
    Message::Write(text) =&gt; println!(&quot;Text message: {}&quot;, text),
    Message::ChangeColor(r, g, b) =&gt; println!(&quot;Change the color to red {}, green {}, and blue {}&quot;, r, g, b),
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="ignoring-values-in-a-pattern"><a class="header" href="#ignoring-values-in-a-pattern">Ignoring Values in a Pattern</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let numbers = (2, 4, 8, 16, 32);

match numbers {
    (first, _, third, _, fifth) =&gt; {
        println!(&quot;Some numbers: {}, {}, {}&quot;, first, third, fifth)
    },
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="matching-ranges-of-values"><a class="header" href="#matching-ranges-of-values">Matching Ranges of Values</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let x = 5;

match x {
    1..=5 =&gt; println!(&quot;One through Five&quot;),
    _ =&gt; println!(&quot;Something else&quot;),
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="using-if-guards"><a class="header" href="#using-if-guards">Using <code>if</code> Guards</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let x = Some(4);

match x {
    Some(n) if n &lt; 5 =&gt; println!(&quot;Less than five: {}&quot;, n),
    Some(n) =&gt; println!(&quot;{}&quot;, n),
    None =&gt; (),
}
<span class="boring">}
</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h3 id="closures-in-rust"><a class="header" href="#closures-in-rust">Closures in Rust</a></h3>
<p>Closures are anonymous functions that can capture their environment. They are similar to lambdas in other programming languages. Closures in Rust are defined using the <code>|</code> syntax.</p>
<h3 id="basic-syntax"><a class="header" href="#basic-syntax">Basic Syntax</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let add = |a, b| a + b;
println!(&quot;Sum: {}&quot;, add(2, 3)); // Output: Sum: 5
<span class="boring">}
</span></code></pre></pre>
<h3 id="capturing-environment"><a class="header" href="#capturing-environment">Capturing Environment</a></h3>
<p>Closures can capture variables from their enclosing scope.</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let x = 10;
let print_x = || println!(&quot;x: {}&quot;, x);
print_x(); // Output: x: 10
<span class="boring">}
</span></code></pre></pre>
<h3 id="mutable-captures"><a class="header" href="#mutable-captures">Mutable Captures</a></h3>
<p>Closures can also capture variables mutably.</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let mut x = 10;
{
    let mut add_to_x = || x += 5;
    add_to_x();
}
println!(&quot;x: {}&quot;, x); // Output: x: 15
<span class="boring">}
</span></code></pre></pre>
<h3 id="moving-captures"><a class="header" href="#moving-captures">Moving Captures</a></h3>
<p>Closures can take ownership of captured variables using the <code>move</code> keyword.</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let x = vec![1, 2, 3];
let print_x = move || println!(&quot;x: {:?}&quot;, x);
print_x(); // Output: x: [1, 2, 3]
// x is no longer accessible here
<span class="boring">}
</span></code></pre></pre>
<p>Closures are a powerful feature in Rust, enabling concise and expressive code.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="ownership"><a class="header" href="#ownership">Ownership</a></h3>
<p>Ownership is a set of rules that governs how the program manages memory. The ownership system is designed to prevent memory leaks and ensure memory safety. Here are the key rules of ownership:</p>
<ol>
<li>Each value has a variable thatâ€™s called its owner.</li>
<li>There can only be one owner at a time.</li>
<li>When the owner goes out of scope, the value will be dropped.</li>
</ol>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let s1 = String::from(&quot;hello&quot;);
    let s2 = s1; // s1 is moved to s2

    // println!(&quot;{}&quot;, s1); // This line would cause a compile-time error because s1 is no longer valid
    println!(&quot;{}&quot;, s2); // s2 is now the owner of the string
}
</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h3 id="borrowing"><a class="header" href="#borrowing">Borrowing</a></h3>
<p>Borrowing allows you to reference a value without taking ownership of it. There are two types of borrowing in Rust:</p>
<p><strong>Immutable Borrowing (&amp;T)</strong>: </p>
<p>You can have multiple immutable references to a value.</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let s1 = String::from(&quot;hello&quot;);
    let len = calculate_length(&amp;s1); // Borrow s1 immutably

    println!(&quot;The length of '{}' is {}.&quot;, s1, len); // s1 is still valid here
}

fn calculate_length(s: &amp;String) -&gt; usize {
    s.len() // Use the borrowed value
}
</code></pre></pre>
<p>s1 is borrowed immutably by the calculate_length function. The function can read the value but cannot modify it. After the function call, s1 is still valid.</p>
<p><strong>Mutable Borrowing (&amp;mut T)</strong>: </p>
<p>You can have only one mutable reference to a value at a time. </p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let mut s = String::from(&quot;hello&quot;);
    change(&amp;mut s); // Borrow s mutably

    println!(&quot;{}&quot;, s); // s is still valid here and has been modified
}

fn change(some_string: &amp;mut String) {
    some_string.push_str(&quot;, world&quot;); // Modify the borrowed value
}
</code></pre></pre>
<p>s is borrowed mutably by the change function. The function can modify the value. After the function call, s is still valid and has been modified.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="macros-in-rust"><a class="header" href="#macros-in-rust">Macros in Rust</a></h3>
<p>Macros in Rust are a way of writing code that writes other code, which is known as metaprogramming. They are used to reduce code repetition and to provide more expressive syntax.</p>
<h3 id="types-of-macros"><a class="header" href="#types-of-macros">Types of Macros</a></h3>
<ol>
<li><strong>Declarative Macros (macro_rules!)</strong></li>
<li><strong>Procedural Macros</strong></li>
</ol>
<h3 id="declarative-macros"><a class="header" href="#declarative-macros">Declarative Macros</a></h3>
<p>Declarative macros are defined using the <code>macro_rules!</code> keyword. They allow you to match against patterns and generate code based on those patterns.</p>
<pre><pre class="playground"><code class="language-rust">macro_rules! say_hello {
    () =&gt; {
        println!(&quot;Hello, world!&quot;);
    };
}

fn main() {
    say_hello!();
}
</code></pre></pre>
<h3 id="procedural-macros"><a class="header" href="#procedural-macros">Procedural Macros</a></h3>
<p>Procedural macros are more flexible and powerful. They are defined using functions and can be used to create attribute-like macros and function-like macros.</p>
<h4 id="function-like-macros"><a class="header" href="#function-like-macros">Function-like Macros</a></h4>
<p>Function-like macros look like function calls but operate on the code passed to them as arguments. They are defined using the <code>#[proc_macro]</code> attribute and can be used to generate code based on the input provided.</p>
<p>To create a procedural macro, you need to create a new crate with the <code>proc-macro</code> attribute:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// In your Cargo.toml
[lib]
proc-macro = true
<span class="boring">}
</span></code></pre></pre>
<p>Then, define the macro in your crate:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>extern crate proc_macro;
use proc_macro::TokenStream;

#[proc_macro]
pub fn my_function_like_macro(input: TokenStream) -&gt; TokenStream {
    // Your macro implementation here
    input
}
<span class="boring">}
</span></code></pre></pre>
<p>And use it in your main crate:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use my_function_like_macro::my_function_like_macro;

my_function_like_macro! {
    // Your code here
}
<span class="boring">}
</span></code></pre></pre>
<p><code>my_function_like_macro</code> is a function-like macro that can be invoked with the <code>!</code> syntax. The macro processes the input token stream and generates the corresponding code.</p>
<h4 id="attribute-like-macros"><a class="header" href="#attribute-like-macros">Attribute-like Macros</a></h4>
<p>Attribute-like macros are used to create custom attributes that can be applied to items such as functions, structs, or modules. They are defined similarly to procedural macros.</p>
<p>First, create a new crate with the <code>proc-macro</code> attribute:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// In your Cargo.toml
[lib]
proc-macro = true
<span class="boring">}
</span></code></pre></pre>
<p>Then, define the attribute-like macro in your crate:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>extern crate proc_macro;
use proc_macro::TokenStream;

#[proc_macro_attribute]
pub fn my_attribute(_attr: TokenStream, item: TokenStream) -&gt; TokenStream {
    // Your macro implementation here
    item
}
<span class="boring">}
</span></code></pre></pre>
<p>And use it in your main crate:</p>
<pre><pre class="playground"><code class="language-rust">use my_attribute::my_attribute;

#[my_attribute]
fn my_function() {
    println!(&quot;This function has a custom attribute!&quot;);
}

fn main() {
    my_function();
}
</code></pre></pre>
<p><code>my_attribute</code> is an attribute-like macro that can be applied to a function. When <code>my_function</code> is called, it will print a message to the console.</p>
<h3 id="usage-1"><a class="header" href="#usage-1">Usage</a></h3>
<p>Macros are invoked using the <code>!</code> syntax. For example:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>println!(&quot;Hello, {}!&quot;, &quot;world&quot;);
<span class="boring">}
</span></code></pre></pre>
<p><code>println!</code> is a macro that prints formatted text to the console.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="concurrency-1"><a class="header" href="#concurrency-1">Concurrency</a></h3>
<p>Concurrency is the mechanism of handling tasks in parallel. This helps use the available system resources such as CPUs more efficiently. As code runs in different contexts in threads, passing messages and handling shared variables becomes an important part of the implementation. Rust's standard library provides solutions to these concurrency needs out of the box.</p>
<h4 id="threads"><a class="header" href="#threads">Threads</a></h4>
<p>Rust's standard library provides a way to spawn threads using the <code>std::thread</code> module. The <code>thread::spawn</code> function is used to create a new thread. The || syntax is used to define a <a href="rust/essentials/core-concepts/./closure.html">closure</a>, which is an anonymous function that can capture variables from its surrounding scope.</p>
<pre><pre class="playground"><code class="language-rust">use std::thread;

macro_rules! sleep {
    ($millis:expr) =&gt; {
        std::thread::sleep(std::time::Duration::from_millis($millis));
    };
}

fn main() {
    let handle = thread::spawn(|| {
        for i in 1..10 {
            println!(&quot;hi number {} from the spawned thread!&quot;, i);
            sleep!(50);
        }
    });

    for i in 1..5 {
        println!(&quot;hi number {} from the main thread!&quot;, i);
        sleep!(50);
    }

    handle.join().unwrap();
}
</code></pre></pre>
<ul>
<li><code>||</code>: This defines a closure with no parameters. If the closure had parameters, they would be listed between the vertical bars.</li>
<li><code>{ ... }</code>: This is the body of the closure, which contains the code that will be executed in the new thread.</li>
</ul>
<h4 id="message-passing"><a class="header" href="#message-passing">Message Passing</a></h4>
<pre><pre class="playground"><code class="language-rust">use std::sync::mpsc;
use std::thread;

fn main() {
    let (tx, rx) = mpsc::channel();

    thread::spawn(move || {
        let val = String::from(&quot;hi&quot;);
        tx.send(val).unwrap();
    });

    let received = rx.recv().unwrap();
    println!(&quot;Got: {}&quot;, received);
}
</code></pre></pre>
<ul>
<li>channels from <code>std::sync::mpsc</code> module can be used for message passing between threads</li>
</ul>
<h4 id="shared-state"><a class="header" href="#shared-state">Shared State</a></h4>
<pre><pre class="playground"><code class="language-rust">use std::sync::{Arc, Mutex};
use std::thread;


fn main() {
    let counter = Arc::new(Mutex::new(0));
    let mut handles = vec![];

    for _ in 0..10 {
        let counter = Arc::clone(&amp;counter);
        let handle = thread::spawn(move || {
            let mut num = counter.lock().unwrap();
            *num += 1;
        });
        handles.push(handle);
    }

    for handle in handles {
        handle.join().unwrap();
    }

    println!(&quot;Result: {}&quot;, *counter.lock().unwrap());
}
</code></pre></pre>
<ul>
<li>
<p>An atomic reference-counted pointer <code>Arc</code> is created to manage the shared ownership of a <code>Mutex</code> that guards an integer counter initialized to 0. <br/></p>
</li>
<li>
<p>A vector <code>handles</code> is created to store the handles of the spawned threads.<br/></p>
</li>
<li>
<p>A loop is used to spawn 10 threads. Each thread:<br/></p>
<ul>
<li>Clones the <code>Arc</code> pointer to get a new reference to the shared <code>Mutex</code>.<br/></li>
<li>Locks the <code>Mutex</code> to get mutable access to the counter.</li>
<li>Increments the counter by 1.<br/></li>
</ul>
</li>
<li>
<p>Another loop is used to join all the spawned threads, ensuring that the main thread waits for all the threads to finish execution.<br/></p>
</li>
<li>
<p>Finally, the value of the counter is printed, which should be 10 if all threads have successfully incremented the counter.<br/></p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h3 id="error-handling"><a class="header" href="#error-handling">Error Handling</a></h3>
<p>Error handling is a critical part of writing robust and reliable software. Rust provides powerful tools for handling errors, primarily through the <code>Result</code> and <code>Option</code> types.</p>
<h3 id="the-result-type"><a class="header" href="#the-result-type">The <code>Result</code> Type</a></h3>
<p>The <code>Result</code> type is used for functions that can return an error. It is an enum with two variants: <code>Ok(T)</code> for successful results and <code>Err(E)</code> for errors.</p>
<pre><pre class="playground"><code class="language-rust">fn divide(a: f64, b: f64) -&gt; Result&lt;f64, String&gt; {
    if b == 0.0 {
        Err(String::from(&quot;Division by zero&quot;))
    } else {
        Ok(a / b)
    }
}

fn main() {
    match divide(4.0, 2.0) {
        Ok(result) =&gt; println!(&quot;Result: {}&quot;, result),
        Err(e) =&gt; println!(&quot;Error: {}&quot;, e),
    }

    match divide(5.0, 0.0) {
        Ok(result) =&gt; println!(&quot;Result: {}&quot;, result),
        Err(e) =&gt; println!(&quot;Error: {}&quot;, e),
    }
}
</code></pre></pre>
<h3 id="the-option-type"><a class="header" href="#the-option-type">The <code>Option</code> Type</a></h3>
<p>The <code>Option</code> type is used for values that may or may not be present. It is an enum with two variants: <code>Some(T)</code> for a value and <code>None</code> for no value.</p>
<pre><pre class="playground"><code class="language-rust">fn find_word(s: &amp;str, word: &amp;str) -&gt; Option&lt;usize&gt; {
    s.find(word)
}

fn main() {
    match find_word(&quot;hello world&quot;, &quot;world&quot;) {
        Some(index) =&gt; println!(&quot;Found at index: {}&quot;, index),
        None =&gt; println!(&quot;Not found&quot;),
    }
}
</code></pre></pre>
<h3 id="the--operator"><a class="header" href="#the--operator">The <code>?</code> Operator</a></h3>
<p>The <code>?</code> operator is a shorthand for propagating errors. It can be used in functions that return a <code>Result</code> or <code>Option</code>.</p>
<pre><pre class="playground"><code class="language-rust">use std::fs::File;
use std::io::Read;

fn read_file(path: &amp;str) -&gt; Result&lt;String, std::io::Error&gt; {
    let mut file = std::fs::File::open(path)?;
    let mut contents = String::new();
    file.read_to_string(&amp;mut contents)?;
    Ok(contents)
}

fn main() {
    match read_file(&quot;example.txt&quot;) {
        Ok(contents) =&gt; println!(&quot;File contents: {}&quot;, contents),
        Err(e) =&gt; println!(&quot;Error reading file: {}&quot;, e),
    }
}
</code></pre></pre>
<h3 id="custom-error-types"><a class="header" href="#custom-error-types">Custom Error Types</a></h3>
<p>You can define your own error types to provide more context about errors.</p>
<pre><pre class="playground"><code class="language-rust">use std::fmt;

#[derive(Debug)]
enum MyError {
    IoError(std::io::Error),
    ParseError(std::num::ParseIntError),
}

impl fmt::Display for MyError {
    fn fmt(&amp;self, f: &amp;mut fmt::Formatter) -&gt; fmt::Result {
        match *self {
            MyError::IoError(ref err) =&gt; write!(f, &quot;IO error: {}&quot;, err),
            MyError::ParseError(ref err) =&gt; write!(f, &quot;Parse error: {}&quot;, err),
        }
    }
}

impl From&lt;std::io::Error&gt; for MyError {
    fn from(err: std::io::Error) -&gt; MyError {
        MyError::IoError(err)
    }
}

impl From&lt;std::num::ParseIntError&gt; for MyError {
    fn from(err: std::num::ParseIntError) -&gt; MyError {
        MyError::ParseError(err)
    }
}

fn read_and_parse_file(path: &amp;str) -&gt; Result&lt;i32, MyError&gt; {
    let contents = std::fs::read_to_string(path)?;
    let number: i32 = contents.trim().parse()?;
    Ok(number)
}

fn main() {
    match read_and_parse_file(&quot;number.txt&quot;) {
        Ok(number) =&gt; println!(&quot;Parsed number: {}&quot;, number),
        Err(e) =&gt; println!(&quot;Error: {}&quot;, e),
    }
}
</code></pre></pre>
<p>We define a custom error type <code>MyError</code> that can represent both I/O errors and parsing errors. We then implement the <code>fmt::Display</code> trait for <code>MyError</code> to provide a user-friendly error message. Additionally, we implement the <code>From</code> trait to convert from <code>std::io::Error</code> and <code>std::num::ParseIntError</code> to <code>MyError</code>. This allows us to use the <code>?</code> operator to propagate these errors in the <code>read_and_parse_file</code> function.</p>
<p>These patterns cover the basics of error handling in Rust. By using <code>Result</code>, <code>Option</code>, the <code>?</code> operator, and custom error types, you can write code that gracefully handles errors and provides useful feedback.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="lifetime-in-rust"><a class="header" href="#lifetime-in-rust">Lifetime in Rust</a></h3>
<p>In Rust, lifetimes are a way of ensuring that references are valid for as long as they are needed and no longer. Lifetimes prevent dangling references, which can lead to undefined behavior.</p>
<pre><pre class="playground"><code class="language-rust">fn longest&lt;'a&gt;(x: &amp;'a str, y: &amp;'a str) -&gt; &amp;'a str {
    if x.len() &gt; y.len() {
        x
    } else {
        y
    }
}

fn main() {
    let string1 = String::from(&quot;long string is long&quot;);
    let string2 = &quot;xyz&quot;;

    let result = longest(string1.as_str(), string2);
    println!(&quot;The longest string is {}&quot;, result);
}
</code></pre></pre>
<p>The function <code>longest</code> takes two string slices with the same lifetime <code>'a</code> and returns a string slice with the same lifetime <code>'a</code>. This ensures that the returned reference is valid as long as both input references are valid.</p>
<h3 id="key-points"><a class="header" href="#key-points">Key Points</a></h3>
<ul>
<li>Lifetimes are denoted with an apostrophe followed by a name, like <code>'a</code>.</li>
<li>They help the Rust compiler ensure that references do not outlive the data they point to.</li>
<li>Lifetimes are inferred by the compiler in many cases, but sometimes they need to be explicitly annotated.</li>
</ul>
<p>For more detailed information, refer to the <a href="https://doc.rust-lang.org/book/ch10-03-lifetime-syntax.html">Rust Book</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="modules-in-rust"><a class="header" href="#modules-in-rust">Modules in Rust</a></h3>
<p>Modules are a way to organize code into separate namespaces. They help in managing scope and privacy, making the code more modular and easier to maintain.</p>
<h3 id="defining-a-module"><a class="header" href="#defining-a-module">Defining a Module</a></h3>
<p>You can define a module using the <code>mod</code> keyword. Here's a basic example:</p>
<pre><pre class="playground"><code class="language-rust">mod my_module {
    pub fn say_hello() {
        println!(&quot;Hello from my_module!&quot;);
    }
}

fn main() {
    my_module::say_hello();
}
</code></pre></pre>
<ul>
<li><code>mod my_module</code> defines a module named <code>my_module</code>.</li>
<li><code>pub fn say_hello()</code> defines a public function within the module.</li>
<li><code>my_module::say_hello()</code> calls the function from the main function.</li>
</ul>
<h3 id="nested-modules"><a class="header" href="#nested-modules">Nested Modules</a></h3>
<p>Modules can be nested within other modules:</p>
<pre><pre class="playground"><code class="language-rust">mod outer_module {
    pub mod inner_module {
        pub fn say_hello() {
            println!(&quot;Hello from inner_module!&quot;);
        }
    }
}

fn main() {
    outer_module::inner_module::say_hello();
}
</code></pre></pre>
<ul>
<li><code>pub mod inner_module</code> defines a nested module within <code>outer_module</code>.</li>
<li><code>outer_module::inner_module::say_hello()</code> calls the function from the main function.</li>
</ul>
<h3 id="module-files"><a class="header" href="#module-files">Module Files</a></h3>
<p>Modules can also be defined in separate files. For example, you can create a file structure like this:</p>
<pre><code>src/
â”œâ”€â”€ main.rs
â””â”€â”€ my_module.rs
</code></pre>
<p>In <code>main.rs</code>:</p>
<pre><code class="language-rust noplaypen">mod my_module;

fn main() {
    my_module::say_hello();
}
</code></pre>
<p>In <code>my_module.rs</code>:</p>
<pre><code class="language-rust noplaypen">pub fn say_hello() {
    println!(&quot;Hello from my_module!&quot;);
}
</code></pre>
<p>This structure helps in keeping the codebase organized and manageable.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="crates-in-rust"><a class="header" href="#crates-in-rust">Crates in Rust</a></h3>
<p>In Rust, a crate is the smallest unit of code distribution. Crates can produce an executable or a library. There are two types of crates:</p>
<ol>
<li><strong>Binary Crates</strong>: These are programs that can be compiled to an executable.</li>
<li><strong>Library Crates</strong>: These are collections of code that can be shared and reused by other programs.</li>
</ol>
<h3 id="creating-a-binary-crate"><a class="header" href="#creating-a-binary-crate">Creating a Binary Crate</a></h3>
<p>To create a binary crate, you can use the <code>cargo new</code> command:</p>
<pre><code class="language-sh">cargo new my_binary_crate
</code></pre>
<p>This will create a new directory named <code>my_binary_crate</code> with the following structure:</p>
<pre><code>my_binary_crate/
â”œâ”€â”€ Cargo.toml
â””â”€â”€ src
    â””â”€â”€ main.rs
</code></pre>
<p>The <code>main.rs</code> file is the entry point of the binary crate.</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    println!(&quot;Hello, world!&quot;);
}
</code></pre></pre>
<h3 id="creating-a-library-crate"><a class="header" href="#creating-a-library-crate">Creating a Library Crate</a></h3>
<p>To create a library crate, you can use the <code>cargo new</code> command with the <code>--lib</code> flag:</p>
<pre><code class="language-sh">cargo new my_library_crate --lib
</code></pre>
<p>This will create a new directory named <code>my_library_crate</code> with the following structure:</p>
<pre><code>my_library_crate/
â”œâ”€â”€ Cargo.toml
â””â”€â”€ src
    â””â”€â”€ lib.rs
</code></pre>
<p>The <code>lib.rs</code> file is the entry point of the library crate.</p>
<pre><code class="language-rust noplaypen">pub fn hello() {
    println!(&quot;Hello, library!&quot;);
}
</code></pre>
<h3 id="using-crates"><a class="header" href="#using-crates">Using Crates</a></h3>
<p>To use an external crate in your project, you need to add it to your <code>Cargo.toml</code> file. For example, to use the <code>rand</code> crate, you would add the following line to your <code>Cargo.toml</code>:</p>
<pre><code class="language-toml">[dependencies]
rand = &quot;0.8&quot;
</code></pre>
<p>Then, you can use the crate in your code:</p>
<pre><code class="language-rust noplaypen">use rand::Rng;

fn main() {
    let mut rng = rand::thread_rng();
    let n: u32 = rng.gen();
    println!(&quot;Random number: {}&quot;, n);
}
</code></pre>
<p>Crates are a fundamental concept in Rust that allow you to organize and share your code. By understanding how to create and use crates, you can take full advantage of Rust's powerful module system.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="types"><a class="header" href="#types">Types</a></h3>
<p>Types in Rust are a way to define the kind of data that can be stored and manipulated within a program. Rust is a statically typed language, which means that the type of every variable must be known at compile time. This helps catch many errors early in the development process and ensures memory safety.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="scalar-types"><a class="header" href="#scalar-types">Scalar Types</a></h3>
<p>Scalar types represent a single value. Rust has four primary scalar types:</p>
<p><strong>Integers</strong>: Whole numbers, both signed and unsigned.<br/>
<strong>Floating-Point Numbers</strong>: Numbers with decimal points.<br/>
<strong>Booleans</strong>: True or false values.<br/>
<strong>Characters</strong>: Single Unicode characters.<br/></p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let x: i32 = 42; // Integer
    let y: f64 = 3.14; // Floating-point number
    let is_active: bool = true; // Boolean
    let letter: char = 'A'; // Character

    println!(&quot;x: {}, y: {}, is_active: {}, letter: {}&quot;, x, y, is_active, letter);
}
</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h3 id="compound-types"><a class="header" href="#compound-types">Compound Types</a></h3>
<p>Compound types can group multiple values into one type. Rust has two primary compound types:</p>
<p>Tuples: Group multiple values of different types.<br/>
Arrays: Group multiple values of the same type.<br/></p>
<p>Example:</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    // Tuple
    let tuple: (i32, f64, char) = (42, 3.14, 'A');
    let (x, y, z) = tuple;
    println!(&quot;Tuple: ({}, {}, {})&quot;, x, y, z);

    // Array
    let array: [i32; 3] = [1, 2, 3];
    println!(&quot;Array: {:?}&quot;, array);
}
</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h3 id="what-is-trait"><a class="header" href="#what-is-trait">What is <strong>trait</strong>?</a></h3>
<p>In Rust, a trait is a way to define shared behavior in an abstract way. It is similar to interfaces in other programming languages. A trait defines a set of methods that a type must implement. Traits are used to define shared behavior and to enable polymorphism.</p>
<h3 id="purpose-of-traits"><a class="header" href="#purpose-of-traits">Purpose of Traits</a></h3>
<p><strong>Define Shared Behavior</strong>: Traits allow you to define methods that can be shared across different types.<br/>
<strong>Enable Polymorphism</strong>: Traits enable polymorphism, allowing you to write code that can operate on different types in a generic way.<br/>
<strong>Abstract Over Types</strong>: Traits allow you to abstract over types, enabling you to write more flexible and reusable code.<br/></p>
<p>In the sample code below the Greet trait is defined with a single method greet. The Greet trait is implemented for two structs, Person and Dog. </p>
<pre><pre class="playground"><code class="language-rust">// Define a trait named `Greet`
pub trait Greet {
    fn greet(&amp;self);
}

// Define a struct named `Person`
pub struct Person {
    name: String,
}

// Implement the `Greet` trait for the `Person` struct
impl Greet for Person {
    fn greet(&amp;self) {
        println!(&quot;Hello, my name is {}!&quot;, self.name);
    }
}

// Define a struct named `Dog`
pub struct Dog {
    name: String,
}

// Implement the `Greet` trait for the `Dog` struct
impl Greet for Dog {
    fn greet(&amp;self) {
        println!(&quot;Woof! My name is {}!&quot;, self.name);
    }
}


fn main() {
    // Create instances of `Person` and `Dog`
    let person = Person {
        name: String::from(&quot;Alice&quot;),
    };
    let dog = Dog {
        name: String::from(&quot;Buddy&quot;),
    };
    dog.greet();
    person.greet();
}
</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h3 id="what-is-a-struct"><a class="header" href="#what-is-a-struct">What is a struct?</a></h3>
<p>Structs in Rust are custom data types that allow you to group related data together. They are similar to classes in object-oriented languages but without the associated methods for encapsulation. Structs are used to create complex data types that can be used to model real-world entities.</p>
<h3 id="types-of-structs"><a class="header" href="#types-of-structs">Types of Structs</a></h3>
<p><strong>Classic Structs</strong>: </p>
<p>These are the most common type of structs, where each field has a name and a type. Classic structs have named fields. E.g.:</p>
<pre><pre class="playground"><code class="language-rust">struct Person {
    name: String,
    age: u8,
}

fn main() {
    let person = Person {
        name: String::from(&quot;Alice&quot;),
        age: 30,
    };

    println!(&quot;Name: {}, Age: {}&quot;, person.name, person.age);
}
</code></pre></pre>
<p><strong>Tuple Structs</strong>: </p>
<p>These are similar to tuples but have a name and can be used to create new types. Tuple structs have unnamed fields. E.g.:</p>
<pre><pre class="playground"><code class="language-rust">struct Color(u8, u8, u8);

fn main() {
    let black = Color(0, 0, 0);

    println!(&quot;Black color: ({}, {}, {})&quot;, black.0, black.1, black.2);
}
</code></pre></pre>
<p><strong>Unit-like Structs</strong>: </p>
<p>These are structs without any fields and are useful for generics or traits. Unit-like structs have no fields. E.g.:</p>
<pre><pre class="playground"><code class="language-rust">struct Unit;

fn main() {
    let unit = Unit;

    println!(&quot;Unit struct created!&quot;);
}
</code></pre></pre>
<p>You can define methods and associated functions for structs using the <a href="rust/essentials/types/./imp.html">impl</a> keyword.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="what-is-an-enum"><a class="header" href="#what-is-an-enum">What is an enum?</a></h3>
<p>Enums in Rust are a way to define a type by enumerating its possible values. They are similar to enums in other programming languages but are more powerful because each variant of an enum can have associated data. Enums are used to represent a value that could be one of several different types.</p>
<h3 id="defining-enums"><a class="header" href="#defining-enums">Defining Enums</a></h3>
<p>Enums are defined using the enum keyword, followed by the name of the enum and its variants.</p>
<pre><pre class="playground"><code class="language-rust">enum Direction {
    North,
    South,
    East,
    West,
}

fn main() {
    let direction = Direction::North;

    match direction {
        Direction::North =&gt; println!(&quot;Heading North!&quot;),
        Direction::South =&gt; println!(&quot;Heading South!&quot;),
        Direction::East =&gt; println!(&quot;Heading East!&quot;),
        Direction::West =&gt; println!(&quot;Heading West!&quot;),
    }
}
</code></pre></pre>
<p>Enums can have variants with associated data, which makes them very powerful.</p>
<pre><pre class="playground"><code class="language-rust">enum Message {
    Quit,
    Move { x: i32, y: i32 },
    Write(String),
    ChangeColor(i32, i32, i32),
}

fn main() {
    let msg1 = Message::Quit;
    let msg2 = Message::Move { x: 10, y: 20 };
    let msg3 = Message::Write(String::from(&quot;Hello&quot;));
    let msg4 = Message::ChangeColor(255, 0, 0);

    match msg1 {
        Message::Quit =&gt; println!(&quot;Quit message&quot;),
        Message::Move { x, y } =&gt; println!(&quot;Move to ({}, {})&quot;, x, y),
        Message::Write(text) =&gt; println!(&quot;Write message: {}&quot;, text),
        Message::ChangeColor(r, g, b) =&gt; println!(&quot;Change color to ({}, {}, {})&quot;, r, g, b),
    }
}
</code></pre></pre>
<p>You can also define methods on enums using the impl keyword.</p>
<pre><pre class="playground"><code class="language-rust">enum Message {
    Quit,
    Move { x: i32, y: i32 },
    Write(String),
    ChangeColor(i32, i32, i32),
}

impl Message {
    fn call(&amp;self) {
        match self {
            Message::Quit =&gt; println!(&quot;Quit message&quot;),
            Message::Move { x, y } =&gt; println!(&quot;Move to ({}, {})&quot;, x, y),
            Message::Write(text) =&gt; println!(&quot;Write message: {}&quot;, text),
            Message::ChangeColor(r, g, b) =&gt; println!(&quot;Change color to ({}, {}, {})&quot;, r, g, b),
        }
    }
}

fn main() {
    let msg = Message::Write(String::from(&quot;Hello&quot;));
    msg.call();
}
</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h3 id="what-is-the-differences-between-structs-vs-enums"><a class="header" href="#what-is-the-differences-between-structs-vs-enums">What is the differences between Structs vs Enums?</a></h3>
<p>Enums and structs are both ways to define custom data types in Rust, but they serve different purposes and have different characteristics. Hereâ€™s a detailed comparison of enums and structs:</p>
<p><a href="rust/essentials/types/./struct.html"><strong>Structs</strong></a></p>
<p>Structs are used to group related data together. They are similar to classes in object-oriented languages but without methods for encapsulation. Structs are typically used to represent entities with a fixed set of attributes.</p>
<h3 id="characteristics-of-structs"><a class="header" href="#characteristics-of-structs">Characteristics of Structs</a></h3>
<p><strong>Fixed Set of Fields</strong>: Structs have a fixed set of fields, each with a name and a type.<br/>
<strong>Homogeneous Data</strong>: All instances of a struct have the same fields.<br/>
<strong>Data Grouping</strong>: Structs are used to group related data together.<br/></p>
<p><a href="rust/essentials/types/./enum.html"><strong>Enums</strong></a></p>
<p>Enums are used to define a type that can be one of several different variants. Each variant can have associated data. Enums are typically used to represent a value that could be one of several different types.</p>
<h3 id="characteristics-of-enums"><a class="header" href="#characteristics-of-enums">Characteristics of Enums</a></h3>
<p><strong>Multiple Variants</strong>: Enums can have multiple variants, each representing a different possible value.<br/>
<strong>Heterogeneous Data</strong>: Each variant of an enum can have different types and amounts of associated data.<br/>
<strong>Pattern Matching</strong>: Enums are often used with pattern matching to handle different cases.<br/></p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="what-is-generics"><a class="header" href="#what-is-generics">What is generics?</a></h3>
<p>Generics in Rust allow you to write flexible and reusable code by enabling you to define functions, <a href="rust/essentials/types/./struct.html">structs</a>, <a href="rust/essentials/types/./enum.html">enums</a>, and <a href="rust/essentials/types/./trait.html">traits</a> that can operate on many different types without sacrificing performance. Generics are a powerful feature that helps you write more abstract and type-safe code.</p>
<h3 id="key-concepts-of-generics"><a class="header" href="#key-concepts-of-generics">Key Concepts of Generics</a></h3>
<p>Generic Functions can operate on different types specified at the time of function call.</p>
<p>In the example, the <strong>first</strong> function is defined with a generic type parameter T. This means that T can be any type. The function takes two parameters, x and _y, both of type T. The function returns the first parameter x of type T. In the main function, the first function is called with different types of arguments (integers and strings), demonstrating its flexibility.</p>
<pre><pre class="playground"><code class="language-rust">fn first&lt;T&gt;(x: T, _y: T) -&gt; T {
    x
}

fn main() {
    let a = 10;
    let b = 20;
    let result = first(a, b);
    println!(&quot;The first value is: {}&quot;, result);

    let c = &quot;hello&quot;;
    let d = &quot;world&quot;;
    let result = first(c, d);
    println!(&quot;The first value is: {}&quot;, result);
}
</code></pre></pre>
<p>Structs that can hold data of different types specified at the time of instantiation.</p>
<p>Here the Point struct has been implemented to work with both integer and floating type.</p>
<pre><pre class="playground"><code class="language-rust">struct Point&lt;T&gt; {
    x: T,
    y: T,
}

fn main() {
    let integer_point = Point { x: 5, y: 10 };
    let float_point = Point { x: 1.0, y: 4.0 };

    println!(&quot;Integer Point: ({}, {})&quot;, integer_point.x, integer_point.y);
    println!(&quot;Float Point: ({}, {})&quot;, float_point.x, float_point.y);
}
</code></pre></pre>
<p>Enums that can hold variants of different types specified at the time of instantiation.</p>
<pre><pre class="playground"><code class="language-rust">enum Option&lt;T&gt; {
    Some(T),
    None,
}

fn main() {
    let some_number = Option::Some(5);
    let some_string = Option::Some(&quot;a string&quot;);

    println!(&quot;Some number: {:?}&quot;, some_number);
    println!(&quot;Some string: {:?}&quot;, some_string);
}
</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="what-is-type-alias-in-rust"><a class="header" href="#what-is-type-alias-in-rust">What is type alias in Rust?</a></h1>
<p>In Rust, a type alias allows you to create a new name for an existing type. This can make your code more readable and easier to manage, especially when dealing with complex types. Type aliases are created using the <code>type</code> keyword.</p>
<h3 id="benefits-of-type-aliases"><a class="header" href="#benefits-of-type-aliases">Benefits of Type Aliases</a></h3>
<p>Improved Readability: By giving a meaningful name to a type, you can make your code more understandable. <br/>
Simplified Code: Type aliases can simplify complex type signatures, making the code easier to write and read.<br/>
Consistency: Using type aliases can help maintain consistency across your codebase.<br/></p>
<pre><pre class="playground"><code class="language-rust">// type NewName = ExistingType;

type Kilometers = i32;

fn main() {
    let distance: Kilometers = 100;
    println!(&quot;Distance: {} km&quot;, distance);
}
</code></pre></pre>
<p><code>Kilometers</code> is a type alias for <code>i32</code>. This makes it clear that the distance variable represents a distance in kilometers.</p>
<pre><pre class="playground"><code class="language-rust">struct Point&lt;T&gt; {
    x: T,
    y: T,
}

type IntPoint = Point&lt;i32&gt;;
type FloatPoint = Point&lt;f64&gt;;

fn main() {
    let int_point: IntPoint = Point { x: 5, y: 10 };
    let float_point: FloatPoint = Point { x: 1.0, y: 4.0 };

    println!(&quot;IntPoint: ({}, {})&quot;, int_point.x, int_point.y);
    println!(&quot;FloatPoint: ({}, {})&quot;, float_point.x, float_point.y);
}
</code></pre></pre>
<p><code>IntPoint</code> and <code>FloatPoint</code> are type aliases for <code>Point&lt;i32&gt;</code> and <code>Point&lt;f64&gt;</code>, respectively. This makes it clear what type of points are being used.</p>
<p>Type aliases are particularly useful for complex types, such as function pointers or nested types. </p>
<pre><pre class="playground"><code class="language-rust">type Thunk = Box&lt;dyn Fn() + Send + 'static&gt;;

fn takes_long_type(f: Thunk) {
    // Do something with the function
}

fn returns_long_type() -&gt; Thunk {
    Box::new(|| println!(&quot;Hello, world!&quot;))
}

fn main() {
    let f: Thunk = returns_long_type();
    takes_long_type(f);
}
</code></pre></pre>
<p><code>type Thunk = Box&lt;dyn Fn() + Send + 'static&gt;;</code> creates a type alias named Thunk.<br/>
<strong>Box</strong>: Box is a smart pointer that allocates data on the heap.<br/>
<strong>dyn Fn()</strong>: dyn Fn() is a trait object representing a closure that takes no arguments and returns nothing.<br/>
<strong>Send</strong>: The Send trait indicates that the closure can be transferred across thread boundaries.<br/>
<strong>'static</strong>: The 'static lifetime means that the closure can live for the entire duration of the program.<br/></p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="what-is-pointers-and-how-they-are-used-in-rust"><a class="header" href="#what-is-pointers-and-how-they-are-used-in-rust">What is pointers and how they are used in Rust?</a></h3>
<p>In Rust, pointers are types that represent memory addresses. Rust provides several types of pointers, each with different characteristics and use cases. Pointers are used to reference data stored in memory, and Rust's ownership and borrowing rules ensure that pointers are used safely.</p>
<h3 id="types-of-pointers-in-rust"><a class="header" href="#types-of-pointers-in-rust">Types of Pointers in Rust</a></h3>
<p><strong>References</strong>: Immutable and mutable references.<br/>
<strong>Smart Pointers</strong>: Box, Rc, Arc, and others.<br/>
<strong>Raw Pointers</strong>: Unsafe pointers.<br/></p>
<h3 id="references"><a class="header" href="#references">References</a></h3>
<p>References are the most common type of pointer in Rust. They allow you to borrow data without taking ownership. There are two types of references:</p>
<p>Immutable References (<code>&amp;T</code>): Allow you to read data but not modify it.<br/>
Mutable References (<code>&amp;mut T</code>): Allow you to modify data.<br/></p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let x = 5;
    let y = &amp;x; // Immutable reference
    println!(&quot;y: {}&quot;, y);

    let mut z = 10;
    let w = &amp;mut z; // Mutable reference
    *w += 5;
    println!(&quot;z: {}&quot;, z);
}
</code></pre></pre>
<h3 id="smart-pointers"><a class="header" href="#smart-pointers">Smart Pointers</a></h3>
<p>Smart pointers are data structures that not only act like a pointer but also have additional capabilities, such as automatic memory management. Common smart pointers in Rust include:</p>
<p><strong>Box</strong>: A heap-allocated pointer.<br/></p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let b = Box::new(5);
    println!(&quot;b: {}&quot;, b);
}
</code></pre></pre>
<p><strong>Rc</strong>: A reference-counted pointer for single-threaded scenarios.<br/></p>
<pre><pre class="playground"><code class="language-rust">use std::rc::Rc;

fn main() {
    let a = Rc::new(5);
    let b = Rc::clone(&amp;a);
    println!(&quot;a: {}, b: {}&quot;, a, b);
}
</code></pre></pre>
<p><strong>Arc</strong>: An atomic reference-counted pointer for multi-threaded scenarios.<br/></p>
<pre><pre class="playground"><code class="language-rust">use std::sync::Arc;
use std::thread;

fn main() {
    let a = Arc::new(5);
    let b = Arc::clone(&amp;a);

    let handle = thread::spawn(move || {
        println!(&quot;b: {}&quot;, b);
    });

    println!(&quot;a: {}&quot;, a);
    handle.join().unwrap();
}
</code></pre></pre>
<h3 id="raw-pointers"><a class="header" href="#raw-pointers">Raw Pointers</a></h3>
<p>Raw pointers are unsafe pointers that can be used to perform low-level memory manipulation. They are not subject to Rust's borrowing rules and must be used within an <code>unsafe</code> block.</p>
<p>Immutable Raw Pointer (<code>*const T</code>): Points to data that cannot be modified.<br/>
Mutable Raw Pointer (<code>*mut T</code>): Points to data that can be modified.<br/></p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let x = 5;
    let y = &amp;x as *const i32; // Immutable raw pointer

    let mut z = 10;
    let w = &amp;mut z as *mut i32; // Mutable raw pointer

    unsafe {
        println!(&quot;y: {}&quot;, *y);
        *w += 5;
        println!(&quot;z: {}&quot;, *w);
    }
}
</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h3 id="vectors-in-rust"><a class="header" href="#vectors-in-rust">Vectors in Rust</a></h3>
<p>Vectors in Rust are a dynamic array type provided by the standard library. They are implemented as the <code>Vec&lt;T&gt;</code> type, where <code>T</code> represents the type of elements stored in the vector. Vectors can grow or shrink in size and provide efficient indexing and iteration.</p>
<h3 id="creating-a-vector"><a class="header" href="#creating-a-vector">Creating a Vector</a></h3>
<p>You can create a new vector using the <code>Vec::new</code> method or the <code>vec!</code> macro:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let mut v: Vec&lt;i32&gt; = Vec::new();
let v = vec![1, 2, 3, 4, 5];
<span class="boring">}
</span></code></pre></pre>
<h3 id="adding-elements"><a class="header" href="#adding-elements">Adding Elements</a></h3>
<p>You can add elements to a vector using the <code>push</code> method:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let mut v = Vec::new();
v.push(1);
v.push(2);
v.push(3);
<span class="boring">}
</span></code></pre></pre>
<h3 id="accessing-elements"><a class="header" href="#accessing-elements">Accessing Elements</a></h3>
<p>You can access elements in a vector using indexing or the <code>get</code> method:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let v = vec![1, 2, 3, 4, 5];
println!(&quot;The third element is {}&quot;, v[2]);

match v.get(2) {
    Some(third) =&gt; println!(&quot;The third element is {}&quot;, third),
    None =&gt; println!(&quot;There is no third element.&quot;),
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="iterating-over-a-vector"><a class="header" href="#iterating-over-a-vector">Iterating Over a Vector</a></h3>
<p>You can iterate over the elements of a vector using a <code>for</code> loop:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let v = vec![1, 2, 3, 4, 5];
for i in &amp;v {
    println!(&quot;{}&quot;, i);
}
<span class="boring">}
</span></code></pre></pre>
<h3 id="removing-elements"><a class="header" href="#removing-elements">Removing Elements</a></h3>
<p>You can remove elements from a vector using the <code>pop</code> method or the <code>remove</code> method:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let mut v = vec![1, 2, 3, 4, 5];
v.pop(); // Removes the last element
v.remove(1); // Removes the element at index 1
<span class="boring">}
</span></code></pre></pre>
<p>Vectors are a versatile and powerful collection type in Rust, suitable for many use cases where dynamic arrays are needed.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="what-are-operators"><a class="header" href="#what-are-operators">What are operators?</a></h3>
<p>Operators are special symbols or keywords that are used to perform operations on variables and values. Rust supports a variety of operators, including <a href="rust/essentials/operators/./arithmetic-operations.html">arithmetic</a>, <a href="rust/essentials/operators/./comparison-operations.html">comparison</a>, <a href="rust/essentials/operators/./logical-operations.html">logical</a>, <a href="rust/essentials/operators/./bitwise-operations.html">bitwise</a>, and <a href="rust/essentials/operators/./assignement-operations.html">assignment</a> operators. </p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="arithmetic-operations"><a class="header" href="#arithmetic-operations">Arithmetic operations</a></h3>
<p>Arithmetic operators are used to perform basic mathematical operations.</p>
<p><code>+</code> : Addition<br/>
<code>-</code> : Subtraction<br/>
<code>*</code> : Multiplication<br/>
<code>/</code> : Division<br/>
<code>%</code> : Remainder (modulus)<br/></p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let a = 10;
    let b = 3;

    println!(&quot;a + b = {}&quot;, a + b); // Addition
    println!(&quot;a - b = {}&quot;, a - b); // Subtraction
    println!(&quot;a * b = {}&quot;, a * b); // Multiplication
    println!(&quot;a / b = {}&quot;, a / b); // Division
    println!(&quot;a % b = {}&quot;, a % b); // Remainder
}
</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h3 id="comparison-operators"><a class="header" href="#comparison-operators">Comparison Operators</a></h3>
<p>Comparison operators are used to compare two values and return a boolean result.</p>
<p><code>==</code> : Equal to<br/>
<code>!=</code> : Not equal to<br/>
<code>&gt;</code> : Greater than<br/>
<code>&lt;</code> : Less than<br/>
<code>&gt;=</code> : Greater than or equal to<br/>
<code>&lt;=</code> : Less than or equal to<br/></p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let a = 10;
    let b = 3;

    println!(&quot;a == b: {}&quot;, a == b); // Equal to
    println!(&quot;a != b: {}&quot;, a != b); // Not equal to
    println!(&quot;a &gt; b: {}&quot;, a &gt; b); // Greater than
    println!(&quot;a &lt; b: {}&quot;, a &lt; b); // Less than
    println!(&quot;a &gt;= b: {}&quot;, a &gt;= b); // Greater than or equal to
    println!(&quot;a &lt;= b: {}&quot;, a &lt;= b); // Less than or equal to
}
</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h3 id="logical-operators"><a class="header" href="#logical-operators">Logical Operators</a></h3>
<p>Logical operators are used to combine multiple boolean expressions.</p>
<p><code>&amp;&amp;</code> : Logical AND<br/>
<code>||</code> : Logical OR<br/>
<code>!</code> : Logical NOT<br/></p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let a = true;
    let b = false;

    println!(&quot;a &amp;&amp; b: {}&quot;, a &amp;&amp; b); // Logical AND
    println!(&quot;a || b: {}&quot;, a || b); // Logical OR
    println!(&quot;!a: {}&quot;, !a); // Logical NOT
}
</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h3 id="bitwise-operators"><a class="header" href="#bitwise-operators">Bitwise Operators</a></h3>
<p>Bitwise operators are used to perform operations on individual bits of integer types.</p>
<p><code>&amp;</code> : Bitwise AND<br/>
<code>|</code> : Bitwise OR<br/>
<code>^</code> : Bitwise XOR<br/>
<code>&lt;&lt;</code> : Left shift<br/>
<code>&gt;&gt;</code> : Right shift<br/></p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let a = 0b1100;
    let b = 0b1010;

    println!(&quot;a &amp; b: {:04b}&quot;, a &amp; b); // Bitwise AND
    println!(&quot;a | b: {:04b}&quot;, a | b); // Bitwise OR
    println!(&quot;a ^ b: {:04b}&quot;, a ^ b); // Bitwise XOR
    println!(&quot;a &lt;&lt; 1: {:04b}&quot;, a &lt;&lt; 1); // Left shift
    println!(&quot;a &gt;&gt; 1: {:04b}&quot;, a &gt;&gt; 1); // Right shift
}
</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h3 id="assignment-operators"><a class="header" href="#assignment-operators">Assignment Operators</a></h3>
<p>Assignment operators are used to assign values to variables. Rust also supports compound assignment operators that combine an arithmetic operation with assignment.</p>
<p><code>=</code> : Assignment<br/>
<code>+=</code> : Addition assignment<br/>
<code>-=</code> : Subtraction assignment<br/>
<code>*=</code> : Multiplication assignment<br/>
<code>/=</code> : Division assignment<br/>
<code>%=</code> : Remainder assignment<br/></p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let mut a = 10;

    a += 5; // Addition assignment
    println!(&quot;a += 5: {}&quot;, a);

    a -= 3; // Subtraction assignment
    println!(&quot;a -= 3: {}&quot;, a);

    a *= 2; // Multiplication assignment
    println!(&quot;a *= 2: {}&quot;, a);

    a /= 4; // Division assignment
    println!(&quot;a /= 4: {}&quot;, a);

    a %= 3; // Remainder assignment
    println!(&quot;a %= 3: {}&quot;, a);
}
</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h3 id="packing-and-related-topics"><a class="header" href="#packing-and-related-topics">Packing and related topics</a></h3>
<p>This section contains random information about Cargo and various other bits and pieces on building a Rust project.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="what-is-the-purpose-of-no_std"><a class="header" href="#what-is-the-purpose-of-no_std">What is the purpose of ![no_std]?</a></h3>
<p>The #![no_std] attribute in Rust is used to indicate that a crate does not use the Rust standard library (std). Instead, it relies on the core library (core), which is a subset of the standard library and is available in environments where the full standard library is not available, such as embedded systems or operating system kernels.</p>
<p>Usecases can be grouped into a few items;</p>
<ul>
<li>Many embedded systems do not have the resources to support the full standard library.<br/></li>
<li>When writing an operating system, you often need to avoid dependencies on the standard library.<br/></li>
<li>Any environment where the standard library is not available or not desired.<br/></li>
<li>Targeting WebAssembly where the standard library is not fully supported.</li>
</ul>
<pre><pre class="playground"><code class="language-rust">#![no_std]

extern crate core;

use core::fmt;

struct MyStruct;

impl fmt::Display for MyStruct {
    fn fmt(&amp;self, f: &amp;mut fmt::Formatter) -&gt; fmt::Result {
        write!(f, &quot;Hello, no_std!&quot;)
    }
}

fn main() {
    let my_struct = MyStruct;
    println!(&quot;{}&quot;, my_struct); // This will not work because println! is part of std
}
</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h3 id="how-to-call-a-function-from-a-standard-library"><a class="header" href="#how-to-call-a-function-from-a-standard-library">How to call a function from a standard library:</a></h3>
<pre><pre class="playground"><code class="language-rust">use std::time::{SystemTime, UNIX_EPOCH};

fn main() {
    // Get the current system time
    match SystemTime::now().duration_since(UNIX_EPOCH) {
        Ok(n) =&gt; println!(&quot;Current time since UNIX EPOCH: {} seconds&quot;, n.as_secs()),
        Err(_) =&gt; println!(&quot;SystemTime before UNIX EPOCH!&quot;),
    }
}
</code></pre></pre>
<h3 id="how-to-call-a-function-from-a-library-on-cratesio"><a class="header" href="#how-to-call-a-function-from-a-library-on-cratesio">How to call a function from a library on Crates.io:</a></h3>
<p>For external libraries, you can specify the external module in the Cargo.toml file.</p>
<pre><code class="language-rust noplaypen">use regex::Regex;

fn main() {
    // Create a regex pattern
    let re = Regex::new(r&quot;^\d{4}-\d{2}-\d{2}$&quot;).unwrap();

    // Test if the pattern matches a string
    let date = &quot;2023-10-05&quot;;
    if re.is_match(date) {
        println!(&quot;The date {} is in the correct format.&quot;, date);
    } else {
        println!(&quot;The date {} is not in the correct format.&quot;, date);
    }
}
</code></pre>
<p>Cargo.toml file content</p>
<pre><code class="language-toml">[dependencies]
regex = &quot;1.5&quot;
</code></pre>
<h3 id="legacy-solution-for-rust-2015-edition-or-earlier"><a class="header" href="#legacy-solution-for-rust-2015-edition-or-earlier">Legacy solution for Rust 2015 edition or earlier</a></h3>
<p>On the Rust file you may call <code>extern crate PACKAGE_NAME</code> to use an external library. This is a handy solution when you want to use <a href="https://play.rust-lang.org/">Rust Playground</a> like in this example. Otherwise, you would get an error when you execute the file.</p>
<pre><pre class="playground"><code class="language-rust">extern crate rand;
use rand::Rng;

fn main() {
    // Create a random number generator
    let mut rng = rand::thread_rng();

    // Generate a random number between 1 and 10
    let random_number: u32 = rng.gen_range(1..=10);

    println!(&quot;Random number: {}&quot;, random_number);
}
</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h3 id="package-name-and-a-quirk-with-dash-hyphens"><a class="header" href="#package-name-and-a-quirk-with-dash-hyphens">Package name and a quirk with dash (hyphens)</a></h3>
<p>Rust supports underscores (_) for package names but not hyphens (-). However, you may see packages on Crates.io with hyphens.</p>
<p><a href="https://github.com/rust-lang/rfcs/blob/master/text/0940-hyphens-considered-harmful.md">The related RFC</a> recommends explicitly renaming those crates with underscores. E.g.</p>
<pre><code>extern crate &quot;rustc-serialize&quot; as rustc_serialize;
</code></pre>
<p>There is <a href="https://www.reddit.com/r/rust/comments/194clzq/underscores_vs_dashes_in_crate_names/">quite a bit of debate</a> about whether hyphens should be used in library names.</p>
<p>Refraining from using hyphens seems to be the most future-proof option, but I agree with the aesthetics aspect of using dash instead of underscore.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="keywords-helps-to-tag-your-crate-to-improve-seo"><a class="header" href="#keywords-helps-to-tag-your-crate-to-improve-seo">Keywords helps to tag your Crate to improve SEO</a></h3>
<p>To add tags for your crate you may use <code>keywords</code> command in the [package] section in your Cargo.toml file. E.g.</p>
<pre><code class="language-toml">[package]

keywords = [&quot;bcrypt&quot;, &quot;password&quot;, &quot;web&quot;, &quot;hash&quot;]
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h3 id="how-to-use-unstable-features-in-your-rust-project"><a class="header" href="#how-to-use-unstable-features-in-your-rust-project">How to use unstable features in your Rust project</a></h3>
<p>In Rust, the #! syntax is used for attributes that apply to the entire crate or module. These are known as &quot;inner attributes.&quot; They are typically placed at the top of a file and are used to configure various aspects of the Rust compiler's behavior for that file or crate.</p>
<p>#![feature(...)]: This attribute allows you to use unstable features in your Rust code from the nightly Rust compiler. It must be placed at the top of the file. </p>
<p>As an example, the #![feature(test)] attribute in Rust is used to enable the test crate, which includes benchmarking and testing utilities that are not yet stabilized.</p>
<pre><code class="language-rust noplaypen">#![feature(test)]
extern crate bcrypt;
extern crate test;

use bcrypt::{hash, DEFAULT_COST};

#[bench]
fn bench_cost_4(b: &amp;mut test::Bencher) {
    b.iter(|| hash(&quot;hunter2&quot;, 4));
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h3 id="what-is-features"><a class="header" href="#what-is-features">What is features?</a></h3>
<p>Features are a way to conditionally compile code based on specified configurations. They allow you to enable or disable certain functionalities in your crate or its dependencies. Features are defined in the Cargo.toml file and can be used to control optional dependencies, conditional compilation.</p>
<h3 id="defining-features"><a class="header" href="#defining-features">Defining Features</a></h3>
<p>You define features in your crate's Cargo.toml file under the [features] section.</p>
<pre><code class="language-toml">[features]
default = [&quot;feature1&quot;, &quot;feature2&quot;]
feature1 = []
feature2 = [&quot;dependency1/featureA&quot;]
</code></pre>
<p><strong>default</strong>: This is a special feature that is enabled by default when your crate is used as a dependency. It can include other features.<br/>
<strong>feature1 and feature2</strong>: These are custom features that can be enabled or disabled by the user.<br/></p>
<h3 id="using-features-in-code"><a class="header" href="#using-features-in-code">Using Features in Code</a></h3>
<p>You can use features in your Rust code with conditional compilation attributes like <code>#[cfg(feature = &quot;feature_name&quot;)]</code> and <code>#[cfg_attr(feature = &quot;feature_name&quot;, some_attribute)]</code>.</p>
<pre><code class="language-rust  noplaypen">#[cfg(feature = &quot;feature1&quot;)]
fn feature1_function() {
    // Code that is only compiled if &quot;feature1&quot; is enabled
}

#[cfg(feature = &quot;feature2&quot;)]
fn feature2_function() {
    // Code that is only compiled if &quot;feature2&quot; is enabled
}
</code></pre>
<p>When you depend on a crate, you can enable features in your Cargo.toml file:</p>
<pre><code class="language-toml">[dependencies]
my_crate = { version = &quot;1.0&quot;, features = [&quot;feature1&quot;, &quot;feature2&quot;] }
</code></pre>
<p>If you want to depend on a crate but do not want to enable its default features, you can use the <code>default-features = false</code> option:</p>
<pre><code class="language-toml">[dependencies]
my_crate = { version = &quot;1.0&quot;, default-features = false, features = [&quot;feature1&quot;] }
</code></pre>
<p><code>default-features = false</code> disables the <strong>default</strong> features.
<code>features = [&quot;feature1&quot;]</code> enables the <strong>feature1</strong> specifically.</p>
<p><code>features</code>: Allow conditional compilation and optional dependencies.<br/>
<code>default</code> attribute: Default features is enabled by default unless explicitly disabled.<br/></p>
<p>Custom Features can be added in Cargo.toml and enabled or disabled as needed. You can use <code>#[cfg(feature = &quot;feature_name&quot;)]</code> at the top of the function to include/exclude from teh code based on the feature availability.<br/></p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="standard-library"><a class="header" href="#standard-library">Standard Library</a></h3>
<p>This section explains some of the common standard library APIs and their usage. The intention is not to cover the entire API. </p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="understanding-refcell-in-rust"><a class="header" href="#understanding-refcell-in-rust">Understanding <code>RefCell</code> in Rust</a></h3>
<p><code>RefCell</code> is a type that provides interior mutability in Rust. It allows you to mutate data even when there are immutable references to that data. This is achieved by enforcing borrowing rules at runtime rather than compile time.</p>
<ul>
<li><code>RefCell</code> is part of the <code>std::cell</code> module.</li>
<li>It enables mutable borrowing checked at runtime.</li>
<li>Useful in scenarios where you need to mutate data but only have an immutable reference.</li>
</ul>
<pre><pre class="playground"><code class="language-rust">use std::cell::RefCell;

fn main() {
    let data = RefCell::new(5);

    // Borrowing the value immutably
    {
        let value = data.borrow();
        println!(&quot;Value: {}&quot;, *value);
    }

    // Borrowing the value mutably
    {
        let mut value = data.borrow_mut();
        *value += 1;
    }

    // Borrowing the value immutably again to see the change
    {
        let value = data.borrow();
        println!(&quot;Updated Value: {}&quot;, *value);
    }
}
</code></pre></pre>
<ol>
<li>We create a <code>RefCell</code> containing the value <code>5</code>.</li>
<li>We borrow the value immutably using <code>borrow()</code>.</li>
<li>We borrow the value mutably using <code>borrow_mut()</code> and modify it.</li>
<li>We borrow the value immutably again to verify the change.</li>
</ol>
<ul>
<li><code>RefCell</code> will panic at runtime if you violate borrowing rules (e.g., if you try to borrow mutably while an immutable borrow is active).</li>
<li>Use <code>RefCell</code> when you need interior mutability and are sure that the borrowing rules will be followed at runtime.</li>
<li><code>RefCell</code> works when the value is managed in a single thread. For multi-threaded scenarios use Mutex or RwLock.</li>
</ul>
<p>For more details, refer to the <a href="https://doc.rust-lang.org/std/cell/struct.RefCell.html">Rust documentation on <code>RefCell</code></a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="understanding-rc"><a class="header" href="#understanding-rc">Understanding <code>Rc</code></a></h3>
<p>The <code>Rc</code> (Reference Counted) type is used when you need multiple ownership of data. It enables multiple parts of your program to read from the same data without needing to copy it.</p>
<p>1- <code>Rc::new</code> is used to create a new reference-counted instance of a value.</p>
<p>2- <code>Rc::clone</code> is used to create a new reference to the same data. This increases the reference count, allowing multiple parts of your program to share ownership of the data.</p>
<p><code>Rc</code> is not thread-safe, so it should only be used in single-threaded scenarios. For multi-threaded scenarios, consider using <code>Arc</code> (Atomic Reference Counted) instead.</p>
<h4 id="rcnew"><a class="header" href="#rcnew"><code>Rc::new</code></a></h4>
<pre><pre class="playground"><code class="language-rust">use std::rc::Rc;

fn main() {
    let value = Rc::new(5);
    println!(&quot;Value: {}&quot;, value);
}
</code></pre></pre>
<ul>
<li><code>Rc::new(5)</code> creates a new <code>Rc</code> instance that holds the value <code>5</code>.</li>
</ul>
<h4 id="rcclone"><a class="header" href="#rcclone"><code>Rc::clone</code></a></h4>
<pre><pre class="playground"><code class="language-rust">use std::rc::Rc;

fn main() {
    let value = Rc::new(5);
    let value_clone = Rc::clone(&amp;value);

    println!(&quot;Value: {}&quot;, value);
    println!(&quot;Cloned Value: {}&quot;, value_clone);
}
</code></pre></pre>
<ul>
<li><code>Rc::clone(&amp;value)</code> creates a new reference to the same data. Both <code>value</code> and <code>value_clone</code> point to the same data, and the reference count is increased.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h3 id="understanding-self-in-rust"><a class="header" href="#understanding-self-in-rust">Understanding <code>Self</code> in Rust</a></h3>
<p>In Rust, <code>Self</code> is a special type alias that refers to the type of the current trait or implementation block. It is commonly used in trait definitions and implementations to refer to the type that is implementing the trait.</p>
<pre><pre class="playground"><code class="language-rust">trait MyTrait {
    fn new() -&gt; Self;
    fn describe(&amp;self) -&gt; String;
}

struct MyStruct {
    name: String,
}

impl MyTrait for MyStruct {
    fn new() -&gt; Self {
        Self {
            name: String::from(&quot;MyStruct&quot;),
        }
    }

    fn describe(&amp;self) -&gt; String {
        format!(&quot;This is {}&quot;, self.name)
    }
}

fn main() {
    let instance = MyStruct::new();
    println!(&quot;{}&quot;, instance.describe());
}
</code></pre></pre>
<ul>
<li>The <code>MyTrait</code> trait defines two methods: <code>new</code> and <code>describe</code>.</li>
<li>The <code>new</code> method returns an instance of the type that implements the trait, denoted by <code>Self</code>.</li>
<li>The <code>describe</code> method takes a reference to <code>self</code> and returns a description string.</li>
<li>The <code>MyStruct</code> struct implements the <code>MyTrait</code> trait, using <code>Self</code> to refer to its own type within the implementation.</li>
</ul>
<p>This allows for more flexible and reusable code, as <code>Self</code> can adapt to the type that is implementing the trait.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="self-vs-self-in-rust"><a class="header" href="#self-vs-self-in-rust">Self vs self in Rust</a></h3>
<p>In Rust, <code>Self</code> and <code>self</code> have different meanings and uses:</p>
<ul>
<li><code>Self</code> refers to the type that is implementing a trait or a method. It is used in type definitions and associated functions.</li>
<li><code>self</code> refers to the instance of the type that is implementing a method. It is used in method signatures and method bodies.</li>
</ul>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>struct MyStruct;

impl MyStruct {
    // Associated function, uses `Self`
    fn new() -&gt; Self {
        MyStruct
    }

    // Method, uses `self`
    fn consume(self) {
        // consume the instance
    }
}
<span class="boring">}
</span></code></pre></pre>
<ul>
<li><code>Self</code> is used in the <code>new</code> function to refer to the type <code>MyStruct</code>.</li>
<li><code>self</code> is used in the <code>consume</code> method to refer to the instance of <code>MyStruct</code>.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h3 id="is-self-a-special-keywork-in-rust"><a class="header" href="#is-self-a-special-keywork-in-rust">Is <strong>self</strong> a special keywork in Rust?</a></h3>
<p><strong>self</strong> is a special keyword in Rust. It is used to refer to the instance of the struct or enum within its associated methods. It is similar to this in other object-oriented languages like Java or C++.</p>
<h3 id="usage-of-self"><a class="header" href="#usage-of-self">Usage of self</a></h3>
<p><strong>Method Definitions</strong>: When defining methods for a struct or enum, self is used to refer to the instance on which the method is called.<br/>
<strong>Method Parameters</strong>: self can be used as a parameter in method definitions to indicate that the method takes ownership, borrows immutably, or borrows mutably from the instance.<br/></p>
<h3 id="immutable-borrow-self"><a class="header" href="#immutable-borrow-self">Immutable Borrow (&amp;self)</a></h3>
<p>When a method takes &amp;self as a parameter, it means the method borrows the instance immutably.</p>
<pre><pre class="playground"><code class="language-rust">pub struct Person {
    name: String,
}

impl Person {
    // Method that borrows the instance immutably
    fn greet(&amp;self) {
        println!(&quot;Hello, my name is {}!&quot;, self.name);
    }
}

fn main() {
    let person = Person {
        name: String::from(&quot;Alice&quot;),
    };
    person.greet(); // Calls the greet method
}
</code></pre></pre>
<h3 id="mutable-borrow-mut-self"><a class="header" href="#mutable-borrow-mut-self">Mutable Borrow (&amp;mut self)</a></h3>
<p>When a method takes &amp;mut self as a parameter, it means the method borrows the instance mutably.</p>
<pre><pre class="playground"><code class="language-rust">pub struct Counter {
    count: i32,
}

impl Counter {
    // Method that borrows the instance mutably
    fn increment(&amp;mut self) {
        self.count += 1;
    }
}

fn main() {
    let mut counter = Counter { count: 0 };
    counter.increment(); // Calls the increment method
    println!(&quot;Count: {}&quot;, counter.count);
    counter.increment(); // Calls the increment method
    println!(&quot;Count: {}&quot;, counter.count);
}
</code></pre></pre>
<h3 id="ownership-self"><a class="header" href="#ownership-self">Ownership (self)</a></h3>
<p>When a method takes self as a parameter, it means the method takes ownership of the instance.</p>
<pre><pre class="playground"><code class="language-rust">pub struct Person {
    name: String,
}

impl Person {
    // Method that takes ownership of the instance
    fn into_name(self) -&gt; String {
        self.name
    }
}

fn main() {
    let person = Person {
        name: String::from(&quot;Alice&quot;),
    };
    let name = person.into_name(); // Calls the into_name method, taking ownership
    println!(&quot;Name: {}&quot;, name);
}
</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h3 id="what-is-the-purpose-of-imp-keyword"><a class="header" href="#what-is-the-purpose-of-imp-keyword">What is the purpose of <strong>imp</strong> keyword?</a></h3>
<p>The <strong>impl</strong> keyword in Rust is used to define implementations for structs, enums, and <a href="rust/essentials/std-lib/./trait.html">traits</a>. It allows you to associate functions and methods with a type, and to implement traits for a type.</p>
<h3 id="usage-of-impl"><a class="header" href="#usage-of-impl">Usage of impl</a></h3>
<p><strong>Implementing Methods for a Struct or Enum</strong>: </p>
<p>You can define methods that are associated with a struct or enum.</p>
<p><code>pub fn new(name: String, age: u8) -&gt; Self</code> is an associated function (often used as a constructor) that creates a new instance of Person. <code>pub fn greet(&amp;self)</code> and <code>pub fn have_birthday(&amp;mut self)</code> are methods associated with the Person struct. The <code>greet</code> method borrows the instance immutably, while the <code>have_birthday</code> method borrows it mutably.</p>
<pre><pre class="playground"><code class="language-rust">pub struct Person {
    name: String,
    age: u8,
}

impl Person {
    // Associated function (constructor)
    pub fn new(name: String, age: u8) -&gt; Self {
        Person { name, age }
    }

    // Method that borrows the instance immutably
    pub fn greet(&amp;self) {
        println!(&quot;Hello, my name is {} and I am {} years old.&quot;, self.name, self.age);
    }

    // Method that borrows the instance mutably
    pub fn have_birthday(&amp;mut self) {
        self.age += 1;
    }
}

fn main() {
    let mut person = Person::new(String::from(&quot;Alice&quot;), 30);
    person.greet();
    person.have_birthday();
    person.greet();
}
</code></pre></pre>
<p><strong>Implementing Traits for a Struct or Enum</strong>: </p>
<p>You can implement traits for a struct or enum, defining the behavior required by the trait.</p>
<p>The <code>Greet</code> trait defines a method <code>greet</code>. The <code>impl Greet for Dog</code> block implements the Greet trait for the <code>Dog</code> struct, providing the behavior required by the trait.</p>
<pre><pre class="playground"><code class="language-rust">pub trait Greet {
    fn greet(&amp;self);
}

pub struct Dog {
    name: String,
}

impl Dog {
    pub fn new(name: String) -&gt; Self {
        Dog { name }
    }
}

impl Greet for Dog {
    fn greet(&amp;self) {
        println!(&quot;Woof! My name is {}!&quot;, self.name);
    }
}

fn main() {
    let dog = Dog::new(String::from(&quot;Buddy&quot;));
    dog.greet();
}
</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h3 id="does-rust-have-a-new-keyword"><a class="header" href="#does-rust-have-a-new-keyword">Does Rust Have a <code>new</code> Keyword?</a></h3>
<p>Rust does <strong>not</strong> have a <code>new</code> keyword like some other programming languages (e.g., C++ or Java). Instead, Rust commonly uses an associated function named <code>new</code> to create instances of a type. This is a convention rather than a language feature.</p>
<pre><pre class="playground"><code class="language-rust">struct MyStruct {
    value: i32,
}

impl MyStruct {
    // Associated function `new` to create an instance of `MyStruct`
    fn new(value: i32) -&gt; MyStruct {
        MyStruct { value }
    }
}

fn main() {
    // Creating an instance of `MyStruct` using the `new` function
    let instance = MyStruct::new(10);
    println!(&quot;MyStruct value: {}&quot;, instance.value);
}
</code></pre></pre>
<ul>
<li>The <code>new</code> function is defined as an associated function of <code>MyStruct</code> and is used to create a new instance of <code>MyStruct</code>.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h3 id="the-some-keyword"><a class="header" href="#the-some-keyword">The <code>Some</code> Keyword</a></h3>
<p>In Rust, the <code>Some</code> keyword is used to represent a value within the <a href="rust/essentials/std-lib/./option.html"><code>Option</code></a> type. The <code>Option</code> type is an enum that can either be <code>Some(T)</code> where <code>T</code> is a value, or <code>None</code>, indicating the absence of a value. This is useful for handling cases where a value might be optional.</p>
<h4 id="example"><a class="header" href="#example">Example</a></h4>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let some_number = Some(5);
    let some_string = Some(&quot;Hello&quot;);

    if let Some(value) = some_number {
        println!(&quot;We have a number: {}&quot;, value);
    }

    if let Some(text) = some_string {
        println!(&quot;We have a string: {}&quot;, text);
    }
}
</code></pre></pre>
<p><code>some_number</code> and <code>some_string</code> are both <a href="rust/essentials/std-lib/./option.html"><code>Option</code></a> types. The <code>if let</code> syntax is used to check if they contain a value (<code>Some</code>) and to extract that value.</p>
<h3 id="usage-2"><a class="header" href="#usage-2">Usage</a></h3>
<p>The <code>Option</code> type is widely used in Rust to handle cases where a value might be present or absent, providing a safer alternative to null values found in other languages.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="option-enum"><a class="header" href="#option-enum">Option Enum</a></h3>
<p>The <code>Option</code> enum represents a value that can either be something (<code>Some</code>) or nothing (<code>None</code>). It is commonly used to handle cases where a value might be absent, avoiding the need for null pointers and reducing the risk of null pointer exceptions.</p>
<h3 id="definition"><a class="header" href="#definition">Definition</a></h3>
<p>The <code>Option</code> enum is defined in the standard library as follows:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>enum Option&lt;T&gt; {
    Some(T),
    None,
}
<span class="boring">}
</span></code></pre></pre>
<p>Here, <code>T</code> is a generic type parameter, meaning <code>Option</code> can hold a value of any type.</p>
<p>Basic Usage</p>
<pre><pre class="playground"><code class="language-rust">fn find_word(word: &amp;str) -&gt; Option&lt;usize&gt; {
    let words = vec![&quot;hello&quot;, &quot;world&quot;, &quot;rust&quot;];
    words.iter().position(|&amp;w| w == word)
}

fn main() {
    match find_word(&quot;rust&quot;) {
        Some(index) =&gt; println!(&quot;Found at index: {}&quot;, index),
        None =&gt; println!(&quot;Not found&quot;),
    }
}
</code></pre></pre>
<p>The <code>find_word</code> function returns an <code>Option&lt;usize&gt;</code>. If the word is found, it returns <code>Some(index)</code>, otherwise it returns <code>None</code>.</p>
<h4 id="using-unwrap"><a class="header" href="#using-unwrap">Using <code>unwrap</code></a></h4>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let some_number = Some(10);
    let number = some_number.unwrap();
    println!(&quot;The number is: {}&quot;, number);
}
</code></pre></pre>
<ul>
<li>The <code>unwrap</code> method extracts the value inside <code>Some</code>, but it will panic if called on a <code>None</code> value. Use it only when you are sure that the <code>Option</code> is <code>Some</code>.</li>
</ul>
<h4 id="using-unwrap_or"><a class="header" href="#using-unwrap_or">Using <code>unwrap_or</code></a></h4>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let some_number = Some(10);
    let none_number: Option&lt;i32&gt; = None;

    println!(&quot;The number is: {}&quot;, some_number.unwrap_or(0));
    println!(&quot;The number is: {}&quot;, none_number.unwrap_or(0));
}
</code></pre></pre>
<ul>
<li>The <code>unwrap_or</code> method provides a default value if the <code>Option</code> is <code>None</code>.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h3 id="what-is-the-purpose-of-derivedebug"><a class="header" href="#what-is-the-purpose-of-derivedebug">What is the purpose of <code>#[derive(Debug)]</code>?</a></h3>
<p>The <code>#[derive(Debug)]</code> attribute in Rust automatically generates an implementation of the <code>Debug</code> trait for a struct or enum. This trait allows you to format the value using the <code>{:?}</code> formatter, which is useful for debugging purposes.</p>
<pre><pre class="playground"><code class="language-rust">#[derive(Debug)]
struct Person {
    name: String,
    age: u32,
}

fn main() {
    let person = Person {
        name: String::from(&quot;Alice&quot;),
        age: 30,
    };

    // Print the person struct using the Debug trait
    println!(&quot;{:?}&quot;, person);
}
</code></pre></pre>
<p>The <code>Person</code> struct derives the <code>Debug</code> trait, allowing us to print its value using <code>println!(&quot;{:?}&quot;, person);</code>. The output will be:</p>
<pre><code>Person { name: &quot;Alice&quot;, age: 30 }
</code></pre>
<p>This makes it easier to inspect the values of complex data structures during development and debugging.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="design-patterns"><a class="header" href="#design-patterns">Design Patterns</a></h3>
<p>Patterns help to have reusable solutions to common problems that occur in software design. These patterns provide a template or blueprint for solving a particular problem in a specific context. They help developers avoid reinventing the wheel.</p>
<p>1- <a href="rust/patterns/./creational/intro.html">Creational Patterns</a>: Deal with object creation mechanisms, trying to create objects in a manner suitable to the situation.</p>
<p>2- <a href="rust/patterns/./behavioral/intro.html">Behavioral Patterns</a>: Deal with object collaboration and the delegation of responsibilities.</p>
<p>3- <a href="rust/patterns/./structural/intro.html">Structural Patterns</a>: Deal with object composition or the structure of classes and objects.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="creational-patterns"><a class="header" href="#creational-patterns">Creational Patterns</a></h3>
<p>Creational Patterns deal with object creation mechanisms, trying to create objects in a manner suitable to the situation.</p>
<h3 id="some-common-creational-design-patterns"><a class="header" href="#some-common-creational-design-patterns">Some Common Creational Design Patterns</a></h3>
<p>1- <a href="rust/patterns/creational/./singleton.html">Singleton</a>: Ensures a class has only one instance and provides a global point of access to it.</p>
<p>2- <a href="rust/patterns/creational/./factory-method.html">Factory Method</a>: Defines an interface for creating an object, but lets subclasses alter the type of objects that will be created.</p>
<p>3- <a href="rust/patterns/creational/./abstract-factory.html">Abstract Factory</a>: Provides an interface for creating families of related or dependent objects without specifying their concrete classes.</p>
<p>4- <a href="rust/patterns/creational/./builder.html">Builder</a>: Separates the construction of a complex object from its representation so that the same construction process can create different representations.</p>
<p>5- <a href="rust/patterns/creational/./prototype.html">Prototype</a>: Specifies the kinds of objects to create using a prototypical instance, and creates new objects by copying this prototype.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="singleton-design-pattern"><a class="header" href="#singleton-design-pattern">Singleton Design Pattern</a></h3>
<p>The Singleton pattern ensures that a class has only one instance and provides a global point of access to it. This is useful when exactly one object is needed to coordinate actions across the system.</p>
<pre><pre class="playground"><code class="language-rust">use std::sync::{Arc, Mutex};
use std::thread;

struct Singleton {
    data: i32,
}

impl Singleton {
    fn new() -&gt; Self {
        Singleton { data: 0 }
    }

    fn get_instance() -&gt; Arc&lt;Mutex&lt;Singleton&gt;&gt; {
        static mut SINGLETON: Option&lt;Arc&lt;Mutex&lt;Singleton&gt;&gt;&gt; = None;
        static ONCE: std::sync::Once = std::sync::Once::new();

        unsafe {
            ONCE.call_once(|| {
                let singleton = Singleton::new();
                SINGLETON = Some(Arc::new(Mutex::new(singleton)));
            });

            SINGLETON.clone().unwrap()
        }
    }

    fn increment(&amp;mut self) {
        self.data += 1;
    }

    fn get_data(&amp;self) -&gt; i32 {
        self.data
    }
}

fn main() {
    let singleton = Singleton::get_instance();

    // Acquire the lock in the main thread
    {
        let mut instance = singleton.lock().unwrap();
        instance.increment();
        println!(&quot;Main thread data: {}&quot;, instance.get_data());
    } // The lock is released here when `instance` goes out of scope

    let singleton_clone1 = Arc::clone(&amp;singleton);
    let singleton_clone2 = Arc::clone(&amp;singleton);

    let handle1 = thread::spawn(move || {
        let mut instance1 = singleton_clone1.lock().unwrap();
        instance1.increment();
        println!(&quot;Thread 1 data: {}&quot;, instance1.get_data());
    });

    let handle2 = thread::spawn(move || {
        let mut instance2 = singleton_clone2.lock().unwrap();
        instance2.increment();
        println!(&quot;Thread 2 data: {}&quot;, instance2.get_data());
    });

    handle1.join().unwrap();
    handle2.join().unwrap();

    // Acquire the lock again in the main thread
    {
        let instance = singleton.lock().unwrap();
        println!(&quot;Final data: {}&quot;, instance.get_data());
    }
}
</code></pre></pre>
<ol>
<li><strong>Singleton Struct</strong>: Defines the structure of the singleton with a single field <code>value</code>.</li>
<li><strong>new() Method</strong>: Creates a new instance of the singleton wrapped in <code>Arc</code> and <code>Mutex</code> for thread safety.</li>
<li><strong>get_instance() Method</strong>: Provides a global point of access to the singleton instance. It uses <code>std::sync::Once</code> to ensure that the instance is only created once.</li>
<li><strong>set_value() and get_value() Methods</strong>: Allow modification and retrieval of the singleton's value.</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h3 id="factory-method-pattern"><a class="header" href="#factory-method-pattern">Factory Method Pattern</a></h3>
<p>The Factory Method is a creational design pattern that provides an interface for creating objects in a superclass but allows subclasses to alter the type of objects that will be created.</p>
<p>Tthe Factory Method pattern can be implemented using traits and structs. The trait defines the method for creating objects, and the structs implement this trait to create specific types of objects.</p>
<p>In this example we have a <code>Shape</code> trait and two structs <code>Circle</code> and <code>Square</code> that implement this trait. We will create a <code>ShapeFactory</code> trait with a method <code>create_shape</code> and two factories <code>CircleFactory</code> and <code>SquareFactory</code> that implement this trait.</p>
<pre><pre class="playground"><code class="language-rust">// Define the Shape trait
trait Shape {
    fn draw(&amp;self);
}

// Implement the Shape trait for Circle
struct Circle;

impl Shape for Circle {
    fn draw(&amp;self) {
        println!(&quot;Drawing a Circle&quot;);
    }
}

// Implement the Shape trait for Square
struct Square;

impl Shape for Square {
    fn draw(&amp;self) {
        println!(&quot;Drawing a Square&quot;);
    }
}

// Define the ShapeFactory trait
trait ShapeFactory {
    fn create_shape(&amp;self) -&gt; Box&lt;dyn Shape&gt;;
}

// Implement the ShapeFactory trait for CircleFactory
struct CircleFactory;

impl ShapeFactory for CircleFactory {
    fn create_shape(&amp;self) -&gt; Box&lt;dyn Shape&gt; {
        Box::new(Circle)
    }
}

// Implement the ShapeFactory trait for SquareFactory
struct SquareFactory;

impl ShapeFactory for SquareFactory {
    fn create_shape(&amp;self) -&gt; Box&lt;dyn Shape&gt; {
        Box::new(Square)
    }
}

fn main() {
    // Create a Circle using CircleFactory
    let circle_factory = CircleFactory;
    let circle = circle_factory.create_shape();
    circle.draw();

    // Create a Square using SquareFactory
    let square_factory = SquareFactory;
    let square = square_factory.create_shape();
    square.draw();
}
</code></pre></pre>
<h2 id="output"><a class="header" href="#output">Output</a></h2>
<pre><code>Drawing a Circle
Drawing a Square
</code></pre>
<ul>
<li>The <code>ShapeFactory</code> trait defines the <code>create_shape</code> method, and the <code>CircleFactory</code> and <code>SquareFactory</code> structs implement this method to create specific shapes. This allows for flexibility in creating different types of shapes without changing the client code.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h3 id="abstract-factory-pattern"><a class="header" href="#abstract-factory-pattern">Abstract Factory Pattern</a></h3>
<p>The abstract factory design pattern provides an interface for creating families of related or dependent objects without specifying their concrete classes. This pattern is particularly useful when the exact types and dependencies of the objects are not known until runtime.</p>
<pre><pre class="playground"><code class="language-rust">// Define traits for products
trait Chair {
    fn has_legs(&amp;self) -&gt; bool;
    fn sit_on(&amp;self);
}

trait Sofa {
    fn has_legs(&amp;self) -&gt; bool;
    fn lie_on(&amp;self);
}

// Concrete products for Modern style
struct ModernChair;
struct ModernSofa;

impl Chair for ModernChair {
    fn has_legs(&amp;self) -&gt; bool {
        true
    }

    fn sit_on(&amp;self) {
        println!(&quot;Sitting on a modern chair.&quot;);
    }
}

impl Sofa for ModernSofa {
    fn has_legs(&amp;self) -&gt; bool {
        true
    }

    fn lie_on(&amp;self) {
        println!(&quot;Lying on a modern sofa.&quot;);
    }
}

// Concrete products for Victorian style
struct VictorianChair;
struct VictorianSofa;

impl Chair for VictorianChair {
    fn has_legs(&amp;self) -&gt; bool {
        true
    }

    fn sit_on(&amp;self) {
        println!(&quot;Sitting on a Victorian chair.&quot;);
    }
}

impl Sofa for VictorianSofa {
    fn has_legs(&amp;self) -&gt; bool {
        true
    }

    fn lie_on(&amp;self) {
        println!(&quot;Lying on a Victorian sofa.&quot;);
    }
}

// Abstract factory trait
trait FurnitureFactory {
    fn create_chair(&amp;self) -&gt; Box&lt;dyn Chair&gt;;
    fn create_sofa(&amp;self) -&gt; Box&lt;dyn Sofa&gt;;
}

// Concrete factories
struct ModernFurnitureFactory;

impl FurnitureFactory for ModernFurnitureFactory {
    fn create_chair(&amp;self) -&gt; Box&lt;dyn Chair&gt; {
        Box::new(ModernChair)
    }

    fn create_sofa(&amp;self) -&gt; Box&lt;dyn Sofa&gt; {
        Box::new(ModernSofa)
    }
}

struct VictorianFurnitureFactory;

impl FurnitureFactory for VictorianFurnitureFactory {
    fn create_chair(&amp;self) -&gt; Box&lt;dyn Chair&gt; {
        Box::new(VictorianChair)
    }

    fn create_sofa(&amp;self) -&gt; Box&lt;dyn Sofa&gt; {
        Box::new(VictorianSofa)
    }
}

// Client code
fn main() {
    let factory: Box&lt;dyn FurnitureFactory&gt; = Box::new(ModernFurnitureFactory);
    let chair = factory.create_chair();
    let sofa = factory.create_sofa();

    chair.sit_on();
    sofa.lie_on();

    let factory2: Box&lt;dyn FurnitureFactory&gt; = Box::new(VictorianFurnitureFactory);
    let chair2 = factory2.create_chair();
    let sofa2 = factory2.create_sofa();

    chair2.sit_on();
    sofa2.lie_on();
}
</code></pre></pre>
<p>The <code>FurnitureFactory</code> trait defines methods for creating abstract products (<code>Chair</code> and <code>Sofa</code>). The <code>ModernFurnitureFactory</code> and <code>VictorianFurnitureFactory</code> structs implement this trait to create concrete products. The client code uses the factory to create and interact with the products without knowing their concrete types.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="builder-pattern"><a class="header" href="#builder-pattern">Builder Pattern</a></h3>
<p>The builder pattern is a creational design pattern that allows constructing complex objects step by step. It separates the construction of a complex object from its representation, allowing the same construction process to create different representations.</p>
<pre><pre class="playground"><code class="language-rust">#[derive(Debug)]
struct House {
    walls: u8,
    doors: u8,
    windows: u8,
    has_garage: bool,
    has_swimming_pool: bool,
}

struct HouseBuilder {
    walls: u8,
    doors: u8,
    windows: u8,
    has_garage: bool,
    has_swimming_pool: bool,
}

impl HouseBuilder {
    fn new() -&gt; Self {
        HouseBuilder {
            walls: 0,
            doors: 0,
            windows: 0,
            has_garage: false,
            has_swimming_pool: false,
        }
    }

    fn walls(mut self, count: u8) -&gt; Self {
        self.walls = count;
        self
    }

    fn doors(mut self, count: u8) -&gt; Self {
        self.doors = count;
        self
    }

    fn windows(mut self, count: u8) -&gt; Self {
        self.windows = count;
        self
    }

    fn garage(mut self, has_garage: bool) -&gt; Self {
        self.has_garage = has_garage;
        self
    }

    fn swimming_pool(mut self, has_swimming_pool: bool) -&gt; Self {
        self.has_swimming_pool = has_swimming_pool;
        self
    }

    fn build(self) -&gt; House {
        House {
            walls: self.walls,
            doors: self.doors,
            windows: self.windows,
            has_garage: self.has_garage,
            has_swimming_pool: self.has_swimming_pool,
        }
    }
}

fn main() {
    let house = HouseBuilder::new()
        .walls(4)
        .doors(2)
        .windows(6)
        .garage(true)
        .swimming_pool(false)
        .build();

    println!(&quot;{:?}&quot;, house);
}
</code></pre></pre>
<p><code>HouseBuilder</code> is used to construct a <code>House</code> object step by step. The builder provides methods to set the properties of the house and a <code>build</code> method to create the final <code>House</code> object.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="prototype-pattern"><a class="header" href="#prototype-pattern">Prototype Pattern</a></h3>
<p>The prototype pattern is a creational pattern that allows cloning of objects, even complex ones, without coupling to their specific classes. This pattern is particularly useful when the cost of creating a new instance of a class is expensive or complicated.</p>
<p>We can implement the pattern using the <code>Clone</code> trait.</p>
<pre><pre class="playground"><code class="language-rust">#[derive(Clone)]
struct Prototype {
    field1: String,
    field2: i32,
}

impl Prototype {
    fn new(field1: String, field2: i32) -&gt; Self {
        Prototype { field1, field2 }
    }

    fn clone_prototype(&amp;self) -&gt; Self {
        self.clone()
    }
}

fn main() {
    let original = Prototype::new(String::from(&quot;Prototype&quot;), 42);
    let cloned = original.clone_prototype();

    println!(&quot;Original: {} - {}&quot;, original.field1, original.field2);
    println!(&quot;Cloned: {} - {}&quot;, cloned.field1, cloned.field2);
}
</code></pre></pre>
<ul>
<li>We define a <code>Prototype</code> struct with two fields.</li>
<li>We derive the <code>Clone</code> trait for the <code>Prototype</code> struct, which provides the <code>clone</code> method.</li>
<li>We implement a <code>clone_prototype</code> method that clones the current instance.</li>
<li>In the <code>main</code> function, we create an instance of <code>Prototype</code> and then clone it using the <code>clone_prototype</code> method.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h3 id="behavioral-patterns"><a class="header" href="#behavioral-patterns">Behavioral Patterns</a></h3>
<p>Behavioral Patterns deal with object collaboration and the delegation of responsibilities. </p>
<h3 id="some-common-behavioral-design-patterns"><a class="header" href="#some-common-behavioral-design-patterns">Some Common Behavioral Design Patterns</a></h3>
<p>1- <a href="rust/patterns/behavioral/./observer.html">Observer</a>: Defines a one-to-many dependency between objects so that when one object changes state, all its dependents are notified and updated automatically.</p>
<p>2- <a href="rust/patterns/behavioral/./strategy.html">Strategy</a>: Defines a family of algorithms, encapsulates each one, and makes them interchangeable.</p>
<p>3- <a href="rust/patterns/behavioral/./command.html">Command</a>: Encapsulates a request as an object, thereby allowing for parameterization of clients with queues, requests, and operations.</p>
<p>4- <a href="rust/patterns/behavioral/./chain-of-responsibility.html">Chain of Responsibility</a>: Allows an object to pass a request along a chain of potential handlers until the request is handled.</p>
<p>5- <a href="rust/patterns/behavioral/./iterator.html">Iterator</a>: Provides a way to access the elements of an aggregate object sequentially without exposing its underlying representation. </p>
<p>6- <a href="rust/patterns/behavioral/./mediator.html">Mediator</a>: Defines an object that encapsulates how a set of objects interact.</p>
<p>5- <a href="rust/patterns/behavioral/./visitor.html">Visitor</a>:  Allows adding further operations to objects without having to modify them.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="observer-pattern"><a class="header" href="#observer-pattern">Observer Pattern</a></h3>
<p>The observer pattern is a behavioral design pattern where an object (the subject) maintains a list of its dependents (observers) and notifies them of any state changes, usually by calling one of their methods.</p>
<pre><pre class="playground"><code class="language-rust">// Observer type
pub trait Observer {
    fn update(&amp;self, message: &amp;str);
}

// Concrete observer
pub struct ConcreteObserver {
    name: String,
}

impl ConcreteObserver {
    pub fn new(name: &amp;str) -&gt; Self {
        ConcreteObserver {
            name: name.to_string(),
        }
    }
}

impl Observer for ConcreteObserver {
    fn update(&amp;self, message: &amp;str) {
        println!(&quot;{} received message: {}&quot;, self.name, message);
    }
}

// Subject
pub struct Subject {
    observers: Vec&lt;Box&lt;dyn Observer&gt;&gt;,
}

impl Subject {
    pub fn new() -&gt; Self {
        Subject {
            observers: Vec::new(),
        }
    }

    pub fn add_observer(&amp;mut self, observer: Box&lt;dyn Observer&gt;) {
        self.observers.push(observer);
    }

    pub fn notify_observers(&amp;self, message: &amp;str) {
        for observer in &amp;self.observers {
            observer.update(message);
        }
    }
}

fn main() {
    let mut subject = Subject::new();

    let observer1 = ConcreteObserver::new(&quot;Observer 1&quot;);
    let observer2 = ConcreteObserver::new(&quot;Observer 2&quot;);

    subject.add_observer(Box::new(observer1));
    subject.add_observer(Box::new(observer2));

    subject.notify_observers(&quot;Hello, observers!&quot;);
}
</code></pre></pre>
<p>Observer Trait defines the update method that observers must implement. Subject Struct manages a list of observers and notifies them of changes. Concrete Observers implement the Observer trait and define the update method.</p>
<p>This setup allows the subject to notify all registered observers whenever a change occurs, following the Observer pattern principles.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="strategy-pattern"><a class="header" href="#strategy-pattern">Strategy Pattern</a></h3>
<p>The strategy pattern defines a family of algorithms, encapsulates each one, and makes them interchangeable. This pattern lets the algorithm vary independently from clients that use it.</p>
<pre><pre class="playground"><code class="language-rust">// Strategy type
pub trait Strategy {
    fn execute(&amp;self, data: &amp;str);
}

pub struct ConcreteStrategyA;

// Concrete Strategy A
impl Strategy for ConcreteStrategyA {
    fn execute(&amp;self, data: &amp;str) {
        println!(&quot;ConcreteStrategyA: {}&quot;, data);
    }
}

pub struct ConcreteStrategyB;

// Concrete Strategy B
impl Strategy for ConcreteStrategyB {
    fn execute(&amp;self, data: &amp;str) {
        println!(&quot;ConcreteStrategyB: {}&quot;, data);
    }
}

// Context type
pub struct Context {
    strategy: Box&lt;dyn Strategy&gt;,
}

// Concrete Context
impl Context {
    pub fn new(strategy: Box&lt;dyn Strategy&gt;) -&gt; Self {
        Context { strategy }
    }

    pub fn set_strategy(&amp;mut self, strategy: Box&lt;dyn Strategy&gt;) {
        self.strategy = strategy;
    }

    pub fn execute_strategy(&amp;self, data: &amp;str) {
        self.strategy.execute(data);
    }
}

fn main() {
    let strategy_a 
    = Box::new(ConcreteStrategyA);
    let strategy_b = Box::new(ConcreteStrategyB);

    let mut context = Context::new(strategy_a);
    context.execute_strategy(&quot;Hello, World!&quot;);

    context.set_strategy(strategy_b);
    context.execute_strategy(&quot;Hello, Rust!&quot;);
}
</code></pre></pre>
<p>Strategy Trait defines a common interface for all supported algorithms. Concrete Strategies implement the Strategy trait for different algorithms. Context maintains a reference to a Strategy object and is configured with a Concrete Strategy object.</p>
<p>This pattern is useful for scenarios where you need to switch between different algorithms or behaviors at runtime.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="command-pattern"><a class="header" href="#command-pattern">Command Pattern</a></h3>
<p>The command pattern is a behavioral design pattern that turns a request into a stand-alone object that contains all information about the request. This transformation allows for parameterization of methods with different requests, queuing of requests, and logging of the requests. It also provides support for undoable operations. <br/></p>
<pre><pre class="playground"><code class="language-rust">use std::cell::RefCell;
use std::rc::Rc;

// Command
pub trait Command {
    fn execute(&amp;self);
}

// ConcreteCommand for turning on the light
pub struct TurnOnCommand {
    pub light: Rc&lt;RefCell&lt;Light&gt;&gt;,
}

impl Command for TurnOnCommand {
    fn execute(&amp;self) {
        self.light.borrow_mut().turn_on();
    }
}

// ConcreteCommand for turning off the light
pub struct TurnOffCommand {
    pub light: Rc&lt;RefCell&lt;Light&gt;&gt;,
}

impl Command for TurnOffCommand {
    fn execute(&amp;self) {
        self.light.borrow_mut().turn_off();
    }
}

// Invoker
pub struct RemoteControl{
    command: Option&lt;Box&lt;dyn Command&gt;&gt;,
}

impl RemoteControl {
    pub fn new() -&gt; Self {
        RemoteControl { command: None }
    }

    pub fn set_command(&amp;mut self, command: Box&lt;dyn Command &gt;) {
        self.command = Some(command);
    }

    pub fn press_button(&amp;mut self) {
        if let Some(ref mut command) = self.command {
            command.execute();
        }
    }
}

// Receiver
pub struct Light {
    is_on: bool,
}

impl Light {
    pub fn new() -&gt; Self {
        Light { is_on: false }
    }

    pub fn turn_on(&amp;mut self) {
        self.is_on = true;
        println!(&quot;The light is on&quot;);
    }

    pub fn turn_off(&amp;mut self) {
        self.is_on = false;
        println!(&quot;The light is off&quot;);
    }

    pub fn is_on(&amp;self) -&gt; bool {
        self.is_on
    }
}

// Client
fn main() {
    let light = Rc::new(RefCell::new(Light::new()));
    let turn_on_command = TurnOnCommand { light: Rc::clone(&amp;light) };
    let turn_off_command = TurnOffCommand { light: Rc::clone(&amp;light) };
    let mut remote = RemoteControl::new();


    remote.set_command(Box::new(turn_on_command));
    remote.press_button();
    println!(&quot;Light Status: {}&quot;, light.borrow().is_on()); // Borrow the Light instance


    remote.set_command(Box::new(turn_off_command));
    remote.press_button();
    println!(&quot;Light Status: {}&quot;, light.borrow().is_on()); // Borrow the Light instance

}
</code></pre></pre>
<ul>
<li><code>Command</code> is a trait that declares the <code>execute</code> method.</li>
<li><code>Light</code> is the receiver that knows how to perform the operations.</li>
<li><code>TurnOnCommand</code> and <code>TurnOffCommand</code> are concrete commands that implement the <code>Command</code> trait.</li>
<li><code>RemoteControl</code> is the invoker that triggers the commands.</li>
</ul>
<p>This pattern decouples the object that invokes the operation from the one that knows how to perform it.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="chain-of-responsibility-pattern"><a class="header" href="#chain-of-responsibility-pattern">Chain of Responsibility Pattern</a></h3>
<p>The chain of responsibility pattern is a behavioral design pattern that allows an object to pass a request along a chain of potential handlers until the request is handled.</p>
<pre><pre class="playground"><code class="language-rust">trait Handler {
    fn set_next(&amp;mut self, next: Box&lt;dyn Handler&gt;);
    fn handle(&amp;self, request: &amp;str);
}

struct BaseHandler {
    next: Option&lt;Box&lt;dyn Handler&gt;&gt;,
}

impl BaseHandler {
    fn new() -&gt; Self {
        BaseHandler { next: None }
    }
}

impl Handler for BaseHandler {
    fn set_next(&amp;mut self, next: Box&lt;dyn Handler&gt;) {
        self.next = Some(next);
    }

    fn handle(&amp;self, request: &amp;str) {
        if let Some(ref next) = self.next {
            next.handle(request);
        }
    }
}

struct ConcreteHandlerA {
    next: Option&lt;Box&lt;dyn Handler&gt;&gt;,
}

impl Handler for ConcreteHandlerA {
    fn set_next(&amp;mut self, next: Box&lt;dyn Handler&gt;) {
        self.next = Some(next);
    }

    fn handle(&amp;self, request: &amp;str) {
        if request == &quot;A&quot; {
            println!(&quot;ConcreteHandlerA handled request: {}&quot;, request);
        } else {
            println!(&quot;ConcreteHandlerA passed the request&quot;);
            if let Some(ref next) = self.next {
                next.handle(request);
            }
        }
    }
}

struct ConcreteHandlerB {
    next: Option&lt;Box&lt;dyn Handler&gt;&gt;,
}

impl Handler for ConcreteHandlerB {
    fn set_next(&amp;mut self, next: Box&lt;dyn Handler&gt;) {
        self.next = Some(next);
    }

    fn handle(&amp;self, request: &amp;str) {
        if request == &quot;B&quot; {
            println!(&quot;ConcreteHandlerB handled request: {}&quot;, request);
        } else {
            println!(&quot;ConcreteHandlerB passed the request&quot;);
            if let Some(ref next) = self.next {
                next.handle(request);
            } 
        }
    }
}


fn main() {
    let mut handler = BaseHandler::new();
    let mut handler_b = Box::new(ConcreteHandlerB { next: None });
    let handler_a = Box::new(ConcreteHandlerA { next: None });

    handler_b.set_next(handler_a);
    handler.set_next(handler_b);

    println!(&quot;Handle request A&quot;);
    handler.handle(&quot;A&quot;);
    println!(&quot;Handle request B&quot;);
    handler.handle(&quot;B&quot;);
    println!(&quot;Handle request C&quot;);
    handler.handle(&quot;C&quot;);
}
</code></pre></pre>
<ul>
<li><code>Handler</code> is a trait that defines the interface for handling requests.</li>
<li><code>BaseHandler</code> is a base struct that implements the common behavior for setting the next handler and passing the request along the chain.</li>
<li><code>ConcreteHandlerA</code> and <code>ConcreteHandlerB</code> are concrete implementations of the <code>Handler</code> trait that handle specific requests.</li>
<li>The <code>main</code> function sets up the chain and tests the handlers with different requests.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h3 id="iterator-pattern"><a class="header" href="#iterator-pattern">Iterator Pattern</a></h3>
<p>The iterator pattern is a design pattern that provides a way to access the elements of an aggregate object sequentially without exposing its underlying representation. In Rust, the iterator pattern is implemented using the <code>Iterator</code> trait.</p>
<pre><pre class="playground"><code class="language-rust">struct Counter {
    count: u32,
}

impl Counter {
    fn new() -&gt; Counter {
        Counter { count: 0 }
    }
}

impl Iterator for Counter {
    type Item = u32;

    fn next(&amp;mut self) -&gt; Option&lt;Self::Item&gt; {
        self.count += 1;
        if self.count &lt; 6 {
            Some(self.count)
        } else {
            None
        }
    }
}

fn main() {
    let mut counter = Counter::new();

    while let Some(value) = counter.next() {
        println!(&quot;{}&quot;, value);
    }

    let sum: u32 = Counter::new()
        .zip(Counter::new().skip(1))
        .map(|(a, b)| a * b)
        .filter(|x| x % 3 == 0)
        .sum();

    println!(&quot;The sum is: {}&quot;, sum);
}
</code></pre></pre>
<p>Rust's standard library provides many useful methods for iterators. In this example, we use the <code>zip</code>, <code>skip</code>, <code>map</code>, <code>filter</code>, and <code>sum</code> methods to perform various operations on the iterator.</p>
<p>The iterator pattern in Rust is a powerful and flexible way to work with sequences of data. By implementing the <code>Iterator</code> trait, you can create custom iterators and take advantage of the many methods provided by the standard library to manipulate and process data efficiently.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="mediator-pattern"><a class="header" href="#mediator-pattern">Mediator Pattern</a></h3>
<p>The mediator pattern is a behavioral design pattern that defines an object that encapsulates how a set of objects interact. This pattern promotes loose coupling by keeping objects from referring to each other explicitly and allows their interaction to be varied independently. The pattern centralizes the control logic that would otherwise be distributed among several objects.</p>
<pre><pre class="playground"><code class="language-rust">use std::cell::RefCell;
use std::rc::Rc;

trait Mediator {
    fn notify(&amp;self, sender: &amp;str, event: &amp;str);
}

struct ConcreteMediator {
    component1: Rc&lt;RefCell&lt;Component1&gt;&gt;,
    component2: Rc&lt;RefCell&lt;Component2&gt;&gt;,
}

impl ConcreteMediator {
    fn new(component1: Rc&lt;RefCell&lt;Component1&gt;&gt;, component2: Rc&lt;RefCell&lt;Component2&gt;&gt;) -&gt; Self {
        ConcreteMediator { component1, component2 }
    }
}

impl Mediator for ConcreteMediator {
    fn notify(&amp;self, sender: &amp;str, event: &amp;str) {
        if event == &quot;A&quot; {
            println!(&quot;Mediator reacts on A and triggers following operations:&quot;);
            self.component2.borrow().do_c();
        } else if event == &quot;D&quot; {
            println!(&quot;Mediator reacts on D and triggers following operations:&quot;);
            self.component1.borrow().do_b();
            self.component2.borrow().do_c();
        }
    }
}

struct Component1 {
    mediator: Option&lt;Rc&lt;RefCell&lt;ConcreteMediator&gt;&gt;&gt;,
}

impl Component1 {
    fn new() -&gt; Self {
        Component1 { mediator: None }
    }

    fn set_mediator(&amp;mut self, mediator: Rc&lt;RefCell&lt;ConcreteMediator&gt;&gt;) {
        self.mediator = Some(mediator);
    }

    fn do_a(&amp;self) {
        println!(&quot;Component 1 does A.&quot;);
        if let Some(ref mediator) = self.mediator {
            mediator.borrow().notify(&quot;Component1&quot;, &quot;A&quot;);
        }
    }

    fn do_b(&amp;self) {
        println!(&quot;Component 1 does B.&quot;);
        if let Some(ref mediator) = self.mediator {
            mediator.borrow().notify(&quot;Component1&quot;, &quot;B&quot;);
        }
    }
}

struct Component2 {
    mediator: Option&lt;Rc&lt;RefCell&lt;ConcreteMediator&gt;&gt;&gt;,
}

impl Component2 {
    fn new() -&gt; Self {
        Component2 { mediator: None }
    }

    fn set_mediator(&amp;mut self, mediator: Rc&lt;RefCell&lt;ConcreteMediator&gt;&gt;) {
        self.mediator = Some(mediator);
    }

    fn do_c(&amp;self) {
        println!(&quot;Component 2 does C.&quot;);
        if let Some(ref mediator) = self.mediator {
            mediator.borrow().notify(&quot;Component2&quot;, &quot;C&quot;);
        }
    }

    fn do_d(&amp;self) {
        println!(&quot;Component 2 does D.&quot;);
        if let Some(ref mediator) = self.mediator {
            mediator.borrow().notify(&quot;Component2&quot;, &quot;D&quot;);
        }
    }
}

fn main() {
    let component1 = Rc::new(RefCell::new(Component1::new()));
    let component2 = Rc::new(RefCell::new(Component2::new()));

    let mediator = Rc::new(RefCell::new(ConcreteMediator::new(
        Rc::clone(&amp;component1),
        Rc::clone(&amp;component2),
    ))) as Rc&lt;RefCell&lt;ConcreteMediator&gt;&gt;;

    component1.borrow_mut().set_mediator(Rc::clone(&amp;mediator));
    component2.borrow_mut().set_mediator(Rc::clone(&amp;mediator));

    println!(&quot;Client triggers operation A.&quot;);
    component1.borrow().do_a();

    println!(&quot;\nClient triggers operation D.&quot;);
    component2.borrow().do_d();
}
</code></pre></pre>
<p><code>ConcreteMediator</code> coordinates the interactions between <code>Component1</code> and <code>Component2</code>. Each component notifies the mediator when an event occurs, and the mediator decides how to handle the event and which components to notify.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="visitor-pattern"><a class="header" href="#visitor-pattern">Visitor Pattern</a></h3>
<p>The visitor pattern is a behavioral design pattern that allows you to add further operations to objects without having to modify them. It involves creating a visitor class that implements a visitor interface and then passing it to elements of the object structure.</p>
<pre><pre class="playground"><code class="language-rust">// Define the Visitor trait
trait Visitor {
    fn multiply_by_two(&amp;mut self, element: &amp;mut ElementA);
    fn add_ten(&amp;mut self, element: &amp;mut ElementB);
}

// Define the Element trait
trait Element {
    fn accept(&amp;mut self, visitor: &amp;mut dyn Visitor);
}

// Define concrete elements
struct ElementA {
    data: i32,
}

struct ElementB {
    data: i32,
}

impl Element for ElementA {
    fn accept(&amp;mut self, visitor: &amp;mut dyn Visitor) {
        visitor.multiply_by_two(self);
        println!(&quot;After the visit: {:?}&quot;, self.data);
    }
}

impl Element for ElementB {
    fn accept(&amp;mut self, visitor: &amp;mut dyn Visitor) {
        visitor.add_ten(self);
        println!(&quot;After the visit: {:?}&quot;, self.data);
    }
}

// Define a concrete visitor
struct ConcreteVisitor;

impl Visitor for ConcreteVisitor {
    fn multiply_by_two(&amp;mut self, element: &amp;mut ElementA) {
        println!(&quot;Visiting ElementA: {:?}&quot;, element.data);
        element.data *= 2;
    }

    fn add_ten(&amp;mut self, element: &amp;mut ElementB) {
        println!(&quot;Visiting ElementB: {:?}&quot;, element.data);
        element.data += 10;
    }
}

fn main() {
    let elements: Vec&lt;Box&lt;dyn Element&gt;&gt; = vec![Box::new(ElementA { data: 10 }), Box::new(ElementB { data: 5 })];
    let mut visitor = ConcreteVisitor;

    for mut element in elements {
        element.accept(&amp;mut visitor);
    }
}
</code></pre></pre>
<ul>
<li>The <code>Visitor</code> trait defines methods for visiting different types of elements.</li>
<li>The <code>Element</code> trait defines an <code>accept</code> method that takes a mutable reference to a <code>Visitor</code>.</li>
<li><code>ElementA</code> and <code>ElementB</code> are concrete implementations of the <code>Element</code> trait.</li>
<li><code>ConcreteVisitor</code> is a concrete implementation of the <code>Visitor</code> trait.</li>
<li>In the <code>main</code> function, we create a list of elements and a visitor, and then we iterate over the elements, passing the visitor to each element's <code>accept</code> method.</li>
</ul>
<p>This pattern allows you to add new operations to existing object structures without modifying those structures.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="structural-patterns"><a class="header" href="#structural-patterns">Structural Patterns</a></h3>
<p>Structural Patterns deal with object composition, trying to realize new functionality by composing objects in various ways.</p>
<h3 id="some-common-structural-design-patterns"><a class="header" href="#some-common-structural-design-patterns">Some Common Structural Design Patterns</a></h3>
<p>1- <a href="rust/patterns/structural/./adapter.html">Adapter</a>: Allows objects with incompatible interfaces to work together by wrapping their own interface around that of an already existing class.</p>
<p>2- <a href="rust/patterns/structural/./bridge.html">Bridge</a>: Decouples an abstraction from its implementation so that the two can vary independently.</p>
<p>3- <a href="rust/patterns/structural/./composite.html">Composite</a>: Composes objects into tree structures to represent part-whole hierarchies, allowing clients to treat individual objects and compositions uniformly.</p>
<p>4- <a href="rust/patterns/structural/./decorator.html">Decorator</a>: Adds additional responsibilities to an object dynamically, providing a flexible alternative to subclassing for extending functionality.</p>
<p>5- <a href="rust/patterns/structural/./facade.html">Facade</a>: Provides a simplified interface to a complex subsystem, making it easier to use.</p>
<p>6- <a href="rust/patterns/structural/./flyweight.html">Flyweight</a>: Reduces the cost of creating and manipulating a large number of similar objects by sharing as much data as possible.</p>
<p>7- <a href="rust/patterns/structural/./proxy.html">Proxy</a>: Provides a surrogate or placeholder for another object to control access to it.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="adapter-design-pattern"><a class="header" href="#adapter-design-pattern">Adapter Design Pattern</a></h3>
<p>The Adapter pattern allows incompatible interfaces to work together. This is useful when you want to use a class that doesn't have the exact interface you need.</p>
<pre><pre class="playground"><code class="language-rust">// The existing interface that we want to adapt
trait Target {
    fn request(&amp;self) -&gt; String;
}

// The adaptee class with a different interface
struct Adaptee;

impl Adaptee {
    fn specific_request(&amp;self) -&gt; String {
        &quot;specific request&quot;.to_string()
    }
}

// The adapter class that makes Adaptee compatible with Target
struct Adapter {
    adaptee: Adaptee,
}

impl Adapter {
    fn new(adaptee: Adaptee) -&gt; Self {
        Adapter { adaptee }
    }
}

impl Target for Adapter {
    fn request(&amp;self) -&gt; String {
        // Translate the interface of Adaptee to the Target interface
        self.adaptee.specific_request()
    }
}

fn main() {
    let adaptee = Adaptee;
    let adapter = Adapter::new(adaptee);

    // Client code can use the adapter as if it were a Target
    println!(&quot;Adapter request: {}&quot;, adapter.request());
}
</code></pre></pre>
<ol>
<li><strong>Target Trait</strong>: Defines the interface that the client expects.</li>
<li><strong>Adaptee Struct</strong>: The existing class with a different interface that needs to be adapted.</li>
<li><strong>Adapter Struct</strong>: Implements the <code>Target</code> trait and translates the interface of <code>Adaptee</code> to the <code>Target</code> interface.</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h3 id="bridge-design-pattern"><a class="header" href="#bridge-design-pattern">Bridge Design Pattern</a></h3>
<p>The Bridge pattern is used to separate the abstraction from its implementation, allowing them to vary independently. It is useful when both the class and what it does vary often.</p>
<pre><pre class="playground"><code class="language-rust">// Abstraction
trait Shape {
    fn draw(&amp;self);
}

// Implementor
trait Color {
    fn fill(&amp;self);
}

// Concrete Implementor 1
struct Red;

impl Color for Red {
    fn fill(&amp;self) {
        println!(&quot;Filling with red color&quot;);
    }
}

// Concrete Implementor 2
struct Blue;

impl Color for Blue {
    fn fill(&amp;self) {
        println!(&quot;Filling with blue color&quot;);
    }
}

// Refined Abstraction
struct Circle {
    color: Box&lt;dyn Color&gt;,
}

impl Shape for Circle {
    fn draw(&amp;self) {
        print!(&quot;Drawing Circle - &quot;);
        self.color.fill();
    }
}

// Refined Abstraction
struct Square {
    color: Box&lt;dyn Color&gt;,
}

impl Shape for Square {
    fn draw(&amp;self) {
        print!(&quot;Drawing Square - &quot;);
        self.color.fill();
    }
}

fn main() {
    let red = Box::new(Red);
    let blue = Box::new(Blue);

    let red_circle = Circle { color: red };
    let blue_square = Square { color: blue };

    red_circle.draw();
    blue_square.draw();
}
</code></pre></pre>
<ol>
<li><strong>Shape Trait</strong>: Defines the abstraction with a <code>draw</code> method.</li>
<li><strong>Color Trait</strong>: Defines the implementor with a <code>fill</code> method.</li>
<li><strong>Red and Blue Structs</strong>: Concrete implementors of the <code>Color</code> trait.</li>
<li><strong>Circle and Square Structs</strong>: Refined abstractions that implement the <code>Shape</code> trait and use a <code>Color</code> to fill the shape.</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h3 id="composite-design-pattern"><a class="header" href="#composite-design-pattern">Composite Design Pattern</a></h3>
<p>The Composite pattern allows you to compose objects into tree structures to represent part-whole hierarchies. It lets clients treat individual objects and compositions of objects uniformly.</p>
<pre><pre class="playground"><code class="language-rust">trait Component {
    fn operation(&amp;self) -&gt; String;
}

struct Leaf {
    name: String,
}

impl Leaf {
    fn new(name: &amp;str) -&gt; Self {
        Leaf {
            name: name.to_string(),
        }
    }
}

impl Component for Leaf {
    fn operation(&amp;self) -&gt; String {
        format!(&quot;Leaf {}&quot;, self.name)
    }
}

struct Composite {
    name: String,
    children: Vec&lt;Box&lt;dyn Component&gt;&gt;,
}

impl Composite {
    fn new(name: &amp;str) -&gt; Self {
        Composite {
            name: name.to_string(),
            children: Vec::new(),
        }
    }

    fn add(&amp;mut self, component: Box&lt;dyn Component&gt;) {
        self.children.push(component);
    }
}

impl Component for Composite {
    fn operation(&amp;self) -&gt; String {
        let mut result = format!(&quot;Composite {} contains:\n&quot;, self.name);
        for child in &amp;self.children {
            result.push_str(&amp;format!(&quot;  {}\n&quot;, child.operation()));
        }
        result
    }
}

fn main() {
    let mut root = Composite::new(&quot;root&quot;);

    let leaf1 = Box::new(Leaf::new(&quot;Leaf 1&quot;));
    let leaf2 = Box::new(Leaf::new(&quot;Leaf 2&quot;));

    let mut sub_tree = Composite::new(&quot;sub-tree&quot;);
    let leaf3 = Box::new(Leaf::new(&quot;Leaf 3&quot;));
    sub_tree.add(leaf3);

    root.add(leaf1);
    root.add(leaf2);
    root.add(Box::new(sub_tree));

    println!(&quot;{}&quot;, root.operation());
}
</code></pre></pre>
<ol>
<li><strong>Component Trait</strong>: Defines the common interface for all components, both simple and complex.</li>
<li><strong>Leaf Struct</strong>: Represents the leaf objects in the composition. Implements the <code>Component</code> trait.</li>
<li><strong>Composite Struct</strong>: Represents the composite objects that can have children. Implements the <code>Component</code> trait and provides methods to add children.</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h3 id="decorator-design-pattern"><a class="header" href="#decorator-design-pattern">Decorator Design Pattern</a></h3>
<p>The Decorator pattern allows behavior to be added to an individual object, dynamically, without affecting the behavior of other objects from the same class. This is useful for adhering to the Single Responsibility Principle by allowing functionality to be divided between classes with unique areas of concern.</p>
<pre><pre class="playground"><code class="language-rust">trait Coffee {
    fn cost(&amp;self) -&gt; f64;
    fn description(&amp;self) -&gt; String;
}

struct SimpleCoffee;

impl Coffee for SimpleCoffee {
    fn cost(&amp;self) -&gt; f64 {
        5.0
    }

    fn description(&amp;self) -&gt; String {
        &quot;Simple coffee&quot;.to_string()
    }
}

struct MilkDecorator {
    coffee: Box&lt;dyn Coffee&gt;,
}

impl MilkDecorator {
    fn new(coffee: Box&lt;dyn Coffee&gt;) -&gt; Self {
        MilkDecorator { coffee }
    }
}

impl Coffee for MilkDecorator {
    fn cost(&amp;self) -&gt; f64 {
        self.coffee.cost() + 1.5
    }

    fn description(&amp;self) -&gt; String {
        format!(&quot;{}, with milk&quot;, self.coffee.description())
    }
}

struct SugarDecorator {
    coffee: Box&lt;dyn Coffee&gt;,
}

impl SugarDecorator {
    fn new(coffee: Box&lt;dyn Coffee&gt;) -&gt; Self {
        SugarDecorator { coffee }
    }
}

impl Coffee for SugarDecorator {
    fn cost(&amp;self) -&gt; f64 {
        self.coffee.cost() + 0.5
    }

    fn description(&amp;self) -&gt; String {
        format!(&quot;{}, with sugar&quot;, self.coffee.description())
    }
}

fn main() {
    let simple_coffee = Box::new(SimpleCoffee);
    println!(&quot;Cost: {}, Description: {}&quot;, simple_coffee.cost(), simple_coffee.description());

    let milk_coffee = Box::new(MilkDecorator::new(simple_coffee));
    println!(&quot;Cost: {}, Description: {}&quot;, milk_coffee.cost(), milk_coffee.description());

    let sugar_milk_coffee = Box::new(SugarDecorator::new(milk_coffee));
    println!(&quot;Cost: {}, Description: {}&quot;, sugar_milk_coffee.cost(), sugar_milk_coffee.description());
}
</code></pre></pre>
<ol>
<li><strong>Coffee Trait</strong>: Defines the interface for the coffee with methods <code>cost</code> and <code>description</code>.</li>
<li><strong>SimpleCoffee Struct</strong>: Implements the <code>Coffee</code> trait with basic cost and description.</li>
<li><strong>MilkDecorator Struct</strong>: A decorator that adds milk to the coffee, increasing the cost and updating the description.</li>
<li><strong>SugarDecorator Struct</strong>: A decorator that adds sugar to the coffee, increasing the cost and updating the description.</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h3 id="facade-design-pattern"><a class="header" href="#facade-design-pattern">Facade Design Pattern</a></h3>
<p>The Facade pattern provides a simplified interface to a complex subsystem. It defines a higher-level interface that makes the subsystem easier to use.</p>
<pre><pre class="playground"><code class="language-rust">struct SubsystemA;

impl SubsystemA {
    fn operation_a1(&amp;self) -&gt; String {
        &quot;Subsystem A, Operation A1&quot;.to_string()
    }

    fn operation_a2(&amp;self) -&gt; String {
        &quot;Subsystem A, Operation A2&quot;.to_string()
    }
}

struct SubsystemB;

impl SubsystemB {
    fn operation_b1(&amp;self) -&gt; String {
        &quot;Subsystem B, Operation B1&quot;.to_string()
    }

    fn operation_b2(&amp;self) -&gt; String {
        &quot;Subsystem B, Operation B2&quot;.to_string()
    }
}

struct Facade {
    subsystem_a: SubsystemA,
    subsystem_b: SubsystemB,
}

impl Facade {
    fn new() -&gt; Self {
        Facade {
            subsystem_a: SubsystemA,
            subsystem_b: SubsystemB,
        }
    }

    fn operation(&amp;self) -&gt; String {
        let mut result = String::new();
        result.push_str(&amp;self.subsystem_a.operation_a1());
        result.push_str(&quot;\n&quot;);
        result.push_str(&amp;self.subsystem_a.operation_a2());
        result.push_str(&quot;\n&quot;);
        result.push_str(&amp;self.subsystem_b.operation_b1());
        result.push_str(&quot;\n&quot;);
        result.push_str(&amp;self.subsystem_b.operation_b2());
        result
    }
}

fn main() {
    let facade = Facade::new();
    println!(&quot;{}&quot;, facade.operation());
}
</code></pre></pre>
<ol>
<li><strong>SubsystemA and SubsystemB</strong>: Represent the complex subsystems with their own operations.</li>
<li><strong>Facade Struct</strong>: Provides a simplified interface to interact with the subsystems.</li>
<li><strong>new() Method</strong>: Initializes the subsystems.</li>
<li><strong>operation() Method</strong>: Provides a higher-level interface to perform operations involving multiple subsystems.</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h3 id="flyweight-design-pattern"><a class="header" href="#flyweight-design-pattern">Flyweight Design Pattern</a></h3>
<p>The Flyweight pattern is used to minimize memory usage by sharing as much data as possible with similar objects. It is particularly useful when dealing with a large number of objects that have some shared state.</p>
<pre><pre class="playground"><code class="language-rust">use std::collections::HashMap;
use std::rc::Rc;

// The Flyweight struct that contains the shared state
struct Flyweight {
    shared_state: String,
}

impl Flyweight {
    fn new(shared_state: &amp;str) -&gt; Self {
        Flyweight {
            shared_state: shared_state.to_string(),
        }
    }

    fn operation(&amp;self, unique_state: &amp;str) {
        println!(
            &quot;Flyweight: Displaying shared ({}) and unique ({}) state.&quot;,
            self.shared_state, unique_state
        );
    }
}

// The FlyweightFactory that creates and manages Flyweight objects
struct FlyweightFactory {
    flyweights: HashMap&lt;String, Rc&lt;Flyweight&gt;&gt;,
}

impl FlyweightFactory {
    fn new() -&gt; Self {
        FlyweightFactory {
            flyweights: HashMap::new(),
        }
    }

    fn get_flyweight(&amp;mut self, shared_state: &amp;str) -&gt; Rc&lt;Flyweight&gt; {
        if !self.flyweights.contains_key(shared_state) {
            println!(&quot;FlyweightFactory: Creating new flyweight for state '{}'.&quot;, shared_state);
            let flyweight = Rc::new(Flyweight::new(shared_state));
            self.flyweights.insert(shared_state.to_string(), flyweight);
        } else {
            println!(&quot;FlyweightFactory: Reusing existing flyweight for state '{}'.&quot;, shared_state);
        }
        Rc::clone(self.flyweights.get(shared_state).unwrap())
    }
}

fn main() {
    let mut factory = FlyweightFactory::new();

    let flyweight1 = factory.get_flyweight(&quot;shared1&quot;);
    flyweight1.operation(&quot;unique1&quot;);

    let flyweight2 = factory.get_flyweight(&quot;shared2&quot;);
    flyweight2.operation(&quot;unique2&quot;);

    let flyweight3 = factory.get_flyweight(&quot;shared1&quot;);
    flyweight3.operation(&quot;unique3&quot;);
}
</code></pre></pre>
<ol>
<li><strong>Flyweight Struct</strong>: Contains the shared state that can be reused.</li>
<li><strong>FlyweightFactory Struct</strong>: Manages the creation and reuse of Flyweight objects.</li>
<li><strong>get_flyweight() Method</strong>: Returns an existing Flyweight if available, otherwise creates a new one.</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h3 id="proxy-design-pattern"><a class="header" href="#proxy-design-pattern">Proxy Design Pattern</a></h3>
<p>The Proxy pattern provides a surrogate or placeholder for another object to control access to it. This can be useful for various purposes such as lazy initialization, access control, logging, etc.</p>
<pre><pre class="playground"><code class="language-rust">trait Subject {
    fn request(&amp;self) -&gt; String;
}

struct RealSubject;

impl Subject for RealSubject {
    fn request(&amp;self) -&gt; String {
        &quot;RealSubject: Handling request.&quot;.to_string()
    }
}

struct Proxy {
    real_subject: RealSubject,
}

impl Proxy {
    fn new() -&gt; Self {
        Proxy {
            real_subject: RealSubject,
        }
    }
}

impl Subject for Proxy {
    fn request(&amp;self) -&gt; String {
        println!(&quot;Proxy: Logging access to RealSubject.&quot;);
        self.real_subject.request()
    }
}

fn main() {
    let proxy = Proxy::new();
    println!(&quot;{}&quot;, proxy.request());
}
</code></pre></pre>
<ol>
<li><strong>Subject Trait</strong>: Defines the common interface for <code>RealSubject</code> and <code>Proxy</code>.</li>
<li><strong>RealSubject Struct</strong>: Implements the <code>Subject</code> trait and contains the actual business logic.</li>
<li><strong>Proxy Struct</strong>: Contains a reference to <code>RealSubject</code> and implements the <code>Subject</code> trait to control access to <code>RealSubject</code>.</li>
<li><strong>Proxy::new() Method</strong>: Creates a new instance of the <code>Proxy</code> with an instance of <code>RealSubject</code>.</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h3 id="algorithms"><a class="header" href="#algorithms">Algorithms</a></h3>
<p>1- <a href="rust/algorithms/./sorting/intro.html">Sorting Algorithms</a>: Arrange data in a specific order (ascending, descending, etc.).</p>
<p>2- <a href="rust/algorithms/./searching/intro.html">Searching Algorithms</a>: Locate specific data in a dataset.</p>
<p>3- <a href="rust/algorithms/./graph/intro.html">Graph Algorithms</a>: Solve problems involving graphs (nodes and edges).</p>
<p>4- <a href="rust/algorithms/./dynamic-programming/intro.html">Dynamic Programming Algorithms</a>: Solve complex problems by breaking them 
down into overlapping subproblems.</p>
<p>5- <a href="rust/algorithms/./cryptographic">Cryptographic Algorithms</a>: Secure data and communications.</p>
<!-- 

# Machine Learning Algorithms
**Purpose:** Learn patterns and make predictions from data.

**Examples:**
- Linear Regression
- Decision Trees
- Support Vector Machines
- Neural Networks
- K-Means Clustering

# Numerical Algorithms
**Purpose:** Solve mathematical problems computationally.

**Examples:**
- Gaussian Elimination (Linear Systems)
- Newton-Raphson Method (Root Finding)
- Monte Carlo Methods (Simulations)

# String Processing Algorithms
**Purpose:** Operate on and analyze strings.

**Examples:**
- Knuth-Morris-Pratt (KMP) Algorithm
- Rabin-Karp Algorithm
- Levenshtein Distance
- Suffix Trees and Arrays

# Optimization Algorithms
**Purpose:** Find the best solution under given constraints.

**Examples:**
- Gradient Descent
- Simulated Annealing
- Genetic Algorithms
- Linear Programming

# Concurrent and Parallel Algorithms
**Purpose:** Optimize computations across multiple processors or threads.

**Examples:**
- MapReduce
- Fork-Join Algorithms
- Work Stealing Schedulers

# Randomized Algorithms
**Purpose:** Use randomness for computational processes.

**Examples:**
- QuickSort (Randomized Pivot)
- Monte Carlo Algorithms
- Las Vegas Algorithms

# Miscellaneous Algorithms
**Compression Algorithms:**
- Huffman Encoding
- LZW

**Simulation Algorithms:**
- Monte Carlo Simulation

**Data Structure-Specific Algorithms:**
- AVL Tree Rotations
- Hashing Techniques. Sorting Algorithms

--><div style="break-before: page; page-break-before: always;"></div><h3 id="sorting-algorithms"><a class="header" href="#sorting-algorithms">Sorting Algorithms</a></h3>
<p>Sorting algorithms are methods used to rearrange a list of elements in a particular order, typically in ascending or descending order. They are fundamental in computer science and are used in various applications, such as searching, data analysis, and database management.</p>
<p>1- <a href="rust/algorithms/sorting/./buble.html">Bubble Sort</a>: A simple comparison-based algorithm where each pair of adjacent elements is compared, and the elements are swapped if they are in the wrong order. This process is repeated until the list is sorted.</p>
<p>2- <a href="rust/algorithms/sorting/./quick.html">QuickSort</a>: A divide-and-conquer algorithm that selects a 'pivot' element from the array and partitions the other elements into two sub-arrays, according to whether they are less than or greater than the pivot. The sub-arrays are then sorted recursively.</p>
<p>3- <a href="rust/algorithms/sorting/./merge.html">Merge Sort</a>: Another divide-and-conquer algorithm that divides the list into two halves, recursively sorts each half, and then merges the two sorted halves back together.</p>
<p>4- <a href="rust/algorithms/sorting/./heap.html">Heap Sort</a>: A comparison-based sorting technique based on a binary heap data structure. It involves building a heap from the input data and then repeatedly extracting the maximum element from the heap and rebuilding the heap until all elements are sorted.</p>
<p>5- <a href="rust/algorithms/sorting/./counting.html">Counting Sort</a>: A non-comparison-based sorting algorithm that works by counting the number of occurrences of each distinct element in the input list. The count is then used to place the elements in the correct position in the output list.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="bubble-sort-algorithm"><a class="header" href="#bubble-sort-algorithm">Bubble Sort Algorithm</a></h3>
<p>Bubble sort is a simple sorting algorithm that repeatedly steps through the list, compares adjacent elements, and swaps them if they are in the wrong order. The pass through the list is repeated until the list is sorted. For a visual explanation of the algorithm please visit <a href="https://en.wikipedia.org/wiki/Bubble_sort">Wikipedia</a>.</p>
<pre><pre class="playground"><code class="language-rust">fn bubble_sort(arr: &amp;mut [i32]) {
    let mut n = arr.len();
    while n &gt; 0 {
        let mut new_n = 0;
        for i in 1..n {
            if arr[i - 1] &gt; arr[i] {
                arr.swap(i - 1, i);
                new_n = i;
            }
        }
        println!(&quot;Iteration {:?} {}&quot;, arr, new_n);
        n = new_n;
    }
}

fn main() {
    let mut arr = [64, 34, 25, 12, 22, 12, 90, 33];
    println!(&quot;Unsorted array: {:?}&quot;, arr);
    bubble_sort(&amp;mut arr);
    println!(&quot;Sorted array: {:?}&quot;, arr);
}
</code></pre></pre>
<ul>
<li>The <code>bubble_sort</code> function takes a mutable slice of integers.</li>
<li>The outer <code>while</code> loop continues until the array is sorted. The variable <code>n</code> keeps track of the length of the unsorted portion of the array.</li>
<li>The inner <code>for</code> loop iterates through the array, comparing adjacent elements.</li>
<li>If the element at position <code>i-1</code> is greater than the element at position <code>i</code>, they are swapped using the <code>swap</code> method.</li>
<li>The variable <code>new_n</code> keeps track of the last swap position, which helps in reducing the number of comparisons in subsequent passes.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h3 id="quick-sort-algorithm"><a class="header" href="#quick-sort-algorithm">Quick Sort Algorithm</a></h3>
<p>Quick sort is based on partitioning of an array of data into smaller arrays. A large array is partitioned into two arrays, one of which holds values smaller than the specified value, say pivot, based on which the partition is made and another array holds values greater than the pivot value.</p>
<ol>
<li>Pick an element, called a pivot, from the array.</li>
<li>Partition the array into two sub-arrays:
<ul>
<li>Elements less than the pivot.</li>
<li>Elements greater than the pivot.</li>
</ul>
</li>
<li>Recursively apply the above steps to the sub-arrays.</li>
</ol>
<pre><pre class="playground"><code class="language-rust">fn quick_sort(arr: &amp;mut [i32]) {
     let len = arr.len();
     if len &lt; 2 {
          return;
     }
     let pivot_index = partition(arr);
     println!(&quot;Left array: {:?}&quot;, &amp;arr[0..pivot_index]);
     println!(&quot;Right array: {:?}&quot;, &amp;arr[pivot_index + 1..len]);
     quick_sort(&amp;mut arr[0..pivot_index]);
     quick_sort(&amp;mut arr[pivot_index + 1..len]);
}

fn partition(arr: &amp;mut [i32]) -&gt; usize {
     let len = arr.len();

     // Pick the mid element as pivot
     let pivot_index = len / 2;
     arr.swap(pivot_index, len - 1);
     
     let mut store_index = 0;
     for i in 0..len - 1 {
          if arr[i] &lt; arr[len - 1] {
                arr.swap(i, store_index);
                store_index += 1;
          }
     }
     arr.swap(store_index, len - 1);
     store_index
}

fn main() {
     let mut arr = [64, 34, 25, 12, 22, 12, 90, 33];
     println!(&quot;Original array: {:?}&quot;, arr);
     quick_sort(&amp;mut arr);
     println!(&quot;Sorted array: {:?}&quot;, arr);
}
</code></pre></pre>
<ul>
<li><code>quick_sort</code> function: This function takes a mutable slice of integers and sorts it using the Quick Sort algorithm. It recursively sorts the sub-arrays.</li>
<li><code>partition</code> function: This function partitions the array around a pivot element and returns the index of the pivot after partitioning. Often it is better to select the mid item as the pivot if the array is already semi-sorted.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h3 id="merge-sort-algorithm"><a class="header" href="#merge-sort-algorithm">Merge Sort Algorithm</a></h3>
<p>Merge sort is a divide-and-conquer algorithm that splits an array into halves, recursively sorts each half, and then merges the sorted halves to produce the final sorted array. For a visual explanation of the algorithm please visit <a href="https://www.programiz.com/dsa/merge-sort">Programiz</a>.</p>
<ol>
<li>Split the array into two halves.</li>
<li>Recursively sort each half.</li>
<li>Merge the two sorted halves into a single sorted array.</li>
</ol>
<pre><pre class="playground"><code class="language-rust">fn merge_sort&lt;T: Ord + Clone&gt;(arr: &amp;mut [T]) {
    let mid = arr.len() / 2;
    if mid == 0 {
        return;
    }

    merge_sort(&amp;mut arr[..mid]);
    merge_sort(&amp;mut arr[mid..]);

    let mut ret = arr.to_vec();

    merge(&amp;arr[..mid], &amp;arr[mid..], &amp;mut ret[..]);

    arr.clone_from_slice(&amp;ret);
}

// Merge two subarrays left and right into ret array
fn merge&lt;T: Ord + Clone&gt;(left: &amp;[T], right: &amp;[T], ret: &amp;mut [T]) {
    let mut left_iter = left.iter();
    let mut right_iter = right.iter();
    let mut left_peek = left_iter.next();
    let mut right_peek = right_iter.next();
    let mut i = 0;

    // Until we reach either end of either left or right array, pick the smaller 
    // among the elements and place it in the correct position at the returned array
    while let (Some(left_val), Some(right_val)) = (left_peek, right_peek) {
        if left_val &lt;= right_val {
            ret[i] = left_val.clone();
            left_peek = left_iter.next();
        } else {
            ret[i] = right_val.clone();
            right_peek = right_iter.next();
        }
        i += 1;
    }

    // At this point either left or right array may have elements 
    // not cloned to the returned array yet, those elements are 
    // cloned next.

    while let Some(left_val) = left_peek {
        ret[i] = left_val.clone();
        left_peek = left_iter.next();
        i += 1;
    }

    while let Some(right_val) = right_peek {
        ret[i] = right_val.clone();
        right_peek = right_iter.next();
        i += 1;
    }
}

fn main() {
    let mut arr = vec![38, 27, 43, 3, 9, 82, 10];
    println!(&quot;Original array: {:?}&quot;, arr);
    merge_sort(&amp;mut arr);
    println!(&quot;Sorted array: {:?}&quot;, arr);
}
</code></pre></pre>
<ul>
<li><code>merge_sort</code> function: Recursively splits the array into halves and sorts each half.</li>
<li><code>merge</code> function: Merges two sorted slices into a single sorted slice.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h3 id="heap-sort-algorithm"><a class="header" href="#heap-sort-algorithm">Heap Sort Algorithm</a></h3>
<p>Heap sort is a comparison-based sorting algorithm that uses a <a href="https://www.programiz.com/dsa/heap-data-structure">binary heap data structure</a>. It divides its input into a sorted and an unsorted region and iteratively shrinks the unsorted region by extracting the largest element and moving that to the sorted region. For a visual explanation of the algorithm please visit <a href="https://www.programiz.com/dsa/heap-sort">Programiz</a>.</p>
<ol>
<li>Build a max heap from the input data.</li>
<li>At this point, the largest item is stored at the root of the heap. Replace it with the last item of the heap followed by reducing the size of the heap by one. Finally, heapify the root of the tree.</li>
<li>Repeat step 2 while the size of the heap is greater than 1.</li>
</ol>
<pre><pre class="playground"><code class="language-rust">fn heapify(arr: &amp;mut [i32], n: usize, i: usize) {
    // Find largest among root, left child and right child
    let mut largest = i;
    let left = 2 * i + 1;
    let right = 2 * i + 2;

    if left &lt; n &amp;&amp; arr[left] &gt; arr[largest] {
        largest = left;
    }

    if right &lt; n &amp;&amp; arr[right] &gt; arr[largest] {
        largest = right;
    }

    // Swap and continue heapifying if root is not largest
    if largest != i {
        arr.swap(i, largest);
        heapify(arr, n, largest);
    }
}

fn heap_sort(arr: &amp;mut [i32]) {
    let n = arr.len();

    // Build max heap
    for i in (0..n / 2).rev() {
        heapify(arr, n, i);
    }

    // At this point arr[0] holds the larger item
    println!(&quot;Max heap array: {:?}&quot;, arr);

    // Heap sort, 
    for i in (1..n).rev() {
        arr.swap(0, i);
        // Heapify root element to get highest element at root again
        heapify(arr, i, 0);
    } 
} 

fn main() {
    let mut arr = [64, 34, 25, 12, 22, 12, 90, 33];
    println!(&quot;Original array: {:?}&quot;, arr);
    heap_sort(&amp;mut arr);
    println!(&quot;Sorted array: {:?}&quot;, arr);
}
</code></pre></pre>
<ul>
<li>The <code>heapify</code> function ensures that the subtree rooted at index <code>i</code> is a max heap. It compares the root with its children and swaps them if necessary, then recursively heapifies the affected subtree.</li>
<li>The <code>heap_sort</code> function first builds a max heap from the input array. It then repeatedly extracts the maximum element from the heap and places it at the end of the array, reducing the heap size each time.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h3 id="counting-sort-algorithm"><a class="header" href="#counting-sort-algorithm">Counting Sort Algorithm</a></h3>
<p>Counting sort is an integer sorting algorithm that operates by counting the number of objects that have distinct key values. It is not a comparison-based sorting algorithm and is efficient when the range of input values is not significantly greater than the number of objects to be sorted.  For a visual explanation of the algorithm please visit <a href="https://www.programiz.com/dsa/counting-sort">Programiz</a>.</p>
<ol>
<li>Determine the minimum and maximum values in the input array.</li>
<li>Create an array of size equal to the range of the input values, initialized to zero.</li>
<li>Iterate through the input array and count the occurrences of each value, storing the counts in the count array.</li>
<li>Modify the count array such that each element at each index stores the sum of previous counts. This step helps in placing the elements in the correct position in the output array.</li>
<li>Iterate through the input array in reverse order, placing each element in its correct position in the output array based on the count array, and then decrease the count by one.</li>
</ol>
<pre><pre class="playground"><code class="language-rust">fn counting_sort(arr: &amp;mut [usize], max_value: usize) {
    let mut count = vec![0; max_value + 1];
    let mut output = vec![0; arr.len()];

    // Count the occurrences of each value
    for &amp;num in arr.iter() {
        count[num] += 1;
    }
    println!(&quot;Count array: {:?}&quot;, count);

    // Accumulate the counts
    for i in 1..=max_value {
        count[i] += count[i - 1];
    }
    println!(&quot;Accumulated count array: {:?}&quot;, count);

    // Build the output array
    for &amp;num in arr.iter().rev() {
        println!(&quot;Current number being processed: {}&quot;, num);
        output[count[num] - 1] = num;
        println!(&quot;Output: {:?}&quot;, output);
        count[num] -= 1;
    }

    // Copy the sorted elements back to the original array
    arr.copy_from_slice(&amp;output);
}

fn main() {
    let mut arr = [4, 2, 2, 8, 3, 3, 1];
    let max_value = *arr.iter().max().unwrap();
    counting_sort(&amp;mut arr, max_value);
    println!(&quot;Sorted array: {:?}&quot;, arr);
}
</code></pre></pre>
<ul>
<li>The <code>counting_sort</code> function takes a mutable slice of integers <code>arr</code> and the maximum value <code>max_value</code> in the array.</li>
<li>It initializes a <code>count</code> array to store the count of each unique value and an <code>output</code> array to store the sorted elements.</li>
<li>It iterates through the input array to count the occurrences of each value.</li>
<li>It modifies the <code>count</code> array to accumulate the counts.</li>
<li>It iterates through the input array in reverse order to place each element in its correct position in the <code>output</code> array.</li>
<li>Finally, it copies the sorted elements from the <code>output</code> array back to the original array.</li>
</ul>
<p>This implementation assumes that the input array contains non-negative integers and that the maximum value is known or can be determined.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="searching-algorithms"><a class="header" href="#searching-algorithms">Searching Algorithms</a></h3>
<p>Searching algorithms are designed to retrieve information stored within some data structure. They are fundamental to computer science and are used to solve a variety of problems. </p>
<p>1- <a href="rust/algorithms/searching/./linear.html">Linear Search</a>: A simple search algorithm that checks every element in the data structure until the desired element is found or the end is reached.</p>
<p>2- <a href="rust/algorithms/searching/./binary.html">Binary Search</a>: An efficient search algorithm that works on sorted data structures by repeatedly dividing the search interval in half until the target value is found or the interval is empty.</p>
<p>3- <a href="rust/algorithms/searching/./depth-first.html">Depth-First Search (DFS)</a>: An algorithm for traversing or searching tree or graph data structures, which starts at the root and explores as far as possible along each branch before backtracking.</p>
<p>4- <a href="rust/algorithms/searching/./breadth-first.html">Breadth-First Search (BFS)</a>: An algorithm for traversing or searching tree or graph data structures, which starts at the root and explores all neighbor nodes at the present depth prior to moving on to nodes at the next depth level.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="linear-search-algorithm"><a class="header" href="#linear-search-algorithm">Linear Search Algorithm</a></h3>
<p>Linear search is a simple searching algorithm that checks each element in a list sequentially until the desired element is found or the list ends.</p>
<pre><pre class="playground"><code class="language-rust">fn linear_search(arr: &amp;[i32], target: i32) -&gt; Option&lt;usize&gt; {
    for (index, &amp;item) in arr.iter().enumerate() {
        if item == target {
            return Some(index);
        }
    }
    None
}

fn main() {
    let numbers = [1, 3, 5, 7, 9, 11];
    let target = 7;

    match linear_search(&amp;numbers, target) {
        Some(index) =&gt; println!(&quot;Found {} at index {}&quot;, target, index),
        None =&gt; println!(&quot;{} not found in the array&quot;, target),
    }
}
</code></pre></pre>
<ul>
<li>The <code>linear_search</code> function takes a slice of integers (<code>arr</code>) and a target integer (<code>target</code>) as arguments. </li>
<li>The function iterates over the array using <code>enumerate()</code> which provides both the index and the value of each element. For each element, it checks if the element is equal to the target. If a match is found, it returns the index wrapped in <code>Some</code>. If the loop completes without finding the target, the function returns <code>None</code>.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h3 id="binary-search-algorithm"><a class="header" href="#binary-search-algorithm">Binary Search Algorithm</a></h3>
<p>Binary search is an efficient algorithm for finding an item from a sorted list of items. It works by repeatedly dividing in half the portion of the list that could contain the item, until you've narrowed down the possible locations to just one.</p>
<p>This implementation assumes that the input array is sorted. If the array is not sorted, the binary search algorithm will not work correctly. Check out the <a href="rust/algorithms/searching/../sorting/intro.html">sorting section</a> for implementations of some of array sorting algorithms.</p>
<pre><pre class="playground"><code class="language-rust">fn binary_search(arr: &amp;[i32], target: i32) -&gt; Option&lt;usize&gt; {
    let mut low = 0;
    let mut high = arr.len() - 1;

    while low &lt;= high {
        let mid = (low + high) / 2;
        if arr[mid] == target {
            return Some(mid);
        } else if arr[mid] &lt; target {
            low = mid + 1;
        } else {
            high = mid - 1;
        }
    }

    None
}

fn main() {
    let arr = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
    let target = 6;
    match binary_search(&amp;arr, target) {
        Some(index) =&gt; println!(&quot;Found {} at index {}&quot;, target, index),
        None =&gt; println!(&quot;{} not found in the array&quot;, target),
    }
}
</code></pre></pre>
<ul>
<li>The <code>binary_search</code> function takes a slice of integers and a target integer to search for.</li>
<li>It initializes two pointers, <code>low</code> and <code>high</code>, to the start and end of the array, respectively.</li>
<li>It enters a loop where it calculates the middle index and compares the middle element with the target.</li>
<li>If the middle element is equal to the target, it returns the index.</li>
<li>If the middle element is less than the target, it adjusts the <code>low</code> pointer to search the right half of the array.</li>
<li>If the middle element is greater than the target, it adjusts the <code>high</code> pointer to search the left half of the array.</li>
<li>If the target is not found, it returns <code>None</code>.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h3 id="depth-first-search-dfs-algorithm-wip"><a class="header" href="#depth-first-search-dfs-algorithm-wip">Depth First Search (DFS) Algorithm (WIP)</a></h3>
<p>Depth First Search (DFS) is an algorithm for traversing or searching tree or graph data structures. The algorithm starts at the root node (selecting some arbitrary node as the root in the case of a graph) and explores as far as possible along each branch before backtracking.</p>
<pre><pre class="playground"><code class="language-rust">use std::collections::HashMap;

fn dfs(graph: &amp;HashMap&lt;i32, Vec&lt;i32&gt;&gt;, start: i32, visited: &amp;mut Vec&lt;i32&gt;) {
    if visited.contains(&amp;start) {
        return;
    }
    visited.push(start);
    if let Some(neighbors) = graph.get(&amp;start) {
        for &amp;neighbor in neighbors {
            dfs(graph, neighbor, visited);
        }
    }
}

fn main() {
    // Create a sample graph as an adjacency list
    let mut graph = HashMap::new();
    graph.insert(0, vec![1, 2]);
    graph.insert(1, vec![2]);
    graph.insert(2, vec![0, 3]);
    graph.insert(3, vec![3]);

    // Vector to keep track of visited nodes
    let mut visited = Vec::new();

    // Perform DFS starting from node 2
    dfs(&amp;graph, 2, &amp;mut visited);

    // Print the visited nodes
    println!(&quot;Visited nodes: {:?}&quot;, visited);
}
</code></pre></pre>
<ol>
<li><strong>Graph Representation</strong>: The graph is represented using a <code>HashMap</code> where each key is a node, and the value is a vector of its neighbors.</li>
<li><strong>DFS Function</strong>: The <code>dfs</code> function takes a reference to the graph, the current node, and a mutable reference to a vector of visited nodes.</li>
<li><strong>Base Case</strong>: If the current node has already been visited, the function returns.</li>
<li><strong>Visit Node</strong>: The current node is added to the visited vector.</li>
<li><strong>Recursive Call</strong>: The function recursively visits all the neighbors of the current node.</li>
<li><strong>Main Function</strong>: The <code>main</code> function initializes the graph, creates a vector to track visited nodes, and calls the <code>dfs</code> function starting from node 2. Finally, it prints the visited nodes.</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h3 id="breadth-first-search-bfs-algorithm-wip"><a class="header" href="#breadth-first-search-bfs-algorithm-wip">Breadth-First Search (BFS) Algorithm (WIP)</a></h3>
<p>Breadth-First Search (BFS) is an algorithm for traversing or searching tree or graph data structures. It starts at the tree root (or an arbitrary node of a graph) and explores the neighbor nodes at the present depth prior to moving on to nodes at the next depth level.</p>
<pre><pre class="playground"><code class="language-rust">use std::collections::{HashMap, VecDeque};

fn bfs(graph: &amp;HashMap&lt;i32, Vec&lt;i32&gt;&gt;, start: i32) -&gt; Vec&lt;i32&gt; {
    let mut visited = Vec::new();
    let mut queue = VecDeque::new();
    queue.push_back(start);

    while let Some(node) = queue.pop_front() {
        if !visited.contains(&amp;node) {
            visited.push(node);
            if let Some(neighbors) = graph.get(&amp;node) {
                for &amp;neighbor in neighbors {
                    queue.push_back(neighbor);
                }
            }
        }
    }

    visited
}

fn main() {
    let mut graph = HashMap::new();
    graph.insert(1, vec![2, 3]);
    graph.insert(2, vec![4, 5]);
    graph.insert(3, vec![6, 7]);
    graph.insert(4, vec![]);
    graph.insert(5, vec![]);
    graph.insert(6, vec![]);
    graph.insert(7, vec![]);

    let start_node = 1;
    let result = bfs(&amp;graph, start_node);
    println!(&quot;BFS traversal starting from node {}: {:?}&quot;, start_node, result);
}
</code></pre></pre>
<ol>
<li><strong>Graph Representation</strong>: The graph is represented using a <code>HashMap</code> where each key is a node, and the value is a vector of its neighbors.</li>
<li><strong>BFS Function</strong>: The <code>bfs</code> function takes a reference to the graph and a starting node. It uses a <code>VecDeque</code> as a queue to manage the nodes to be explored.</li>
<li><strong>Traversal</strong>: The function iterates over the queue, marking nodes as visited and adding their neighbors to the queue if they haven't been visited yet.</li>
<li><strong>Main Function</strong>: The <code>main</code> function initializes the graph, calls the <code>bfs</code> function, and prints the result of the BFS traversal.</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h3 id="graph-algorithms-wip"><a class="header" href="#graph-algorithms-wip">Graph Algorithms (WIP)</a></h3>
<p>Graph algorithms are a set of instructions designed to solve problems related to graph theory. These algorithms help in finding the shortest path, detecting cycles, finding the minimum spanning tree, and more. They are widely used in various fields such as computer networks, social networks, and geographical information systems.</p>
<p>1- <a href="rust/algorithms/graph/./shortest-path.html">Dijkstraâ€™s Algorithm (Shortest Path)</a>: An algorithm for finding the shortest paths between nodes in a graph, which may represent, for example, road networks.</p>
<p>2- <a href="rust/algorithms/graph/./minimum-spanning-tree.html">Kruskalâ€™s Algorithm (Minimum Spanning Tree)</a>: An algorithm for finding the minimum spanning tree for a connected weighted graph, ensuring that the total weight of the tree is minimized.</p>
<p>3- <a href="rust/algorithms/graph/./a-star.html">A* Algorithm (Pathfinding)</a>: A pathfinding and graph traversal algorithm, which is often used in many fields of computer science due to its performance and accuracy.</p>
<p>4- <a href="rust/algorithms/graph/./all-pairs-shortest-path.html">Floyd-Warshall Algorithm (All-Pairs Shortest Path)</a>: An algorithm for finding shortest paths in a weighted graph with positive or negative edge weights (but with no negative cycles), computing the shortest paths between all pairs of nodes.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="shortest-path-graph-dijkstras-algorithm-wip"><a class="header" href="#shortest-path-graph-dijkstras-algorithm-wip">Shortest Path Graph (Dijkstra's) Algorithm (WIP)</a></h3>
<p>The shortest path algorithm is used to find the shortest path between nodes in a graph. One of the most common algorithms for this purpose is Dijkstra's algorithm. </p>
<pre><pre class="playground"><code class="language-rust">use std::collections::{BinaryHeap, HashMap};
use std::cmp::Ordering;

#[derive(Debug, Clone, Eq, PartialEq)]
struct State {
    cost: usize,
    position: usize,
}

// The priority queue depends on `Ord`.
// Explicitly implement the trait so the queue becomes a min-heap
// instead of a max-heap.
impl Ord for State {
    fn cmp(&amp;self, other: &amp;Self) -&gt; Ordering {
        // Notice that the we flip the ordering on costs.
        // In case of a tie we compare positions - this step is necessary
        // to make implementations of `PartialEq` and `Ord` consistent.
        other.cost.cmp(&amp;self.cost)
            .then_with(|| self.position.cmp(&amp;other.position))
    }
}

// `PartialOrd` needs to be implemented as well.
impl PartialOrd for State {
    fn partial_cmp(&amp;self, other: &amp;Self) -&gt; Option&lt;Ordering&gt; {
        Some(self.cmp(other))
    }
}

#[derive(Debug)]
struct Edge {
    node: usize,
    cost: usize,
}

fn dijkstra(adj_list: &amp;Vec&lt;Vec&lt;Edge&gt;&gt;, start: usize) -&gt; Vec&lt;usize&gt; {
    let mut dist: Vec&lt;_&gt; = (0..adj_list.len()).map(|_| usize::MAX).collect();
    let mut heap = BinaryHeap::new();

    // We're at `start`, with a zero cost
    dist[start] = 0;
    heap.push(State { cost: 0, position: start });

    // Examine the frontier with lower cost nodes first (min-heap)
    while let Some(State { cost, position }) = heap.pop() {
        // Important as we may have already found a better way
        if cost &gt; dist[position] {
            continue;
        }

        // For each node we can reach, see if we can find a way with
        // a lower cost going through this node
        for edge in &amp;adj_list[position] {
            let next = State { cost: cost + edge.cost, position: edge.node };

            // If so, add it to the frontier and continue
            if next.cost &lt; dist[next.position] {
                heap.push(next);
                // Relaxation, we have now found a better way
                dist[next.position] = next.cost;
            }
        }
    }

    dist
}

fn main() {
    // Create a graph represented as an adjacency list
    let graph = vec![
        vec![Edge { node: 1, cost: 2 }, Edge { node: 2, cost: 4 }],
        vec![Edge { node: 2, cost: 1 }, Edge { node: 3, cost: 7 }],
        vec![Edge { node: 3, cost: 3 }],
        vec![],
    ];

    // Calculate the shortest path from node 0
    let start_node = 0;
    let distances = dijkstra(&amp;graph, start_node);

    // Print the shortest path to each node
    for (i, d) in distances.iter().enumerate() {
        println!(&quot;The shortest path from node {} to node {} is {}&quot;, start_node, i, d);
    }
}
</code></pre></pre>
<ol>
<li><strong>Graph Representation</strong>: The graph is represented as an adjacency list where each node has a list of edges. Each edge has a target node and a cost.</li>
<li><strong>State Struct</strong>: The <code>State</code> struct keeps track of the current position and the cost to reach that position.</li>
<li><strong>Priority Queue</strong>: A binary heap is used as a priority queue to always expand the least costly node first.</li>
<li><strong>Dijkstra's Algorithm</strong>: The algorithm initializes the distance to the start node as 0 and all other distances as infinity. It then iteratively explores the graph, updating the shortest path to each node.</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h3 id="minimum-spanning-tree-mst-wip"><a class="header" href="#minimum-spanning-tree-mst-wip">Minimum Spanning Tree (MST) (WIP)</a></h3>
<p>A Minimum Spanning Tree (MST) of a graph is a subset of the edges that connects all the vertices together, without any cycles and with the minimum possible total edge weight. One of the most common algorithms to find the MST is Kruskal's algorithm.</p>
<h2 id="kruskals-algorithm"><a class="header" href="#kruskals-algorithm">Kruskal's Algorithm</a></h2>
<p>Kruskal's algorithm works as follows:</p>
<ol>
<li>Sort all the edges in non-decreasing order of their weight.</li>
<li>Pick the smallest edge. Check if it forms a cycle with the spanning tree formed so far. If a cycle is not formed, include this edge. Else, discard it.</li>
<li>Repeat step 2 until there are (V-1) edges in the spanning tree.</li>
</ol>
<pre><pre class="playground"><code class="language-rust">use std::cmp::Ordering;
use std::collections::HashMap;

#[derive(Debug, Clone)]
struct Edge {
    src: usize,
    dest: usize,
    weight: i32,
}

#[derive(Debug)]
struct Graph {
    vertices: usize,
    edges: Vec&lt;Edge&gt;,
}

impl Graph {
    fn new(vertices: usize) -&gt; Self {
        Graph {
            vertices,
            edges: Vec::new(),
        }
    }

    fn add_edge(&amp;mut self, src: usize, dest: usize, weight: i32) {
        self.edges.push(Edge { src, dest, weight });
    }

    fn find(&amp;self, parent: &amp;mut Vec&lt;usize&gt;, i: usize) -&gt; usize {
        if parent[i] == i {
            i
        } else {
            self.find(parent, parent[i])
        }
    }

    fn union(&amp;self, parent: &amp;mut Vec&lt;usize&gt;, rank: &amp;mut Vec&lt;usize&gt;, x: usize, y: usize) {
        let xroot = self.find(parent, x);
        let yroot = self.find(parent, y);

        if rank[xroot] &lt; rank[yroot] {
            parent[xroot] = yroot;
        } else if rank[xroot] &gt; rank[yroot] {
            parent[yroot] = xroot;
        } else {
            parent[yroot] = xroot;
            rank[xroot] += 1;
        }
    }

    fn kruskal_mst(&amp;self) -&gt; Vec&lt;Edge&gt; {
        let mut result: Vec&lt;Edge&gt; = Vec::new();
        let mut i = 0;
        let mut e = 0;

        let mut edges = self.edges.clone();
        edges.sort_by(|a, b| a.weight.cmp(&amp;b.weight));

        let mut parent: Vec&lt;usize&gt; = Vec::with_capacity(self.vertices);
        let mut rank: Vec&lt;usize&gt; = Vec::with_capacity(self.vertices);

        for node in 0..self.vertices {
            parent.push(node);
            rank.push(0);
        }

        while e &lt; self.vertices - 1 {
            let next_edge = edges[i].clone();
            i += 1;

            let x = self.find(&amp;mut parent, next_edge.src);
            let y = self.find(&amp;mut parent, next_edge.dest);

            if x != y {
                result.push(next_edge);
                e += 1;
                self.union(&amp;mut parent, &amp;mut rank, x, y);
            }
        }

        result
    }
}

fn main() {
    let mut graph = Graph::new(4);
    graph.add_edge(0, 1, 10);
    graph.add_edge(0, 2, 6);
    graph.add_edge(0, 3, 5);
    graph.add_edge(1, 3, 15);
    graph.add_edge(2, 3, 4);

    let mst = graph.kruskal_mst();
    println!(&quot;Edges in the constructed MST:&quot;);
    for edge in mst {
        println!(&quot;{} -- {} == {}&quot;, edge.src, edge.dest, edge.weight);
    }
}
</code></pre></pre>
<p>We create a graph with 4 vertices and 5 edges. We then use Kruskal's algorithm to find the MST and print the edges of the MST.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="a-pathfinding-algorithm-wip"><a class="header" href="#a-pathfinding-algorithm-wip">A* Pathfinding Algorithm (WIP)</a></h3>
<p>The A* (A-star) algorithm is a popular pathfinding and graph traversal algorithm. It is widely used in various applications, such as in games for NPC movement, in robotics for navigation, and in geographic information systems for route planning.</p>
<h3 id="how-a-algorithm-works"><a class="header" href="#how-a-algorithm-works">How A* Algorithm Works</a></h3>
<p>A* algorithm combines the strengths of Dijkstra's Algorithm and Greedy Best-First-Search. It uses a heuristic to guide its search and find the shortest path efficiently.</p>
<p>The algorithm maintains two lists:</p>
<ul>
<li><strong>Open List</strong>: Nodes that need to be evaluated.</li>
<li><strong>Closed List</strong>: Nodes that have already been evaluated.</li>
</ul>
<p>The algorithm follows these steps:</p>
<ol>
<li>Add the starting node to the open list.</li>
<li>Repeat the following steps until the open list is empty:
<ul>
<li>a. Remove the node with the lowest <code>f</code> value from the open list (current node).</li>
<li>b. If the current node is the goal, reconstruct the path and return it.</li>
<li>c. For each neighbor of the current node:
<ul>
<li>i. If the neighbor is in the closed list, skip it.</li>
<li>ii. If the neighbor is not in the open list, add it and compute its <code>f</code>, <code>g</code>, and <code>h</code> values.</li>
<li>iii. If the neighbor is in the open list, check if the new path is better (lower <code>g</code> value). If so, update its <code>f</code>, <code>g</code>, and <code>h</code> values.</li>
</ul>
</li>
<li>d. Add the current node to the closed list.</li>
</ul>
</li>
</ol>
<p>Where:</p>
<ul>
<li><code>g</code> is the cost from the start node to the current node.</li>
<li><code>h</code> is the heuristic estimate of the cost from the current node to the goal.</li>
<li><code>f</code> is the sum of <code>g</code> and <code>h</code>.</li>
</ul>
<p>Below is a simple implementation of the A* algorithm in Rust:</p>
<pre><pre class="playground"><code class="language-rust">use std::collections::{BinaryHeap, HashMap};
use std::cmp::Ordering;

#[derive(Debug, Clone, Copy, PartialEq, Eq)]
struct Node {
     position: (i32, i32),
     g: i32,
     h: i32,
}

impl Node {
     fn f(&amp;self) -&gt; i32 {
          self.g + self.h
     }
}

impl Ord for Node {
     fn cmp(&amp;self, other: &amp;Self) -&gt; Ordering {
          other.f().cmp(&amp;self.f())
     }
}

impl PartialOrd for Node {
     fn partial_cmp(&amp;self, other: &amp;Self) -&gt; Option&lt;Ordering&gt; {
          Some(self.cmp(other))
     }
}

fn heuristic(a: (i32, i32), b: (i32, i32)) -&gt; i32 {
     (a.0 - b.0).abs() + (a.1 - b.1).abs()
}

fn a_star(start: (i32, i32), goal: (i32, i32), obstacles: &amp;[(i32, i32)]) -&gt; Option&lt;Vec&lt;(i32, i32)&gt;&gt; {
     let mut open_list = BinaryHeap::new();
     let mut closed_list = HashMap::new();
     let mut came_from = HashMap::new();

     open_list.push(Node {
          position: start,
          g: 0,
          h: heuristic(start, goal),
     });

     while let Some(current) = open_list.pop() {
          if current.position == goal {
                let mut path = vec![current.position];
                let mut current_position = current.position;
                while let Some(&amp;prev_position) = came_from.get(&amp;current_position) {
                     path.push(prev_position);
                     current_position = prev_position;
                }
                path.reverse();
                return Some(path);
          }

          closed_list.insert(current.position, current.g);

          for &amp;neighbor in &amp;[
                (current.position.0 - 1, current.position.1),
                (current.position.0 + 1, current.position.1),
                (current.position.0, current.position.1 - 1),
                (current.position.0, current.position.1 + 1),
          ] {
                if obstacles.contains(&amp;neighbor) || closed_list.contains_key(&amp;neighbor) {
                     continue;
                }

                let tentative_g = current.g + 1;

                if let Some(&amp;existing_g) = closed_list.get(&amp;neighbor) {
                     if tentative_g &gt;= existing_g {
                          continue;
                     }
                }

                open_list.push(Node {
                     position: neighbor,
                     g: tentative_g,
                     h: heuristic(neighbor, goal),
                });

                came_from.insert(neighbor, current.position);
          }
     }

     None
}

fn main() {
     let start = (0, 0);
     let goal = (4, 4);
     let obstacles = [(1, 1), (2, 2), (3, 3)];

     if let Some(path) = a_star(start, goal, &amp;obstacles) {
          println!(&quot;Path found: {:?}&quot;, path);
     } else {
          println!(&quot;No path found.&quot;);
     }
}
</code></pre></pre>
<p>This example demonstrates a simple A* pathfinding algorithm in Rust. The <code>a_star</code> function takes the start and goal positions, as well as a list of obstacles, and returns the shortest path if one exists.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="all-pairs-shortest-path-algorithm-wip"><a class="header" href="#all-pairs-shortest-path-algorithm-wip">All Pairs Shortest Path Algorithm (WIP)</a></h3>
<p>The All Pairs Shortest Path (APSP) algorithm is used to find the shortest paths between all pairs of nodes in a graph. One of the most common algorithms to solve this problem is the Floyd-Warshall algorithm.</p>
<h3 id="floyd-warshall-algorithm"><a class="header" href="#floyd-warshall-algorithm">Floyd-Warshall Algorithm</a></h3>
<p>The Floyd-Warshall algorithm works by iteratively improving the shortest path estimates between all pairs of nodes. It uses a dynamic programming approach to build up the shortest paths by considering each node as an intermediate point.</p>
<h3 id="steps-of-the-algorithm"><a class="header" href="#steps-of-the-algorithm">Steps of the Algorithm</a></h3>
<ol>
<li>
<p><strong>Initialization</strong>: Create a distance matrix <code>dist</code> where <code>dist[i][j]</code> represents the shortest distance from node <code>i</code> to node <code>j</code>. Initialize <code>dist[i][j]</code> to the weight of the edge from <code>i</code> to <code>j</code> if it exists, otherwise set it to infinity. Set <code>dist[i][i]</code> to 0 for all nodes <code>i</code>.</p>
</li>
<li>
<p><strong>Iterative Update</strong>: For each node <code>k</code>, update the distance matrix by considering <code>k</code> as an intermediate node. For each pair of nodes <code>(i, j)</code>, update <code>dist[i][j]</code> to be the minimum of <code>dist[i][j]</code> and <code>dist[i][k] + dist[k][j]</code>.</p>
</li>
<li>
<p><strong>Result</strong>: After considering all nodes as intermediate points, the distance matrix <code>dist</code> will contain the shortest distances between all pairs of nodes.</p>
</li>
</ol>
<pre><pre class="playground"><code class="language-rust">const INF: i32 = i32::MAX / 2; // Use a large value to represent infinity

fn floyd_warshall(graph: &amp;Vec&lt;Vec&lt;i32&gt;&gt;) -&gt; Vec&lt;Vec&lt;i32&gt;&gt; {
    let n = graph.len();
    let mut dist = graph.clone();

    for k in 0..n {
        for i in 0..n {
            for j in 0..n {
                if dist[i][j] &gt; dist[i][k] + dist[k][j] {
                    dist[i][j] = dist[i][k] + dist[k][j];
                }
            }
        }
    }

    dist
}

fn main() {
    let graph = vec![
        vec![0, 3, INF, 5],
        vec![2, 0, INF, 4],
        vec![INF, 1, 0, INF],
        vec![INF, INF, 2, 0],
    ];

    let shortest_paths = floyd_warshall(&amp;graph);

    println!(&quot;Shortest distances between every pair of vertices:&quot;);
    for row in shortest_paths {
        for &amp;dist in &amp;row {
            if dist == INF {
                print!(&quot;INF &quot;);
            } else {
                print!(&quot;{} &quot;, dist);
            }
        }
        println!();
    }
}
</code></pre></pre>
<ul>
<li><strong>Initialization</strong>: The <code>graph</code> is represented as an adjacency matrix where <code>graph[i][j]</code> is the weight of the edge from node <code>i</code> to node <code>j</code>. If there is no edge, it is set to <code>INF</code>.</li>
<li><strong>Iterative Update</strong>: The nested loops update the distance matrix by considering each node as an intermediate point.</li>
<li><strong>Result</strong>: The final distance matrix <code>shortest_paths</code> contains the shortest distances between all pairs of nodes.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h3 id="dynamic-programming-algorithms-wip"><a class="header" href="#dynamic-programming-algorithms-wip">Dynamic Programming Algorithms (WIP)</a></h3>
<p>Dynamic programming is a method for solving complex problems by breaking them down into simpler subproblems. It is applicable when the problem can be divided into overlapping subproblems which can be solved independently. The solutions to these subproblems are stored to avoid redundant computations, making the overall algorithm more efficient.</p>
<p>1- <a href="rust/algorithms/dynamic-programming/./knapsack-problem.html">Knapsack Problem</a>: This problem involves selecting a subset of items with given weights and values to maximize the total value without exceeding a specified weight limit.</p>
<p>2- <a href="rust/algorithms/dynamic-programming/./longest-common-subsequence.html">Longest Common Subsequence</a>: This algorithm finds the longest subsequence common to two sequences, which may not be contiguous, to determine their similarity.</p>
<p>3- <a href="rust/algorithms/dynamic-programming/./matrix-chain-multiplication.html">Matrix Chain Multiplication</a>: This problem focuses on finding the most efficient way to multiply a given sequence of matrices by determining the optimal order of multiplications.</p>
<p>4- <a href="rust/algorithms/dynamic-programming/./fibonacci.html">Fibonacci Sequence</a>: This algorithm generates the Fibonacci sequence, where each number is the sum of the two preceding ones, starting from 0 and 1.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="knapsack-problem-wip"><a class="header" href="#knapsack-problem-wip">Knapsack Problem (WIP)</a></h3>
<p>The Knapsack Problem is a classic dynamic programming problem. Given a set of items, each with a weight and a value, determine the number of each item to include in a collection so that the total weight is less than or equal to a given limit and the total value is as large as possible.</p>
<h3 id="problem-statement"><a class="header" href="#problem-statement">Problem Statement</a></h3>
<p>You are given weights and values of <code>n</code> items, put these items in a knapsack of capacity <code>W</code> to get the maximum total value in the knapsack. </p>
<h3 id="dynamic-programming-approach"><a class="header" href="#dynamic-programming-approach">Dynamic Programming Approach</a></h3>
<p>We can solve this problem using dynamic programming by creating a 2D array <code>dp</code> where <code>dp[i][w]</code> represents the maximum value that can be obtained with the first <code>i</code> items and a knapsack capacity of <code>w</code>.</p>
<h3 id="steps"><a class="header" href="#steps">Steps</a></h3>
<ol>
<li>Initialize a 2D array <code>dp</code> with dimensions <code>(n+1) x (W+1)</code> where <code>n</code> is the number of items and <code>W</code> is the maximum capacity of the knapsack.</li>
<li>Iterate through each item and each capacity, updating the <code>dp</code> array based on whether the current item is included or excluded.</li>
<li>The value at <code>dp[n][W]</code> will be the maximum value that can be obtained with the given items and knapsack capacity.</li>
</ol>
<pre><pre class="playground"><code class="language-rust">fn knapsack(weights: &amp;[usize], values: &amp;[usize], capacity: usize) -&gt; usize {
    let n = weights.len();
    let mut dp = vec![vec![0; capacity + 1]; n + 1];

    for i in 1..=n {
        for w in 1..=capacity {
            if weights[i - 1] &lt;= w {
                dp[i][w] = dp[i - 1][w].max(dp[i - 1][w - weights[i - 1]] + values[i - 1]);
            } else {
                dp[i][w] = dp[i - 1][w];
            }
        }
    }

    dp[n][capacity]
}

fn main() {
    let weights = vec![1, 3, 4, 5];
    let values = vec![1, 4, 5, 7];
    let capacity = 7;
    let max_value = knapsack(&amp;weights, &amp;values, capacity);
    println!(&quot;The maximum value that can be obtained is: {}&quot;, max_value);
}
</code></pre></pre>
<ul>
<li><code>weights</code> and <code>values</code> are arrays representing the weights and values of the items.</li>
<li><code>capacity</code> is the maximum weight the knapsack can hold.</li>
<li>The <code>knapsack</code> function initializes the <code>dp</code> array and iterates through each item and capacity to fill the <code>dp</code> array.</li>
<li>The <code>main</code> function demonstrates how to use the <code>knapsack</code> function with a sample input.</li>
</ul>
<p>This implementation ensures that we find the maximum value that can be obtained without exceeding the knapsack's capacity.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="longest-common-subsequence-lcs-wip"><a class="header" href="#longest-common-subsequence-lcs-wip">Longest Common Subsequence (LCS) (WIP)</a></h3>
<p>The Longest Common Subsequence (LCS) problem is a classic dynamic programming problem. It involves finding the longest subsequence common to two sequences. A subsequence is a sequence derived from another sequence by deleting some elements without changing the order of the remaining elements.</p>
<p>Given two sequences, <code>X</code> and <code>Y</code>, the LCS problem is to find the longest subsequence that is present in both sequences. For example, if <code>X = &quot;ABCBDAB&quot;</code> and <code>Y = &quot;BDCAB&quot;</code>, the LCS is <code>&quot;BCAB&quot;</code>.</p>
<h3 id="dynamic-programming-approach-1"><a class="header" href="#dynamic-programming-approach-1">Dynamic Programming Approach</a></h3>
<p>We can solve the LCS problem using dynamic programming by constructing a 2D table <code>dp</code> where <code>dp[i][j]</code> represents the length of the LCS of the sequences <code>X[0..i-1]</code> and <code>Y[0..j-1]</code>.</p>
<h3 id="steps-1"><a class="header" href="#steps-1">Steps:</a></h3>
<ol>
<li>Initialize a 2D array <code>dp</code> of size <code>(m+1) x (n+1)</code> where <code>m</code> and <code>n</code> are the lengths of <code>X</code> and <code>Y</code> respectively.</li>
<li>Fill the table using the following rules:
<ul>
<li>If <code>X[i-1] == Y[j-1]</code>, then <code>dp[i][j] = dp[i-1][j-1] + 1</code></li>
<li>Otherwise, <code>dp[i][j] = max(dp[i-1][j], dp[i][j-1])</code></li>
</ul>
</li>
<li>The value at <code>dp[m][n]</code> will be the length of the LCS.</li>
</ol>
<pre><pre class="playground"><code class="language-rust">fn longest_common_subsequence(X: &amp;str, Y: &amp;str) -&gt; String {
     let m = X.len();
     let n = Y.len();
     let X: Vec&lt;char&gt; = X.chars().collect();
     let Y: Vec&lt;char&gt; = Y.chars().collect();
     
     let mut dp = vec![vec![0; n + 1]; m + 1];
     
     for i in 1..=m {
          for j in 1..=n {
                if X[i - 1] == Y[j - 1] {
                     dp[i][j] = dp[i - 1][j - 1] + 1;
                } else {
                     dp[i][j] = dp[i - 1][j].max(dp[i][j - 1]);
                }
          }
     }
     
     // Reconstruct the LCS from the dp table
     let mut lcs = String::new();
     let (mut i, mut j) = (m, n);
     while i &gt; 0 &amp;&amp; j &gt; 0 {
          if X[i - 1] == Y[j - 1] {
                lcs.push(X[i - 1]);
                i -= 1;
                j -= 1;
          } else if dp[i - 1][j] &gt; dp[i][j - 1] {
                i -= 1;
          } else {
                j -= 1;
          }
     }
     
     lcs.chars().rev().collect()
}

fn main() {
     let X = &quot;ABCBDAB&quot;;
     let Y = &quot;BDCAB&quot;;
     let lcs = longest_common_subsequence(X, Y);
     println!(&quot;The Longest Common Subsequence is: {}&quot;, lcs);
}
</code></pre></pre>
<ol>
<li><strong>Initialization</strong>: We initialize the <code>dp</code> table with zeros.</li>
<li><strong>Filling the Table</strong>: We fill the table based on the rules mentioned above.</li>
<li><strong>Reconstructing the LCS</strong>: We backtrack from <code>dp[m][n]</code> to reconstruct the LCS.</li>
</ol>
<p>This implementation prints the LCS of the given sequences <code>X</code> and <code>Y</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="matrix-chain-multiplication-wip"><a class="header" href="#matrix-chain-multiplication-wip">Matrix Chain Multiplication (WIP)</a></h3>
<p>Matrix Chain Multiplication is a classic example of dynamic programming. The goal is to find the most efficient way to multiply a given sequence of matrices. The problem is not to perform the multiplications but to decide the order in which to perform the multiplications.</p>
<h3 id="problem-explanation"><a class="header" href="#problem-explanation">Problem Explanation</a></h3>
<p>Given a sequence of matrices, the task is to find the most efficient way to multiply these matrices together. The efficiency is measured in terms of the number of scalar multiplications needed.</p>
<p>For example, if you have matrices A, B, and C of dimensions 10x30, 30x5, and 5x60 respectively, you need to determine the order of multiplication that minimizes the total number of scalar multiplications.</p>
<h3 id="dynamic-programming-solution"><a class="header" href="#dynamic-programming-solution">Dynamic Programming Solution</a></h3>
<p>The dynamic programming approach involves breaking the problem into smaller subproblems and solving each subproblem only once, storing the results for future use.</p>
<h3 id="steps-2"><a class="header" href="#steps-2">Steps:</a></h3>
<ol>
<li>Define the cost of multiplying matrices from index <code>i</code> to <code>j</code> as <code>m[i][j]</code>.</li>
<li>Initialize the cost of multiplying one matrix as zero, i.e., <code>m[i][i] = 0</code>.</li>
<li>Use a nested loop to calculate the minimum cost for chains of increasing length.</li>
<li>Store the results in a table and use them to build up the solution for the entire chain.</li>
</ol>
<pre><pre class="playground"><code class="language-rust">fn matrix_chain_order(p: &amp;[usize]) -&gt; Vec&lt;Vec&lt;usize&gt;&gt; {
    let n = p.len() - 1;
    let mut m = vec![vec![0; n]; n];

    for l in 2..=n {
        for i in 0..n - l + 1 {
            let j = i + l - 1;
            m[i][j] = usize::MAX;
            for k in i..j {
                let q = m[i][k] + m[k + 1][j] + p[i] * p[k + 1] * p[j + 1];
                if q &lt; m[i][j] {
                    m[i][j] = q;
                }
            }
        }
    }

    m
}

fn main() {
    let p = vec![10, 30, 5, 60];
    let m = matrix_chain_order(&amp;p);
    println!(&quot;Minimum number of multiplications is {}&quot;, m[0][p.len() - 2]);
}
</code></pre></pre>
<ul>
<li><code>p</code> is an array where the <code>i</code>-th matrix has dimensions <code>p[i-1] x p[i]</code>.</li>
<li><code>m[i][j]</code> stores the minimum number of scalar multiplications needed to compute the matrix <code>A[i]A[i+1]...A[j]</code>.</li>
<li>The nested loops calculate the minimum cost for multiplying matrices from <code>i</code> to <code>j</code> by trying all possible positions to split the product.</li>
</ul>
<p>This implementation efficiently computes the minimum number of multiplications needed to multiply the given sequence of matrices.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="fibonacci-sequence-with-dynamic-programming-wip"><a class="header" href="#fibonacci-sequence-with-dynamic-programming-wip">Fibonacci Sequence with Dynamic Programming (WIP)</a></h3>
<p>The Fibonacci sequence is a series of numbers where each number is the sum of the two preceding ones, usually starting with 0 and 1. Dynamic programming is an optimization technique that can be used to solve problems by breaking them down into simpler subproblems and storing the results of these subproblems to avoid redundant computations.</p>
<pre><pre class="playground"><code class="language-rust">fn fibonacci(n: usize) -&gt; usize {
    if n == 0 {
        return 0;
    } else if n == 1 {
        return 1;
    }

    let mut fib = vec![0; n + 1];
    fib[1] = 1;

    for i in 2..=n {
        fib[i] = fib[i - 1] + fib[i - 2];
    }

    fib[n]
}

fn main() {
    let n = 10;
    println!(&quot;Fibonacci number at position {} is {}&quot;, n, fibonacci(n));
}
</code></pre></pre>
<ol>
<li><strong>Base Cases</strong>: The function first checks if <code>n</code> is 0 or 1, returning 0 or 1 respectively, as these are the base cases of the Fibonacci sequence.</li>
<li><strong>Initialization</strong>: A vector <code>fib</code> is initialized with <code>n + 1</code> elements, all set to 0. The second element is set to 1, representing the first Fibonacci number.</li>
<li><strong>Iteration</strong>: A loop runs from 2 to <code>n</code>, calculating each Fibonacci number by summing the two preceding numbers and storing the result in the vector.</li>
<li><strong>Result</strong>: The function returns the <code>n</code>-th Fibonacci number stored in the vector.</li>
</ol>
<p>This approach ensures that each Fibonacci number is computed only once, resulting in a time complexity of O(n) and a space complexity of O(n).</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="cryptographic-algorithms-wip"><a class="header" href="#cryptographic-algorithms-wip">Cryptographic Algorithms (WIP)</a></h3>
<p>Cryptographic algorithms are methods used to secure data through encryption, hashing, and key exchange techniques. They ensure the confidentiality, integrity, and authenticity of information in digital communications.</p>
<p>1- <a href="rust/algorithms/cryptographic/./rsa.html">RSA (Asymmetric Encryption)</a>: RSA is a public-key encryption algorithm that uses two keys, one for encryption and one for decryption. It is widely used for secure data transmission.</p>
<p>2- <a href="rust/algorithms/cryptographic/./aes.html">AES (Symmetric Encryption)</a>: AES (Advanced Encryption Standard) is a symmetric encryption algorithm that uses the same key for both encryption and decryption. It is known for its speed and security.</p>
<p>3- <a href="rust/algorithms/cryptographic/./sha-256.html">SHA-256 (Hashing)</a>: SHA-256 (Secure Hash Algorithm 256-bit) is a cryptographic hash function that produces a fixed-size 256-bit hash value. It is commonly used for data integrity verification.</p>
<p>4- <a href="rust/algorithms/cryptographic/./diffie-hellman.html">Diffie-Hellman (Key Exchange)</a>: Diffie-Hellman is a key exchange algorithm that allows two parties to securely share a secret key over an insecure channel. It is fundamental to many cryptographic protocols.</p>
<p>5- <a href="rust/algorithms/cryptographic/./bcrypt.html">Bcrypt (Hashing)</a>: Bcrypt is a password hashing function designed to be computationally intensive to protect against brute-force attacks. It incorporates a salt to protect against rainbow table attacks.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="rsa-algorithm-wip"><a class="header" href="#rsa-algorithm-wip">RSA Algorithm (WIP)</a></h3>
<p>RSA (Rivest-Shamir-Adleman) is a widely used public-key cryptosystem for secure data transmission. It is based on the mathematical difficulty of factoring the product of two large prime numbers.</p>
<h3 id="how-rsa-works"><a class="header" href="#how-rsa-works">How RSA Works</a></h3>
<ol>
<li>
<p><strong>Key Generation</strong>:</p>
<ul>
<li>Choose two distinct large random prime numbers <code>p</code> and <code>q</code>.</li>
<li>Compute <code>n = p * q</code>. <code>n</code> is used as the modulus for both the public and private keys.</li>
<li>Compute the totient function <code>Ï†(n) = (p-1) * (q-1)</code>.</li>
<li>Choose an integer <code>e</code> such that <code>1 &lt; e &lt; Ï†(n)</code> and <code>e</code> is coprime with <code>Ï†(n)</code>. <code>e</code> is the public exponent.</li>
<li>Determine <code>d</code> as <code>d â‰¡ e^(-1) (mod Ï†(n))</code>. <code>d</code> is the private exponent.</li>
</ul>
</li>
<li>
<p><strong>Encryption</strong>:</p>
<ul>
<li>The public key is <code>(e, n)</code>.</li>
<li>The plaintext message <code>m</code> is encrypted to ciphertext <code>c</code> using the formula: <code>c â‰¡ m^e (mod n)</code>.</li>
</ul>
</li>
<li>
<p><strong>Decryption</strong>:</p>
<ul>
<li>The private key is <code>(d, n)</code>.</li>
<li>The ciphertext <code>c</code> is decrypted back to plaintext <code>m</code> using the formula: <code>m â‰¡ c^d (mod n)</code>.</li>
</ul>
</li>
</ol>
<p>Below is a simple example of RSA encryption and decryption in Rust:</p>
<pre><pre class="playground"><code class="language-rust">extern crate num_bigint as bigint;
extern crate num_traits;
extern crate rand;

use bigint::{BigInt, ToBigInt};
use num_traits::{One, Zero};
use rand::Rng;

fn main() {
     // Generate two large prime numbers (for simplicity, small primes are used here)
     let p = 61.to_bigint().unwrap();
     let q = 53.to_bigint().unwrap();
     
     // Compute n = p * q
     let n = &amp;p * &amp;q;
     
     // Compute Ï†(n) = (p-1) * (q-1)
     let phi = (&amp;p - 1) * (&amp;q - 1);
     
     // Choose e such that 1 &lt; e &lt; Ï†(n) and e is coprime with Ï†(n)
     let e = 17.to_bigint().unwrap();
     
     // Compute d as d â‰¡ e^(-1) (mod Ï†(n))
     let d = mod_inverse(&amp;e, &amp;phi).unwrap();
     
     // Public key (e, n) and private key (d, n)
     println!(&quot;Public Key: (e: {}, n: {})&quot;, e, n);
     println!(&quot;Private Key: (d: {}, n: {})&quot;, d, n);
     
     // Encrypt a message
     let message = 42.to_bigint().unwrap();
     let ciphertext = mod_exp(&amp;message, &amp;e, &amp;n);
     println!(&quot;Encrypted message: {}&quot;, ciphertext);
     
     // Decrypt the message
     let decrypted_message = mod_exp(&amp;ciphertext, &amp;d, &amp;n);
     println!(&quot;Decrypted message: {}&quot;, decrypted_message);
}

// Function to compute modular exponentiation
fn mod_exp(base: &amp;BigInt, exp: &amp;BigInt, modulus: &amp;BigInt) -&gt; BigInt {
     base.modpow(exp, modulus)
}

// Function to compute modular inverse
fn mod_inverse(a: &amp;BigInt, m: &amp;BigInt) -&gt; Option&lt;BigInt&gt; {
     let (g, x, _) = extended_gcd(a, m);
     if g.is_one() {
          Some((x % m + m) % m)
     } else {
          None
     }
}

// Function to compute extended GCD
fn extended_gcd(a: &amp;BigInt, b: &amp;BigInt) -&gt; (BigInt, BigInt, BigInt) {
     if b.is_zero() {
          (a.clone(), BigInt::one(), BigInt::zero())
     } else {
          let (g, x, y) = extended_gcd(b, &amp;(a % b));
          (g, y.clone(), x - (a / b) * y)
     }
}
</code></pre></pre>
<p>This example demonstrates the basic steps of RSA key generation, encryption, and decryption. Note that in a real-world application, you should use much larger prime numbers and a cryptographic library for secure key generation and operations.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="aes-algorithm-wip"><a class="header" href="#aes-algorithm-wip">AES Algorithm (WIP)</a></h3>
<p>AES (Advanced Encryption Standard) is a symmetric encryption algorithm widely used across the globe. Below is a simple implementation of the AES algorithm in Rust without using any existing libraries.</p>
<pre><pre class="playground"><code class="language-rust">const S_BOX: [u8; 256] = [
    // S-Box values here...
];

fn sub_bytes(state: &amp;mut [u8; 16]) {
    for i in 0..16 {
        state[i] = S_BOX[state[i] as usize];
    }
}

fn shift_rows(state: &amp;mut [u8; 16]) {
    let mut temp = [0u8; 16];
    for i in 0..16 {
        temp[i] = state[i];
    }
    for i in 0..4 {
        for j in 0..4 {
            state[i + 4 * j] = temp[i + 4 * ((j + i) % 4)];
        }
    }
}

fn mix_columns(state: &amp;mut [u8; 16]) {
    // MixColumns implementation here...
}

fn add_round_key(state: &amp;mut [u8; 16], round_key: &amp;[u8; 16]) {
    for i in 0..16 {
        state[i] ^= round_key[i];
    }
}

fn aes_encrypt_block(block: &amp;mut [u8; 16], key: &amp;[u8; 16]) {
    let mut round_keys = [0u8; 176];
    key_expansion(key, &amp;mut round_keys);

    add_round_key(block, &amp;round_keys[0..16]);

    for round in 1..10 {
        sub_bytes(block);
        shift_rows(block);
        mix_columns(block);
        add_round_key(block, &amp;round_keys[round * 16..(round + 1) * 16]);
    }

    sub_bytes(block);
    shift_rows(block);
    add_round_key(block, &amp;round_keys[160..176]);
}

fn key_expansion(key: &amp;[u8; 16], round_keys: &amp;mut [u8; 176]) {
    // Key expansion implementation here...
}

fn main() {
    let mut block = [0x32, 0x43, 0xf6, 0xa8, 0x88, 0x5a, 0x30, 0x8d, 0x31, 0x31, 0x98, 0xa2, 0xe0, 0x37, 0x07, 0x34];
    let key = [0x2b, 0x7e, 0x15, 0x16, 0x28, 0xae, 0xd2, 0xa6, 0xab, 0xf7, 0x4d, 0x4a, 0x4e, 0xa6, 0x2b, 0x7e];

    aes_encrypt_block(&amp;mut block, &amp;key);

    println!(&quot;Encrypted block: {:?}&quot;, block);
}
</code></pre></pre>
<p>This example provides a basic structure for AES encryption. Note that the <code>S_BOX</code>, <code>mix_columns</code>, and <code>key_expansion</code> functions need to be fully implemented for a complete AES encryption algorithm.</p>
<ol>
<li><strong>SubBytes</strong>: This step substitutes each byte in the state with a corresponding byte from the S-Box.</li>
<li><strong>ShiftRows</strong>: This step shifts the rows of the state array cyclically.</li>
<li><strong>MixColumns</strong>: This step mixes the columns of the state array.</li>
<li><strong>AddRoundKey</strong>: This step adds (XORs) the round key to the state.</li>
<li><strong>KeyExpansion</strong>: This step generates round keys from the initial key.</li>
</ol>
<p>The <code>aes_encrypt_block</code> function performs the encryption by applying these steps in the correct order for 10 rounds.</p>
<p>This is a simplified version and does not include all the details required for a secure AES implementation. For production use, consider using a well-tested cryptographic library.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sha-256-hash-algorithm-wip"><a class="header" href="#sha-256-hash-algorithm-wip">SHA-256 Hash Algorithm (WIP)</a></h1>
<p>SHA-256 (Secure Hash Algorithm 256-bit) is a cryptographic hash function that produces a 256-bit (32-byte) hash value. It is widely used in various security applications and protocols.</p>
<p>Below is a simple implementation of the SHA-256 algorithm in Rust without using any external libraries.</p>
<pre><pre class="playground"><code class="language-rust">const K: [u32; 64] = [
    0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,
    0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,
    0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,
    0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,
    0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,
    0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,
    0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,
    0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2,
];

fn sha256(input: &amp;[u8]) -&gt; [u8; 32] {
    let mut h: [u32; 8] = [
        0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a,
        0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19,
    ];

    let mut padded = input.to_vec();
    let bit_len = (input.len() as u64) * 8;
    padded.push(0x80);
    while (padded.len() % 64) != 56 {
        padded.push(0);
    }
    padded.extend_from_slice(&amp;bit_len.to_be_bytes());

    for chunk in padded.chunks(64) {
        let mut w = [0u32; 64];
        for i in 0..16 {
            w[i] = u32::from_be_bytes([chunk[4 * i], chunk[4 * i + 1], chunk[4 * i + 2], chunk[4 * i + 3]]);
        }
        for i in 16..64 {
            let s0 = w[i - 15].rotate_right(7) ^ w[i - 15].rotate_right(18) ^ (w[i - 15] &gt;&gt; 3);
            let s1 = w[i - 2].rotate_right(17) ^ w[i - 2].rotate_right(19) ^ (w[i - 2] &gt;&gt; 10);
            w[i] = w[i - 16].wrapping_add(s0).wrapping_add(w[i - 7]).wrapping_add(s1);
        }

        let mut a = h[0];
        let mut b = h[1];
        let mut c = h[2];
        let mut d = h[3];
        let mut e = h[4];
        let mut f = h[5];
        let mut g = h[6];
        let mut h = h[7];

        for i in 0..64 {
            let s1 = e.rotate_right(6) ^ e.rotate_right(11) ^ e.rotate_right(25);
            let ch = (e &amp; f) ^ (!e &amp; g);
            let temp1 = h.wrapping_add(s1).wrapping_add(ch).wrapping_add(K[i]).wrapping_add(w[i]);
            let s0 = a.rotate_right(2) ^ a.rotate_right(13) ^ a.rotate_right(22);
            let maj = (a &amp; b) ^ (a &amp; c) ^ (b &amp; c);
            let temp2 = s0.wrapping_add(maj);

            h = g;
            g = f;
            f = e;
            e = d.wrapping_add(temp1);
            d = c;
            c = b;
            b = a;
            a = temp1.wrapping_add(temp2);
        }

        h[0] = h[0].wrapping_add(a);
        h[1] = h[1].wrapping_add(b);
        h[2] = h[2].wrapping_add(c);
        h[3] = h[3].wrapping_add(d);
        h[4] = h[4].wrapping_add(e);
        h[5] = h[5].wrapping_add(f);
        h[6] = h[6].wrapping_add(g);
        h[7] = h[7].wrapping_add(h);
    }

    let mut result = [0u8; 32];
    for (i, &amp;val) in h.iter().enumerate() {
        result[4 * i..4 * i + 4].copy_from_slice(&amp;val.to_be_bytes());
    }
    result
}

fn main() {
    let data = b&quot;hello world&quot;;
    let hash = sha256(data);
    for byte in &amp;hash {
        print!(&quot;{:02x}&quot;, byte);
    }
    println!();
}
</code></pre></pre>
<p>This code implements the SHA-256 algorithm step-by-step, including padding the input, processing each 512-bit chunk, and updating the hash values. The <code>main</code> function demonstrates how to use the <code>sha256</code> function to hash the string &quot;hello world&quot; and print the resulting hash in hexadecimal format.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="diffie-hellman-key-exchange-wip"><a class="header" href="#diffie-hellman-key-exchange-wip">Diffie-Hellman Key Exchange (WIP)</a></h3>
<p>The Diffie-Hellman key exchange algorithm allows two parties to securely share a secret key over an insecure channel. </p>
<ol>
<li><strong>Choose Prime Numbers</strong>: Both parties agree on a large prime number <code>p</code> and a base <code>g</code>.</li>
<li><strong>Generate Private Keys</strong>: Each party generates a private key.</li>
<li><strong>Compute Public Keys</strong>: Each party computes their public key using the formula <code>g^private_key % p</code>.</li>
<li><strong>Exchange Public Keys</strong>: The public keys are exchanged between the parties.</li>
<li><strong>Compute Shared Secret</strong>: Each party computes the shared secret using the received public key and their own private key.</li>
</ol>
<p>Below is a simple implementation in Rust without using any external libraries.</p>
<pre><pre class="playground"><code class="language-rust">extern crate rand;

use rand::Rng;

fn main() {
    // Step 1: Agree on a prime number p and base g
    let p: u64 = 23; // A small prime number for simplicity
    let g: u64 = 5;  // A primitive root modulo p

    // Step 2: Each party generates a private key
    let private_key_a = generate_private_key();
    let private_key_b = generate_private_key();

    // Step 3: Compute public keys
    let public_key_a = mod_exp(g, private_key_a, p);
    let public_key_b = mod_exp(g, private_key_b, p);

    // Step 4: Exchange public keys (simulated here)
    println!(&quot;Public Key A: {}&quot;, public_key_a);
    println!(&quot;Public Key B: {}&quot;, public_key_b);

    // Step 5: Compute shared secret
    let shared_secret_a = mod_exp(public_key_b, private_key_a, p);
    let shared_secret_b = mod_exp(public_key_a, private_key_b, p);

    // Both shared secrets should be the same
    println!(&quot;Shared Secret A: {}&quot;, shared_secret_a);
    println!(&quot;Shared Secret B: {}&quot;, shared_secret_b);
}

fn generate_private_key() -&gt; u64 {
    rand::thread_rng().gen_range(1..100)
}

fn mod_exp(base: u64, exp: u64, modulus: u64) -&gt; u64 {
    let mut result = 1;
    let mut base = base % modulus;
    let mut exp = exp;

    while exp &gt; 0 {
        if exp % 2 == 1 {
            result = (result * base) % modulus;
        }
        exp = exp &gt;&gt; 1;
        base = (base * base) % modulus;
    }
    result
}
</code></pre></pre>
<p><code>generate_private_key</code>: Generates a random private key. <code>mod_exp</code>: Computes the modular exponentiation using the formula <code>(base^exp) % modulus</code>. The main function demonstrates the key exchange process, where both parties compute their public keys, exchange them, and then compute the shared secret.</p>
<p>This example uses small numbers for simplicity. In a real-world scenario, much larger prime numbers should be used to ensure security.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="bcrypt-algorithm-wip"><a class="header" href="#bcrypt-algorithm-wip">Bcrypt Algorithm (WIP)</a></h3>
<p>Bcrypt is a password hashing function designed to be computationally expensive to resist brute-force attacks. </p>
<pre><pre class="playground"><code class="language-rust">extern crate rand;
use rand::{thread_rng, Rng};
use rand::distributions::Alphanumeric;
use std::time::{SystemTime, UNIX_EPOCH};
use std::convert::TryInto;

const BCRYPT_COST: u32 = 12;
const BCRYPT_SALT_LEN: usize = 16;
const BCRYPT_HASH_LEN: usize = 24;

fn generate_salt() -&gt; String {
    let salt: String = thread_rng()
        .sample_iter(&amp;Alphanumeric)
        .take(BCRYPT_SALT_LEN)
        .map(char::from)
        .collect();
    salt
}

fn bcrypt_hash(password: &amp;str, salt: &amp;str) -&gt; String {
    let mut hash = vec![0u8; BCRYPT_HASH_LEN];
    let cost = BCRYPT_COST;
    let password_bytes = password.as_bytes();
    let salt_bytes = salt.as_bytes();

    // Simulate bcrypt hashing (this is a simplified version)
    for i in 0..BCRYPT_HASH_LEN {
        hash[i] = password_bytes[i % password_bytes.len()] ^ salt_bytes[i % salt_bytes.len()] ^ (cost as u8);
    }

    base64::encode(&amp;hash)
}

fn main() {
    let password = &quot;my_secure_password&quot;;
    let salt = generate_salt();
    let hashed_password = bcrypt_hash(password, &amp;salt);

    println!(&quot;Password: {}&quot;, password);
    println!(&quot;Salt: {}&quot;, salt);
    println!(&quot;Hashed Password: {}&quot;, hashed_password);
}
</code></pre></pre>
<p>A random salt of length 16 is generated using the <code>rand</code> crate. The <code>bcrypt_hash</code> function simulates the bcrypt hashing process. It combines the password, salt, and cost to produce a hashed password.</p>
<p>Note: This is a simplified version of the bcrypt algorithm for educational purposes. In a real-world application, you should use a well-tested library like <code>bcrypt</code> crate for password hashing.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="khá»Ÿi-Ä‘á»™ng-chÃºt-react"><a class="header" href="#khá»Ÿi-Ä‘á»™ng-chÃºt-react">Khá»Ÿi Ä‘á»™ng chÃºt React</a></h1>
<p>Theo nhÆ° trang hÆ°á»›ng dáº«n nÃ³i thÃ¬ cÃ¡i trang nÃ y sáº½ bao gá»“m khoáº£ng 80% nhá»¯ng gÃ¬ mÃ  báº¡n sáº½ dÃ¹ng trong React hÃ ng ngÃ y. Gá»i bÃ i nÃ y lÃ  dá»‹ch thÃ¬ <em>vá»«a Ä‘Ãºng vá»«a khÃ´ng Ä‘Ãºng</em> vÃ¬ mÃ¬nh Ä‘Ã£ thÃªm bá»›t khÃ¡ nhiá»u sao cho há»£p vá»›i cÃ¡i hiá»ƒu cá»§a mÃ¬nh. NhÆ°ng cáº¥u trÃºc tá»«ng pháº§n vá» cÆ¡ báº£n váº«n váº­y.</p>
<p>MÃ¬nh nghÄ© lÃ  cÃ¡c nguyÃªn lÃ½ cÆ¡ báº£n sáº½ khÃ´ng dá»… bá»‹ thay Ä‘á»•i quÃ¡ nhanh cho nÃªn lÃ  cháº¯c Ä‘á»ƒ váº­y cÅ©ng oke.</p>
<h3 id="táº¡o-vÃ -nest-cÃ¡c-components"><a class="header" href="#táº¡o-vÃ -nest-cÃ¡c-components">Táº¡o vÃ  nest cÃ¡c components</a></h3>
<p>Vá» cÆ¡ báº£n thÃ¬ á»©ng dá»¥ng React toÃ n lÃ  <em>components</em> (A component is a piece of the UI (user interface) that has its own logic and appearance. A component can be as small as a button, or as large as an entire page). React components vá» cÆ¡ báº£n lÃ  JavaScript functions, nhÆ°ng tráº£ vá» Markup:</p>
<pre><code class="language-js">function MyButton() {
  return (&lt;button&gt;I'm a button&lt;/button&gt;);
}
// ÄÃ£ khai bÃ¡o `MyButton` rá»“i nÃªn cÃ³ thá»ƒ dÃ¹ng trong Component khÃ¡c, kiá»ƒu nhÆ° nÃ y:
export default function MyApp() {
  return (&lt;div&gt;&lt;h1&gt;Welcome to my app&lt;/h1&gt;&lt;MyButton /&gt;&lt;/div&gt;);
}
</code></pre>
<p>Nhá»› lÃ  <code>&lt;MyButton /&gt;</code> báº¯t Ä‘áº§u báº±ng chá»¯ cÃ¡i in hoa Ä‘á»ƒ nháº­n diá»‡n component, cÃ²n in thÆ°á»ng lÃ  cho HTML tag. </p>
<h3 id="viáº¿t-markup-báº±ng-jsx"><a class="header" href="#viáº¿t-markup-báº±ng-jsx">Viáº¿t markup báº±ng JSX</a></h3>
<p>CÃº phÃ¡p markup Ä‘Æ°á»£c dÃ¹ng á»Ÿ Ä‘Ã¢y lÃ  <em>JSX</em> (DÃ¹ nÃ³ lÃ  <em>optional</em>, nhÆ°ng máº¥y Ã´ng dev báº£o cháº³ng ai khá»• dÃ¢m mÃ  khÃ´ng dÃ¹ng <em>JSX</em> cáº£)</p>
<p>JSX thÃ¬ cá»©ng nháº¯c hÆ¡n HTML. VÃ­ dá»¥ nhÆ° cáº§n pháº£i Ä‘Ã³ng tag <code>&lt;br /&gt;</code>. VÃ  cÅ©ng chá»‰ Ä‘Æ°á»£c tráº£ má»™t JSX tag. Hoáº·c lÃ  gÃ³i trong má»™t <em>shared parent</em>, kiá»ƒu nhÆ° <code>&lt;div&gt;...&lt;/div&gt;</code> hoáº·c <code>&lt;&gt;...&lt;/&gt;</code> </p>
<pre><code>function AboutPage() {return (&lt;&gt;&lt;h1&gt;About&lt;/h1&gt;&lt;p&gt;Hello there.&lt;br /&gt;How do you do?&lt;/p&gt;&lt;/&gt;);}
</code></pre>
<p>If you have a lot of HTML to port to JSX, you can use an <a href="https://transform.tools/html-to-jsx">online converter</a></p>
<h3 id="thÃªm-chÃºt-kiá»ƒu-cÃ¡ch-styles"><a class="header" href="#thÃªm-chÃºt-kiá»ƒu-cÃ¡ch-styles">ThÃªm chÃºt kiá»ƒu cÃ¡ch (styles)</a></h3>
<p>Trong React thÃ¬ khai bÃ¡o CSS class báº±ng <code>className</code>. Hoáº¡t Ä‘á»™ng tÆ°Æ¡ng Ä‘Æ°Æ¡ng thuá»™c tÃ­nh <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/class"><code>class</code></a> cá»§a HTML:</p>
<pre><code class="language-html">&lt;img className=&quot;avatar&quot; /&gt;
</code></pre>
<p>Rá»“i viáº¿t quy táº¯c CSS sang má»™t tá»‡p khÃ¡c</p>
<pre><code class="language-css">/* In your CSS */
.avatar {border-radius: 50%;}
</code></pre>
<p>ThÃªm CSS thÃ¬ tÆ°Æ¡ng tá»± nhÆ° bÃ¬nh thÆ°á»ng, cÃ³ thá»ƒ lÃ  thÃªm tag <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link"><code>&lt;link&gt;</code></a> vÃ o tá»‡p HTML.</p>
<h3 id="hiá»‡n-data"><a class="header" href="#hiá»‡n-data">Hiá»‡n data</a></h3>
<p>Sá»­ dá»¥ng cáº·p ngoáº·c nhá»n Ä‘á»ƒ thÃªm chÃºt JavaScript vÃ o <code>{}</code> vÃ­ dá»¥ nhÆ° <code>user.name</code>:</p>
<pre><code>return (&lt;h1&gt;{user.name}&lt;/h1&gt;);
</code></pre>
<p>CÅ©ng cÃ³ thá»ƒ lÃ m tÆ°Æ¡ng tá»± trong cÃ¡c thuá»™c tÃ­nh cá»§a &quot;tag&quot; JSX. VÃ­ dá»¥ nhÆ° <code>src={user.imageUrl}</code> sáº½ Ä‘á»c biáº¿n <code>user.imageUrl</code> trong JavaScript, vÃ  Ä‘Æ°a vÃ o thuá»™c tÃ­nh <code>src</code>:</p>
<pre><code>return (&lt;imgclassName=&quot;avatar&quot;src={user.imageUrl}/&gt;);
</code></pre>
<!-- In the above example, `style={{}}` is not a special syntax, but a regular `{}` object inside the `style={ }` JSX curly braces. You can use the `style` attribute when your styles depend on JavaScript variables. -->
<h3 id="conditional-rendering"><a class="header" href="#conditional-rendering">Conditional rendering</a></h3>
<p>Vá» cÆ¡ báº£n thÃ¬ dÃ¹ng nhÆ° viáº¿t JavaScript, nhÆ° Ä‘oáº¡n code dÆ°á»›i Ä‘Ã¢y:</p>
<pre><code class="language-js">let doAn;
if (duTienMua) {
  doAn = &lt;BanhMi /&gt;;
} else {
  doAn = &lt;LamGiCoGiMaAn /&gt;; 
}
return (
  &lt;div&gt;
    {doAn}
  &lt;/div&gt;
);
</code></pre>
<p>Hoáº·c Ä‘Æ¡n giáº£n hÆ¡n thÃ¬ dÃ¹ng Elvis operator</p>
<pre><code>&lt;div&gt;{duTienMua ? (&lt;BanhMi /&gt;) : (&lt;LamGiCoGiMaAn /&gt;)}&lt;/div&gt;
// Náº¿u khÃ´ng cáº§n `else` thÃ¬ gá»n ná»¯a
&lt;div&gt;{duTienMua &amp;&amp; &lt;BanhMi /&gt;}&lt;/div&gt;
</code></pre>
<h3 id="rendering-lists"><a class="header" href="#rendering-lists">Rendering lists</a></h3>
<p>DÃ¹ng cÃ¡c chá»©c nÄƒng cá»§a bÃªn JS <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for"><code>for</code> loop</a> hoáº·c <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map">array <code>map()</code> function</a> Ä‘á»ƒ render list components.</p>
<pre><code class="language-js">const products = [
  { title: 'Cabbage', id: 1 },
  { title: 'Garlic', id: 2 },
  { title: 'Apple', id: 3 }
];
// Inside your component, use the `map()` function to transform an array of products into an array of `&lt;li&gt;` items:
const listItems = products.map(
  product =&gt;
    &lt;li key={product.id}&gt;{product.title}&lt;/li&gt;
);
return (&lt;ul&gt;{listItems}&lt;/ul&gt;);

</code></pre>
<p>Äá»ƒ Ã½ lÃ  <code>&lt;li&gt;</code> cÃ³ thuá»™c tÃ­nh <code>key</code> sá»­ dá»¥ng Ä‘á»ƒ nháº­n diá»‡n giá»¯a cÃ¡c Item vá»›i nhau.</p>
<h3 id="responding-to-events"><a class="header" href="#responding-to-events">Responding to events</a></h3>
<p>Khai bÃ¡o <em>event handler</em> function trong component:</p>
<pre><code class="language-js">function MyButton() {
  function handleClick() {
    alert('MÃ y báº¥m cÃ¡i nÃºt nÃ y xem');
  }

  return (
    &lt;button onClick={handleClick}&gt;
      Click me
    &lt;/button&gt;
  );
}
</code></pre>
<p><code>onClick={handleClick}</code> khÃ´ng sá»­ dá»¥ng dáº¥u <code>()</code> nha, khÃ´ng pháº£i lÃ  <code>onClick={handleClick()}</code> vÃ¬ chÃºng ta Ä‘ang coi <code>handleClick()</code> lÃ  má»™t argument cá»§a <code>onClick</code> chá»© khÃ´ng pháº£i Ä‘á»ƒ gá»i. </p>
<h3 id="cáº­p-nháº­t-mÃ n-hÃ¬nh"><a class="header" href="#cáº­p-nháº­t-mÃ n-hÃ¬nh">Cáº­p nháº­t mÃ n hÃ¬nh</a></h3>
<p>Often, you'll want your component to &quot;remember&quot; some information and display it. For example, maybe you want to count the number of times a button is clicked. To do this, add <em>state</em> to your component.</p>
<p>Äáº§u tiÃªn hÃ£y import <a href="https://react.dev/reference/react/useState"><code>useState</code></a>.</p>
<pre><code>import { useState } from 'react';
</code></pre>
<p>Now you can declare a <em>state variable</em> inside your component:</p>
<pre><code class="language-js">function MyButton() {
  const [count, setCount] = useState(0);
  // ...
</code></pre>
<p>Báº¡n sáº½ nháº­n Ä‘Æ°á»£c hai thá»© tá»« <code>useState</code>: state (tráº¡ng thÃ¡i) hiá»‡n táº¡i (<code>count</code>), vÃ  function Ä‘á»ƒ update cÃ¡i state Ä‘áº¥y (<code>setCount</code>). Theo convention (CÃ¡ch mÃ  má»i ngÆ°á»i thÆ°á»ng lÃ m, mÃ  nÃ³ tiá»‡n vÃ  Ä‘Ãºng nhÃ¡) <code>[something, setSomething]</code>.</p>
<p>Xem thÃªm pháº§n vÃ­ dá»¥ cháº¡y pháº§n Code cho pháº§n nÃ y trong <a href="https://react.dev/learn#responding-to-events">Quick Start</a></p>
<h3 id="dÃ¹ng-hooks"><a class="header" href="#dÃ¹ng-hooks">DÃ¹ng Hooks</a></h3>
<p>Functions báº¯t Ä‘áº§u báº±ng <code>use</code> Ä‘Æ°á»£c gá»i <em>Hooks</em>, vÃ­ dá»¥ nhÆ° <code>useState</code>. Äá»c danh sÃ¡ch cÃ¡c Ä‘á»“ Ä‘Ã£ cÃ³ sáºµn<a href="https://react.dev/reference/react">API reference.</a>, hoáº·c tá»± táº¡o cÅ©ng Ä‘Æ°á»£c.</p>
<p>Hooks are more restrictive than other functions. You can only call Hooks <em>at the top</em> of your components (or other Hooks). If you want to use <code>useState</code> in a condition or a loop, extract a new component and put it there.</p>
<p>Sáº½ cáº§n nÃ³i thÃªm vá» Hook, nhÆ°ng cháº¯c Ä‘á»ƒ sau.</p>
<h3 id="chia-sáº»-data-giá»¯a-cÃ¡c-components"><a class="header" href="#chia-sáº»-data-giá»¯a-cÃ¡c-components">Chia sáº» data giá»¯a cÃ¡c components</a></h3>
<p>ThÆ°á»ng thÃ¬ nhÆ° báº¡n cÃ³ thá»ƒ Ä‘Ã£ biáº¿t, má»—i má»™t Component Ä‘á»u cÃ³ cho mÃ¬nh má»™t State riÃªng. NhÆ°ng Ä‘Ã´i khi, báº¡n cáº§n cÃ¡c components share data vÃ  luÃ´n cáº­p nháº­t (giá»‘ng nhau).</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="component-state-event-handlers"><a class="header" href="#component-state-event-handlers">Component state, event handlers</a></h1>
<h3 id="component-helper-functions-hÃ m-há»—-trá»£-component"><a class="header" href="#component-helper-functions-hÃ m-há»—-trá»£-component">Component Helper Functions (HÃ m há»— trá»£ component)</a></h3>
<ul>
<li>Component cÃ³ thá»ƒ chá»©a cÃ¡c hÃ m há»— trá»£ Ä‘á»ƒ xá»­ lÃ½ logic, vÃ­ dá»¥ nhÆ° tÃ­nh toÃ¡n nÄƒm sinh dá»±a trÃªn tuá»•i.</li>
<li>CÃ¡c hÃ m nÃ y cÃ³ thá»ƒ truy cáº­p trá»±c tiáº¿p cÃ¡c <code>props</code> Ä‘Æ°á»£c truyá»n vÃ o component.</li>
<li>Trong JavaScript, viá»‡c Ä‘á»‹nh nghÄ©a hÃ m bÃªn trong hÃ m khÃ¡c lÃ  phá»• biáº¿n.</li>
</ul>
<h3 id="destructuring-phÃ¢n-rÃ£-cáº¥u-trÃºc"><a class="header" href="#destructuring-phÃ¢n-rÃ£-cáº¥u-trÃºc">Destructuring (PhÃ¢n rÃ£ cáº¥u trÃºc)</a></h3>
<ul>
<li>Destructuring cho phÃ©p trÃ­ch xuáº¥t giÃ¡ trá»‹ tá»« objects vÃ  arrays vÃ o cÃ¡c biáº¿n riÃªng biá»‡t.</li>
<li>VÃ­ dá»¥, <code>const { name, age } = props</code> trÃ­ch xuáº¥t <code>name</code> vÃ  <code>age</code> tá»« object <code>props</code>.</li>
<li>CÃ³ thá»ƒ destructure <code>props</code> trá»±c tiáº¿p trong tham sá»‘ cá»§a component: <code>const Hello = ({ name, age }) =&gt; {...}</code>.</li>
<li>Destructuring giÃºp code ngáº¯n gá»n vÃ  dá»… Ä‘á»c hÆ¡n.</li>
</ul>
<h3 id="page-re-rendering-káº¿t-xuáº¥t-láº¡i-trang"><a class="header" href="#page-re-rendering-káº¿t-xuáº¥t-láº¡i-trang">Page Re-rendering (Káº¿t xuáº¥t láº¡i trang)</a></h3>
<ul>
<li>Äá»ƒ cáº­p nháº­t giao diá»‡n khi dá»¯ liá»‡u thay Ä‘á»•i, cáº§n káº¿t xuáº¥t láº¡i (re-render) component.</li>
<li>Gá»i <code>ReactDOM.createRoot(document.getElementById('root')).render(...)</code> Ä‘á»ƒ káº¿t xuáº¥t láº¡i component.</li>
<li>Sá»­ dá»¥ng <code>setInterval</code> Ä‘á»ƒ tá»± Ä‘á»™ng re-render component sau má»™t khoáº£ng thá»i gian nháº¥t Ä‘á»‹nh.</li>
<li>Viá»‡c gá»i liÃªn tá»¥c hÃ m render khÃ´ng pháº£i lÃ  cÃ¡ch Ä‘Æ°á»£c khuyáº¿n khÃ­ch.</li>
</ul>
<h3 id="stateful-component-component-cÃ³-tráº¡ng-thÃ¡i"><a class="header" href="#stateful-component-component-cÃ³-tráº¡ng-thÃ¡i">Stateful Component (Component cÃ³ tráº¡ng thÃ¡i)</a></h3>
<ul>
<li><code>useState</code> hook Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ thÃªm tráº¡ng thÃ¡i (state) vÃ o component.</li>
<li><code>useState</code> tráº£ vá» má»™t máº£ng gá»“m hai pháº§n tá»­: giÃ¡ trá»‹ tráº¡ng thÃ¡i hiá»‡n táº¡i vÃ  hÃ m Ä‘á»ƒ cáº­p nháº­t tráº¡ng thÃ¡i.</li>
<li>Khi hÃ m cáº­p nháº­t tráº¡ng thÃ¡i (vÃ­ dá»¥, <code>setCounter</code>) Ä‘Æ°á»£c gá»i, React sáº½ re-render component.</li>
<li>Sá»­ dá»¥ng <code>console.log</code> Ä‘á»ƒ debug vÃ  theo dÃµi quÃ¡ trÃ¬nh re-render.</li>
</ul>
<h3 id="event-handling-xá»­-lÃ½-sá»±-kiá»‡n"><a class="header" href="#event-handling-xá»­-lÃ½-sá»±-kiá»‡n">Event Handling (Xá»­ lÃ½ sá»± kiá»‡n)</a></h3>
<ul>
<li>Event handlers Ä‘Æ°á»£c gá»i khi má»™t sá»± kiá»‡n cá»¥ thá»ƒ xáº£y ra (vÃ­ dá»¥, click button).</li>
<li>Sá»­ dá»¥ng thuá»™c tÃ­nh <code>onClick</code> Ä‘á»ƒ Ä‘Äƒng kÃ½ event handler cho button.</li>
<li>Event handler cÃ³ thá»ƒ Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trá»±c tiáº¿p trong JSX hoáº·c dÆ°á»›i dáº¡ng hÃ m riÃªng biá»‡t.</li>
<li>Event handler pháº£i lÃ  má»™t hÃ m hoáº·c tham chiáº¿u Ä‘áº¿n má»™t hÃ m.</li>
<li>Viá»‡c gá»i trá»±c tiáº¿p hÃ m trong <code>onClick</code> sáº½ gÃ¢y ra lá»—i.</li>
<li>TÃ¡ch event handler vÃ o cÃ¡c hÃ m riÃªng biá»‡t giÃºp code dá»… Ä‘á»c vÃ  báº£o trÃ¬ hÆ¡n.</li>
</ul>
<h3 id="passing-state---to-child-components-truyá»n-tráº¡ng-thÃ¡i---cho-component-con"><a class="header" href="#passing-state---to-child-components-truyá»n-tráº¡ng-thÃ¡i---cho-component-con">Passing State - to Child Components (Truyá»n tráº¡ng thÃ¡i - cho component con)</a></h3>
<ul>
<li>NÃªn chia á»©ng dá»¥ng thÃ nh cÃ¡c component nhá», tÃ¡i sá»­ dá»¥ng.</li>
<li>&quot;Lift state up&quot; (nÃ¢ng tráº¡ng thÃ¡i lÃªn) báº±ng cÃ¡ch Ä‘áº·t tráº¡ng thÃ¡i á»Ÿ component cha vÃ  truyá»n xuá»‘ng component con qua <code>props</code>.</li>
<li>Component con sáº½ re-render khi component cha re-render.</li>
<li>Äáº·t tÃªn <code>props</code> cho event handler theo quy Æ°á»›c <code>onSomething</code> vÃ  tÃªn hÃ m event handler lÃ  <code>handleSomething</code>.</li>
</ul>
<h3 id="changes-in-state-cause-re-rendering-thay-Ä‘á»•i-tráº¡ng-thÃ¡i-gÃ¢y-ra-re-rendering"><a class="header" href="#changes-in-state-cause-re-rendering-thay-Ä‘á»•i-tráº¡ng-thÃ¡i-gÃ¢y-ra-re-rendering">Changes in State Cause Re-rendering (Thay Ä‘á»•i tráº¡ng thÃ¡i gÃ¢y ra re-rendering)</a></h3>
<p>Khi state (tráº¡ng thÃ¡i) thay Ä‘á»•i, component sáº½ re-render vÃ  cÃ¡c component con cÅ©ng sáº½ re-render theo.</p>
<blockquote>
<p>Máº¹o váº·t cuá»™c sá»‘ng: Sá»­ dá»¥ng <code>console.log</code> Ä‘á»ƒ theo dÃµi giÃ¡ trá»‹ tráº¡ng thÃ¡i vÃ  quÃ¡ trÃ¬nh re-render. KhÃ´ng nÃªn Ä‘oÃ¡n code cháº¡y nhÆ° tháº¿ nÃ o, hÃ£y dÃ¹ng console.log Ä‘á»ƒ quan sÃ¡t.</p>
</blockquote>
<h3 id="refactoring-the-components-tÃ¡i-cáº¥u-trÃºc-cÃ¡c-component"><a class="header" href="#refactoring-the-components-tÃ¡i-cáº¥u-trÃºc-cÃ¡c-component">Refactoring the Components (TÃ¡i cáº¥u trÃºc cÃ¡c component)</a></h3>
<ul>
<li>Sá»­ dá»¥ng destructuring Ä‘á»ƒ Ä‘Æ¡n giáº£n hÃ³a component.</li>
<li>Sá»­ dá»¥ng cÃº phÃ¡p arrow function ngáº¯n gá»n khi hÃ m chá»‰ cÃ³ má»™t cÃ¢u lá»‡nh <code>return</code>.</li>
<li>TÃ¡i cáº¥u trÃºc component giÃºp code ngáº¯n gá»n vÃ  dá»… Ä‘á»c hÆ¡n.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="a-more-complex-state-debugging-react-apps"><a class="header" href="#a-more-complex-state-debugging-react-apps">A more complex state, debugging React apps</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="há»c-mpr-Ä‘á»ƒ-Ä‘i-thi-cá»±c-nhanh"><a class="header" href="#há»c-mpr-Ä‘á»ƒ-Ä‘i-thi-cá»±c-nhanh">Há»c MPR Ä‘á»ƒ Ä‘i thi cá»±c nhanh</a></h1>
<p>Tá»•ng há»£p tá»« Ä‘á»‘ng Lectures</p>
<h2 id="tutorial-2"><a class="header" href="#tutorial-2">Tutorial 2</a></h2>
<p>To create a new Expo project, run the following in your terminal:</p>
<pre><code>npx create-expo-app@latest &lt;app-name&gt;
</code></pre>
<p>Whatâ€™s inside a React Native project?</p>
<pre><code>.gitignore:
.expo
.vscode
node_modules:
#Holds 3rd party packages
assets:
#Holds images used inside app
package.json, package-lock.json:
#Holds dependencies, script commands, etc.
app.json:
#Configuration settings
App.js:
#The real code
</code></pre>
<p>CÃ¡ch cháº¡y á»©ng dá»¥ng</p>
<pre><code class="language-bash">npx expo install react-dom react-native-web @expo/metro-runtime
npm run web
</code></pre>
<p>To run your app on Expo Go:</p>
<ol>
<li>Open terminal</li>
<li>Type â€œnpx expo startâ€</li>
</ol>
<p>Thereâ€™s a function component called <code>App</code>. This component acts as the root component by default.
In React Native, you canâ€™t use HTML tags in JSX code. Unlike React where your application runs on the browser, React Native application runs on mobile devices</p>
<p><a href="https://reactnative.dev/docs/components-and-apis">React Native components documentation</a></p>
<div class="table-wrapper"><table><thead><tr><th>React Native UI Component</th><th>Android View</th><th>iOS View</th><th>Web Analog</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;View&gt;</code></td><td><code>&lt;ViewGroup&gt;</code></td><td><code>&lt;UIView&gt;</code></td><td>A non-scrolling <code>&lt;div&gt;</code></td><td>A container that supports layout with flexbox, style, some touch handling, and accessibility controls</td></tr>
<tr><td><code>&lt;Text&gt;</code></td><td><code>&lt;TextView&gt;</code></td><td><code>&lt;UITextView&gt;</code></td><td><code>&lt;p&gt;</code></td><td>Displays, styles, and nests strings of text and even handles touch events</td></tr>
<tr><td><code>&lt;Image&gt;</code></td><td><code>&lt;ImageView&gt;</code></td><td><code>&lt;UIImageView&gt;</code></td><td><code>&lt;img&gt;</code></td><td>Displays different types of images</td></tr>
<tr><td><code>&lt;ScrollView&gt;</code></td><td><code>&lt;ScrollView&gt;</code></td><td><code>&lt;UIScrollView&gt;</code></td><td><code>&lt;div&gt;</code></td><td>A generic scrolling container that can contain multiple components and views</td></tr>
<tr><td><code>&lt;TextInput&gt;</code></td><td><code>&lt;EditText&gt;</code></td><td><code>&lt;UITextField&gt;</code></td><td><code>&lt;input type=&quot;text&quot;&gt;</code></td><td>Allows the user to enter text</td></tr>
</tbody></table>
</div>
<p>React Native styling There Is No CSS! Inline Styles &lt;-&gt; StyleSheet Objects. Written in JavaScript</p>
<!-- ### The `<TextInput>` component
- A basic component for inputting text into the app via a keyboard.
- Important props (attributes):
	- : set the predefined value for the text field
	-: displays a placeholder text when the input is empty
	-: set the function to call every time the text value changes.
	-: make the input editable or not (default:)
	- Some other common props:
 -->
<!-- 
### The `<Button>` component
- A basic button that should render nicely on any platform.
- Supports a minimal level of customization.
- If more customization is needed,
- Important props (attributes):
	â€¢: the actual display text of the button
	â€¢: the event handling attribute
	â€¢: set the theme color for the button
	(renders differently on iOS and Android)
	- Other props: -->
<h2 id="lecture-3"><a class="header" href="#lecture-3">Lecture 3</a></h2>
<h3 id="what-is-fast-refresh"><a class="header" href="#what-is-fast-refresh">What is Fast Refresh?</a></h3>
<ul>
<li>Fast Refresh is a feature in React that updates the application instantly after editing the source code without reloading the entire page.</li>
<li>Key benefits:
<ul>
<li>Preserves state in function components and Hooks.</li>
<li>Speeds up development and reduces interruptions.</li>
</ul>
</li>
</ul>
<p>Limitations: State is not preserved in:</p>
<ul>
<li>Class components.</li>
<li>Modules with multiple exports besides React components.</li>
<li>Higher-order components returning class components.</li>
</ul>
<pre><code class="language-jsx">import React, { Component } from 'react';
import { Button, Text, View } from 'react-native';
// State is not preserved in class components
class App extends Component {
	state = { count: 0 };
	increment = () =&gt; this.setState({ count: this.state.count + 1 });
	render() {
		return (
			&lt;View&gt;
				&lt;Text&gt;{this.state.count}&lt;/Text&gt;
				&lt;Button title=&quot;Increment&quot; onPress={this.increment} /&gt;
			&lt;/View&gt;
		);
	}
}
</code></pre>
<h3 id="fast-refresh-and-hooks"><a class="header" href="#fast-refresh-and-hooks">Fast Refresh and Hooks</a></h3>
<ul>
<li>useState and useRef: Preserve their values if the arguments are unchanged.</li>
<li>useEffect, useMemo, and useCallback: Always update during Fast Refresh, even if dependencies donâ€™t change.</li>
</ul>
<pre><code class="language-jsx">import React, { useEffect, useMemo, useState } from 'react';
import { Button, Text, View } from 'react-native';
const App = ({ multiplier }) =&gt; {
const [count, setCount] = useState(0);
// useMemo will re-run when edited
const double = useMemo(() =&gt; count * multiplier, [count]);
useEffect(() =&gt; {
console.log('Component re-rendered');
}, []);
return (
&lt;View&gt;
&lt;Text&gt;Double: {double}&lt;/Text&gt;
&lt;Button title=&quot;Increment&quot; onPress={() =&gt; setCount(count + 1)} /&gt;
&lt;/View&gt;
);
};
</code></pre>
<p>Debugging JavaScript Remotely: Type â€œ?â€ on Terminal to see full list of command while <code>npm start</code> process is running. Press m to toggle a menu on device/emulator.</p>
<h3 id="building-adaptive-user-interfaces"><a class="header" href="#building-adaptive-user-interfaces">Building Adaptive User Interfaces</a></h3>
<p>Responsive Units:</p>
<ul>
<li>Use relative units like <code>%, vh, or vw</code> for widths and heights.</li>
<li>Use scalable units like <code>em or rem</code> for font sizes</li>
<li>Use third-party libraries such as <code>react-native-size-matters</code> to simplify responsive development.</li>
</ul>
<p>Using <code>maxWidth</code> or <code>minWidth</code> besides the regular width to create more responsive sizes.</p>
<h3 id="dimensions-api"><a class="header" href="#dimensions-api">Dimensions API</a></h3>
<pre><code class="language-jsx">import {Dimensions} from 'react-native';

const windowWidth = Dimensions.get('window').width;
const windowHeight = Dimensions.get('window').height;
</code></pre>
<p><code>useWindowDimensions()</code> is the preferred API for React components.</p>
<pre><code class="language-jsx">import {useWindowDimensions} from 'react-native';
const {width, height} = useWindowDimensions();
</code></pre>
<h3 id="managing-layout-when-keyboard-is-visible"><a class="header" href="#managing-layout-when-keyboard-is-visible">Managing layout when keyboard is visible</a></h3>
<p><code>KeyboardAvoidingView</code></p>
<pre><code class="language-jsx">import {KeyboardAvoidingView} from 'react-native';

&lt;KeyboardAvoidingView style={styles.screen} behavior=&quot;position&quot;&gt;

&lt;KeyboardAvoidingView 
	style={{
		flex: 1,
		alignItems: 'center',
		justifyContent: 'center',
		backgroundColor: '#ECF0F1'
	}} 
	behavior=&quot;height&quot;&gt;
	&lt;StatusBar barStyle=&quot;light-content&quot; /&gt;
	&lt;TextInput 
		style={{
			padding: 10,
			borderWidth: 1,
			borderRadius: 5,
			backgroundColor: '#ccc'
		}} 
		placeholder='Enter something' 
	/&gt;
&lt;/KeyboardAvoidingView&gt;
</code></pre>
<h3 id="handling-user-input"><a class="header" href="#handling-user-input">Handling user input</a></h3>
<ul>
<li>State Management:
<ul>
<li>React Native uses React's <code>useState</code> hook to manage the input values dynamically.</li>
<li>The state holds the value entered by the user.</li>
</ul>
</li>
<li>Input Components:
<ul>
<li><code>TextInput</code>: The core component for receiving user input.</li>
<li><code>Button</code>: Used to handle submission or trigger an action.</li>
</ul>
</li>
<li>Events:
<ul>
<li><code>onChangeText</code>: captures changes in TextInput (so that we can update the state).</li>
<li><code>onPress</code>: handles button clicks (to trigger a function to process input data).</li>
</ul>
</li>
</ul>
<h3 id="core-component-scrollview"><a class="header" href="#core-component-scrollview">Core component: ScrollView</a></h3>
<pre><code class="language-jsx">&lt;View style={styles.bottomSection}&gt;
	&lt;ScrollView&gt;
	{goals.map(
	(g, i) =&gt; &lt;Text key={i} style={styles.goalItem}&gt;{g}&lt;/Text&gt;)}
	&lt;/ScrollView&gt;
&lt;/View&gt;
</code></pre>
<p>FlatList (Better performance):</p>
<pre><code class="language-jsx">&lt;View style={styles.bottomSection}&gt;
	&lt;FlatList
		data={goals}
		renderItem={(obj) =&gt; &lt;Text key={obj.index} style={styles.goalItem}&gt;{obj.item}&lt;/Text&gt;}
	/&gt;
&lt;/View&gt;
</code></pre>
<h3 id="core-component-pressable"><a class="header" href="#core-component-pressable">Core component: Pressable</a></h3>
<p>Used to make other components pressable just like <code>Button</code> or <code>TouchableOpacity</code></p>
<pre><code class="language-jsx:">&lt;Pressable 
	// Only works on Android: A feedback effect when a Pressable is touched
	android_ripple={{ color: '#cccccc' }}
	onPress={() =&gt; { console.log('Pressed') }}&gt;
	&lt;Text style={styles.goalItem}&gt;{obj.item}&lt;/Text&gt;
&lt;/Pressable&gt;
</code></pre>
<p>Key Features of Pressable:</p>
<ul>
<li><code>onPress</code>: Handles the basic press event.</li>
<li><code>onPressIn</code>: Triggered when the press gesture starts.</li>
<li><code>onPressOut</code>: Triggered when the press gesture ends.</li>
<li><code>onLongPress</code>: Triggered when the user presses and holds the component.</li>
<li><code>style</code>: Allows you to define styles that change based on the component's state (e.g., pressed, hovered).</li>
</ul>
<h3 id="core-component-image"><a class="header" href="#core-component-image">Core component: Image</a></h3>
<pre><code class="language-jsx">// Static image:
&lt;Image source={require('./assets/favicon.png')} /&gt;
// Network image:
&lt;Image
	style={{ width: 64, height: 64 }}
	source={{
		uri: 'https://reactnative.dev/img/tiny_logo.png'
	}}
/&gt;
</code></pre>
<h3 id="core-component-modal"><a class="header" href="#core-component-modal">Core component: Modal</a></h3>
<p>The Modal component is a basic way to present content above an enclosing view.</p>
<pre><code class="language-jsx"> &lt;Modal
  animationType=&quot;slide&quot;
  transparent={true}
  visible={modalVisible}
  onRequestClose={() =&gt; {
    Alert.alert('Modal has been closed.');
    setModalVisible(!modalVisible);
  }}&gt;
  &lt;View style={styles.centeredView}&gt;
    &lt;View style={styles.modalView}&gt;
      &lt;Text style={styles.modalText}&gt;Hello World!&lt;/Text&gt;
      &lt;Pressable
        style={[styles.button, styles.buttonClose]}
        onPress={() =&gt; setModalVisible(!modalVisible)}&gt;
        &lt;Text style={styles.textStyle}&gt;Hide Modal&lt;/Text&gt;
      &lt;/Pressable&gt;
    &lt;/View&gt;
  &lt;/View&gt;
&lt;/Modal&gt;
</code></pre>
<h2 id="lecture-4"><a class="header" href="#lecture-4">Lecture 4</a></h2>
<div class="table-wrapper"><table><thead><tr><th>Events</th><th>Description</th></tr></thead><tbody>
<tr><td>onPress</td><td>Triggered when a user taps a button or Touchable component.</td></tr>
<tr><td>onChangeText</td><td>Fires when text changes in an TextInput field.</td></tr>
<tr><td>onSubmitEditing</td><td>Executes when the user presses &quot;Enter&quot; or submits input.</td></tr>
<tr><td>onLongPress</td><td>Activated when a user presses and holds a button.</td></tr>
<tr><td>onFocus / onBlur</td><td>Used for handling focus state in input fields.</td></tr>
</tbody></table>
</div>
<pre><code class="language-jsx">import React from 'react';
import { View, Text, Button, Alert, StyleSheet } from 'react-native';
	const HandleEventDemo = () =&gt; {
		const handlePress = () =&gt; {
		Alert.alert('Button Pressed!', 'You clicked the button.');
	};
	return (
		&lt;View style={styles.container}&gt;
			&lt;Text&gt;Press the button below:&lt;/Text&gt;
			&lt;Button title=&quot;Click Me&quot; onPress={handlePress} /&gt;
		&lt;/View&gt;
	);
};
export default HandleEventDemo;
</code></pre>
<p>Recall: The useState hook</p>
<pre><code class="language-jsx">const [state, setState] = useState(initialValue);
</code></pre>
<p>Example: Managing State with useState</p>
<pre><code class="language-jsx">import React, { useState } from 'react';
import { View, Text, Button, StyleSheet } from 'react-native';

const CounterApp = () =&gt; {
	const [count, setCount] = useState(0);
	return (
		&lt;View style={styles.container}&gt;
			&lt;Text&gt;Count: {count}&lt;/Text&gt;
			&lt;Button title=&quot;Increase&quot; onPress={() =&gt; setCount(count + 1)} /&gt;
		&lt;/View&gt;
	);
};
export default CounterApp;
</code></pre>
<ul>
<li>The count state stores a number.</li>
<li>setCount updates the value when the button is clicked.</li>
</ul>
<p>Syntax of <code>useEffect</code> (Don't get it, will revise later)</p>
<pre><code class="language-jsx">useEffect(() =&gt; {
	// Code to run on mount
	return () =&gt; {
	// Cleanup function (like componentWillUnmount)
	};
}, [dependencies]); // Dependencies control re-runs
</code></pre>
<h3 id="core-component-imagebackground"><a class="header" href="#core-component-imagebackground">Core Component: <code>ImageBackground</code></a></h3>
<pre><code class="language-jsx">import { ImageBackground, Text, StyleSheet } from 'react-native';
export default function App() {
	return (
		// Use it as a wrapper to display content on top of an image.
		&lt;ImageBackground
			source={require('./assets/background.jpg')}
			style={styles.background}
		&gt;
			&lt;Text style={styles.text}&gt;Weather App&lt;/Text&gt;
		&lt;/ImageBackground&gt;
	);
}
</code></pre>
<h3 id="statusbar"><a class="header" href="#statusbar">StatusBar</a></h3>
<pre><code class="language-jsx">import { StatusBar } from 'react-native';
export default function App() {
	return (
		&lt;&gt;
			&lt;StatusBar barStyle=&quot;light-content&quot; backgroundColor=&quot;#000&quot; /&gt;
		&lt;/&gt;
	);
}
</code></pre>
<h3 id="core-component-activityindicator"><a class="header" href="#core-component-activityindicator">Core component: <code>ActivityIndicator</code></a></h3>
<pre><code class="language-jsx">import { ActivityIndicator, View } from 'react-native';
export default function App() {
	return (
		&lt;View&gt;
		&lt;ActivityIndicator
		size=&quot;large&quot;
		color=&quot;#0000ff&quot;
		animating={true} /&gt;
		&lt;/View&gt;
	);
}
</code></pre>
<h3 id="core-component-textinput"><a class="header" href="#core-component-textinput">Core component: TextInput</a></h3>
<pre><code class="language-jsx">export default function AppTextInput() {
	return (
		&lt;TextInput	
			style={{
				padding: 10,
				borderWidth: 1,
				borderColor: '#ccc',
				margin: 10
			}}
			placeholder=&quot;Enter city name&quot;
			onChangeText={(text) =&gt; console.log(text)}
		/&gt;
	);
}
</code></pre>
<h3 id="calling-an-api-in-react"><a class="header" href="#calling-an-api-in-react">Calling an API in React</a></h3>
<p>Calling APIs in React Native</p>
<ul>
<li>Using fetch() for API calls</li>
<li>Example API URL for weather information: https://api.open-meteo.com/v1/forecast?latitude=35&amp;longitude=139&amp;current_weather=true</li>
</ul>
<pre><code class="language-jsx">const getWeather = async () =&gt; {
	try {
		const response = await fetch(&quot;API_URL&quot;);
		const data = await response.json();
		console.log(data);
	} catch (error) {
		console.error(&quot;Error fetching weather:&quot;, error);
	}
};
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cÆ¡-báº£n-vá»-typescript"><a class="header" href="#cÆ¡-báº£n-vá»-typescript">CÆ¡ báº£n vá» TypeScript</a></h1>
<blockquote>
<p>BÃ i viáº¿t gá»‘c: <a href="https://viblo.asia/p/tim-hieu-typescript-va-kien-thuc-co-ban-PmeRQpnyGoB">TÃ¬m Hiá»ƒu TypeScript vÃ  Kiáº¿n Thá»©c CÆ¡ Báº£n - Viblo</a></p>
</blockquote>
<h3 id="cÃ i-Ä‘áº·t-13"><a class="header" href="#cÃ i-Ä‘áº·t-13">CÃ i Ä‘áº·t</a></h3>
<hr />
<ol>
<li>Cháº¡y lá»‡nh sau Ä‘á»ƒ install TypeScript (nhá»› install nodejs trÆ°á»›c):</li>
</ol>
<pre><code>npm install -g typescript

</code></pre>
<ol>
<li>Compile:</li>
</ol>
<p>Viá»‡c nÃ y sáº½ giÃºp táº¡o ra file xxx.js</p>
<h3 id="basic-types"><a class="header" href="#basic-types">Basic Types:</a></h3>
<p>Trong TypeScript chia ra lÃ m 7 loáº¡i cÆ¡ báº£n, bao gá»“m: boolean, number, string, array, enum, any, void. khi khai bÃ¡o ta sáº½ sá»­ dá»¥ng cáº¥u trÃºc nhÆ° sau: var tÃªn_biáº¿n : kiá»ƒu_tráº£_vá» = giÃ¡_trá»‹_biáº¿n;</p>
<ul>
<li>Boolean:</li>
</ul>
<pre><code>var isDone: boolean = true;

</code></pre>
<ul>
<li>String:</li>
</ul>
<pre><code>var name: boolean = &quot;nguyen thi A&quot;;

</code></pre>
<ul>
<li>
<p>Number:</p>
</li>
<li>
<p>Array : cÃ³ 2 kiá»ƒu khai bÃ¡o tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i nhau trong TypeScript</p>
</li>
</ul>
<pre><code>1: var list: boolean[] = [true, false];
2: var isDone: Array&lt;boolean&gt; = [true, false];

</code></pre>
<ul>
<li>Enum: khi khai bÃ¡o enum má»™t cÃ¡ch thÃ´ng thÆ°á»ng cÃ¡c pháº§n tá»­ sáº½ Ä‘Æ°á»£c Ä‘Ã¡nh sá»‘ tá»« 0 vÃ  tÄƒng dáº§n</li>
</ul>
<pre><code>enum Color{Red, Green, Blue};
var c: Color = Color.Green
var colorName = Color[1] // káº¿t quáº£ sáº½ lÃ  Green

</code></pre>
<p>Khi má»‘n pháº§n tá»­ Ä‘áº§u tiÃªn lÃ  1 chá»© khÃ´ng pháº£i lÃ  0 nhÆ° máº·c Ä‘á»‹nh thÃ¬ cáº§n khai bÃ¡o nhÆ° sau:</p>
<pre><code>enum Color{Red = 1, Green, Blue};
var c: Color = Color.Green
var colorName = Color[1] // káº¿t quáº£ sáº½ lÃ  Red

</code></pre>
<ul>
<li>Any: Any lÃ  má»™t kiá»ƒu mÃ  báº¡n cÃ³ thá»ƒ gÃ¡n báº¥t ká»³ kiá»ƒu nÃ o cho nÃ³.</li>
</ul>
<pre><code>var notSure: any = 4;
notSure = &quot;maybe a string instead&quot;;
notSure = false; // khai bÃ¡o nÃ y hoÃ n toÃ n Ä‘Æ°á»£c cháº¥p nháº­n.
                 // náº¿u notSure ban Ä‘áº§u khai bÃ¡o vÃ  number thÃ¬
                 // táº¡i Ä‘Ã¢y cháº¯c cháº¯n sáº½ cÃ³ lá»—i

var list:any[] = [1, true, &quot;free&quot;]; // náº¿u sá»­ dá»¥ng var list:number[] thÃ¬
                                    // táº¥t cáº£ cÃ¡c pháº§n tá»­ trong list sáº½ pháº£i lÃ  kiá»ƒu number
list[1] = 100;

</code></pre>
<ul>
<li>Void: CÅ©ng giá»‘ng nhÆ° any nhÆ°ng void Ä‘Æ°á»£c sá»­ dá»¥ng lÃ  Ä‘áº§u ra cá»§a hÃ m.</li>
</ul>
<pre><code>function warnUser(): void {
 alert(&quot;This is my warning message&quot;);
}

</code></pre>
<h3 id="function"><a class="header" href="#function">Function:</a></h3>
<p>CÅ©ng giá»‘ng nhÆ° javaScript, typeScript cÃ³ 2 cÃ¡ch khai bÃ¡o function</p>
<pre><code>//Named function
function add(x, y) {
    return x+y;
}

//Anonymous function
var myAdd = function(x, y) { return x+y; };

</code></pre>
<p>NhÆ°ng khi khai bÃ¡o function typeScript cÃ²n há»— chá»£ viá»‡c khai bÃ¡o vá»›i cÃ¡c kiá»ƒu tráº£ ra cá»§a function vÃ  cÅ©ng nhÆ° kiá»ƒu Ä‘áº§u vÃ o cá»§a dá»¯ liá»‡u</p>
<pre><code>function add(x: number, y: number): number {
    return x+y;
}

var myAdd = function(x: number, y: number): number { return x+y; };

</code></pre>
<p>KhÃ´ng nhá»¯ng tháº¿ khi sá»­ dá»¥ng typeScript ta cÃ³ thá»ƒ khai bÃ¡o giÃ¡ trá»‹ máº·c Ä‘á»‹nh cá»§a Ä‘áº§u vÃ o ngay khi khai bÃ¡o function, Ä‘iá»u mÃ  JavaScript khÃ´ng cÃ³</p>
<pre><code>function buildName(firstName: string, lastName = &quot;Smith&quot;) {
    return firstName + &quot; &quot; + lastName;
}

var result1 = buildName(&quot;Bob&quot;);  //lÃ m viá»‡c hoÃ n toÃ n OK. buildName(&quot;bob&quot;) = &quot;bob Smith&quot;
var result2 = buildName(&quot;Bob&quot;, &quot;Adams&quot;, &quot;Sr.&quot;);  //error, too many parameters
var result3 = buildName(&quot;Bob&quot;, &quot;Adams&quot;);  //ah, just right

</code></pre>
<ul>
<li>KhÃ´ng dá»«ng láº¡i á»Ÿ Ä‘Ã³ typeScript cÃ²n há»— chá»£ viá»‡c bá» qua nháº­p má»™t hoáº·c vÃ i Ä‘áº§u vÃ o.</li>
</ul>
<pre><code>function buildName(firstName: string, lastName?: string) {
    if (lastName)
        return firstName + &quot; &quot; + lastName;
    else
        return firstName;
}

var result1 = buildName(&quot;Bob&quot;);  //lÃ m viá»‡c hoÃ n toÃ n OK. buildName(&quot;bob&quot;) = &quot;bob&quot;
var result2 = buildName(&quot;Bob&quot;, &quot;Adams&quot;, &quot;Sr.&quot;);  //error, too many parameters
var result3 = buildName(&quot;Bob&quot;, &quot;Adams&quot;);  //ah, just right

</code></pre>
<p>á»Ÿ vÃ­ dá»¥ trÃªn viá»‡c khai bÃ¡o biáº¿n lastName? lÃ m cho viÃªc nháº­p lastName cÃ³ thá»ƒ khÃ´ng cáº§n ná»¯a vÃ  káº¿t quáº£ tráº£ ra chá»‰ lÃ  bob mÃ  thÃ´i. typeScript cÃ²n cÃ³ má»™t cÃ¡ch lÃ m viá»‡c vá»›i cÃ¡c param Ä‘áº§u vÃ o cÃ³ tÃªn gá»i: &quot;Rest Parameters&quot;</p>
<pre><code>function buildName(firstName: string, ...restOfName: string[]) {
	return firstName + &quot; &quot; + restOfName.join(&quot; &quot;);
}

var employeeName = buildName(&quot;Joseph&quot;, &quot;Samuel&quot;, &quot;Lucas&quot;, &quot;MacKinzie&quot;);// =&gt; &quot;Joseph Samuel Lucas MacKinzie&quot;

</code></pre>
<p>á»Ÿ trÃªn firstName sáº½ lÃ  báº¯t buá»™c pháº£i nháº­p. cÃ²n cÃ¡c thÃ nh pháº§n cÃ²n láº¡i sáº½ Ä‘Æ°á»£c gá»™p chung vÃ o má»™t biáº¿n array.</p>
<h3 id="class-1"><a class="header" href="#class-1">Class:</a></h3>
<pre><code>class Greeter {
    greeting: string;
    constructor(message: string) {
        this.greeting = message;
    }
    greet() {
        return &quot;Hello, &quot; + this.greeting;
    }
}
var greeter = new Greeter(&quot;world&quot;);

</code></pre>
<p>hÃ m constructor sáº½ Ä‘Æ°á»£c cháº¡y ngay khi khá»Ÿi táº¡o class má»›i. á» vÃ­ dá»¥ trÃªn khi khai bÃ¡o new Greeter(&quot;world&quot;) thÃ¬ viá»‡c Ä‘Ã¢u tiÃªn sáº½ lÃ  cháº¡y hÃ m constructor gÃ¡n message &quot;world&quot; vÃ o biáº¿n greeting cá»§a class. HÆ¡n ná»¯a, cÅ©ng giá»‘ng nhÆ° cÃ¡c ngÃ´n ngá»¯ láº­p trÃ¬nh hÆ°á»›ng Ä‘á»‘i tÆ°á»£ng khÃ¡c. chÃºng ta cÅ©ng cÃ³ thá»ƒ dá»… dÃ ng sá»­ dá»¥ng káº¿ thá»«a trong typeScript.</p>
<pre><code>class Animal {
    name: string;
    constructor(theName: string) {
        this.name = theName;
    }

    move(meters: number = 0): string {
        return this.name + &quot; moved &quot; + meters + &quot;m.&quot;;
    }
}

class Snake extends Animal {
    constructor(name: string) {
        super(name);
    }

    move(meters = 5): string {
        return super.move(meters);
    }
}

var ranLuc = new Snake(&quot;Ran Luc&quot;);
ranLuc.move();   // = Ran Luc moved 5 m.
ranLuc.move(34); // = Ran Luc moved 34 m.

</code></pre>
<p>á» Ä‘Ã¢y chÃºng ta sáº½ cÃ³ class Animal bao gá»“m cÃ³ biáº¿n name chÆ°a tÃªn, vÃ  function move chá»‰ sá»± di chuyá»ƒn cá»§a Ä‘á»™ng váº­t Ã½. Class Snake káº¿ thá»«a láº¡i class Animal. Trong hÃ m khá»Ÿi táº¡o cá»§a class Snake ta Ä‘Ã£ sá»­ dá»¥ng super(name), viá»‡c nÃ y chÃ­nh lÃ  viá»‡c gá»i tá»›i hÃ m constructor cá»§a class cha. TÆ°Æ¡ng tá»± táº¡i hÃ m move viá»‡c gá»i super.move(meters) chÃ­nh lÃ  gá»i thá»›i hÃ m move cá»§a class cha (Animal).</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="bash"><a class="header" href="#bash">Bash</a></h1>
<p>MÃ¬nh tá»•ng há»£p khÃ¡ nhiá»u cÃ¡c cÃ¢u lá»‡nh vÃ  má»™t chÃºt vá» láº­p trÃ¬nh Bash trong nÃ y. KhÃ´ng nháº¥t thiáº¿t chá»‰ lÃ  Bash mÃ  cÃ²n lÃ  cÃ¡c cÃ¢u lá»‡nh khÃ¡c trong Terminal ná»¯a ^^!</p>
<h3 id="loop-Ä‘á»c-tá»«-tá»‡p-txt"><a class="header" href="#loop-Ä‘á»c-tá»«-tá»‡p-txt">Loop Ä‘á»c tá»« tá»‡p txt</a></h3>
<pre><code class="language-bash">while read p; do
  yt-dlp &quot;$p&quot; -o
done &lt;tmp.txt
</code></pre>
<h3 id="gá»™p-toÃ n-bá»™-cÃ¡c-tá»‡p-txt-thÃ nh-má»™t-tá»‡p-txt"><a class="header" href="#gá»™p-toÃ n-bá»™-cÃ¡c-tá»‡p-txt-thÃ nh-má»™t-tá»‡p-txt">Gá»™p toÃ n bá»™ cÃ¡c tá»‡p .txt thÃ nh má»™t tá»‡p .txt</a></h3>
<pre><code class="language-bash"># Náº¿u khÃ´ng bao gá»“m sub-folders
cat ./* &gt; merged-file
# Náº¿u cÃ³
find . ! -path ./merged-file -type f -exec cat {} + &gt; merged-file
</code></pre>
<h3 id="táº£i-trang-tá»«-wayback-machine-vá»"><a class="header" href="#táº£i-trang-tá»«-wayback-machine-vá»">Táº£i trang tá»« Wayback Machine vá»</a></h3>
<pre><code class="language-bash">wget -rc --accept-regex '.*https://loda.me/articles.*' &quot;https://web.archive.org/web/20230321225500/https://loda.me/articles&quot;
</code></pre>
<h3 id="sending-post-request-using-curl"><a class="header" href="#sending-post-request-using-curl">Sending POST Request using <code>curl</code></a></h3>
<pre><code class="language-bash">curl -X POST https://localhost:5001/api -H &quot;Content-Type: application/json&quot; -d @/some/directory/some.json
</code></pre>
<h3 id="loop--tim-toan-bo-cac-tep"><a class="header" href="#loop--tim-toan-bo-cac-tep">Loop &amp; Tim toan bo cac tep</a></h3>
<pre><code class="language-bash">find . -name &quot;*.rar&quot; -print0 | while read -d $'\0' file
do
   unrar x &quot;$file&quot;
done

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="regex"><a class="header" href="#regex">Regex</a></h1>
<p>Ráº¥t nhiá»u regex hay dÃ£ man, vÃ  cÅ©ng nhanh khá»§ng khiáº¿p, náº¿u biáº¿t Pattern =))</p>
<h3 id="match-tá»«-Ä‘Ã¢y-Ä‘áº¿n-háº¿t-cÃ¢u"><a class="header" href="#match-tá»«-Ä‘Ã¢y-Ä‘áº¿n-háº¿t-cÃ¢u">Match tá»« Ä‘Ã¢y Ä‘áº¿n háº¿t cÃ¢u</a></h3>
<pre><code>[Pháº§n báº¯t Ä‘áº§u cá»§a Ä‘oáº¡n báº¡n cáº§n match]\s*([^\n\r]*)
</code></pre>
<h3 id="xÃ³a-toÃ n-bá»™-cÃ¡c-dÃ²ng-bá»‹-trÃ¹ng-láº·p"><a class="header" href="#xÃ³a-toÃ n-bá»™-cÃ¡c-dÃ²ng-bá»‹-trÃ¹ng-láº·p">XÃ³a toÃ n bá»™ cÃ¡c dÃ²ng bá»‹ trÃ¹ng láº·p</a></h3>
<pre><code>^(.*)(\r?\n\1)+$
</code></pre>
<h3 id="match-markdown-links"><a class="header" href="#match-markdown-links">Match markdown links</a></h3>
<pre><code>\[(.+)\]\(([^ ]+?)( &quot;(.+)&quot;)?\)
</code></pre>
<p>Extracted from <a href="https://www.michaelperrin.fr/blog/2019/02/advanced-regular-expressions">this post</a>. There are 4 capturing groups (surrounded by parenthesis) in that regex:</p>
<ul>
<li>Group 1 is the text of the link.</li>
<li>Group 2 is the URL of the link.</li>
<li>Group 3 is the optional title of the link including the double quotes (this group is necessary for the ? marker).</li>
<li>Group 4 is the optional title of the link.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="má»™t-sá»‘-cÃ¢u-lá»‡nh-táº£i-video-hay-báº±ng-yt-dlp"><a class="header" href="#má»™t-sá»‘-cÃ¢u-lá»‡nh-táº£i-video-hay-báº±ng-yt-dlp">Má»™t sá»‘ cÃ¢u lá»‡nh táº£i video hay báº±ng <code>yt-dlp</code></a></h1>
<h3 id="chá»‰nh-sá»­a-tÃªn-tá»‡p-output"><a class="header" href="#chá»‰nh-sá»­a-tÃªn-tá»‡p-output">Chá»‰nh sá»­a tÃªn tá»‡p (Output)</a></h3>
<p>Khi táº£i video Youtube cháº³ng háº¡n, thÆ°á»ng thÃ¬ nÃ³ sáº½ tráº£ vá» kiá»ƒu <code>TiÃªu Ä‘á» video [id cá»§a video].webm</code> cháº³ng háº¡n. NÃ³ khÃ¡ lÃ  khÃ³ chá»‹u =)) (Ãt nháº¥t vá»›i mÃ¬nh).</p>
<pre><code>yt-dlp -o &quot;%(title)s.%(ext)s&quot; [link á»Ÿ Ä‘Ã¢y]
</code></pre>
<p>ThÆ°á»ng lÃ  mÃ¬nh Ä‘á»ƒ máº·c Ä‘á»‹nh tháº¿ nÃ y, chá»‰ cÃ³ tiÃªu Ä‘á» vá»›i Ä‘uÃ´i tá»‡p thÃ´i.</p>
<h3 id="táº£i-cáº£-cÃ¡i-podcast"><a class="header" href="#táº£i-cáº£-cÃ¡i-podcast">Táº£i cáº£ cÃ¡i Podcast</a></h3>
<p>LÃªn trÃªn <a href="https://podcastindex.org/">Podcastindex.org</a> vÃ  tÃ¬m Podcast báº¡n muá»‘n táº£i. VÃ­ dá»¥ mÃ¬nh sáº½ táº£i Podcast cÃ³ Ä‘Æ°á»ng dáº«n lÃ  <a href="https://podcastindex.org/podcast/366334">https://podcastindex.org/podcast/366334</a>.</p>
<p>Báº¡n chá»‰ cáº§n báº¥m <strong>Copy RSS</strong> rá»“i nÃ©m vÃ o trong <code>yt-dlp</code> lÃ  xong:</p>
<pre><code>yt-dlp https://feeds.simplecast.com/dfh_verV
</code></pre>
<p>Rá»“i nÃ³ sáº½ táº£i toÃ n bá»™ cho báº¡n.</p>
<h3 id="danh-sÃ¡ch-cÃ¡c-lá»‡nh-tá»•ng-há»£p"><a class="header" href="#danh-sÃ¡ch-cÃ¡c-lá»‡nh-tá»•ng-há»£p">Danh sÃ¡ch cÃ¡c lá»‡nh tá»•ng há»£p</a></h3>
<p>Táº£i má»™t danh sÃ¡ch phÃ¡t trÃªn Youtube, Ä‘á»™ phÃ¢n giáº£i 480p, cÃ³ phá»¥ Ä‘á» Tiáº¿ng Anh vá»›i Output tÃªn Ä‘áº¹p Ä‘áº¹p xÃ­u.</p>
<pre><code>yt-dlp -S res:480 --write-subs --write-auto-subs --sub-lang=en --convert-subs=srt -o &quot;%(title)s.%(ext)s&quot; [Cho link á»Ÿ Ä‘Ã¢y]
</code></pre>
<p>Giáº£i thÃ­ch thÃªm:</p>
<ul>
<li><code>-S res:480</code>: Äá»™ phÃ¢n giáº£i 480p.</li>
<li><code>--write-subs</code></li>
<li><code>--write-auto-subs</code>: Táº£i sub tá»± Youtube táº¡o </li>
<li><code>--sub-lang=en</code>: Chá»n ngÃ´n ngá»¯ phá»¥ Ä‘á»</li>
<li><code>--convert-subs=srt</code>: Chuyá»ƒn Ä‘á»•i sang Ä‘á»‹nh dáº¡ng <code>.srt</code>, máº·c Ä‘á»‹nh <code>yt-dlp</code> sáº½ dÃ¹ng <code>.vtt</code></li>
<li><code>-o &quot;%(title)s.%(ext)s&quot;</code> - TÃªn tá»‡p Ä‘áº¹p</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
    </body>
</html>
