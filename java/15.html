<!DOCTYPE HTML>
<html lang="vi" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Thread - Kho code của duykhanh471</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><div><strong aria-hidden="true">1.</strong> HTML/CSS</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../html-css/html.html"><strong aria-hidden="true">1.1.</strong> HTML</a></li><li class="chapter-item expanded "><a href="../html-css/css.html"><strong aria-hidden="true">1.2.</strong> CSS</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.</strong> JS</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../js/co-ban.html"><strong aria-hidden="true">2.1.</strong> TMP</a></li><li class="chapter-item expanded "><a href="../js/array.html"><strong aria-hidden="true">2.2.</strong> TMP</a></li><li class="chapter-item expanded "><a href="../js/ngay-gio.html"><strong aria-hidden="true">2.3.</strong> TMP</a></li><li class="chapter-item expanded "><a href="../js/string.html"><strong aria-hidden="true">2.4.</strong> TMP</a></li><li class="chapter-item expanded "><a href="../js/object.html"><strong aria-hidden="true">2.5.</strong> TMP</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.</strong> Java</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../java/index.html"><strong aria-hidden="true">3.1.</strong> Trang chủ khóa học</a></li><li class="chapter-item expanded "><a href="../java/1.html"><strong aria-hidden="true">3.2.</strong> Giới thiệu Java, JVM và Hellooo world</a></li><li class="chapter-item expanded "><a href="../java/2.html"><strong aria-hidden="true">3.3.</strong> Biến, phạm vi, kiểu dữ liệu, toán tử trong Java</a></li><li class="chapter-item expanded "><a href="../java/3.html"><strong aria-hidden="true">3.4.</strong> Hàm và câu lệnh điều kiện</a></li><li class="chapter-item expanded "><a href="../java/4.html"><strong aria-hidden="true">3.5.</strong> Nhập xuất dữ liệu trong Java</a></li><li class="chapter-item expanded "><a href="../java/5.html"><strong aria-hidden="true">3.6.</strong> Vì sao nên sử dụng StringBuffer</a></li><li class="chapter-item expanded "><a href="../java/6.html"><strong aria-hidden="true">3.7.</strong> Hướng dẫn Java Reflection</a></li><li class="chapter-item expanded "><a href="../java/7.html"><strong aria-hidden="true">3.8.</strong> Hướng dẫn tự tạo một Annotations</a></li><li class="chapter-item expanded "><a href="../java/8.html"><strong aria-hidden="true">3.9.</strong> Functional Interfaces & Lambda Expressions cực dễ hiểu</a></li><li class="chapter-item expanded "><a href="../java/9.html"><strong aria-hidden="true">3.10.</strong> Hướng dẫn Stream API</a></li><li class="chapter-item expanded "><a href="../java/10.html"><strong aria-hidden="true">3.11.</strong> Khái niệm ThreadPool và Executor trong Java</a></li><li class="chapter-item expanded "><a href="../java/11.html"><strong aria-hidden="true">3.12.</strong> ThreadPoolExecutor và nguyên tắc quản lý pool size</a></li><li class="chapter-item expanded "><a href="../java/12.html"><strong aria-hidden="true">3.13.</strong> Giới thiệu Reactive Programming với Reactor</a></li><li class="chapter-item expanded "><a href="../java/13.html"><strong aria-hidden="true">3.14.</strong> Giới thiệu Reactor Core</a></li><li class="chapter-item expanded "><a href="../java/14.html"><strong aria-hidden="true">3.15.</strong> Abstract Interface</a></li><li class="chapter-item expanded "><a href="../java/15.html" class="active"><strong aria-hidden="true">3.16.</strong> Thread</a></li><li class="chapter-item expanded "><a href="../java/16.html"><strong aria-hidden="true">3.17.</strong> Optional</a></li><li class="chapter-item expanded "><a href="../java/snippets/index.html"><strong aria-hidden="true">3.18.</strong> Kho snippets</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../java/snippets/algorithms.html"><strong aria-hidden="true">3.18.1.</strong> Algorithms</a></li><li class="chapter-item expanded "><a href="../java/snippets/array.html"><strong aria-hidden="true">3.18.2.</strong> Array</a></li><li class="chapter-item expanded "><a href="../java/snippets/cls.html"><strong aria-hidden="true">3.18.3.</strong> CLS</a></li><li class="chapter-item expanded "><a href="../java/snippets/date.html"><strong aria-hidden="true">3.18.4.</strong> Date</a></li><li class="chapter-item expanded "><a href="../java/snippets/encoding.html"><strong aria-hidden="true">3.18.5.</strong> Encoding & Decoding</a></li><li class="chapter-item expanded "><a href="../java/snippets/file.html"><strong aria-hidden="true">3.18.6.</strong> File</a></li><li class="chapter-item expanded "><a href="../java/snippets/io.html"><strong aria-hidden="true">3.18.7.</strong> IO</a></li><li class="chapter-item expanded "><a href="../java/snippets/math.html"><strong aria-hidden="true">3.18.8.</strong> Math</a></li><li class="chapter-item expanded "><a href="../java/snippets/media.html"><strong aria-hidden="true">3.18.9.</strong> Media</a></li><li class="chapter-item expanded "><a href="../java/snippets/network.html"><strong aria-hidden="true">3.18.10.</strong> Network</a></li><li class="chapter-item expanded "><a href="../java/snippets/string.html"><strong aria-hidden="true">3.18.11.</strong> String</a></li><li class="chapter-item expanded "><a href="../java/snippets/thread.html"><strong aria-hidden="true">3.18.12.</strong> Thread</a></li></ol></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.</strong> Spring Boot</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../spring-boot/index.html"><strong aria-hidden="true">4.1.</strong> Trang chủ khóa học</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.2.</strong> Core</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../spring-boot/core1.html"><strong aria-hidden="true">4.2.1.</strong> Khái niệm tight-coupling (liên kết ràng buộc) và cách loosely coupled</a></li><li class="chapter-item expanded "><a href="../spring-boot/core2.html"><strong aria-hidden="true">4.2.2.</strong> Giải thích Dependency Injection (DI) và IoC</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.3.</strong> Spring Boot</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../spring-boot/sb1.html"><strong aria-hidden="true">4.3.1.</strong> Hướng dẫn @Component và @Autowired</a></li><li class="chapter-item expanded "><a href="../spring-boot/sb2.html"><strong aria-hidden="true">4.3.2.</strong> @Autowired - @Primary - @Qualifier</a></li><li class="chapter-item expanded "><a href="../spring-boot/sb3.html"><strong aria-hidden="true">4.3.3.</strong> Spring Bean Life Cycle + @PostConstruct và @PreDestroy</a></li><li class="chapter-item expanded "><a href="../spring-boot/sb4.html"><strong aria-hidden="true">4.3.4.</strong> @Component vs @Service vs @Repository</a></li><li class="chapter-item expanded "><a href="../spring-boot/sb5.html"><strong aria-hidden="true">4.3.5.</strong> Component Scan là gì?</a></li><li class="chapter-item expanded "><a href="../spring-boot/sb6.html"><strong aria-hidden="true">4.3.6.</strong> @Configuration và @Bean</a></li><li class="chapter-item expanded "><a href="../spring-boot/sb7.html"><strong aria-hidden="true">4.3.7.</strong> Spring Boot Application Config và @Value</a></li><li class="chapter-item expanded "><a href="../spring-boot/sb8.html"><strong aria-hidden="true">4.3.8.</strong> Tạo Web Helloworld với @Controller + Thymeleaf</a></li><li class="chapter-item expanded "><a href="../spring-boot/sb9.html"><strong aria-hidden="true">4.3.9.</strong> Giải thích cách Thymeleaf vận hành + Expression + Demo Full</a></li><li class="chapter-item expanded "><a href="../spring-boot/sb10.html"><strong aria-hidden="true">4.3.10.</strong> @RequestMapping + @PostMapping + @ModelAttribute + @RequestParam + Web To-Do với Thymeleaf</a></li><li class="chapter-item expanded "><a href="../spring-boot/sb11.html"><strong aria-hidden="true">4.3.11.</strong> Hướng dẫn Spring Boot JPA + MySQL</a></li><li class="chapter-item expanded "><a href="../spring-boot/sb12.html"><strong aria-hidden="true">4.3.12.</strong> Spring JPA Method + @Query</a></li><li class="chapter-item expanded "><a href="../spring-boot/sb13.html"><strong aria-hidden="true">4.3.13.</strong> Chi tiết Spring Boot + Thymeleaf + MySQL + i18n + Web Demo</a></li><li class="chapter-item expanded "><a href="../spring-boot/sb14.html"><strong aria-hidden="true">4.3.14.</strong> Restful API + @RestController + @PathVariable + @RequestBody</a></li><li class="chapter-item expanded "><a href="../spring-boot/sb15.html"><strong aria-hidden="true">4.3.15.</strong> Exception Handling @ExceptionHandler + @RestControllerAdvice / @ControllerAdvice + @ResponseStatus</a></li><li class="chapter-item expanded "><a href="../spring-boot/sb16.html"><strong aria-hidden="true">4.3.16.</strong> Hướng dẫn sử dụng @ConfigurationPropertie</a></li><li class="chapter-item expanded "><a href="../spring-boot/sb17.html"><strong aria-hidden="true">4.3.17.</strong> Chạy nhiều môi trường với Spring Profile</a></li><li class="chapter-item expanded "><a href="../spring-boot/sb18.html"><strong aria-hidden="true">4.3.18.</strong> Hướng dẫn chi tiết Test Spring Boot</a></li><li class="chapter-item expanded "><a href="../spring-boot/sb19.html"><strong aria-hidden="true">4.3.19.</strong> Hướng dẫn chi tiết Test Spring Boot (Phần 2)</a></li><li class="chapter-item expanded "><a href="../spring-boot/sb20.html"><strong aria-hidden="true">4.3.20.</strong> Hướng dẫn toàn tập Mockito</a></li><li class="chapter-item expanded "><a href="../spring-boot/sb21.html"><strong aria-hidden="true">4.3.21.</strong> Hướng dẫn tạo Bean có điều kiện với @Conditional</a></li><li class="chapter-item expanded "><a href="../spring-boot/sb22.html"><strong aria-hidden="true">4.3.22.</strong> Hướng dẫn tự tạo custom @Conditional</a></li><li class="chapter-item expanded "><a href="../spring-boot/sb23.html"><strong aria-hidden="true">4.3.23.</strong> Xử lý sự kiện với @EventListener + @Async</a></li><li class="chapter-item expanded "><a href="../spring-boot/sb24.html"><strong aria-hidden="true">4.3.24.</strong> RESTful API Document Tạo với Spring Boot + Swagger</a></li><li class="chapter-item expanded "><a href="../spring-boot/sb25.html"><strong aria-hidden="true">4.3.25.</strong> RESTful API Document với Spring Boot + OpenApi 3.0</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.4.</strong> Jpa</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../spring-boot/jpa1.html"><strong aria-hidden="true">4.4.1.</strong> 「Jpa」Hibernate là gì?</a></li><li class="chapter-item expanded "><a href="../spring-boot/jpa2.html"><strong aria-hidden="true">4.4.2.</strong> 「Jpa」Hướng dẫn sử dụng Specification (Phần 1)</a></li><li class="chapter-item expanded "><a href="../spring-boot/jpa3.html"><strong aria-hidden="true">4.4.3.</strong> 「Jpa」Hướng dẫn sử dụng @OneToOne</a></li><li class="chapter-item expanded "><a href="../spring-boot/jpa4.html"><strong aria-hidden="true">4.4.4.</strong> 「Jpa」@OneToMany và @ManyToOne</a></li><li class="chapter-item expanded "><a href="../spring-boot/jpa5.html"><strong aria-hidden="true">4.4.5.</strong> 「Jpa」Hướng dẫn @ManyToMany</a></li><li class="chapter-item expanded "><a href="../spring-boot/jpa6.html"><strong aria-hidden="true">4.4.6.</strong> 「Jpa」Hướng dẫn Query phân trang bằng Pageable (Phần 1)</a></li><li class="chapter-item expanded "><a href="../spring-boot/jpa7.html"><strong aria-hidden="true">4.4.7.</strong> 「Jpa」Hướng dẫn sử dụng Criteria API trong Hibernate</a></li><li class="chapter-item expanded "><a href="../spring-boot/jpa8.html"><strong aria-hidden="true">4.4.8.</strong> 「Jpa」Hướng dẫn sử dụng Criteria API trong Hibernate (Phần 2)</a></li><li class="chapter-item expanded "><a href="../spring-boot/jpa9.html"><strong aria-hidden="true">4.4.9.</strong> 「Jpa」Hướng dẫn tự tạo Validator để kiểm tra Model & Entity</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.5.</strong> Spring Security</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../spring-boot/ss1.html"><strong aria-hidden="true">4.5.1.</strong> 「SS」Hướng dẫn Spring Security cơ bản, dễ hiểu</a></li><li class="chapter-item expanded "><a href="../spring-boot/ss2.html"><strong aria-hidden="true">4.5.2.</strong> 「SS」Hướng dẫn Spring Security + Jpa Hibernate</a></li><li class="chapter-item expanded "><a href="../spring-boot/ss3.html"><strong aria-hidden="true">4.5.3.</strong> 「SS」Hướng dẫn Spring Security + JWT (Json Web Token) + Hibernate</a></li></ol></li><li class="chapter-item expanded "><a href="../spring-boot/redis.html"><strong aria-hidden="true">4.6.</strong> Redis</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.</strong> Rust</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../rust/thuat-toan.html"><strong aria-hidden="true">5.1.</strong> TMP</a></li><li class="chapter-item expanded "><a href="../rust/command-line.html"><strong aria-hidden="true">5.2.</strong> TMP</a></li><li class="chapter-item expanded "><a href="../rust/he-thong.html"><strong aria-hidden="true">5.3.</strong> TMP</a></li><li class="chapter-item expanded "><a href="../rust/internet.html"><strong aria-hidden="true">5.4.</strong> TMP</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.5.</strong> Tệp</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../rust/tep/epub.html"><strong aria-hidden="true">5.5.1.</strong> TMP</a></li><li class="chapter-item expanded "><a href="../rust/tep/git.html"><strong aria-hidden="true">5.5.2.</strong> TMP</a></li><li class="chapter-item expanded "><a href="../rust/tep/html.html"><strong aria-hidden="true">5.5.3.</strong> TMP</a></li><li class="chapter-item expanded "><a href="../rust/tep/rss.html"><strong aria-hidden="true">5.5.4.</strong> TMP</a></li></ol></li><li class="chapter-item expanded "><a href="../rust/essentials/intro.html"><strong aria-hidden="true">5.6.</strong> Essentials</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../rust/essentials/core-concepts/intro.html"><strong aria-hidden="true">5.6.1.</strong> Core Concepts</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../rust/essentials/core-concepts/function.html"><strong aria-hidden="true">5.6.1.1.</strong> Functions</a></li><li class="chapter-item expanded "><a href="../rust/essentials/core-concepts/flow-control.html"><strong aria-hidden="true">5.6.1.2.</strong> Flow Control</a></li><li class="chapter-item expanded "><a href="../rust/essentials/core-concepts/pattern-matching.html"><strong aria-hidden="true">5.6.1.3.</strong> Pattern Matching</a></li><li class="chapter-item expanded "><a href="../rust/essentials/core-concepts/closure.html"><strong aria-hidden="true">5.6.1.4.</strong> Closures</a></li><li class="chapter-item expanded "><a href="../rust/essentials/core-concepts/ownership.html"><strong aria-hidden="true">5.6.1.5.</strong> Ownership</a></li><li class="chapter-item expanded "><a href="../rust/essentials/core-concepts/borrow.html"><strong aria-hidden="true">5.6.1.6.</strong> Borrow</a></li><li class="chapter-item expanded "><a href="../rust/essentials/core-concepts/macro.html"><strong aria-hidden="true">5.6.1.7.</strong> Macros</a></li><li class="chapter-item expanded "><a href="../rust/essentials/core-concepts/concurency.html"><strong aria-hidden="true">5.6.1.8.</strong> Concurency</a></li><li class="chapter-item expanded "><a href="../rust/essentials/core-concepts/error-handling.html"><strong aria-hidden="true">5.6.1.9.</strong> Error Handling</a></li><li class="chapter-item expanded "><a href="../rust/essentials/core-concepts/lifetime.html"><strong aria-hidden="true">5.6.1.10.</strong> Lifetime</a></li><li class="chapter-item expanded "><a href="../rust/essentials/core-concepts/module.html"><strong aria-hidden="true">5.6.1.11.</strong> Modules</a></li><li class="chapter-item expanded "><a href="../rust/essentials/core-concepts/crate.html"><strong aria-hidden="true">5.6.1.12.</strong> Crates</a></li></ol></li><li class="chapter-item expanded "><a href="../rust/essentials/types/intro.html"><strong aria-hidden="true">5.6.2.</strong> Types</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../rust/essentials/types/scalar.html"><strong aria-hidden="true">5.6.2.1.</strong> Scalar Types</a></li><li class="chapter-item expanded "><a href="../rust/essentials/types/compound.html"><strong aria-hidden="true">5.6.2.2.</strong> Compound Types</a></li><li class="chapter-item expanded "><a href="../rust/essentials/types/trait.html"><strong aria-hidden="true">5.6.2.3.</strong> Traits</a></li><li class="chapter-item expanded "><a href="../rust/essentials/types/struct.html"><strong aria-hidden="true">5.6.2.4.</strong> Structs</a></li><li class="chapter-item expanded "><a href="../rust/essentials/types/enum.html"><strong aria-hidden="true">5.6.2.5.</strong> Enums</a></li><li class="chapter-item expanded "><a href="../rust/essentials/types/struct-vs-enum.html"><strong aria-hidden="true">5.6.2.6.</strong> Structs vs Enums</a></li><li class="chapter-item expanded "><a href="../rust/essentials/types/generic.html"><strong aria-hidden="true">5.6.2.7.</strong> Generics</a></li><li class="chapter-item expanded "><a href="../rust/essentials/types/type-alias.html"><strong aria-hidden="true">5.6.2.8.</strong> Type Alias</a></li><li class="chapter-item expanded "><a href="../rust/essentials/types/pointer.html"><strong aria-hidden="true">5.6.2.9.</strong> Pointers</a></li><li class="chapter-item expanded "><a href="../rust/essentials/types/vector.html"><strong aria-hidden="true">5.6.2.10.</strong> Vectors</a></li></ol></li><li class="chapter-item expanded "><a href="../rust/essentials/operators/intro.html"><strong aria-hidden="true">5.6.3.</strong> Operators</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../rust/essentials/operators/arithmetic-operations.html"><strong aria-hidden="true">5.6.3.1.</strong> Arithmetic Operations</a></li><li class="chapter-item expanded "><a href="../rust/essentials/operators/comparison-operations.html"><strong aria-hidden="true">5.6.3.2.</strong> Comparison Operators</a></li><li class="chapter-item expanded "><a href="../rust/essentials/operators/logical-operations.html"><strong aria-hidden="true">5.6.3.3.</strong> Logical Operators</a></li><li class="chapter-item expanded "><a href="../rust/essentials/operators/bitwise-operations.html"><strong aria-hidden="true">5.6.3.4.</strong> Bitwise Operators</a></li><li class="chapter-item expanded "><a href="../rust/essentials/operators/assignement-operations.html"><strong aria-hidden="true">5.6.3.5.</strong> Assignment Operators</a></li></ol></li><li class="chapter-item expanded "><a href="../rust/essentials/packaging/intro.html"><strong aria-hidden="true">5.6.4.</strong> Packaging</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../rust/essentials/packaging/no-std.html"><strong aria-hidden="true">5.6.4.1.</strong> ![no_std] Attribute</a></li><li class="chapter-item expanded "><a href="../rust/essentials/packaging/modules.html"><strong aria-hidden="true">5.6.4.2.</strong> Requiring Modules</a></li><li class="chapter-item expanded "><a href="../rust/essentials/packaging/package-names.html"><strong aria-hidden="true">5.6.4.3.</strong> Package Names</a></li><li class="chapter-item expanded "><a href="../rust/essentials/packaging/crates-tag.html"><strong aria-hidden="true">5.6.4.4.</strong> Tag your Crate</a></li><li class="chapter-item expanded "><a href="../rust/essentials/packaging/feature-attribute.html"><strong aria-hidden="true">5.6.4.5.</strong> Feature Attribute</a></li><li class="chapter-item expanded "><a href="../rust/essentials/packaging/features-compilation.html"><strong aria-hidden="true">5.6.4.6.</strong> Features Compilation</a></li></ol></li><li class="chapter-item expanded "><a href="../rust/essentials/std-lib/intro.html"><strong aria-hidden="true">5.6.5.</strong> Standard Library</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../rust/essentials/std-lib/refcell.html"><strong aria-hidden="true">5.6.5.1.</strong> RefCell Struct</a></li><li class="chapter-item expanded "><a href="../rust/essentials/std-lib/rc.html"><strong aria-hidden="true">5.6.5.2.</strong> Rc Type</a></li><li class="chapter-item expanded "><a href="../rust/essentials/std-lib/self-as-type.html"><strong aria-hidden="true">5.6.5.3.</strong> Self Type</a></li><li class="chapter-item expanded "><a href="../rust/essentials/std-lib/self-vs-self.html"><strong aria-hidden="true">5.6.5.4.</strong> Self vs self</a></li><li class="chapter-item expanded "><a href="../rust/essentials/std-lib/self.html"><strong aria-hidden="true">5.6.5.5.</strong> self Keyword</a></li><li class="chapter-item expanded "><a href="../rust/essentials/std-lib/imp.html"><strong aria-hidden="true">5.6.5.6.</strong> imp Keyword</a></li><li class="chapter-item expanded "><a href="../rust/essentials/std-lib/new.html"><strong aria-hidden="true">5.6.5.7.</strong> new Keyword</a></li><li class="chapter-item expanded "><a href="../rust/essentials/std-lib/some.html"><strong aria-hidden="true">5.6.5.8.</strong> Some Keyword</a></li><li class="chapter-item expanded "><a href="../rust/essentials/std-lib/option.html"><strong aria-hidden="true">5.6.5.9.</strong> Option Enum</a></li><li class="chapter-item expanded "><a href="../rust/essentials/std-lib/drive(debug).html"><strong aria-hidden="true">5.6.5.10.</strong> #[derive(Debug)]</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../rust/patterns/intro.html"><strong aria-hidden="true">5.7.</strong> Patterns</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../rust/patterns/creational/intro.html"><strong aria-hidden="true">5.7.1.</strong> Creational</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../rust/patterns/creational/singleton.html"><strong aria-hidden="true">5.7.1.1.</strong> Singleton</a></li><li class="chapter-item expanded "><a href="../rust/patterns/creational/factory-method.html"><strong aria-hidden="true">5.7.1.2.</strong> Factory Method</a></li><li class="chapter-item expanded "><a href="../rust/patterns/creational/abstract-method.html"><strong aria-hidden="true">5.7.1.3.</strong> Abstract Factory</a></li><li class="chapter-item expanded "><a href="../rust/patterns/creational/builder.html"><strong aria-hidden="true">5.7.1.4.</strong> Builder</a></li><li class="chapter-item expanded "><a href="../rust/patterns/creational/prototype.html"><strong aria-hidden="true">5.7.1.5.</strong> Prototype</a></li></ol></li><li class="chapter-item expanded "><a href="../rust/patterns/behavioral/intro.html"><strong aria-hidden="true">5.7.2.</strong> Behavioral</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../rust/patterns/behavioral/observer.html"><strong aria-hidden="true">5.7.2.1.</strong> Observer</a></li><li class="chapter-item expanded "><a href="../rust/patterns/behavioral/strategy.html"><strong aria-hidden="true">5.7.2.2.</strong> Strategy</a></li><li class="chapter-item expanded "><a href="../rust/patterns/behavioral/command.html"><strong aria-hidden="true">5.7.2.3.</strong> Command</a></li><li class="chapter-item expanded "><a href="../rust/patterns/behavioral/chain-of-responsibility.html"><strong aria-hidden="true">5.7.2.4.</strong> Chain of Responsibility</a></li><li class="chapter-item expanded "><a href="../rust/patterns/behavioral/iterator.html"><strong aria-hidden="true">5.7.2.5.</strong> Iterator</a></li><li class="chapter-item expanded "><a href="../rust/patterns/behavioral/mediator.html"><strong aria-hidden="true">5.7.2.6.</strong> Mediator</a></li><li class="chapter-item expanded "><a href="../rust/patterns/behavioral/visitor.html"><strong aria-hidden="true">5.7.2.7.</strong> Visitor</a></li></ol></li><li class="chapter-item expanded "><a href="../rust/patterns/structural/intro.html"><strong aria-hidden="true">5.7.3.</strong> Structural</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../rust/patterns/structural/adapter.html"><strong aria-hidden="true">5.7.3.1.</strong> Adapter</a></li><li class="chapter-item expanded "><a href="../rust/patterns/structural/bridge.html"><strong aria-hidden="true">5.7.3.2.</strong> Bridge</a></li><li class="chapter-item expanded "><a href="../rust/patterns/structural/composite.html"><strong aria-hidden="true">5.7.3.3.</strong> Composite</a></li><li class="chapter-item expanded "><a href="../rust/patterns/structural/decorator.html"><strong aria-hidden="true">5.7.3.4.</strong> Decorator</a></li><li class="chapter-item expanded "><a href="../rust/patterns/structural/facade.html"><strong aria-hidden="true">5.7.3.5.</strong> Facade</a></li><li class="chapter-item expanded "><a href="../rust/patterns/structural/flyweight.html"><strong aria-hidden="true">5.7.3.6.</strong> Flyweight</a></li><li class="chapter-item expanded "><a href="../rust/patterns/structural/proxy.html"><strong aria-hidden="true">5.7.3.7.</strong> Proxy</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../rust/algorithms/intro.html"><strong aria-hidden="true">5.8.</strong> Algorithms</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../rust/algorithms/sorting/intro.html"><strong aria-hidden="true">5.8.1.</strong> Sorting</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../rust/algorithms/sorting/buble.html"><strong aria-hidden="true">5.8.1.1.</strong> Buble Sort</a></li><li class="chapter-item expanded "><a href="../rust/algorithms/sorting/quick.html"><strong aria-hidden="true">5.8.1.2.</strong> Quick Sort</a></li><li class="chapter-item expanded "><a href="../rust/algorithms/sorting/merge.html"><strong aria-hidden="true">5.8.1.3.</strong> Merge Sort</a></li><li class="chapter-item expanded "><a href="../rust/algorithms/sorting/heap.html"><strong aria-hidden="true">5.8.1.4.</strong> Heap Sort</a></li><li class="chapter-item expanded "><a href="../rust/algorithms/sorting/counting.html"><strong aria-hidden="true">5.8.1.5.</strong> Counting Sort</a></li></ol></li><li class="chapter-item expanded "><a href="../rust/algorithms/searching/intro.html"><strong aria-hidden="true">5.8.2.</strong> Searching</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../rust/algorithms/searching/linear.html"><strong aria-hidden="true">5.8.2.1.</strong> Linear Search</a></li><li class="chapter-item expanded "><a href="../rust/algorithms/searching/binary.html"><strong aria-hidden="true">5.8.2.2.</strong> Binary Search</a></li><li class="chapter-item expanded "><a href="../rust/algorithms/searching/depth-first.html"><strong aria-hidden="true">5.8.2.3.</strong> DFS</a></li><li class="chapter-item expanded "><a href="../rust/algorithms/searching/breadth-first.html"><strong aria-hidden="true">5.8.2.4.</strong> BFS</a></li></ol></li><li class="chapter-item expanded "><a href="../rust/algorithms/graph/intro.html"><strong aria-hidden="true">5.8.3.</strong> Graph</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../rust/algorithms/graph/shortest-path.html"><strong aria-hidden="true">5.8.3.1.</strong> Dijkstra’s Algorithm</a></li><li class="chapter-item expanded "><a href="../rust/algorithms/graph/minimum-spanning-tree.html"><strong aria-hidden="true">5.8.3.2.</strong> Kruskal’s Algorithm </a></li><li class="chapter-item expanded "><a href="../rust/algorithms/graph/a-star.html"><strong aria-hidden="true">5.8.3.3.</strong> A* Algorithm </a></li><li class="chapter-item expanded "><a href="../rust/algorithms/graph/all-pairs-shortest-path.html"><strong aria-hidden="true">5.8.3.4.</strong> Floyd-Warshall Algorithm</a></li></ol></li><li class="chapter-item expanded "><a href="../rust/algorithms/dynamic-programming/intro.html"><strong aria-hidden="true">5.8.4.</strong> Dynamic Programming</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../rust/algorithms/dynamic-programming/knapsack-problem.html"><strong aria-hidden="true">5.8.4.1.</strong> Knapsack Problem</a></li><li class="chapter-item expanded "><a href="../rust/algorithms/dynamic-programming/longest-common-subsequence.html"><strong aria-hidden="true">5.8.4.2.</strong> Longest Common Subsequence</a></li><li class="chapter-item expanded "><a href="../rust/algorithms/dynamic-programming/matrix-chain-multiplication.html"><strong aria-hidden="true">5.8.4.3.</strong> Matrix Chain Multiplication</a></li><li class="chapter-item expanded "><a href="../rust/algorithms/dynamic-programming/fibonacci.html"><strong aria-hidden="true">5.8.4.4.</strong> Fibonacci Sequence</a></li></ol></li><li class="chapter-item expanded "><a href="../rust/algorithms/cryptographic/intro.html"><strong aria-hidden="true">5.8.5.</strong> Cryptography</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../rust/algorithms/cryptographic/rsa.html"><strong aria-hidden="true">5.8.5.1.</strong> RSA</a></li><li class="chapter-item expanded "><a href="../rust/algorithms/cryptographic/aes.html"><strong aria-hidden="true">5.8.5.2.</strong> AES</a></li><li class="chapter-item expanded "><a href="../rust/algorithms/cryptographic/sha-256.html"><strong aria-hidden="true">5.8.5.3.</strong> SHA-256</a></li><li class="chapter-item expanded "><a href="../rust/algorithms/cryptographic/diffie-hellman.html"><strong aria-hidden="true">5.8.5.4.</strong> Diffie-Hellman</a></li><li class="chapter-item expanded "><a href="../rust/algorithms/cryptographic/bcrypt.html"><strong aria-hidden="true">5.8.5.5.</strong> Bcrypt</a></li></ol></li></ol></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.</strong> React</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../react/bai-1.html"><strong aria-hidden="true">6.1.</strong> TMP</a></li><li class="chapter-item expanded "><a href="../react/bai-2.html"><strong aria-hidden="true">6.2.</strong> TMP</a></li><li class="chapter-item expanded "><a href="../react/bai-3.html"><strong aria-hidden="true">6.3.</strong> TMP</a></li></ol></li><li class="chapter-item expanded "><a href="../react-native/index.html"><strong aria-hidden="true">7.</strong> React Native</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.</strong> TypeScript</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../ts/bai-1.html"><strong aria-hidden="true">8.1.</strong> TMP</a></li></ol></li><li class="chapter-item expanded "><a href="../bash/tong-hop.html"><strong aria-hidden="true">9.</strong> Bash</a></li><li class="chapter-item expanded "><a href="../regex/tong-hop.html"><strong aria-hidden="true">10.</strong> Regex</a></li><li class="chapter-item expanded "><a href="../khac/yt-dlp.html"><strong aria-hidden="true">11.</strong> yt-dlp</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Kho code của duykhanh471</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="java-concurrency-phần-1-thread"><a class="header" href="#java-concurrency-phần-1-thread">Java Concurrency (Phần 1): Thread</a></h1>
<p>Source: <a href="https://viblo.asia/p/java-concurrency-phan-1-thread-GAWVpevY405">Java Concurrency (Phần 1): Thread</a></p>
<h2 id="1-giới-thiệu"><a class="header" href="#1-giới-thiệu">1. Giới thiệu</a></h2>
<p>Lập trình đồng thời (concurrency) trong Java đề cập đến khả năng của một chương trình Java thực thi nhiều tác vụ đồng thời hoặc song song, tận dụng tối đa các bộ xử lý (CPU) đa lõi (core) hiện đại. Khi các ứng dụng ngày càng trở nên phức tạp và đòi hỏi hiệu suất cao hơn, lập trình đồng thời trở thành yếu tố thiết yếu để cải thiện hiệu năng, khả năng phản hồi và khả năng mở rộng.
Java cung cấp một bộ công cụ và các thư viện phong phú giúp các nhà phát triển tạo ra các ứng dụng đồng thời, quản lý nhiều luồng (threads) và điều phối các tác vụ một cách hiệu quả. Trong bài viết này, chúng sẽ khám phá các khái niệm cơ bản về lập trình đồng thời trong Java.</p>
<p><img src="https://images.viblo.asia/full/dab66ffc-6006-45b9-a745-5e5a9f09d9da.png" alt="image.png" /></p>
<h2 id="2-Định-nghĩa-thread"><a class="header" href="#2-Định-nghĩa-thread">2. Định nghĩa Thread</a></h2>
<p>Một thread là một đơn vị thực thi nhỏ hơn một process. <strong>Một process có thể tạo ra nhiều thread trong quá trình thực thi</strong>. Tất cả các thread trong cùng một process sẽ chia sẻ, <strong>dùng chung một số vùng nhớ với nhau</strong> (heap memory, static variables, metaspace, … phần này mình sẽ chia sẻ cụ thể hơn ở một bài viết khác). Vì vậy, việc giao tiếp giữa các thread khá đơn giản và dễ dàng hơn so với giao tiếp giữa các process. Ngoài ra, việc tạo mới/hủy thread đơn giản và tốn ít công hơn so với việc tạo mới/hủy một process. Vì các lý do này, thread còn được gọi là lightweight process.</p>
<p><img src="https://images.viblo.asia/full/cb4fb02e-990b-4290-bdb3-c7b3e9d030a1.png" alt="image.png" /></p>
<h2 id="3-cách-khởi-tạo-thread"><a class="header" href="#3-cách-khởi-tạo-thread">3. Cách khởi tạo thread</a></h2>
<p>Đây là một câu hỏi thường hay gặp trong phỏng vấn. Bạn có thể tham khảo hoặc trả lời như sau:
Ta có thể phân loại các cách khởi tạo thread như sau:</p>
<h3 id="31-tạo-trực-tiếp-thread"><a class="header" href="#31-tạo-trực-tiếp-thread">3.1. Tạo trực tiếp thread</a></h3>
<p>sử dụng <code>new Thread().start()</code>.</p>
<pre><code>new Thread(() -&gt; resource.counter++).start();

</code></pre>
<h3 id="32-khai-báo-thread-execution-method"><a class="header" href="#32-khai-báo-thread-execution-method">3.2. Khai báo Thread execution method</a></h3>
<h4 id="321-kế-thừa-class-thread"><a class="header" href="#321-kế-thừa-class-thread">3.2.1. Kế thừa class Thread</a></h4>
<p>Đây là một cách phổ biến. Chúng ta tạo ra một class mới kế thừa class Thread và ghi đè method run như sau:</p>
<pre><code>public class ExtendsThread extends Thread {
    @Override
    public void run() {
        System.out.println(&quot;Do something&quot;);
    }

    public static void main(String[] args) {
        new ExtendsThread().start();
    }
}

</code></pre>
<h4 id="322-triển-khai-interface-runnable"><a class="header" href="#322-triển-khai-interface-runnable">3.2.2. Triển khai interface Runnable</a></h4>
<p>Đây cũng là một cách phổ biến, implement Runnable interface và override method run, như sau:</p>
<pre><code>public class ImplementsRunnable implements Runnable {
    @Override
    public void run() {
        System.out.println(&quot;Do something&quot;);
    }

    public static void main(String[] args) {
        ImplementsRunnable runnable = new ImplementsRunnable();
        new Thread(runnable).start();
    }
}

</code></pre>
<h4 id="323-triển-khai-interface-callable"><a class="header" href="#323-triển-khai-interface-callable">3.2.3. Triển khai interface Callable</a></h4>
<p>Tương tự như method trước, ngoại trừ method này có thể nhận giá trị trả về sau khi Thread được thực thi, như sau:</p>
<pre><code>public class ImplementsCallable implements Callable&lt;String&gt; {
    @Override
    public String call() throws Exception {
        System.out.println(&quot;Do something&quot;);
        return &quot;test&quot;;
    }

    public static void main(String[] args) throws Exception {
        ImplementsCallable callable = new ImplementsCallable();
        FutureTask&lt;String&gt; futureTask = new FutureTask&lt;&gt;(callable);
        new Thread(futureTask).start();
        System.out.println(futureTask.get());
    }
}

</code></pre>
<h4 id="324-sử-dụng-class-ẩn-danh-hoặc-biểu-thức-lambda"><a class="header" href="#324-sử-dụng-class-ẩn-danh-hoặc-biểu-thức-lambda">3.2.4. Sử dụng class ẩn danh hoặc biểu thức Lambda</a></h4>
<pre><code>public class UseAnonymousClass {
    public static void main(String[] args) {
        new Thread(new Runnable() {
            @Override
            public void run() {
                System.out.println(&quot;AnonymousClass&quot;);
            }
        }).start();

        new Thread(() -&gt;
                System.out.println(&quot;Lambda&quot;)
        ).start();
    }
}

</code></pre>
<h3 id="33-tạo-gián-tiếp-thread"><a class="header" href="#33-tạo-gián-tiếp-thread">3.3. Tạo gián tiếp thread</a></h3>
<h4 id="331-sử-dụng-thread-pool-của-executorservice"><a class="header" href="#331-sử-dụng-thread-pool-của-executorservice">3.3.1. Sử dụng thread pool của ExecutorService</a></h4>
<pre><code>public class UseExecutorService {
    public static void main(String[] args) {
        ExecutorService poolA = Executors.newFixedThreadPool(2);
        poolA.execute(() -&gt; {
            System.out.println(&quot;do something&quot;);
        });
}

</code></pre>
<h4 id="332-sử-dụng-thread-pool-hoặc-stream-song-song-parallel-stream"><a class="header" href="#332-sử-dụng-thread-pool-hoặc-stream-song-song-parallel-stream">3.3.2. Sử dụng thread pool hoặc Stream song song (parallel stream)</a></h4>
<pre><code>public class UseForkJoinPool {
    public static void main(String[] args) {
        ForkJoinPool forkJoinPool = new ForkJoinPool();
        forkJoinPool.execute( () -&gt; {
            System.out.println(&quot;Do something&quot;);
        });

        List&lt;String&gt; list = Arrays.asList(&quot;e1&quot;);
        list.parallelStream().forEach(System.out::println);
    }
}

</code></pre>
<h4 id="333-sử-dụng-completablefuture"><a class="header" href="#333-sử-dụng-completablefuture">3.3.3. Sử dụng CompletableFuture</a></h4>
<pre><code>public class UseCompletableFuture {
    public static void main(String[] args) throws InterruptedException {
        CompletableFuture&lt;String&gt; cf = CompletableFuture.supplyAsync(() -&gt; {
            System.out.println(&quot;5......&quot;);
            return &quot;test&quot;;
        });
        Thread.sleep(1000);
    }
}

</code></pre>
<h4 id="334-sử-dụng-class-timer"><a class="header" href="#334-sử-dụng-class-timer">3.3.4. Sử dụng class Timer</a></h4>
<pre><code>public class UseTimer {
    public static void main(String[] args) {
        Timer timer = new Timer();

        timer.schedule(new TimerTask() {
            @Override
            public void run() {
                System.out.println(&quot;9......&quot;);
            }
        }, 0, 1000);
    }
}

</code></pre>
<p>Java chỉ có một cách để tạo thread một cách trực tiếp, đó là thông qua việc tạo new Thread().start(). Do đó, cho dù sử dụng phương thức nào thì cuối cùng nó cũng phụ thuộc vào new Thread().start(). Các đối tượng Runnable, Callable, … chỉ là phần thân của Thread, tức là tác vụ được cung cấp cho Thread để thực thi.</p>
<h2 id="4-trạng-thái-của-thread"><a class="header" href="#4-trạng-thái-của-thread">4. Trạng thái của thread</a></h2>
<p><img src="https://images.viblo.asia/full/9e0a1831-55d3-48d9-8f04-21ab8bb96b91.png" alt="thread-status.png" /></p>
<p>Tại một thời điểm, một thread trong Java chỉ có thể ở một trong sáu trạng thái trong vòng đời của nó:</p>
<ul>
<li><code>NEW</code>: Khi đối tượng thread được tạo, nó sẽ chuyển sang trạng thái NEW, chẳng hạn như: Thread t = new MyThread();</li>
<li><code>RUNNABLE</code>: Trạng thái sẵn sàng để chạy. Ta có thể hiểu, nó sẽ được chia thành 2 trường hợp nhỏ hơn: <strong>đang chạy hoặc đang chờ để chạy</strong>. Ví dụ, khi sau, ta gọi method start(), thread đó có thể chưa chạy được ngay mà phải đợi CPU schedule để chạy.</li>
<li><code>BLOCKED</code>: Trạng thái bị chặn, thread A đang cố giành khóa (lock) nhưng khoá đang giữa bởi thread B, thread A phải đợi, bị blocked cho đến khi khoá được giải phóng.</li>
<li><code>TIME_WAITING</code>: Trạng thái chờ có thời gian chờ, có thể tự động quay trở lại trạng thái RUNNABLE sau khoảng thời gian xác định.</li>
<li><code>WAITING</code>: Trạng thái chờ, biểu thị rằng thread A đang chờ các thread khác thực hiện một số hành động cụ thể, như (notification) thông báo cho thread A hoặc (interruption) ngắt thread A. Khác với TIME_WAITING, trạng thái WAITING không có thời gian timeout, chỉ được wakeup khi có thông báo từ thread khác.</li>
<li><code>TERMINATED</code>: Trạng thái kết thúc, biểu thị rằng thread đã hoàn thành công việc hoặc dừng lai do gặp exception.</li>
</ul>
<h2 id="5-các-method-cơ-bản-của-thread"><a class="header" href="#5-các-method-cơ-bản-của-thread">5. Các method cơ bản của thread</a></h2>
<h3 id="51-start"><a class="header" href="#51-start">5.1. start()</a></h3>
<p>Method start() khởi tạo việc thực thi một thread. Nó gọi phương thức run() được xác định trong class thread hoặc runnable object. Thread sẽ chuyển từ trạng thái NEW sang trạng thái RUNNABLE sau khi method này được gọi.</p>
<pre><code>public class Main {
    public static void main(String[] args) {
        Thread myThread = new Thread(new MyRunnable());
        myThread.start();
    }
}

</code></pre>
<h3 id="52-run"><a class="header" href="#52-run">5.2. run()</a></h3>
<p>Method run() chứa mã sẽ được thực thi trong luồng.</p>
<pre><code>class MyRunnable implements Runnable {
    public void run() {
        System.out.println(&quot;This is a runnable.&quot;);
    }
}

</code></pre>
<h3 id="53-sleep-và-wait"><a class="header" href="#53-sleep-và-wait">5.3. sleep() và wait()</a></h3>
<p>Method <code>sleep()</code> làm cho thread hiện đang thực thi ở chế độ ngủ (TIMED_WAITING) trong 1 khoảng thời gian được chỉ định (tính bằng milliseconds).</p>
<p>Method wait() khiến thread hiện tại đợi cho đến khi một thread khác gọi notify() hoặc notifyAll() trên cùng một object. Thread sẽ chuyển từ trạng thái RUNNABLE sang trạng thái WAITING nếu dùng wait() không truyền thêm thời gian timeout, còn nếu truyền thêm thời gian timeout - wait(timeout) thì thread sẽ ở trạng thái <code>TIMED_WAITING</code>.</p>
<p>Sự khác biệt giữa 2 method:</p>
<ul>
<li><strong>Method wait() cần được đặt trong synchronized code, còn sleep() thì không.</strong></li>
<li>Method sleep() không giải phóng khóa, trong khi method wait() sẽ giải phóng khóa.</li>
<li>Method wait() thường được sử dụng cho tương tác/giao tiếp giữa các thread, còn sleep() thường được sử dụng để tạm dừng thực thi.</li>
<li>Sau khi method wait() được gọi, thread sẽ không tự động thức dậy; cần một luồng khác gọi method notify() hoặc notifyAll() trên cùng một đối tượng để đánh thức luồng đó. Sau khi method sleep() được thực thi, thread sẽ tự động thức dậy (RUNNABLE).</li>
<li>sleep() là một method static của class Thread, còn wait() là một method của class Object.</li>
</ul>
<h3 id="54-notify-và-notifyall"><a class="header" href="#54-notify-và-notifyall">5.4. notify() và notifyAll()</a></h3>
<p>notify(): đối với tất cả các thread đang chờ object monitor bằng cách sử dụng bất kỳ method wait() nào, method notify() thông báo cho một trong số các thread đó thức dậy. <strong>Việc lựa chọn chính xác thread nào được đánh thức là mẫu nhiên và chúng ta không thể kiểm soát được</strong> thread được đánh thức.
notifyAll(): Phương pháp này chỉ đơn giản đánh thức tất cả các thread đang chờ trên object monitor.
Mình sẽ nói chi tiết hơn về các method này trong bài giao tiếp giữa các threads.</p>
<h3 id="55-yield"><a class="header" href="#55-yield">5.5. yield()</a></h3>
<p>Method yield() làm cho thread hiện đang thực thi tạm dừng và cho phép các thread khác thực thi.
Mọi người lưu ý, đây chỉ là hint cho scheduler tạm dừng thread, scheduler có thể bỏ qua cái hint này.
Method này có thể dùng để tái hiện bug do race condition. Tuy nhiên, method này hiếm khi được sử dụng và <strong>mình recommend không dùng method này trong production code</strong>.</p>
<h3 id="56-join"><a class="header" href="#56-join">5.6. join()</a></h3>
<p>Method <code>join()</code> cho phép một thread chờ đợi một thread khác hoàn thành. Điều này có thể hữu ích khi bạn cần đảm bảo hoàn thành một số nhiệm vụ nhất định trước khi tiếp tục. Khi thread A gọi method <code>join()</code> của thread B, thread A sẽ chuyển sang trạng thái chờ ( <code>RUNNABLE → WAITING</code>). Nó vẫn ở trạng thái chờ cho đến khi thread B kết thúc.</p>
<p>Giả sử bạn cần thực hiện một số lệnh gọi API đến các endpoints khác nhau lấy dữ liệu đồng thời. Mỗi lệnh gọi API được thực hiện trong một thread riêng biệt và bạn muốn đợi cho đến khi tất cả các thread hoàn thành yêu cầu API của chúng trước khi tổng hợp (aggregate) kết quả.</p>
<pre><code>String[] apiEndpoints = {
    &quot;https://api.example.com/data1&quot;,
    &quot;https://api.example.com/data2&quot;,
    &quot;https://api.example.com/data3&quot;
};

List&lt;Thread&gt; threads = new ArrayList&lt;&gt;();

List&lt;String&gt; results = new ArrayList&lt;&gt;();

for (String endpoint : apiEndpoints) {
    Thread thread = new Thread(() -&gt; {
        String response = makeApiCall(endpoint);
        synchronized (results) {
            results.add(response);
        }
    });
    threads.add(thread);
    thread.start();
}

// Wait for all threads to complete
try {
    for (Thread thread : threads) {
        thread.join();
    }
} catch (InterruptedException e) {
    e.printStackTrace();
}

// Process and aggregate results
results.forEach(response -&gt; System.out.println(&quot;API response: &quot; + response));

</code></pre>
<p>Nếu mọi người thấy bài viết hữu ích thì nhờ mọi người share để nội dung của Ronin được nhiều người biết hơn.</p>
<p>Cám ơn mọi người. 🙏</p>
<hr />
<p>🧑‍💻 150+ Ronin Engineers: <a href="https://roninhub.com/">https://roninhub.com/</a></p>
<p>✏️ System Design VN: <a href="https://fb.com/groups/systemdesign.vn">https://fb.com/groups/systemdesign.vn</a></p>
<p>📚 Tài liệu khác: <a href="https://roninhub.com/tai-lieu">https://roninhub.com/tai-lieu</a></p>
<p>🎬 Youtube: <a href="https://youtube.com/@ronin-engineer">https://youtube.com/@ronin-engineer</a></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../java/14.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../java/16.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../java/14.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../java/16.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
